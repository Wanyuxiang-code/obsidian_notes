/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var g3t=Object.create;var iq=Object.defineProperty;var y3t=Object.getOwnPropertyDescriptor;var b3t=Object.getOwnPropertyNames;var _3t=Object.getPrototypeOf,v3t=Object.prototype.hasOwnProperty;var w3t=(t,e,r)=>e in t?iq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var C=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qd=(t,e)=>{for(var r in e)iq(t,r,{get:e[r],enumerable:!0})},c1e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of b3t(e))!v3t.call(t,o)&&o!==r&&iq(t,o,{get:()=>e[o],enumerable:!(n=y3t(e,o))||n.enumerable});return t};var k=(t,e,r)=>(r=t!=null?g3t(_3t(t)):{},c1e(e||!t||!t.__esModule?iq(r,"default",{value:t,enumerable:!0}):r,t)),ml=t=>c1e(iq({},"__esModule",{value:!0}),t);var Vl=(t,e,r)=>(w3t(t,typeof e!="symbol"?e+"":e,r),r);function x3t(t){p1e=t}function nV(){return p1e}function He(t,e){let r=nV(),n=oV({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===tj?void 0:tj].filter(o=>!!o)});t.common.issues.push(n)}function iV(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function h1e(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function yr(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(a,s)=>{var u,l;let{message:c}=t;return a.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(u=c??n)!==null&&u!==void 0?u:s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:o}}function g1e(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function q3t(t){return new RegExp(`^${g1e(t)}$`)}function y1e(t){let e=`${m1e}T${g1e(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function U3t(t,e){return!!((e==="v4"||!e)&&j3t.test(t)||(e==="v6"||!e)&&L3t.test(t))}function z3t(t,e){if(!A3t.test(t))return!1;try{let[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function H3t(t,e){return!!((e==="v4"||!e)&&N3t.test(t)||(e==="v6"||!e)&&F3t.test(t))}function V3t(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,i=parseInt(t.toFixed(o).replace(".","")),a=parseInt(e.toFixed(o).replace(".",""));return i%a/Math.pow(10,o)}function QD(t){if(t instanceof gi){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=ef.create(QD(n))}return new gi({...t._def,shape:()=>e})}else return t instanceof tp?new tp({...t._def,type:QD(t.element)}):t instanceof ef?ef.create(QD(t.unwrap())):t instanceof by?by.create(QD(t.unwrap())):t instanceof eh?eh.create(t.items.map(e=>QD(e))):t}function Pae(t,e){let r=$S(t),n=$S(e);if(t===e)return{valid:!0,data:t};if(r===Ze.object&&n===Ze.object){let o=Sn.objectKeys(e),i=Sn.objectKeys(t).filter(s=>o.indexOf(s)!==-1),a={...t,...e};for(let s of i){let u=Pae(t[s],e[s]);if(!u.valid)return{valid:!1};a[s]=u.data}return{valid:!0,data:a}}else if(r===Ze.array&&n===Ze.array){if(t.length!==e.length)return{valid:!1};let o=[];for(let i=0;i<t.length;i++){let a=t[i],s=e[i],u=Pae(a,s);if(!u.valid)return{valid:!1};o.push(u.data)}return{valid:!0,data:o}}else return r===Ze.date&&n===Ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}function b1e(t,e){return new yy({values:t,typeName:re.ZodEnum,...yr(e)})}function _1e(t,e={},r){return t?qO.create().superRefine((n,o)=>{var i,a;if(!t(n)){let s=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(a=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,l=typeof s=="string"?{message:s}:s;o.addIssue({code:"custom",...l,fatal:u})}}):qO.create()}var Sn,Cae,Ze,$S,ve,S3t,Sd,tj,p1e,oV,C3t,gl,qt,ej,xd,Oae,Eae,HM,uq,yt,aq,sq,Qp,d1e,br,O3t,E3t,P3t,T3t,M3t,A3t,R3t,I3t,D3t,xae,j3t,N3t,L3t,F3t,B3t,k3t,m1e,$3t,ep,my,gy,VM,US,rj,WM,JM,qO,qS,$m,nj,tp,gi,GM,kS,oj,KM,eh,YM,ij,zS,$O,XM,ZM,yy,QM,UO,rp,ef,by,eA,tA,aj,W3t,lq,rA,nA,J3t,re,G3t,v1e,w1e,K3t,Y3t,S1e,X3t,Z3t,Q3t,e8t,t8t,r8t,n8t,o8t,i8t,a8t,s8t,u8t,l8t,c8t,d8t,f8t,p8t,h8t,m8t,g8t,y8t,b8t,_8t,v8t,f1e,w8t,S8t,x8t,C8t,O8t,E8t,P8t,T8t,M8t,kr,tf=C(()=>{(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{let i={};for(let a of o)i[a]=a;return i},t.getValidEnumValues=o=>{let i=t.objectKeys(o).filter(s=>typeof o[o[s]]!="number"),a={};for(let s of i)a[s]=o[s];return t.objectValues(a)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},t.find=(o,i)=>{for(let a of o)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(Sn||(Sn={}));(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Cae||(Cae={}));Ze=Sn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$S=t=>{switch(typeof t){case"undefined":return Ze.undefined;case"string":return Ze.string;case"number":return isNaN(t)?Ze.nan:Ze.number;case"boolean":return Ze.boolean;case"function":return Ze.function;case"bigint":return Ze.bigint;case"symbol":return Ze.symbol;case"object":return Array.isArray(t)?Ze.array:t===null?Ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ze.promise:typeof Map<"u"&&t instanceof Map?Ze.map:typeof Set<"u"&&t instanceof Set?Ze.set:typeof Date<"u"&&t instanceof Date?Ze.date:Ze.object;default:return Ze.unknown}},ve=Sn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),S3t=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Sd=class extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},n={_errors:[]},o=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let s=n,u=0;for(;u<a.path.length;){let l=a.path[u];u===a.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(r(a))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}};return o(this),n}static assert(e){if(!(e instanceof Sd))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Sn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Sd.create=t=>new Sd(t);tj=(t,e)=>{let r;switch(t.code){case ve.invalid_type:t.received===Ze.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Sn.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${Sn.joinValues(t.keys,", ")}`;break;case ve.invalid_union:r="Invalid input";break;case ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Sn.joinValues(t.options)}`;break;case ve.invalid_enum_value:r=`Invalid enum value. Expected ${Sn.joinValues(t.options)}, received '${t.received}'`;break;case ve.invalid_arguments:r="Invalid function arguments";break;case ve.invalid_return_type:r="Invalid function return type";break;case ve.invalid_date:r="Invalid date";break;case ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Sn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ve.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ve.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ve.custom:r="Invalid input";break;case ve.invalid_intersection_types:r="Intersection results could not be merged";break;case ve.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ve.not_finite:r="Number must be finite";break;default:r=e.defaultError,Sn.assertNever(t)}return{message:r}},p1e=tj;oV=t=>{let{data:e,path:r,errorMaps:n,issueData:o}=t,i=[...r,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let s="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)s=l(a,{data:e,defaultError:s}).message;return{...o,path:i,message:s}},C3t=[];gl=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let o of r){if(o.status==="aborted")return qt;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let o of r){let i=await o.key,a=await o.value;n.push({key:i,value:a})}return gl.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let o of r){let{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return qt;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}},qt=Object.freeze({status:"aborted"}),ej=t=>({status:"dirty",value:t}),xd=t=>({status:"valid",value:t}),Oae=t=>t.status==="aborted",Eae=t=>t.status==="dirty",HM=t=>t.status==="valid",uq=t=>typeof Promise<"u"&&t instanceof Promise;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(yt||(yt={}));Qp=class{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},d1e=(t,e)=>{if(HM(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Sd(t.common.issues);return this._error=r,this._error}}};br=class{get description(){return this._def.description}_getType(e){return $S(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:$S(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gl,ctx:{common:e.parent.common,data:e.data,parsedType:$S(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(uq(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$S(e)},i=this._parseSync({data:e,path:o.path,parent:o});return d1e(o,i)}"~validate"(e){var r,n;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$S(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:o});return HM(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((n=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(i=>HM(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$S(e)},o=this._parse({data:e,path:n.path,parent:n}),i=await(uq(o)?o:Promise.resolve(o));return d1e(n,i)}refine(e,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,i)=>{let a=e(o),s=()=>i.addIssue({code:ve.custom,...n(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new rp({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ef.create(this,this._def)}nullable(){return by.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tp.create(this)}promise(){return UO.create(this,this._def)}or(e){return GM.create([this,e],this._def)}and(e){return KM.create(this,e,this._def)}transform(e){return new rp({...yr(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new eA({...yr(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new lq({typeName:re.ZodBranded,type:this,...yr(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new tA({...yr(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return rA.create(this,e)}readonly(){return nA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},O3t=/^c[^\s-]{8,}$/i,E3t=/^[0-9a-z]+$/,P3t=/^[0-9A-HJKMNP-TV-Z]{26}$/i,T3t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M3t=/^[a-z0-9_-]{21}$/i,A3t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,R3t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,I3t=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D3t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",j3t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N3t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,L3t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,F3t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B3t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,k3t=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,m1e="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$3t=new RegExp(`^${m1e}$`);ep=class extends br{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ze.string){let i=this._getOrReturnCtx(e);return He(i,{code:ve.invalid_type,expected:Ze.string,received:i.parsedType}),qt}let n=new gl,o;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),He(o,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),He(o,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=e.data.length>i.value,s=e.data.length<i.value;(a||s)&&(o=this._getOrReturnCtx(e,o),a?He(o,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&He(o,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")I3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"email",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")xae||(xae=new RegExp(D3t,"u")),xae.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"emoji",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")T3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"uuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")M3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"nanoid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")O3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"cuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")E3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"cuid2",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")P3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"ulid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),He(o,{validation:"url",code:ve.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"regex",code:ve.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),He(o,{code:ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),He(o,{code:ve.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),He(o,{code:ve.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?y1e(i).test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{code:ve.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?$3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{code:ve.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?q3t(i).test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{code:ve.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?R3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"duration",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?U3t(e.data,i.version)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"ip",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?z3t(e.data,i.alg)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"jwt",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?H3t(e.data,i.version)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"cidr",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?B3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"base64",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?k3t.test(e.data)||(o=this._getOrReturnCtx(e,o),He(o,{validation:"base64url",code:ve.invalid_string,message:i.message}),n.dirty()):Sn.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:ve.invalid_string,...yt.errToObj(n)})}_addCheck(e){return new ep({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...yt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...yt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...yt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...yt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...yt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...yt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...yt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...yt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...yt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...yt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...yt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...yt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...yt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...yt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...yt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...yt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...yt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...yt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...yt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...yt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...yt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...yt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...yt.errToObj(r)})}nonempty(e){return this.min(1,yt.errToObj(e))}trim(){return new ep({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ep({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ep({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ep.create=t=>{var e;return new ep({checks:[],typeName:re.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...yr(t)})};my=class extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ze.number){let i=this._getOrReturnCtx(e);return He(i,{code:ve.invalid_type,expected:Ze.number,received:i.parsedType}),qt}let n,o=new gl;for(let i of this._def.checks)i.kind==="int"?Sn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:ve.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?V3t(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),He(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:ve.not_finite,message:i.message}),o.dirty()):Sn.assertNever(i);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,yt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,yt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,yt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,yt.toString(r))}setLimit(e,r,n,o){return new my({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:yt.toString(o)}]})}_addCheck(e){return new my({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:yt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:yt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Sn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};my.create=t=>new my({checks:[],typeName:re.ZodNumber,coerce:t?.coerce||!1,...yr(t)});gy=class extends br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ze.bigint)return this._getInvalidInput(e);let n,o=new gl;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):Sn.assertNever(i);return{status:o.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return He(r,{code:ve.invalid_type,expected:Ze.bigint,received:r.parsedType}),qt}gte(e,r){return this.setLimit("min",e,!0,yt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,yt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,yt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,yt.toString(r))}setLimit(e,r,n,o){return new gy({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:yt.toString(o)}]})}_addCheck(e){return new gy({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};gy.create=t=>{var e;return new gy({checks:[],typeName:re.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...yr(t)})};VM=class extends br{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Ze.boolean){let n=this._getOrReturnCtx(e);return He(n,{code:ve.invalid_type,expected:Ze.boolean,received:n.parsedType}),qt}return xd(e.data)}};VM.create=t=>new VM({typeName:re.ZodBoolean,coerce:t?.coerce||!1,...yr(t)});US=class extends br{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ze.date){let i=this._getOrReturnCtx(e);return He(i,{code:ve.invalid_type,expected:Ze.date,received:i.parsedType}),qt}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return He(i,{code:ve.invalid_date}),qt}let n=new gl,o;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),He(o,{code:ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),He(o,{code:ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Sn.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new US({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:yt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:yt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};US.create=t=>new US({checks:[],coerce:t?.coerce||!1,typeName:re.ZodDate,...yr(t)});rj=class extends br{_parse(e){if(this._getType(e)!==Ze.symbol){let n=this._getOrReturnCtx(e);return He(n,{code:ve.invalid_type,expected:Ze.symbol,received:n.parsedType}),qt}return xd(e.data)}};rj.create=t=>new rj({typeName:re.ZodSymbol,...yr(t)});WM=class extends br{_parse(e){if(this._getType(e)!==Ze.undefined){let n=this._getOrReturnCtx(e);return He(n,{code:ve.invalid_type,expected:Ze.undefined,received:n.parsedType}),qt}return xd(e.data)}};WM.create=t=>new WM({typeName:re.ZodUndefined,...yr(t)});JM=class extends br{_parse(e){if(this._getType(e)!==Ze.null){let n=this._getOrReturnCtx(e);return He(n,{code:ve.invalid_type,expected:Ze.null,received:n.parsedType}),qt}return xd(e.data)}};JM.create=t=>new JM({typeName:re.ZodNull,...yr(t)});qO=class extends br{constructor(){super(...arguments),this._any=!0}_parse(e){return xd(e.data)}};qO.create=t=>new qO({typeName:re.ZodAny,...yr(t)});qS=class extends br{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xd(e.data)}};qS.create=t=>new qS({typeName:re.ZodUnknown,...yr(t)});$m=class extends br{_parse(e){let r=this._getOrReturnCtx(e);return He(r,{code:ve.invalid_type,expected:Ze.never,received:r.parsedType}),qt}};$m.create=t=>new $m({typeName:re.ZodNever,...yr(t)});nj=class extends br{_parse(e){if(this._getType(e)!==Ze.undefined){let n=this._getOrReturnCtx(e);return He(n,{code:ve.invalid_type,expected:Ze.void,received:n.parsedType}),qt}return xd(e.data)}};nj.create=t=>new nj({typeName:re.ZodVoid,...yr(t)});tp=class extends br{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==Ze.array)return He(r,{code:ve.invalid_type,expected:Ze.array,received:r.parsedType}),qt;if(o.exactLength!==null){let a=r.data.length>o.exactLength.value,s=r.data.length<o.exactLength.value;(a||s)&&(He(r,{code:a?ve.too_big:ve.too_small,minimum:s?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(He(r,{code:ve.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(He(r,{code:ve.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,s)=>o.type._parseAsync(new Qp(r,a,r.path,s)))).then(a=>gl.mergeArray(n,a));let i=[...r.data].map((a,s)=>o.type._parseSync(new Qp(r,a,r.path,s)));return gl.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new tp({...this._def,minLength:{value:e,message:yt.toString(r)}})}max(e,r){return new tp({...this._def,maxLength:{value:e,message:yt.toString(r)}})}length(e,r){return new tp({...this._def,exactLength:{value:e,message:yt.toString(r)}})}nonempty(e){return this.min(1,e)}};tp.create=(t,e)=>new tp({type:t,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...yr(e)});gi=class extends br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Sn.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ze.object){let l=this._getOrReturnCtx(e);return He(l,{code:ve.invalid_type,expected:Ze.object,received:l.parsedType}),qt}let{status:n,ctx:o}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof $m&&this._def.unknownKeys==="strip"))for(let l in o.data)a.includes(l)||s.push(l);let u=[];for(let l of a){let c=i[l],d=o.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Qp(o,d,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof $m){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of s)u.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(l==="strict")s.length>0&&(He(o,{code:ve.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of s){let d=o.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Qp(o,d,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>gl.mergeObjectSync(n,l)):gl.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return yt.errToObj,new gi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,i,a,s;let u=(a=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=yt.errToObj(e).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new gi({...this._def,unknownKeys:"strip"})}passthrough(){return new gi({...this._def,unknownKeys:"passthrough"})}extend(e){return new gi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new gi({...this._def,catchall:e})}pick(e){let r={};return Sn.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new gi({...this._def,shape:()=>r})}omit(e){let r={};return Sn.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new gi({...this._def,shape:()=>r})}deepPartial(){return QD(this)}partial(e){let r={};return Sn.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new gi({...this._def,shape:()=>r})}required(e){let r={};return Sn.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ef;)i=i._def.innerType;r[n]=i}}),new gi({...this._def,shape:()=>r})}keyof(){return b1e(Sn.objectKeys(this.shape))}};gi.create=(t,e)=>new gi({shape:()=>t,unknownKeys:"strip",catchall:$m.create(),typeName:re.ZodObject,...yr(e)});gi.strictCreate=(t,e)=>new gi({shape:()=>t,unknownKeys:"strict",catchall:$m.create(),typeName:re.ZodObject,...yr(e)});gi.lazycreate=(t,e)=>new gi({shape:t,unknownKeys:"strip",catchall:$m.create(),typeName:re.ZodObject,...yr(e)});GM=class extends br{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function o(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(s=>new Sd(s.ctx.common.issues));return He(r,{code:ve.invalid_union,unionErrors:a}),qt}if(r.common.async)return Promise.all(n.map(async i=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(o);{let i,a=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=a.map(u=>new Sd(u));return He(r,{code:ve.invalid_union,unionErrors:s}),qt}}get options(){return this._def.options}};GM.create=(t,e)=>new GM({options:t,typeName:re.ZodUnion,...yr(e)});kS=t=>t instanceof XM?kS(t.schema):t instanceof rp?kS(t.innerType()):t instanceof ZM?[t.value]:t instanceof yy?t.options:t instanceof QM?Sn.objectValues(t.enum):t instanceof eA?kS(t._def.innerType):t instanceof WM?[void 0]:t instanceof JM?[null]:t instanceof ef?[void 0,...kS(t.unwrap())]:t instanceof by?[null,...kS(t.unwrap())]:t instanceof lq||t instanceof nA?kS(t.unwrap()):t instanceof tA?kS(t._def.innerType):[],oj=class extends br{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.object)return He(r,{code:ve.invalid_type,expected:Ze.object,received:r.parsedType}),qt;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(He(r,{code:ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let o=new Map;for(let i of r){let a=kS(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of a){if(o.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);o.set(s,i)}}return new oj({typeName:re.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...yr(n)})}};KM=class extends br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),o=(i,a)=>{if(Oae(i)||Oae(a))return qt;let s=Pae(i.value,a.value);return s.valid?((Eae(i)||Eae(a))&&r.dirty(),{status:r.value,value:s.data}):(He(n,{code:ve.invalid_intersection_types}),qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};KM.create=(t,e,r)=>new KM({left:t,right:e,typeName:re.ZodIntersection,...yr(r)});eh=class extends br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.array)return He(n,{code:ve.invalid_type,expected:Ze.array,received:n.parsedType}),qt;if(n.data.length<this._def.items.length)return He(n,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qt;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((a,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new Qp(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>gl.mergeArray(r,a)):gl.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new eh({...this._def,rest:e})}};eh.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new eh({items:t,typeName:re.ZodTuple,rest:null,...yr(e)})};YM=class extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.object)return He(n,{code:ve.invalid_type,expected:Ze.object,received:n.parsedType}),qt;let o=[],i=this._def.keyType,a=this._def.valueType;for(let s in n.data)o.push({key:i._parse(new Qp(n,s,n.path,s)),value:a._parse(new Qp(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?gl.mergeObjectAsync(r,o):gl.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof br?new YM({keyType:e,valueType:r,typeName:re.ZodRecord,...yr(n)}):new YM({keyType:ep.create(),valueType:e,typeName:re.ZodRecord,...yr(r)})}},ij=class extends br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.map)return He(n,{code:ve.invalid_type,expected:Ze.map,received:n.parsedType}),qt;let o=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([s,u],l)=>({key:o._parse(new Qp(n,s,n.path,[l,"key"])),value:i._parse(new Qp(n,u,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of a){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return qt;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let u of a){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return qt;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}}}};ij.create=(t,e,r)=>new ij({valueType:e,keyType:t,typeName:re.ZodMap,...yr(r)});zS=class extends br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.set)return He(n,{code:ve.invalid_type,expected:Ze.set,received:n.parsedType}),qt;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(He(n,{code:ve.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(He(n,{code:ve.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function a(u){let l=new Set;for(let c of u){if(c.status==="aborted")return qt;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let s=[...n.data.values()].map((u,l)=>i._parse(new Qp(n,u,n.path,l)));return n.common.async?Promise.all(s).then(u=>a(u)):a(s)}min(e,r){return new zS({...this._def,minSize:{value:e,message:yt.toString(r)}})}max(e,r){return new zS({...this._def,maxSize:{value:e,message:yt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};zS.create=(t,e)=>new zS({valueType:t,minSize:null,maxSize:null,typeName:re.ZodSet,...yr(e)});$O=class extends br{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.function)return He(r,{code:ve.invalid_type,expected:Ze.function,received:r.parsedType}),qt;function n(s,u){return oV({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,nV(),tj].filter(l=>!!l),issueData:{code:ve.invalid_arguments,argumentsError:u}})}function o(s,u){return oV({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,nV(),tj].filter(l=>!!l),issueData:{code:ve.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof UO){let s=this;return xd(async function(...u){let l=new Sd([]),c=await s._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(n(u,p)),l}),d=await Reflect.apply(a,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(p=>{throw l.addIssue(o(d,p)),l})})}else{let s=this;return xd(function(...u){let l=s._def.args.safeParse(u,i);if(!l.success)throw new Sd([n(u,l.error)]);let c=Reflect.apply(a,this,l.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new Sd([o(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $O({...this._def,args:eh.create(e).rest(qS.create())})}returns(e){return new $O({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new $O({args:e||eh.create([]).rest(qS.create()),returns:r||qS.create(),typeName:re.ZodFunction,...yr(n)})}},XM=class extends br{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};XM.create=(t,e)=>new XM({getter:t,typeName:re.ZodLazy,...yr(e)});ZM=class extends br{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return He(r,{received:r.data,code:ve.invalid_literal,expected:this._def.value}),qt}return{status:"valid",value:e.data}}get value(){return this._def.value}};ZM.create=(t,e)=>new ZM({value:t,typeName:re.ZodLiteral,...yr(e)});yy=class extends br{constructor(){super(...arguments),aq.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{expected:Sn.joinValues(n),received:r.parsedType,code:ve.invalid_type}),qt}if(iV(this,aq,"f")||h1e(this,aq,new Set(this._def.values),"f"),!iV(this,aq,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{received:r.data,code:ve.invalid_enum_value,options:n}),qt}return xd(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return yy.create(e,{...this._def,...r})}exclude(e,r=this._def){return yy.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};aq=new WeakMap;yy.create=b1e;QM=class extends br{constructor(){super(...arguments),sq.set(this,void 0)}_parse(e){let r=Sn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ze.string&&n.parsedType!==Ze.number){let o=Sn.objectValues(r);return He(n,{expected:Sn.joinValues(o),received:n.parsedType,code:ve.invalid_type}),qt}if(iV(this,sq,"f")||h1e(this,sq,new Set(Sn.getValidEnumValues(this._def.values)),"f"),!iV(this,sq,"f").has(e.data)){let o=Sn.objectValues(r);return He(n,{received:n.data,code:ve.invalid_enum_value,options:o}),qt}return xd(e.data)}get enum(){return this._def.values}};sq=new WeakMap;QM.create=(t,e)=>new QM({values:t,typeName:re.ZodNativeEnum,...yr(e)});UO=class extends br{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.promise&&r.common.async===!1)return He(r,{code:ve.invalid_type,expected:Ze.promise,received:r.parsedType}),qt;let n=r.parsedType===Ze.promise?r.data:Promise.resolve(r.data);return xd(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};UO.create=(t,e)=>new UO({type:t,typeName:re.ZodPromise,...yr(e)});rp=class extends br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:a=>{He(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let a=o.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async s=>{if(r.value==="aborted")return qt;let u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?qt:u.status==="dirty"||r.value==="dirty"?ej(u.value):u});{if(r.value==="aborted")return qt;let s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?qt:s.status==="dirty"||r.value==="dirty"?ej(s.value):s}}if(o.type==="refinement"){let a=s=>{let u=o.refinement(s,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?qt:(s.status==="dirty"&&r.dirty(),a(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?qt:(s.status==="dirty"&&r.dirty(),a(s.value).then(()=>({status:r.value,value:s.value}))))}if(o.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!HM(a))return a;let s=o.transform(a.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>HM(a)?Promise.resolve(o.transform(a.value,i)).then(s=>({status:r.value,value:s})):a);Sn.assertNever(o)}};rp.create=(t,e,r)=>new rp({schema:t,typeName:re.ZodEffects,effect:e,...yr(r)});rp.createWithPreprocess=(t,e,r)=>new rp({schema:e,effect:{type:"preprocess",transform:t},typeName:re.ZodEffects,...yr(r)});ef=class extends br{_parse(e){return this._getType(e)===Ze.undefined?xd(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ef.create=(t,e)=>new ef({innerType:t,typeName:re.ZodOptional,...yr(e)});by=class extends br{_parse(e){return this._getType(e)===Ze.null?xd(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};by.create=(t,e)=>new by({innerType:t,typeName:re.ZodNullable,...yr(e)});eA=class extends br{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===Ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};eA.create=(t,e)=>new eA({innerType:t,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...yr(e)});tA=class extends br{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return uq(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Sd(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Sd(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};tA.create=(t,e)=>new tA({innerType:t,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...yr(e)});aj=class extends br{_parse(e){if(this._getType(e)!==Ze.nan){let n=this._getOrReturnCtx(e);return He(n,{code:ve.invalid_type,expected:Ze.nan,received:n.parsedType}),qt}return{status:"valid",value:e.data}}};aj.create=t=>new aj({typeName:re.ZodNaN,...yr(t)});W3t=Symbol("zod_brand"),lq=class extends br{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},rA=class extends br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?qt:i.status==="dirty"?(r.dirty(),ej(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?qt:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new rA({in:e,out:r,typeName:re.ZodPipeline})}},nA=class extends br{_parse(e){let r=this._def.innerType._parse(e),n=o=>(HM(o)&&(o.value=Object.freeze(o.value)),o);return uq(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};nA.create=(t,e)=>new nA({innerType:t,typeName:re.ZodReadonly,...yr(e)});J3t={object:gi.lazycreate};(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(re||(re={}));G3t=(t,e={message:`Input not instance of ${t.name}`})=>_1e(r=>r instanceof t,e),v1e=ep.create,w1e=my.create,K3t=aj.create,Y3t=gy.create,S1e=VM.create,X3t=US.create,Z3t=rj.create,Q3t=WM.create,e8t=JM.create,t8t=qO.create,r8t=qS.create,n8t=$m.create,o8t=nj.create,i8t=tp.create,a8t=gi.create,s8t=gi.strictCreate,u8t=GM.create,l8t=oj.create,c8t=KM.create,d8t=eh.create,f8t=YM.create,p8t=ij.create,h8t=zS.create,m8t=$O.create,g8t=XM.create,y8t=ZM.create,b8t=yy.create,_8t=QM.create,v8t=UO.create,f1e=rp.create,w8t=ef.create,S8t=by.create,x8t=rp.createWithPreprocess,C8t=rA.create,O8t=()=>v1e().optional(),E8t=()=>w1e().optional(),P8t=()=>S1e().optional(),T8t={string:t=>ep.create({...t,coerce:!0}),number:t=>my.create({...t,coerce:!0}),boolean:t=>VM.create({...t,coerce:!0}),bigint:t=>gy.create({...t,coerce:!0}),date:t=>US.create({...t,coerce:!0})},M8t=qt,kr=Object.freeze({__proto__:null,defaultErrorMap:tj,setErrorMap:x3t,getErrorMap:nV,makeIssue:oV,EMPTY_PATH:C3t,addIssueToContext:He,ParseStatus:gl,INVALID:qt,DIRTY:ej,OK:xd,isAborted:Oae,isDirty:Eae,isValid:HM,isAsync:uq,get util(){return Sn},get objectUtil(){return Cae},ZodParsedType:Ze,getParsedType:$S,ZodType:br,datetimeRegex:y1e,ZodString:ep,ZodNumber:my,ZodBigInt:gy,ZodBoolean:VM,ZodDate:US,ZodSymbol:rj,ZodUndefined:WM,ZodNull:JM,ZodAny:qO,ZodUnknown:qS,ZodNever:$m,ZodVoid:nj,ZodArray:tp,ZodObject:gi,ZodUnion:GM,ZodDiscriminatedUnion:oj,ZodIntersection:KM,ZodTuple:eh,ZodRecord:YM,ZodMap:ij,ZodSet:zS,ZodFunction:$O,ZodLazy:XM,ZodLiteral:ZM,ZodEnum:yy,ZodNativeEnum:QM,ZodPromise:UO,ZodEffects:rp,ZodTransformer:rp,ZodOptional:ef,ZodNullable:by,ZodDefault:eA,ZodCatch:tA,ZodNaN:aj,BRAND:W3t,ZodBranded:lq,ZodPipeline:rA,ZodReadonly:nA,custom:_1e,Schema:br,ZodSchema:br,late:J3t,get ZodFirstPartyTypeKind(){return re},coerce:T8t,any:t8t,array:i8t,bigint:Y3t,boolean:S1e,date:X3t,discriminatedUnion:l8t,effect:f1e,enum:b8t,function:m8t,instanceof:G3t,intersection:c8t,lazy:g8t,literal:y8t,map:p8t,nan:K3t,nativeEnum:_8t,never:n8t,null:e8t,nullable:S8t,number:w1e,object:a8t,oboolean:P8t,onumber:E8t,optional:w8t,ostring:O8t,pipeline:C8t,preprocess:x8t,promise:v8t,record:f8t,set:h8t,strictObject:s8t,string:v1e,symbol:Z3t,transformer:f1e,tuple:d8t,undefined:Q3t,union:u8t,unknown:r8t,void:o8t,NEVER:M8t,ZodIssueCode:ve,quotelessJson:S3t,ZodError:Sd})});var C1e=b((rmn,x1e)=>{function th(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}x1e.exports=th;th.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};th.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};th.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};th.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};th.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};th.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};th.prototype.start=th.prototype.try;th.prototype.errors=function(){return this._errors};th.prototype.attempts=function(){return this._attempts};th.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,a=(t[i]||0)+1;t[i]=a,a>=r&&(e=o,r=a)}return e}});var O1e=b(oA=>{var A8t=C1e();oA.operation=function(t){var e=oA.timeouts(t);return new A8t(e,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};oA.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<e.retries;o++)n.push(this.createTimeout(o,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(o,e)),n.sort(function(i,a){return i-a}),n};oA.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout),n};oA.wrap=function(t,e,r){if(e instanceof Array&&(r=e,e=null),!r){r=[];for(var n in t)typeof t[n]=="function"&&r.push(n)}for(var o=0;o<r.length;o++){var i=r[o],a=t[i];t[i]=function(u){var l=oA.operation(e),c=Array.prototype.slice.call(arguments,1),d=c.pop();c.push(function(f){l.retry(f)||(f&&(arguments[0]=l.mainError()),d.apply(this,arguments))}),l.attempt(function(){u.apply(t,c)})}.bind(t,a),t[i].options=e}}});var P1e=b((omn,E1e)=>{E1e.exports=O1e()});var uV=b((imn,sV)=>{"use strict";var R8t=P1e(),I8t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"],aV=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}},D8t=(t,e,r)=>{let n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t},j8t=t=>I8t.includes(t),T1e=(t,e)=>new Promise((r,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};let o=R8t.operation(e);o.attempt(async i=>{try{r(await t(i))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof aV)o.stop(),n(a.originalError);else if(a instanceof TypeError&&!j8t(a.message))o.stop(),n(a);else{D8t(a,i,e);try{await e.onFailedAttempt(a)}catch(s){n(s);return}o.retry(a)||n(o.mainError())}}})});sV.exports=T1e;sV.exports.default=T1e;sV.exports.AbortError=aV});var M1e,A1e=C(()=>{M1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function N8t(t){return typeof t=="string"&&M1e.test(t)}var sj,R1e=C(()=>{A1e();sj=N8t});function I1e(t,e=0){return(Wl[t[e+0]]+Wl[t[e+1]]+Wl[t[e+2]]+Wl[t[e+3]]+"-"+Wl[t[e+4]]+Wl[t[e+5]]+"-"+Wl[t[e+6]]+Wl[t[e+7]]+"-"+Wl[t[e+8]]+Wl[t[e+9]]+"-"+Wl[t[e+10]]+Wl[t[e+11]]+Wl[t[e+12]]+Wl[t[e+13]]+Wl[t[e+14]]+Wl[t[e+15]]).toLowerCase()}var Wl,lV,D1e=C(()=>{Wl=[];for(lV=0;lV<256;++lV)Wl.push((lV+256).toString(16).slice(1))});function Tae(){if(!cV&&(cV=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cV))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cV(L8t)}var cV,L8t,j1e=C(()=>{L8t=new Uint8Array(16)});var F8t,Mae,N1e=C(()=>{F8t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mae={randomUUID:F8t}});function B8t(t,e,r){if(Mae.randomUUID&&!e&&!t)return Mae.randomUUID();t=t||{};var n=t.random||(t.rng||Tae)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return I1e(n)}var rf,L1e=C(()=>{N1e();j1e();D1e();rf=B8t});var cq=C(()=>{L1e();R1e()});var F1e,B1e=C(()=>{F1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function $8t(t){return typeof t=="string"&&F1e.test(t)}var Aae,k1e=C(()=>{B1e();Aae=$8t});function $1e(t,e=0){return(Jl[t[e+0]]+Jl[t[e+1]]+Jl[t[e+2]]+Jl[t[e+3]]+"-"+Jl[t[e+4]]+Jl[t[e+5]]+"-"+Jl[t[e+6]]+Jl[t[e+7]]+"-"+Jl[t[e+8]]+Jl[t[e+9]]+"-"+Jl[t[e+10]]+Jl[t[e+11]]+Jl[t[e+12]]+Jl[t[e+13]]+Jl[t[e+14]]+Jl[t[e+15]]).toLowerCase()}var Jl,dV,q1e=C(()=>{Jl=[];for(dV=0;dV<256;++dV)Jl.push((dV+256).toString(16).slice(1))});function Rae(){if(!fV&&(fV=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fV))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fV(q8t)}var fV,q8t,U1e=C(()=>{q8t=new Uint8Array(16)});var U8t,Iae,z1e=C(()=>{U8t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Iae={randomUUID:U8t}});function z8t(t,e,r){if(Iae.randomUUID&&!e&&!t)return Iae.randomUUID();t=t||{};var n=t.random||(t.rng||Rae)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return $1e(n)}var zO,H1e=C(()=>{z1e();U1e();q1e();zO=z8t});var pV=C(()=>{H1e();k1e()});var W1e=b((Amn,jae)=>{"use strict";var H8t=Object.prototype.hasOwnProperty,Cd="~";function dq(){}Object.create&&(dq.prototype=Object.create(null),new dq().__proto__||(Cd=!1));function V8t(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function V1e(t,e,r,n,o){if(typeof r!="function")throw new TypeError("The listener must be a function");var i=new V8t(r,n||t,o),a=Cd?Cd+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],i]:t._events[a].push(i):(t._events[a]=i,t._eventsCount++),t}function hV(t,e){--t._eventsCount===0?t._events=new dq:delete t._events[e]}function Bc(){this._events=new dq,this._eventsCount=0}Bc.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)H8t.call(r,n)&&e.push(Cd?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Bc.prototype.listeners=function(e){var r=Cd?Cd+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a};Bc.prototype.listenerCount=function(e){var r=Cd?Cd+e:e,n=this._events[r];return n?n.fn?1:n.length:0};Bc.prototype.emit=function(e,r,n,o,i,a){var s=Cd?Cd+e:e;if(!this._events[s])return!1;var u=this._events[s],l=arguments.length,c,d;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,o),!0;case 5:return u.fn.call(u.context,r,n,o,i),!0;case 6:return u.fn.call(u.context,r,n,o,i,a),!0}for(d=1,c=new Array(l-1);d<l;d++)c[d-1]=arguments[d];u.fn.apply(u.context,c)}else{var f=u.length,p;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(e,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];u[d].fn.apply(u[d].context,c)}}return!0};Bc.prototype.on=function(e,r,n){return V1e(this,e,r,n,!1)};Bc.prototype.once=function(e,r,n){return V1e(this,e,r,n,!0)};Bc.prototype.removeListener=function(e,r,n,o){var i=Cd?Cd+e:e;if(!this._events[i])return this;if(!r)return hV(this,i),this;var a=this._events[i];if(a.fn)a.fn===r&&(!o||a.once)&&(!n||a.context===n)&&hV(this,i);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==r||o&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[i]=u.length===1?u[0]:u:hV(this,i)}return this};Bc.prototype.removeAllListeners=function(e){var r;return e?(r=Cd?Cd+e:e,this._events[r]&&hV(this,r)):(this._events=new dq,this._eventsCount=0),this};Bc.prototype.off=Bc.prototype.removeListener;Bc.prototype.addListener=Bc.prototype.on;Bc.prefixed=Cd;Bc.EventEmitter=Bc;typeof jae<"u"&&(jae.exports=Bc)});var G1e=b((Rmn,J1e)=>{"use strict";J1e.exports=(t,e)=>(e=e||(()=>{}),t.then(r=>new Promise(n=>{n(e())}).then(()=>r),r=>new Promise(n=>{n(e())}).then(()=>{throw r})))});var Y1e=b((Imn,gV)=>{"use strict";var W8t=G1e(),mV=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},K1e=(t,e,r)=>new Promise((n,o)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(t);return}let i=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){o(u)}return}let a=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,s=r instanceof Error?r:new mV(a);typeof t.cancel=="function"&&t.cancel(),o(s)},e);W8t(t.then(n,o),()=>{clearTimeout(i)})});gV.exports=K1e;gV.exports.default=K1e;gV.exports.TimeoutError=mV});var X1e=b(Nae=>{"use strict";Object.defineProperty(Nae,"__esModule",{value:!0});function J8t(t,e,r){let n=0,o=t.length;for(;o>0;){let i=o/2|0,a=n+i;r(t[a],e)<=0?(n=++a,o-=i+1):o=i}return n}Nae.default=J8t});var Z1e=b(Fae=>{"use strict";Object.defineProperty(Fae,"__esModule",{value:!0});var G8t=X1e(),Lae=class{constructor(){this._queue=[]}enqueue(e,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let o=G8t.default(this._queue,n,(i,a)=>a.priority-i.priority);this._queue.splice(o,0,n)}dequeue(){let e=this._queue.shift();return e?.run}filter(e){return this._queue.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this._queue.length}};Fae.default=Lae});var bV=b(kae=>{"use strict";Object.defineProperty(kae,"__esModule",{value:!0});var K8t=W1e(),Q1e=Y1e(),Y8t=Z1e(),yV=()=>{},X8t=new Q1e.TimeoutError,Bae=class extends K8t{constructor(e){var r,n,o,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=yV,this._resolveIdle=yV,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Y8t.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(i=(o=e.interval)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=yV,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=yV,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-e;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,o)=>{let i=async()=>{this._pendingCount++,this._intervalCount++;try{let a=this._timeout===void 0&&r.timeout===void 0?e():Q1e.default(Promise.resolve(e()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&o(X8t)});n(await a)}catch(a){o(a)}this._next()};this._queue.enqueue(i,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};kae.default=Bae});var Z8t,Q8t,xt,_V=C(()=>{Z8t=(...t)=>fetch(...t),Q8t=Symbol.for("ls:fetch_implementation"),xt=()=>globalThis[Q8t]??Z8t});var eDe,vV,eHt,tHt,fq,tDe=C(()=>{eDe=k(uV(),1),vV=k(bV(),1);_V();eHt=[400,401,403,404,405,406,407,408],tHt=[409],fq=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in vV.default?this.queue=new vV.default.default({concurrency:this.maxConcurrency}):this.queue=new vV.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e,...r){let n=this.onFailedResponseHook;return this.queue.add(()=>(0,eDe.default)(()=>e(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt(o){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.message.startsWith("AbortError")||o?.code==="ECONNABORTED")throw o;let i=o?.response,a=i?.status;if(a){if(eHt.includes(+a))throw o;if(tHt.includes(+a))return;n&&await n(i)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,r,...n){return e.signal?Promise.race([this.call(r,...n),new Promise((o,i)=>{e.signal?.addEventListener("abort",()=>{i(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...e){return this.call(()=>xt()(...e).then(r=>r.ok?r:Promise.reject(r)))}}});function $ae(t){return typeof t?._getType=="function"}function qae(t){let e={type:t._getType(),data:{content:t.content}};return t?.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var rDe=C(()=>{});function Wr(t,e){if(!Aae(t)){let r=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(r)}return t}var nDe=C(()=>{pV()});function wV(t){oDe[t]||(console.warn(t),oDe[t]=!0)}var oDe,Uae=C(()=>{oDe={}});var pq=b((Umn,iDe)=>{var rHt="2.0.0",nHt=Number.MAX_SAFE_INTEGER||9007199254740991,oHt=16,iHt=256-6,aHt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];iDe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:oHt,MAX_SAFE_BUILD_LENGTH:iHt,MAX_SAFE_INTEGER:nHt,RELEASE_TYPES:aHt,SEMVER_SPEC_VERSION:rHt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var hq=b((zmn,aDe)=>{var sHt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};aDe.exports=sHt});var uj=b((HS,sDe)=>{var{MAX_SAFE_COMPONENT_LENGTH:zae,MAX_SAFE_BUILD_LENGTH:uHt,MAX_LENGTH:lHt}=pq(),cHt=hq();HS=sDe.exports={};var dHt=HS.re=[],fHt=HS.safeRe=[],tt=HS.src=[],rt=HS.t={},pHt=0,Hae="[a-zA-Z0-9-]",hHt=[["\\s",1],["\\d",lHt],[Hae,uHt]],mHt=t=>{for(let[e,r]of hHt)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},fr=(t,e,r)=>{let n=mHt(e),o=pHt++;cHt(t,o,e),rt[t]=o,tt[o]=e,dHt[o]=new RegExp(e,r?"g":void 0),fHt[o]=new RegExp(n,r?"g":void 0)};fr("NUMERICIDENTIFIER","0|[1-9]\\d*");fr("NUMERICIDENTIFIERLOOSE","\\d+");fr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Hae}*`);fr("MAINVERSION",`(${tt[rt.NUMERICIDENTIFIER]})\\.(${tt[rt.NUMERICIDENTIFIER]})\\.(${tt[rt.NUMERICIDENTIFIER]})`);fr("MAINVERSIONLOOSE",`(${tt[rt.NUMERICIDENTIFIERLOOSE]})\\.(${tt[rt.NUMERICIDENTIFIERLOOSE]})\\.(${tt[rt.NUMERICIDENTIFIERLOOSE]})`);fr("PRERELEASEIDENTIFIER",`(?:${tt[rt.NUMERICIDENTIFIER]}|${tt[rt.NONNUMERICIDENTIFIER]})`);fr("PRERELEASEIDENTIFIERLOOSE",`(?:${tt[rt.NUMERICIDENTIFIERLOOSE]}|${tt[rt.NONNUMERICIDENTIFIER]})`);fr("PRERELEASE",`(?:-(${tt[rt.PRERELEASEIDENTIFIER]}(?:\\.${tt[rt.PRERELEASEIDENTIFIER]})*))`);fr("PRERELEASELOOSE",`(?:-?(${tt[rt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${tt[rt.PRERELEASEIDENTIFIERLOOSE]})*))`);fr("BUILDIDENTIFIER",`${Hae}+`);fr("BUILD",`(?:\\+(${tt[rt.BUILDIDENTIFIER]}(?:\\.${tt[rt.BUILDIDENTIFIER]})*))`);fr("FULLPLAIN",`v?${tt[rt.MAINVERSION]}${tt[rt.PRERELEASE]}?${tt[rt.BUILD]}?`);fr("FULL",`^${tt[rt.FULLPLAIN]}$`);fr("LOOSEPLAIN",`[v=\\s]*${tt[rt.MAINVERSIONLOOSE]}${tt[rt.PRERELEASELOOSE]}?${tt[rt.BUILD]}?`);fr("LOOSE",`^${tt[rt.LOOSEPLAIN]}$`);fr("GTLT","((?:<|>)?=?)");fr("XRANGEIDENTIFIERLOOSE",`${tt[rt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);fr("XRANGEIDENTIFIER",`${tt[rt.NUMERICIDENTIFIER]}|x|X|\\*`);fr("XRANGEPLAIN",`[v=\\s]*(${tt[rt.XRANGEIDENTIFIER]})(?:\\.(${tt[rt.XRANGEIDENTIFIER]})(?:\\.(${tt[rt.XRANGEIDENTIFIER]})(?:${tt[rt.PRERELEASE]})?${tt[rt.BUILD]}?)?)?`);fr("XRANGEPLAINLOOSE",`[v=\\s]*(${tt[rt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${tt[rt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${tt[rt.XRANGEIDENTIFIERLOOSE]})(?:${tt[rt.PRERELEASELOOSE]})?${tt[rt.BUILD]}?)?)?`);fr("XRANGE",`^${tt[rt.GTLT]}\\s*${tt[rt.XRANGEPLAIN]}$`);fr("XRANGELOOSE",`^${tt[rt.GTLT]}\\s*${tt[rt.XRANGEPLAINLOOSE]}$`);fr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${zae}})(?:\\.(\\d{1,${zae}}))?(?:\\.(\\d{1,${zae}}))?`);fr("COERCE",`${tt[rt.COERCEPLAIN]}(?:$|[^\\d])`);fr("COERCEFULL",tt[rt.COERCEPLAIN]+`(?:${tt[rt.PRERELEASE]})?(?:${tt[rt.BUILD]})?(?:$|[^\\d])`);fr("COERCERTL",tt[rt.COERCE],!0);fr("COERCERTLFULL",tt[rt.COERCEFULL],!0);fr("LONETILDE","(?:~>?)");fr("TILDETRIM",`(\\s*)${tt[rt.LONETILDE]}\\s+`,!0);HS.tildeTrimReplace="$1~";fr("TILDE",`^${tt[rt.LONETILDE]}${tt[rt.XRANGEPLAIN]}$`);fr("TILDELOOSE",`^${tt[rt.LONETILDE]}${tt[rt.XRANGEPLAINLOOSE]}$`);fr("LONECARET","(?:\\^)");fr("CARETTRIM",`(\\s*)${tt[rt.LONECARET]}\\s+`,!0);HS.caretTrimReplace="$1^";fr("CARET",`^${tt[rt.LONECARET]}${tt[rt.XRANGEPLAIN]}$`);fr("CARETLOOSE",`^${tt[rt.LONECARET]}${tt[rt.XRANGEPLAINLOOSE]}$`);fr("COMPARATORLOOSE",`^${tt[rt.GTLT]}\\s*(${tt[rt.LOOSEPLAIN]})$|^$`);fr("COMPARATOR",`^${tt[rt.GTLT]}\\s*(${tt[rt.FULLPLAIN]})$|^$`);fr("COMPARATORTRIM",`(\\s*)${tt[rt.GTLT]}\\s*(${tt[rt.LOOSEPLAIN]}|${tt[rt.XRANGEPLAIN]})`,!0);HS.comparatorTrimReplace="$1$2$3";fr("HYPHENRANGE",`^\\s*(${tt[rt.XRANGEPLAIN]})\\s+-\\s+(${tt[rt.XRANGEPLAIN]})\\s*$`);fr("HYPHENRANGELOOSE",`^\\s*(${tt[rt.XRANGEPLAINLOOSE]})\\s+-\\s+(${tt[rt.XRANGEPLAINLOOSE]})\\s*$`);fr("STAR","(<|>)?=?\\s*\\*");fr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");fr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var SV=b((Hmn,uDe)=>{var gHt=Object.freeze({loose:!0}),yHt=Object.freeze({}),bHt=t=>t?typeof t!="object"?gHt:t:yHt;uDe.exports=bHt});var Vae=b((Vmn,dDe)=>{var lDe=/^[0-9]+$/,cDe=(t,e)=>{let r=lDe.test(t),n=lDe.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},_Ht=(t,e)=>cDe(e,t);dDe.exports={compareIdentifiers:cDe,rcompareIdentifiers:_Ht}});var kc=b((Wmn,mDe)=>{var xV=hq(),{MAX_LENGTH:fDe,MAX_SAFE_INTEGER:CV}=pq(),{safeRe:pDe,t:hDe}=uj(),vHt=SV(),{compareIdentifiers:lj}=Vae(),np=class{constructor(e,r){if(r=vHt(r),e instanceof np){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>fDe)throw new TypeError(`version is longer than ${fDe} characters`);xV("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?pDe[hDe.LOOSE]:pDe[hDe.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>CV||this.major<0)throw new TypeError("Invalid major version");if(this.minor>CV||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>CV||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<CV)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(xV("SemVer.compare",this.version,this.options,e),!(e instanceof np)){if(typeof e=="string"&&e===this.version)return 0;e=new np(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof np||(e=new np(e,this.options)),lj(this.major,e.major)||lj(this.minor,e.minor)||lj(this.patch,e.patch)}comparePre(e){if(e instanceof np||(e=new np(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(xV("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return lj(n,o)}while(++r)}compareBuild(e){e instanceof np||(e=new np(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(xV("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return lj(n,o)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let i=[r,o];n===!1&&(i=[r]),lj(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};mDe.exports=np});var iA=b((Jmn,yDe)=>{var gDe=kc(),wHt=(t,e,r=!1)=>{if(t instanceof gDe)return t;try{return new gDe(t,e)}catch(n){if(!r)return null;throw n}};yDe.exports=wHt});var _De=b((Gmn,bDe)=>{var SHt=iA(),xHt=(t,e)=>{let r=SHt(t,e);return r?r.version:null};bDe.exports=xHt});var wDe=b((Kmn,vDe)=>{var CHt=iA(),OHt=(t,e)=>{let r=CHt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};vDe.exports=OHt});var CDe=b((Ymn,xDe)=>{var SDe=kc(),EHt=(t,e,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new SDe(t instanceof SDe?t.version:t,r).inc(e,n,o).version}catch{return null}};xDe.exports=EHt});var PDe=b((Xmn,EDe)=>{var ODe=iA(),PHt=(t,e)=>{let r=ODe(t,null,!0),n=ODe(e,null,!0),o=r.compare(n);if(o===0)return null;let i=o>0,a=i?r:n,s=i?n:r,u=!!a.prerelease.length;if(!!s.prerelease.length&&!u)return!s.patch&&!s.minor?"major":a.patch?"patch":a.minor?"minor":"major";let c=u?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};EDe.exports=PHt});var MDe=b((Zmn,TDe)=>{var THt=kc(),MHt=(t,e)=>new THt(t,e).major;TDe.exports=MHt});var RDe=b((Qmn,ADe)=>{var AHt=kc(),RHt=(t,e)=>new AHt(t,e).minor;ADe.exports=RHt});var DDe=b((egn,IDe)=>{var IHt=kc(),DHt=(t,e)=>new IHt(t,e).patch;IDe.exports=DHt});var NDe=b((tgn,jDe)=>{var jHt=iA(),NHt=(t,e)=>{let r=jHt(t,e);return r&&r.prerelease.length?r.prerelease:null};jDe.exports=NHt});var rh=b((rgn,FDe)=>{var LDe=kc(),LHt=(t,e,r)=>new LDe(t,r).compare(new LDe(e,r));FDe.exports=LHt});var kDe=b((ngn,BDe)=>{var FHt=rh(),BHt=(t,e,r)=>FHt(e,t,r);BDe.exports=BHt});var qDe=b((ogn,$De)=>{var kHt=rh(),$Ht=(t,e)=>kHt(t,e,!0);$De.exports=$Ht});var OV=b((ign,zDe)=>{var UDe=kc(),qHt=(t,e,r)=>{let n=new UDe(t,r),o=new UDe(e,r);return n.compare(o)||n.compareBuild(o)};zDe.exports=qHt});var VDe=b((agn,HDe)=>{var UHt=OV(),zHt=(t,e)=>t.sort((r,n)=>UHt(r,n,e));HDe.exports=zHt});var JDe=b((sgn,WDe)=>{var HHt=OV(),VHt=(t,e)=>t.sort((r,n)=>HHt(n,r,e));WDe.exports=VHt});var mq=b((ugn,GDe)=>{var WHt=rh(),JHt=(t,e,r)=>WHt(t,e,r)>0;GDe.exports=JHt});var EV=b((lgn,KDe)=>{var GHt=rh(),KHt=(t,e,r)=>GHt(t,e,r)<0;KDe.exports=KHt});var Wae=b((cgn,YDe)=>{var YHt=rh(),XHt=(t,e,r)=>YHt(t,e,r)===0;YDe.exports=XHt});var Jae=b((dgn,XDe)=>{var ZHt=rh(),QHt=(t,e,r)=>ZHt(t,e,r)!==0;XDe.exports=QHt});var PV=b((fgn,ZDe)=>{var e6t=rh(),t6t=(t,e,r)=>e6t(t,e,r)>=0;ZDe.exports=t6t});var TV=b((pgn,QDe)=>{var r6t=rh(),n6t=(t,e,r)=>r6t(t,e,r)<=0;QDe.exports=n6t});var Gae=b((hgn,eje)=>{var o6t=Wae(),i6t=Jae(),a6t=mq(),s6t=PV(),u6t=EV(),l6t=TV(),c6t=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return o6t(t,r,n);case"!=":return i6t(t,r,n);case">":return a6t(t,r,n);case">=":return s6t(t,r,n);case"<":return u6t(t,r,n);case"<=":return l6t(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};eje.exports=c6t});var rje=b((mgn,tje)=>{var d6t=kc(),f6t=iA(),{safeRe:MV,t:AV}=uj(),p6t=(t,e)=>{if(t instanceof d6t)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?MV[AV.COERCEFULL]:MV[AV.COERCE]);else{let u=e.includePrerelease?MV[AV.COERCERTLFULL]:MV[AV.COERCERTL],l;for(;(l=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),u.lastIndex=l.index+l[1].length+l[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",i=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",s=e.includePrerelease&&r[6]?`+${r[6]}`:"";return f6t(`${n}.${o}.${i}${a}${s}`,e)};tje.exports=p6t});var oje=b((ggn,nje)=>{var Kae=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,r)}return this}};nje.exports=Kae});var nh=b((ygn,uje)=>{var h6t=/\s+/g,aA=class{constructor(e,r){if(r=g6t(r),e instanceof aA)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new aA(e.raw,r);if(e instanceof Yae)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(h6t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!aje(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&x6t(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&w6t)|(this.options.loose&&S6t))+":"+e,o=ije.get(n);if(o)return o;let i=this.options.loose,a=i?nf[Od.HYPHENRANGELOOSE]:nf[Od.HYPHENRANGE];e=e.replace(a,D6t(this.options.includePrerelease)),yi("hyphen replace",e),e=e.replace(nf[Od.COMPARATORTRIM],b6t),yi("comparator trim",e),e=e.replace(nf[Od.TILDETRIM],_6t),yi("tilde trim",e),e=e.replace(nf[Od.CARETTRIM],v6t),yi("caret trim",e);let s=e.split(" ").map(d=>C6t(d,this.options)).join(" ").split(/\s+/).map(d=>I6t(d,this.options));i&&(s=s.filter(d=>(yi("loose invalid filter",d,this.options),!!d.match(nf[Od.COMPARATORLOOSE])))),yi("range list",s);let u=new Map,l=s.map(d=>new Yae(d,this.options));for(let d of l){if(aje(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let c=[...u.values()];return ije.set(n,c),c}intersects(e,r){if(!(e instanceof aA))throw new TypeError("a Range is required");return this.set.some(n=>sje(n,r)&&e.set.some(o=>sje(o,r)&&n.every(i=>o.every(a=>i.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new y6t(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(j6t(this.set[r],e,this.options))return!0;return!1}};uje.exports=aA;var m6t=oje(),ije=new m6t,g6t=SV(),Yae=gq(),yi=hq(),y6t=kc(),{safeRe:nf,t:Od,comparatorTrimReplace:b6t,tildeTrimReplace:_6t,caretTrimReplace:v6t}=uj(),{FLAG_INCLUDE_PRERELEASE:w6t,FLAG_LOOSE:S6t}=pq(),aje=t=>t.value==="<0.0.0-0",x6t=t=>t.value==="",sje=(t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(i=>o.intersects(i,e)),o=n.pop();return r},C6t=(t,e)=>(yi("comp",t,e),t=P6t(t,e),yi("caret",t),t=O6t(t,e),yi("tildes",t),t=M6t(t,e),yi("xrange",t),t=R6t(t,e),yi("stars",t),t),Ed=t=>!t||t.toLowerCase()==="x"||t==="*",O6t=(t,e)=>t.trim().split(/\s+/).map(r=>E6t(r,e)).join(" "),E6t=(t,e)=>{let r=e.loose?nf[Od.TILDELOOSE]:nf[Od.TILDE];return t.replace(r,(n,o,i,a,s)=>{yi("tilde",t,n,o,i,a,s);let u;return Ed(o)?u="":Ed(i)?u=`>=${o}.0.0 <${+o+1}.0.0-0`:Ed(a)?u=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:s?(yi("replaceTilde pr",s),u=`>=${o}.${i}.${a}-${s} <${o}.${+i+1}.0-0`):u=`>=${o}.${i}.${a} <${o}.${+i+1}.0-0`,yi("tilde return",u),u})},P6t=(t,e)=>t.trim().split(/\s+/).map(r=>T6t(r,e)).join(" "),T6t=(t,e)=>{yi("caret",t,e);let r=e.loose?nf[Od.CARETLOOSE]:nf[Od.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,i,a,s,u)=>{yi("caret",t,o,i,a,s,u);let l;return Ed(i)?l="":Ed(a)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Ed(s)?i==="0"?l=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:u?(yi("replaceCaret pr",u),i==="0"?a==="0"?l=`>=${i}.${a}.${s}-${u} <${i}.${a}.${+s+1}-0`:l=`>=${i}.${a}.${s}-${u} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.${s}-${u} <${+i+1}.0.0-0`):(yi("no pr"),i==="0"?a==="0"?l=`>=${i}.${a}.${s}${n} <${i}.${a}.${+s+1}-0`:l=`>=${i}.${a}.${s}${n} <${i}.${+a+1}.0-0`:l=`>=${i}.${a}.${s} <${+i+1}.0.0-0`),yi("caret return",l),l})},M6t=(t,e)=>(yi("replaceXRanges",t,e),t.split(/\s+/).map(r=>A6t(r,e)).join(" ")),A6t=(t,e)=>{t=t.trim();let r=e.loose?nf[Od.XRANGELOOSE]:nf[Od.XRANGE];return t.replace(r,(n,o,i,a,s,u)=>{yi("xRange",t,n,o,i,a,s,u);let l=Ed(i),c=l||Ed(a),d=c||Ed(s),f=d;return o==="="&&f&&(o=""),u=e.includePrerelease?"-0":"",l?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&f?(c&&(a=0),s=0,o===">"?(o=">=",c?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):o==="<="&&(o="<",c?i=+i+1:a=+a+1),o==="<"&&(u="-0"),n=`${o+i}.${a}.${s}${u}`):c?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${a}.0${u} <${i}.${+a+1}.0-0`),yi("xRange return",n),n})},R6t=(t,e)=>(yi("replaceStars",t,e),t.trim().replace(nf[Od.STAR],"")),I6t=(t,e)=>(yi("replaceGTE0",t,e),t.trim().replace(nf[e.includePrerelease?Od.GTE0PRE:Od.GTE0],"")),D6t=t=>(e,r,n,o,i,a,s,u,l,c,d,f)=>(Ed(n)?r="":Ed(o)?r=`>=${n}.0.0${t?"-0":""}`:Ed(i)?r=`>=${n}.${o}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ed(l)?u="":Ed(c)?u=`<${+l+1}.0.0-0`:Ed(d)?u=`<${l}.${+c+1}.0-0`:f?u=`<=${l}.${c}.${d}-${f}`:t?u=`<${l}.${c}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),j6t=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(yi(t[n].semver),t[n].semver!==Yae.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var gq=b((bgn,hje)=>{var yq=Symbol("SemVer ANY"),cj=class{static get ANY(){return yq}constructor(e,r){if(r=lje(r),e instanceof cj){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Zae("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===yq?this.value="":this.value=this.operator+this.semver.version,Zae("comp",this)}parse(e){let r=this.options.loose?cje[dje.COMPARATORLOOSE]:cje[dje.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new fje(n[2],this.options.loose):this.semver=yq}toString(){return this.value}test(e){if(Zae("Comparator.test",e,this.options.loose),this.semver===yq||e===yq)return!0;if(typeof e=="string")try{e=new fje(e,this.options)}catch{return!1}return Xae(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof cj))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new pje(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new pje(this.value,r).test(e.semver):(r=lje(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Xae(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Xae(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};hje.exports=cj;var lje=SV(),{safeRe:cje,t:dje}=uj(),Xae=Gae(),Zae=hq(),fje=kc(),pje=nh()});var bq=b((_gn,mje)=>{var N6t=nh(),L6t=(t,e,r)=>{try{e=new N6t(e,r)}catch{return!1}return e.test(t)};mje.exports=L6t});var yje=b((vgn,gje)=>{var F6t=nh(),B6t=(t,e)=>new F6t(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));gje.exports=B6t});var _je=b((wgn,bje)=>{var k6t=kc(),$6t=nh(),q6t=(t,e,r)=>{let n=null,o=null,i=null;try{i=new $6t(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||o.compare(a)===-1)&&(n=a,o=new k6t(n,r))}),n};bje.exports=q6t});var wje=b((Sgn,vje)=>{var U6t=kc(),z6t=nh(),H6t=(t,e,r)=>{let n=null,o=null,i=null;try{i=new z6t(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||o.compare(a)===1)&&(n=a,o=new U6t(n,r))}),n};vje.exports=H6t});var Cje=b((xgn,xje)=>{var Qae=kc(),V6t=nh(),Sje=mq(),W6t=(t,e)=>{t=new V6t(t,e);let r=new Qae("0.0.0");if(t.test(r)||(r=new Qae("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],i=null;o.forEach(a=>{let s=new Qae(a.semver.version);switch(a.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!i||Sje(s,i))&&(i=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||Sje(r,i))&&(r=i)}return r&&t.test(r)?r:null};xje.exports=W6t});var Eje=b((Cgn,Oje)=>{var J6t=nh(),G6t=(t,e)=>{try{return new J6t(t,e).range||"*"}catch{return null}};Oje.exports=G6t});var RV=b((Ogn,Aje)=>{var K6t=kc(),Mje=gq(),{ANY:Y6t}=Mje,X6t=nh(),Z6t=bq(),Pje=mq(),Tje=EV(),Q6t=TV(),eVt=PV(),tVt=(t,e,r,n)=>{t=new K6t(t,n),e=new X6t(e,n);let o,i,a,s,u;switch(r){case">":o=Pje,i=Q6t,a=Tje,s=">",u=">=";break;case"<":o=Tje,i=eVt,a=Pje,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Z6t(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let c=e.set[l],d=null,f=null;if(c.forEach(p=>{p.semver===Y6t&&(p=new Mje(">=0.0.0")),d=d||p,f=f||p,o(p.semver,d.semver,n)?d=p:a(p.semver,f.semver,n)&&(f=p)}),d.operator===s||d.operator===u||(!f.operator||f.operator===s)&&i(t,f.semver))return!1;if(f.operator===u&&a(t,f.semver))return!1}return!0};Aje.exports=tVt});var Ije=b((Egn,Rje)=>{var rVt=RV(),nVt=(t,e,r)=>rVt(t,e,">",r);Rje.exports=nVt});var jje=b((Pgn,Dje)=>{var oVt=RV(),iVt=(t,e,r)=>oVt(t,e,"<",r);Dje.exports=iVt});var Fje=b((Tgn,Lje)=>{var Nje=nh(),aVt=(t,e,r)=>(t=new Nje(t,r),e=new Nje(e,r),t.intersects(e,r));Lje.exports=aVt});var kje=b((Mgn,Bje)=>{var sVt=bq(),uVt=rh();Bje.exports=(t,e,r)=>{let n=[],o=null,i=null,a=t.sort((c,d)=>uVt(c,d,r));for(let c of a)sVt(c,e,r)?(i=c,o||(o=c)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);let s=[];for(let[c,d]of n)c===d?s.push(c):!d&&c===a[0]?s.push("*"):d?c===a[0]?s.push(`<=${d}`):s.push(`${c} - ${d}`):s.push(`>=${c}`);let u=s.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var Vje=b((Agn,Hje)=>{var $je=nh(),tse=gq(),{ANY:ese}=tse,_q=bq(),rse=rh(),lVt=(t,e,r={})=>{if(t===e)return!0;t=new $je(t,r),e=new $je(e,r);let n=!1;e:for(let o of t.set){for(let i of e.set){let a=dVt(o,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},cVt=[new tse(">=0.0.0-0")],qje=[new tse(">=0.0.0")],dVt=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ese){if(e.length===1&&e[0].semver===ese)return!0;r.includePrerelease?t=cVt:t=qje}if(e.length===1&&e[0].semver===ese){if(r.includePrerelease)return!0;e=qje}let n=new Set,o,i;for(let p of t)p.operator===">"||p.operator===">="?o=Uje(o,p,r):p.operator==="<"||p.operator==="<="?i=zje(i,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(o&&i){if(a=rse(o.semver,i.semver,r),a>0)return null;if(a===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(o&&!_q(p,String(o),r)||i&&!_q(p,String(i),r))return null;for(let m of e)if(!_q(p,String(m),r))return!1;return!0}let s,u,l,c,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(c=c||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(s=Uje(o,p,r),s===p&&s!==o)return!1}else if(o.operator===">="&&!_q(o.semver,String(p),r))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=zje(i,p,r),u===p&&u!==i)return!1}else if(i.operator==="<="&&!_q(i.semver,String(p),r))return!1}if(!p.operator&&(i||o)&&a!==0)return!1}return!(o&&l&&!i&&a!==0||i&&c&&!o&&a!==0||f||d)},Uje=(t,e,r)=>{if(!t)return e;let n=rse(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},zje=(t,e,r)=>{if(!t)return e;let n=rse(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Hje.exports=lVt});var Kje=b((Rgn,Gje)=>{var nse=uj(),Wje=pq(),fVt=kc(),Jje=Vae(),pVt=iA(),hVt=_De(),mVt=wDe(),gVt=CDe(),yVt=PDe(),bVt=MDe(),_Vt=RDe(),vVt=DDe(),wVt=NDe(),SVt=rh(),xVt=kDe(),CVt=qDe(),OVt=OV(),EVt=VDe(),PVt=JDe(),TVt=mq(),MVt=EV(),AVt=Wae(),RVt=Jae(),IVt=PV(),DVt=TV(),jVt=Gae(),NVt=rje(),LVt=gq(),FVt=nh(),BVt=bq(),kVt=yje(),$Vt=_je(),qVt=wje(),UVt=Cje(),zVt=Eje(),HVt=RV(),VVt=Ije(),WVt=jje(),JVt=Fje(),GVt=kje(),KVt=Vje();Gje.exports={parse:pVt,valid:hVt,clean:mVt,inc:gVt,diff:yVt,major:bVt,minor:_Vt,patch:vVt,prerelease:wVt,compare:SVt,rcompare:xVt,compareLoose:CVt,compareBuild:OVt,sort:EVt,rsort:PVt,gt:TVt,lt:MVt,eq:AVt,neq:RVt,gte:IVt,lte:DVt,cmp:jVt,coerce:NVt,Comparator:LVt,Range:FVt,satisfies:BVt,toComparators:kVt,maxSatisfying:$Vt,minSatisfying:qVt,minVersion:UVt,validRange:zVt,outside:HVt,gtr:VVt,ltr:WVt,intersects:JVt,simplifyRange:GVt,subset:KVt,SemVer:fVt,re:nse.re,src:nse.src,tokens:nse.t,SEMVER_SPEC_VERSION:Wje.SEMVER_SPEC_VERSION,RELEASE_TYPES:Wje.RELEASE_TYPES,compareIdentifiers:Jje.compareIdentifiers,rcompareIdentifiers:Jje.rcompareIdentifiers}});function VS(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);let[e,r]=t.split(":"),n=r||"latest";if(e.includes("/")){let[o,i]=e.split("/",2);if(!o||!i)throw new Error(`Invalid identifier format: ${t}`);return[o,i,n]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,n]}}var YVt,Yje=C(()=>{YVt=k(Kje(),1)});async function $r(t,e,r){let n;if(t.ok){r&&(n=await t.text());return}n=await t.text();let o=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${n}`;throw t.status===409?new ose(o):new Error(o)}var ose,Xje=C(()=>{ose=class extends Error{constructor(e){super(e),this.name="LangSmithConflictError"}}});function ZVt(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function of(t,e,r,n){try{return JSON.stringify(t,e,r)}catch(a){if(!a.message?.includes("Converting circular structure to JSON"))return console.warn("[WARNING]: LangSmith received unserializable value."),"[Unserializable]";console.warn("[WARNING]: LangSmith received circular JSON. This will decrease tracer performance."),typeof n>"u"&&(n=ZVt()),ase(t,"",0,[],void 0,0,n);var o;try{dj.length===0?o=JSON.stringify(t,e,r):o=JSON.stringify(t,QVt(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;IV.length!==0;){var i=IV.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return o}}function ise(t,e,r,n){var o=Object.getOwnPropertyDescriptor(n,r);o.get!==void 0?o.configurable?(Object.defineProperty(n,r,{value:t}),IV.push([n,r,e,o])):dj.push([e,r,t]):(n[r]=t,IV.push([n,r,e]))}function ase(t,e,r,n,o,i,a){i+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t){ise(XVt,t,e,o);return}if(typeof a.depthLimit<"u"&&i>a.depthLimit){ise(Zje,t,e,o);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){ise(Zje,t,e,o);return}if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)ase(t[s],s,s,n,t,i,a);else{var u=Object.keys(t);for(s=0;s<u.length;s++){var l=u[s];ase(t[l],l,s,n,t,i,a)}}n.pop()}}function QVt(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(dj.length>0)for(var n=0;n<dj.length;n++){var o=dj[n];if(o[1]===e&&o[0]===r){r=o[2],dj.splice(n,1);break}}return t.call(this,e,r)}}var Zje,XVt,IV,dj,Qje=C(()=>{Zje="[...]",XVt={result:"[Circular]"},IV=[],dj=[]});function eNe(t){let e=NV(),r=tNe(),n=t.extra??{},o=n.metadata;return t.extra={...n,runtime:{...e,...n?.runtime},metadata:{...r,...r.revision_id||t.revision_id?{revision_id:t.revision_id??r.revision_id}:{},...o}},t}async function r5t(t){let e=[];for await(let r of t)e.push(r);return e}function sse(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}var e5t,t5t,n5t,use,o5t,i5t,_y,lse=C(()=>{pV();tDe();rDe();LV();jV();nDe();Uae();Yje();Xje();_V();Qje();e5t=()=>{let t=WS("TRACING_SAMPLING_RATE");if(t===void 0)return;let e=parseFloat(t);if(e<0||e>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${e}`);return e},t5t=t=>{let r=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return r==="localhost"||r==="127.0.0.1"||r==="::1"};n5t=async t=>{if(t?.status===429){let e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(r=>setTimeout(r,e)),!0}return!1},use=class{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let r,n=new Promise(i=>{r=i}),o=of(e.item).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:r,itemPromise:n,size:o}),this.sizeBytes+=o,n}pop(e){if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");let r=[],n=0;for(;n+(this.peek()?.size??0)<e&&this.items.length>0;){let o=this.items.shift();o&&(r.push(o),n+=o.size,this.sizeBytes-=o.size)}if(r.length===0&&this.items.length>0){let o=this.items.shift();r.push(o),n+=o.size,this.sizeBytes-=o.size}return[r.map(o=>({action:o.action,item:o.payload})),()=>r.forEach(o=>o.itemPromiseResolve())]}},o5t=20971520,i5t=2500,_y=class{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new use}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:vy("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1});let r=_y.getDefaultClientConfig();if(this.tracingSampleRate=e5t(),this.apiUrl=sse(e.apiUrl??r.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=sse(e.apiKey??r.apiKey),this.webUrl=sse(e.webUrl??r.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new fq(e.callerOptions??{}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.batchIngestCaller=new fq({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:n5t}),this.hideInputs=e.hideInputs??e.anonymizer??r.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??r.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){let e=WS("API_KEY"),r=WS("ENDPOINT")??"https://api.smith.langchain.com",n=WS("HIDE_INPUTS")==="true",o=WS("HIDE_OUTPUTS")==="true";return{apiUrl:r,apiKey:e,webUrl:void 0,hideInputs:n,hideOutputs:o}}getHostUrl(){return this.webUrl?this.webUrl:t5t(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){let e={"User-Agent":`langsmith-js/${DV}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){let r={...e};return r.inputs!==void 0&&(r.inputs=this.processInputs(r.inputs)),r.outputs!==void 0&&(r.outputs=this.processOutputs(r.outputs)),r}async _getResponse(e,r){let n=r?.toString()??"",o=`${this.apiUrl}${e}?${n}`,i=await this.caller.call(xt(),o,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(i,`Failed to fetch ${e}`),i}async _get(e,r){return(await this._getResponse(e,r)).json()}async*_getPaginated(e,r=new URLSearchParams,n){let o=Number(r.get("offset"))||0,i=Number(r.get("limit"))||100;for(;;){r.set("offset",String(o)),r.set("limit",String(i));let a=`${this.apiUrl}${e}?${r}`,s=await this.caller.call(xt(),a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(s,`Failed to fetch ${e}`);let u=n?n(await s.json()):await s.json();if(u.length===0||(yield u,u.length<i))break;o+=u.length}}async*_getCursorPaginatedList(e,r=null,n="POST",o="runs"){let i=r?{...r}:{};for(;;){let s=await(await this.caller.call(xt(),`${this.apiUrl}${e}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(i)})).json();if(!s||!s[o])break;yield s[o];let u=s.cursors;if(!u||!u.next)break;i.cursor=u.next}}_filterForSampling(e,r=!1){if(this.tracingSampleRate===void 0)return e;if(r){let n=[];for(let o of e)this.filteredPostUuids.has(o.id)?this.filteredPostUuids.delete(o.id):n.push(o);return n}else{let n=[];for(let o of e)o.id!==o.trace_id&&!this.filteredPostUuids.has(o.trace_id)||Math.random()<this.tracingSampleRate?n.push(o):this.filteredPostUuids.add(o.id);return n}}async _getBatchSizeLimitBytes(){let e=await this._ensureServerInfo();return this.batchSizeBytesLimit??e.batch_ingest_config?.size_limit_bytes??o5t}async _getMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue(e){let r=[];for(;this.autoBatchQueue.items.length>0;){let[n,o]=this.autoBatchQueue.pop(e);if(!n.length){o();break}let i=this._processBatch(n,o).catch(console.error);r.push(i)}return Promise.all(r)}async _processBatch(e,r){if(!e.length){r();return}try{let n={runCreates:e.filter(i=>i.action==="create").map(i=>i.item),runUpdates:e.filter(i=>i.action==="update").map(i=>i.item)};(await this._ensureServerInfo())?.batch_ingest_config?.use_multipart_endpoint?await this.multipartIngestRuns(n):await this.batchIngestRuns(n)}finally{r()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=eNe(e.item));let r=this.autoBatchQueue.push(e);if(this.manualFlushMode)return r;let n=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>n&&this.drainAutoBatchQueue(n),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(n)},this.autoBatchAggregationDelayMs)),r}async _getServerInfo(){let e=await xt()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(i5t),...this.fetchOptions});return await $r(e,"get server info"),e.json()}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch{console.warn("[WARNING]: LangSmith failed to fetch info on supported operations. Falling back to batch operations and default limits.")}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){let e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;let r={...this.headers,"Content-Type":"application/json"},n=e.project_name;delete e.project_name;let o=this.prepareRunCreateOrUpdateInputs({session_name:n,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&o.trace_id!==void 0&&o.dotted_order!==void 0){this.processRunOperation({action:"create",item:o}).catch(console.error);return}let i=eNe(o),a=await this.caller.call(xt(),`${this.apiUrl}/runs`,{method:"POST",headers:r,body:of(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(a,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:r}){if(e===void 0&&r===void 0)return;let n=e?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[],o=r?.map(s=>this.prepareRunCreateOrUpdateInputs(s))??[];if(n.length>0&&o.length>0){let s=n.reduce((l,c)=>(c.id&&(l[c.id]=c),l),{}),u=[];for(let l of o)l.id!==void 0&&s[l.id]?s[l.id]={...s[l.id],...l}:u.push(l);n=Object.values(s),o=u}let i={post:this._filterForSampling(n),patch:this._filterForSampling(o,!0)};if(!i.post.length&&!i.patch.length)return;let a={post:[],patch:[]};for(let s of["post","patch"]){let u=s,l=i[u].reverse(),c=l.pop();for(;c!==void 0;)a[u].push(c),c=l.pop()}(a.post.length>0||a.patch.length>0)&&await this._postBatchIngestRuns(of(a))}async _postBatchIngestRuns(e){let r={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(xt(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:r,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(n,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:r}){if(e===void 0&&r===void 0)return;let n={},o=[];for(let c of e??[]){let d=this.prepareRunCreateOrUpdateInputs(c);d.id!==void 0&&d.attachments!==void 0&&(n[d.id]=d.attachments),delete d.attachments,o.push(d)}let i=[];for(let c of r??[])i.push(this.prepareRunCreateOrUpdateInputs(c));if(o.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(i.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(o.length>0&&i.length>0){let c=o.reduce((f,p)=>(p.id&&(f[p.id]=p),f),{}),d=[];for(let f of i)f.id!==void 0&&c[f.id]?c[f.id]={...c[f.id],...f}:d.push(f);o=Object.values(c),i=d}if(o.length===0&&i.length===0)return;let u=[],l=[];for(let[c,d]of[["post",o],["patch",i]])for(let f of d){let{inputs:p,outputs:m,events:h,attachments:v,...g}=f,_={inputs:p,outputs:m,events:h},S=of(g);l.push({name:`${c}.${g.id}`,payload:new Blob([S],{type:`application/json; length=${S.length}`})});for(let[x,O]of Object.entries(_)){if(O===void 0)continue;let T=of(O);l.push({name:`${c}.${g.id}.${x}`,payload:new Blob([T],{type:`application/json; length=${T.length}`})})}if(g.id!==void 0){let x=n[g.id];if(x){delete n[g.id];for(let[O,T]of Object.entries(x)){let E,M;if(Array.isArray(T)?[E,M]=T:(E=T.mimeType,M=T.data),O.includes(".")){console.warn(`Skipping attachment '${O}' for run ${g.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}l.push({name:`attachment.${g.id}.${O}`,payload:new Blob([M],{type:`${E}; length=${M.byteLength}`})})}}}u.push(`trace=${g.trace_id},id=${g.id}`)}await this._sendMultipartRequest(l,u.join("; "))}async _sendMultipartRequest(e,r){try{let n="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),o=[];for(let u of e)o.push(new Blob([`--${n}\r
`])),o.push(new Blob([`Content-Disposition: form-data; name="${u.name}"\r
`,`Content-Type: ${u.payload.type}\r
\r
`])),o.push(u.payload),o.push(new Blob([`\r
`]));o.push(new Blob([`--${n}--\r
`]));let a=await new Blob(o).arrayBuffer(),s=await this.batchIngestCaller.call(xt(),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${n}`},body:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(s,"ingest multipart runs",!0)}catch(n){console.warn(`${n.message.trim()}

Context: ${r}`)}}async updateRun(e,r){Wr(e),r.inputs&&(r.inputs=this.processInputs(r.inputs)),r.outputs&&(r.outputs=this.processOutputs(r.outputs));let n={...r,id:e};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&n.trace_id!==void 0&&n.dotted_order!==void 0){if(r.end_time!==void 0&&n.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:n}).catch(console.error);return}else this.processRunOperation({action:"update",item:n}).catch(console.error);return}let o={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(xt(),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:o,body:of(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(i,"update run",!0)}async readRun(e,{loadChildRuns:r}={loadChildRuns:!1}){Wr(e);let n=await this._get(`/runs/${e}`);return r&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e,run:r,projectOpts:n}){if(r!==void 0){let o;r.session_id?o=r.session_id:n?.projectName?o=(await this.readProject({projectName:n?.projectName})).id:n?.projectId?o=n?.projectId:o=(await this.readProject({projectName:WS("PROJECT")||"default"})).id;let i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${o}/r/${r.id}?poll=true`}else if(e!==void 0){let o=await this.readRun(e);if(!o.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${o.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){let r=await r5t(this.listRuns({id:e.child_run_ids})),n={},o={};r.sort((i,a)=>(i?.dotted_order??"").localeCompare(a?.dotted_order??""));for(let i of r){if(i.parent_run_id===null||i.parent_run_id===void 0)throw new Error(`Child run ${i.id} has no parent`);i.parent_run_id in n||(n[i.parent_run_id]=[]),n[i.parent_run_id].push(i),o[i.id]=i}e.child_runs=n[e.id]||[];for(let i in n)i!==e.id&&(o[i].child_runs=n[i]);return e}async*listRuns(e){let{projectId:r,projectName:n,parentRunId:o,traceId:i,referenceExampleId:a,startTime:s,executionOrder:u,isRoot:l,runType:c,error:d,id:f,query:p,filter:m,traceFilter:h,treeFilter:v,limit:g,select:_}=e,S=[];if(r&&(S=Array.isArray(r)?r:[r]),n){let E=Array.isArray(n)?n:[n],M=await Promise.all(E.map(R=>this.readProject({projectName:R}).then(N=>N.id)));S.push(...M)}let x=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],O={session:S.length?S:null,run_type:c,reference_example:a,query:p,filter:m,trace_filter:h,tree_filter:v,execution_order:u,parent_run:o,start_time:s?s.toISOString():null,error:d,id:f,limit:g,trace:i,select:_||x,is_root:l},T=0;for await(let E of this._getCursorPaginatedList("/runs/query",O))if(g){if(T>=g)break;if(E.length+T>g){yield*E.slice(0,g-T);break}T+=E.length,yield*E}else yield*E}async getRunStats({id:e,trace:r,parentRun:n,runType:o,projectNames:i,projectIds:a,referenceExampleIds:s,startTime:u,endTime:l,error:c,query:d,filter:f,traceFilter:p,treeFilter:m,isRoot:h,dataSourceType:v}){let g=a||[];i&&(g=[...a||[],...await Promise.all(i.map(T=>this.readProject({projectName:T}).then(E=>E.id)))]);let S=Object.fromEntries(Object.entries({id:e,trace:r,parent_run:n,run_type:o,session:g,reference_example:s,start_time:u,end_time:l,error:c,query:d,filter:f,trace_filter:p,tree_filter:m,is_root:h,data_source_type:v}).filter(([T,E])=>E!==void 0));return await(await this.caller.call(xt(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(S),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:r}={}){let n={run_id:e,share_token:r||zO()};Wr(e);let i=await(await this.caller.call(xt(),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(i===null||!("share_token"in i))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${i.share_token}/r`}async unshareRun(e){Wr(e);let r=await this.caller.call(xt(),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(r,"unshare run",!0)}async readRunSharedLink(e){Wr(e);let n=await(await this.caller.call(xt(),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e,{runIds:r}={}){let n=new URLSearchParams({share_token:e});if(r!==void 0)for(let a of r)n.append("id",a);return Wr(e),await(await this.caller.call(xt(),`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,r){if(!e&&!r)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:r})).id),Wr(e);let o=await(await this.caller.call(xt(),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return o.url=`${this.getHostUrl()}/public/${o.share_token}/d`,o}async shareDataset(e,r){if(!e&&!r)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:r})).id);let n={dataset_id:e};Wr(e);let i=await(await this.caller.call(xt(),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async unshareDataset(e){Wr(e);let r=await this.caller.call(xt(),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(r,"unshare dataset",!0)}async readSharedDataset(e){return Wr(e),await(await this.caller.call(xt(),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,r){let n={};r?.exampleIds&&(n.id=r.exampleIds);let o=new URLSearchParams;Object.entries(n).forEach(([s,u])=>{Array.isArray(u)?u.forEach(l=>o.append(s,l)):o.append(s,u)});let i=await this.caller.call(xt(),`${this.apiUrl}/public/${e}/examples?${o.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await i.json();if(!i.ok)throw"detail"in a?new Error(`Failed to list shared examples.
Status: ${i.status}
Message: ${a.detail.join(`
`)}`):new Error(`Failed to list shared examples: ${i.status} ${i.statusText}`);return a.map(s=>({...s,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:r=null,metadata:n=null,upsert:o=!1,projectExtra:i=null,referenceDatasetId:a=null}){let s=o?"?upsert=true":"",u=`${this.apiUrl}/sessions${s}`,l=i||{};n&&(l.metadata=n);let c={name:e,extra:l,description:r};a!==null&&(c.reference_dataset_id=a);let d=await this.caller.call(xt(),u,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(d,"create project"),await d.json()}async updateProject(e,{name:r=null,description:n=null,metadata:o=null,projectExtra:i=null,endTime:a=null}){let s=`${this.apiUrl}/sessions/${e}`,u=i;o&&(u={...u||{},metadata:o});let l={name:r,extra:u,description:n,end_time:a?new Date(a).toISOString():null},c=await this.caller.call(xt(),s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(c,"update project"),await c.json()}async hasProject({projectId:e,projectName:r}){let n="/sessions",o=new URLSearchParams;if(e!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Wr(e),n+=`/${e}`;else if(r!==void 0)o.append("name",r);else throw new Error("Must provide projectName or projectId");let i=await this.caller.call(xt(),`${this.apiUrl}${n}?${o}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{let a=await i.json();return i.ok?Array.isArray(a)?a.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:r,includeStats:n}){let o="/sessions",i=new URLSearchParams;if(e!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Wr(e),o+=`/${e}`;else if(r!==void 0)i.append("name",r);else throw new Error("Must provide projectName or projectId");n!==void 0&&i.append("include_stats",n.toString());let a=await this._get(o,i),s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Project[id=${e}, name=${r}] not found`);s=a[0]}else s=a;return s}async getProjectUrl({projectId:e,projectName:r}){if(e===void 0&&r===void 0)throw new Error("Must provide either projectName or projectId");let n=await this.readProject({projectId:e,projectName:r}),o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${n.id}`}async getDatasetUrl({datasetId:e,datasetName:r}){if(e===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");let n=await this.readDataset({datasetId:e,datasetName:r}),o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/datasets/${n.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let e=new URLSearchParams({limit:"1"});for await(let r of this._getPaginated("/sessions",e))return this._tenantId=r[0].tenant_id,r[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:r,nameContains:n,referenceDatasetId:o,referenceDatasetName:i,referenceFree:a,metadata:s}={}){let u=new URLSearchParams;if(e!==void 0)for(let l of e)u.append("id",l);if(r!==void 0&&u.append("name",r),n!==void 0&&u.append("name_contains",n),o!==void 0)u.append("reference_dataset",o);else if(i!==void 0){let l=await this.readDataset({datasetName:i});u.append("reference_dataset",l.id)}a!==void 0&&u.append("reference_free",a.toString()),s!==void 0&&u.append("metadata",JSON.stringify(s));for await(let l of this._getPaginated("/sessions",u))yield*l}async deleteProject({projectId:e,projectName:r}){let n;if(e===void 0&&r===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?n=(await this.readProject({projectName:r})).id:n=e,Wr(n);let o=await this.caller.call(xt(),`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(o,`delete session ${n} (${r})`,!0)}async uploadCsv({csvFile:e,fileName:r,inputKeys:n,outputKeys:o,description:i,dataType:a,name:s}){let u=`${this.apiUrl}/datasets/upload`,l=new FormData;l.append("file",e,r),n.forEach(f=>{l.append("input_keys",f)}),o.forEach(f=>{l.append("output_keys",f)}),i&&l.append("description",i),a&&l.append("data_type",a),s&&l.append("name",s);let c=await this.caller.call(xt(),u,{method:"POST",headers:this.headers,body:l,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(c,"upload CSV"),await c.json()}async createDataset(e,{description:r,dataType:n,inputsSchema:o,outputsSchema:i,metadata:a}={}){let s={name:e,description:r,extra:a?{metadata:a}:void 0};n&&(s.data_type=n),o&&(s.inputs_schema_definition=o),i&&(s.outputs_schema_definition=i);let u=await this.caller.call(xt(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(u,"create dataset"),await u.json()}async readDataset({datasetId:e,datasetName:r}){let n="/datasets",o=new URLSearchParams({limit:"1"});if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)Wr(e),n+=`/${e}`;else if(r!==void 0)o.append("name",r);else throw new Error("Must provide datasetName or datasetId");let i=await this._get(n,o),a;if(Array.isArray(i)){if(i.length===0)throw new Error(`Dataset[id=${e}, name=${r}] not found`);a=i[0]}else a=i;return a}async hasDataset({datasetId:e,datasetName:r}){try{return await this.readDataset({datasetId:e,datasetName:r}),!0}catch(n){if(n instanceof Error&&n.message.toLocaleLowerCase().includes("not found"))return!1;throw n}}async diffDatasetVersions({datasetId:e,datasetName:r,fromVersion:n,toVersion:o}){let i=e;if(i===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:r})).id);let a=new URLSearchParams({from_version:typeof n=="string"?n:n.toISOString(),to_version:typeof o=="string"?o:o.toISOString()});return await this._get(`/datasets/${i}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:r}){let n="/datasets";if(e===void 0)if(r!==void 0)e=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${e}/openai_ft`)).text()).trim().split(`
`).map(s=>JSON.parse(s))}async*listDatasets({limit:e=100,offset:r=0,datasetIds:n,datasetName:o,datasetNameContains:i,metadata:a}={}){let s="/datasets",u=new URLSearchParams({limit:e.toString(),offset:r.toString()});if(n!==void 0)for(let l of n)u.append("id",l);o!==void 0&&u.append("name",o),i!==void 0&&u.append("name_contains",i),a!==void 0&&u.append("metadata",JSON.stringify(a));for await(let l of this._getPaginated(s,u))yield*l}async updateDataset(e){let{datasetId:r,datasetName:n,...o}=e;if(!r&&!n)throw new Error("Must provide either datasetName or datasetId");let i=r??(await this.readDataset({datasetName:n})).id;Wr(i);let a=await this.caller.call(xt(),`${this.apiUrl}/datasets/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(a,"update dataset"),await a.json()}async deleteDataset({datasetId:e,datasetName:r}){let n="/datasets",o=e;if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(r!==void 0&&(o=(await this.readDataset({datasetName:r})).id),o!==void 0)Wr(o),n+=`/${o}`;else throw new Error("Must provide datasetName or datasetId");let i=await this.caller.call(xt(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(i,`delete ${n}`),await i.json()}async indexDataset({datasetId:e,datasetName:r,tag:n}){let o=e;if(!o&&!r)throw new Error("Must provide either datasetName or datasetId");if(o&&r)throw new Error("Must provide either datasetName or datasetId, not both");o||(o=(await this.readDataset({datasetName:r})).id),Wr(o);let i={tag:n},a=await this.caller.call(xt(),`${this.apiUrl}/datasets/${o}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(a,"index dataset"),await a.json()}async similarExamples(e,r,n,{filter:o}={}){let i={limit:n,inputs:e};o!==void 0&&(i.filter=o),Wr(r);let a=await this.caller.call(xt(),`${this.apiUrl}/datasets/${r}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(a,"fetch similar examples"),(await a.json()).examples}async createExample(e,r,{datasetId:n,datasetName:o,createdAt:i,exampleId:a,metadata:s,split:u,sourceRunId:l}){let c=n;if(c===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(c!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");c===void 0&&(c=(await this.readDataset({datasetName:o})).id);let d=i||new Date,f={dataset_id:c,inputs:e,outputs:r,created_at:d?.toISOString(),id:a,metadata:s,split:u,source_run_id:l},p=await this.caller.call(xt(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(p,"create example"),await p.json()}async createExamples(e){let{inputs:r,outputs:n,metadata:o,sourceRunIds:i,exampleIds:a,datasetId:s,datasetName:u}=e,l=s;if(l===void 0&&u===void 0)throw new Error("Must provide either datasetName or datasetId");if(l!==void 0&&u!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");l===void 0&&(l=(await this.readDataset({datasetName:u})).id);let c=r.map((p,m)=>({dataset_id:l,inputs:p,outputs:n?n[m]:void 0,metadata:o?o[m]:void 0,split:e.splits?e.splits[m]:void 0,id:a?a[m]:void 0,source_run_id:i?i[m]:void 0})),d=await this.caller.call(xt(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(d,"create examples"),await d.json()}async createLLMExample(e,r,n){return this.createExample({input:e},{output:r},n)}async createChatExample(e,r,n){let o=e.map(a=>$ae(a)?qae(a):a),i=$ae(r)?qae(r):r;return this.createExample({input:o},{output:i},n)}async readExample(e){Wr(e);let r=`/examples/${e}`,n=await this._get(r),{attachment_urls:o,...i}=n,a=i;return o&&(a.attachments=Object.entries(o).reduce((s,[u,l])=>(s[u.slice(11)]={presigned_url:l.presigned_url},s),{})),a}async*listExamples({datasetId:e,datasetName:r,exampleIds:n,asOf:o,splits:i,inlineS3Urls:a,metadata:s,limit:u,offset:l,filter:c,includeAttachments:d}={}){let f;if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)f=e;else if(r!==void 0)f=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide a datasetName or datasetId");let p=new URLSearchParams({dataset:f}),m=o?typeof o=="string"?o:o?.toISOString():void 0;m&&p.append("as_of",m);let h=a??!0;if(p.append("inline_s3_urls",h.toString()),n!==void 0)for(let g of n)p.append("id",g);if(i!==void 0)for(let g of i)p.append("splits",g);if(s!==void 0){let g=JSON.stringify(s);p.append("metadata",g)}u!==void 0&&p.append("limit",u.toString()),l!==void 0&&p.append("offset",l.toString()),c!==void 0&&p.append("filter",c),d===!0&&["attachment_urls","outputs","metadata"].forEach(g=>p.append("select",g));let v=0;for await(let g of this._getPaginated("/examples",p)){for(let _ of g){let{attachment_urls:S,...x}=_,O=x;S&&(O.attachments=Object.entries(S).reduce((T,[E,M])=>(T[E.slice(11)]={presigned_url:M.presigned_url},T),{})),yield O,v++}if(u!==void 0&&v>=u)break}}async deleteExample(e){Wr(e);let r=`/examples/${e}`,n=await this.caller.call(xt(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(n,`delete ${r}`),await n.json()}async updateExample(e,r){Wr(e);let n=await this.caller.call(xt(),`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(n,"update example"),await n.json()}async updateExamples(e){let r=await this.caller.call(xt(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(r,"update examples"),await r.json()}async listDatasetSplits({datasetId:e,datasetName:r,asOf:n}){let o;if(e===void 0&&r===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?o=(await this.readDataset({datasetName:r})).id:o=e,Wr(o);let i=new URLSearchParams,a=n?typeof n=="string"?n:n?.toISOString():void 0;return a&&i.append("as_of",a),await this._get(`/datasets/${o}/splits`,i)}async updateDatasetSplits({datasetId:e,datasetName:r,splitName:n,exampleIds:o,remove:i=!1}){let a;if(e===void 0&&r===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?a=(await this.readDataset({datasetName:r})).id:a=e,Wr(a);let s={split_name:n,examples:o.map(l=>(Wr(l),l)),remove:i},u=await this.caller.call(xt(),`${this.apiUrl}/datasets/${a}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(u,"update dataset splits",!0)}async evaluateRun(e,r,{sourceInfo:n,loadChildRuns:o,referenceExample:i}={loadChildRuns:!1}){wV("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let a;if(typeof e=="string")a=await this.readRun(e,{loadChildRuns:o});else if(typeof e=="object"&&"id"in e)a=e;else throw new Error(`Invalid run type: ${typeof e}`);a.reference_example_id!==null&&a.reference_example_id!==void 0&&(i=await this.readExample(a.reference_example_id));let s=await r.evaluateRun(a,i),[u,l]=await this._logEvaluationFeedback(s,a,n);return l[0]}async createFeedback(e,r,{score:n,value:o,correction:i,comment:a,sourceInfo:s,feedbackSourceType:u="api",sourceRunId:l,feedbackId:c,feedbackConfig:d,projectId:f,comparativeExperimentId:p}){if(!e&&!f)throw new Error("One of runId or projectId must be provided");if(e&&f)throw new Error("Only one of runId or projectId can be provided");let m={type:u??"api",metadata:s??{}};l!==void 0&&m?.metadata!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:l}),m?.metadata!==void 0&&m.metadata.__run?.run_id!==void 0&&Wr(m.metadata.__run.run_id);let h={id:c??zO(),run_id:e,key:r,score:n,value:o,correction:i,comment:a,feedback_source:m,comparative_experiment_id:p,feedbackConfig:d,session_id:f},v=`${this.apiUrl}/feedback`,g=await this.caller.call(xt(),v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(g,"create feedback",!0),h}async updateFeedback(e,{score:r,value:n,correction:o,comment:i}){let a={};r!=null&&(a.score=r),n!=null&&(a.value=n),o!=null&&(a.correction=o),i!=null&&(a.comment=i),Wr(e);let s=await this.caller.call(xt(),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(s,"update feedback",!0)}async readFeedback(e){Wr(e);let r=`/feedback/${e}`;return await this._get(r)}async deleteFeedback(e){Wr(e);let r=`/feedback/${e}`,n=await this.caller.call(xt(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(n,`delete ${r}`),await n.json()}async*listFeedback({runIds:e,feedbackKeys:r,feedbackSourceTypes:n}={}){let o=new URLSearchParams;if(e&&o.append("run",e.join(",")),r)for(let i of r)o.append("key",i);if(n)for(let i of n)o.append("source",i);for await(let i of this._getPaginated("/feedback",o))yield*i}async createPresignedFeedbackToken(e,r,{expiration:n,feedbackConfig:o}={}){let i={run_id:e,feedback_key:r,feedback_config:o};return n?typeof n=="string"?i.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(i.expires_in=n):i.expires_in={hours:3},await(await this.caller.call(xt(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:r,referenceDatasetId:n,createdAt:o,description:i,metadata:a,id:s}){if(r.length===0)throw new Error("At least one experiment is required");if(n||(n=(await this.readProject({projectId:r[0]})).reference_dataset_id),!n==null)throw new Error("A reference dataset is required");let u={id:s,name:e,experiment_ids:r,reference_dataset_id:n,description:i,created_at:(o??new Date)?.toISOString(),extra:{}};return a&&(u.extra.metadata=a),await(await this.caller.call(xt(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){Wr(e);let r=new URLSearchParams({run_id:e});for await(let n of this._getPaginated("/feedback/tokens",r))yield*n}_selectEvalResults(e){let r;return"results"in e?r=e.results:r=[e],r}async _logEvaluationFeedback(e,r,n){let o=this._selectEvalResults(e),i=[];for(let a of o){let s=n||{};a.evaluatorInfo&&(s={...a.evaluatorInfo,...s});let u=null;a.targetRunId?u=a.targetRunId:r&&(u=r.id),i.push(await this.createFeedback(u,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:s,sourceRunId:a.sourceRunId,feedbackConfig:a.feedbackConfig,feedbackSourceType:"model"}))}return[o,i]}async logEvaluationFeedback(e,r,n){let[o]=await this._logEvaluationFeedback(e,r,n);return o}async*listAnnotationQueues(e={}){let{queueIds:r,name:n,nameContains:o,limit:i}=e,a=new URLSearchParams;r&&r.forEach((u,l)=>{Wr(u,`queueIds[${l}]`),a.append("ids",u)}),n&&a.append("name",n),o&&a.append("name_contains",o),a.append("limit",(i!==void 0?Math.min(i,100):100).toString());let s=0;for await(let u of this._getPaginated("/annotation-queues",a))if(yield*u,s++,i!==void 0&&s>=i)break}async createAnnotationQueue(e){let{name:r,description:n,queueId:o}=e,i={name:r,description:n,id:o||zO()},a=await this.caller.call(xt(),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(i).filter(([u,l])=>l!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(a,"create annotation queue"),await a.json()}async readAnnotationQueue(e){let r=await this.listAnnotationQueues({queueIds:[e]}).next();if(r.done)throw new Error(`Annotation queue with ID ${e} not found`);return r.value}async updateAnnotationQueue(e,r){let{name:n,description:o}=r,i=await this.caller.call(xt(),`${this.apiUrl}/annotation-queues/${Wr(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:n,description:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(i,"update annotation queue")}async deleteAnnotationQueue(e){let r=await this.caller.call(xt(),`${this.apiUrl}/annotation-queues/${Wr(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(r,"delete annotation queue")}async addRunsToAnnotationQueue(e,r){let n=await this.caller.call(xt(),`${this.apiUrl}/annotation-queues/${Wr(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r.map((o,i)=>Wr(o,`runIds[${i}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(n,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,r){let n=`/annotation-queues/${Wr(e,"queueId")}/run`,o=await this.caller.call(xt(),`${this.apiUrl}${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(o,"get run from annotation queue"),await o.json()}async _currentTenantIsOwner(e){let r=await this._getSettings();return e=="-"||r.tenant_handle===e}async _ownerConflictError(e,r){let n=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${n.tenant_handle}

      Requested tenant: ${r}`)}async _getLatestCommitHash(e){let r=await this.caller.call(xt(),`${this.apiUrl}/commits/${e}/?limit=${1}&offset=${0}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await r.json();if(!r.ok){let o=typeof n.detail=="string"?n.detail:JSON.stringify(n.detail),i=new Error(`Error ${r.status}: ${r.statusText}
${o}`);throw i.statusCode=r.status,i}if(n.commits.length!==0)return n.commits[0].commit_hash}async _likeOrUnlikePrompt(e,r){let[n,o,i]=VS(e),a=await this.caller.call(xt(),`${this.apiUrl}/likes/${n}/${o}`,{method:"POST",body:JSON.stringify({like:r}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(a,`${r?"like":"unlike"} prompt`),await a.json()}async _getPromptUrl(e){let[r,n,o]=VS(e);if(await this._currentTenantIsOwner(r)){let i=await this._getSettings();return o!=="latest"?`${this.getHostUrl()}/prompts/${n}/${o.substring(0,8)}?organizationId=${i.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${i.id}`}else return o!=="latest"?`${this.getHostUrl()}/hub/${r}/${n}/${o.substring(0,8)}`:`${this.getHostUrl()}/hub/${r}/${n}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(let r of this._getPaginated(`/commits/${e}/`,new URLSearchParams,n=>n.commits))yield*r}async*listPrompts(e){let r=new URLSearchParams;r.append("sort_field",e?.sortField??"updated_at"),r.append("sort_direction","desc"),r.append("is_archived",(!!e?.isArchived).toString()),e?.isPublic!==void 0&&r.append("is_public",e.isPublic.toString()),e?.query&&r.append("query",e.query);for await(let n of this._getPaginated("/repos",r,o=>o.repos))yield*n}async getPrompt(e){let[r,n,o]=VS(e),i=await this.caller.call(xt(),`${this.apiUrl}/repos/${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(i.status===404)return null;await $r(i,"get prompt");let a=await i.json();return a.repo?a.repo:null}async createPrompt(e,r){let n=await this._getSettings();if(r?.isPublic&&!n.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[o,i,a]=VS(e);if(!await this._currentTenantIsOwner(o))throw await this._ownerConflictError("create a prompt",o);let s={repo_handle:i,...r?.description&&{description:r.description},...r?.readme&&{readme:r.readme},...r?.tags&&{tags:r.tags},is_public:!!r?.isPublic},u=await this.caller.call(xt(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(u,"create prompt");let{repo:l}=await u.json();return l}async createCommit(e,r,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");let[o,i,a]=VS(e),s=n?.parentCommitHash==="latest"||!n?.parentCommitHash?await this._getLatestCommitHash(`${o}/${i}`):n?.parentCommitHash,u={manifest:JSON.parse(JSON.stringify(r)),parent_commit:s},l=await this.caller.call(xt(),`${this.apiUrl}/commits/${o}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(l,"create commit");let c=await l.json();return this._getPromptUrl(`${o}/${i}${c.commit_hash?`:${c.commit_hash}`:""}`)}async updateExamplesMultipart(e,r=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");let n=new FormData;for(let a of r){let s=a.id,u={...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split}},l=of(u),c=new Blob([l],{type:"application/json"});if(n.append(s,c),a.inputs){let d=of(a.inputs),f=new Blob([d],{type:"application/json"});n.append(`${s}.inputs`,f)}if(a.outputs){let d=of(a.outputs),f=new Blob([d],{type:"application/json"});n.append(`${s}.outputs`,f)}if(a.attachments)for(let[d,f]of Object.entries(a.attachments)){let p,m;Array.isArray(f)?[p,m]=f:(p=f.mimeType,m=f.data);let h=new Blob([m],{type:`${p}; length=${m.byteLength}`});n.append(`${s}.attachment.${d}`,h)}if(a.attachments_operations){let d=of(a.attachments_operations),f=new Blob([d],{type:"application/json"});n.append(`${s}.attachments_operations`,f)}}return await(await this.caller.call(xt(),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"PATCH",headers:this.headers,body:n})).json()}async uploadExamplesMultipart(e,r=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");let n=new FormData;for(let a of r){let s=(a.id??zO()).toString(),u={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split}},l=of(u),c=new Blob([l],{type:"application/json"});n.append(s,c);let d=of(a.inputs),f=new Blob([d],{type:"application/json"});if(n.append(`${s}.inputs`,f),a.outputs){let p=of(a.outputs),m=new Blob([p],{type:"application/json"});n.append(`${s}.outputs`,m)}if(a.attachments)for(let[p,m]of Object.entries(a.attachments)){let h,v;Array.isArray(m)?[h,v]=m:(h=m.mimeType,v=m.data);let g=new Blob([v],{type:`${h}; length=${v.byteLength}`});n.append(`${s}.attachment.${p}`,g)}}return await(await this.caller.call(xt(),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:n})).json()}async updatePrompt(e,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");let[n,o]=VS(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);let i={};if(r?.description!==void 0&&(i.description=r.description),r?.readme!==void 0&&(i.readme=r.readme),r?.tags!==void 0&&(i.tags=r.tags),r?.isPublic!==void 0&&(i.is_public=r.isPublic),r?.isArchived!==void 0&&(i.is_archived=r.isArchived),Object.keys(i).length===0)throw new Error("No valid update options provided");let a=await this.caller.call(xt(),`${this.apiUrl}/repos/${n}/${o}`,{method:"PATCH",body:JSON.stringify(i),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $r(a,"update prompt"),a.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");let[r,n,o]=VS(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("delete a prompt",r);return await(await this.caller.call(xt(),`${this.apiUrl}/repos/${r}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,r){let[n,o,i]=VS(e),a=await this.caller.call(xt(),`${this.apiUrl}/commits/${n}/${o}/${i}${r?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await $r(a,"pull prompt commit");let s=await a.json();return{owner:n,repo:o,commit_hash:s.commit_hash,manifest:s.manifest,examples:s.examples}}async _pullPrompt(e,r){let n=await this.pullPromptCommit(e,{includeModel:r?.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(e,r){return await this.promptExists(e)?r&&Object.keys(r).some(o=>o!=="object")&&await this.updatePrompt(e,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}):await this.createPrompt(e,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}),r?.object?await this.createCommit(e,r?.object,{parentCommitHash:r?.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,r={}){let{sourceApiUrl:n=this.apiUrl,datasetName:o}=r,[i,a]=this.parseTokenOrUrl(e,n),s=new _y({apiUrl:i,apiKey:"placeholder"}),u=await s.readSharedDataset(a),l=o||u.name;try{if(await this.hasDataset({datasetId:l})){console.log(`Dataset ${l} already exists in your tenant. Skipping.`);return}}catch{}let c=await s.listSharedExamples(a),d=await this.createDataset(l,{description:u.description,dataType:u.data_type||"kv",inputsSchema:u.inputs_schema_definition??void 0,outputsSchema:u.outputs_schema_definition??void 0});try{await this.createExamples({inputs:c.map(f=>f.inputs),outputs:c.flatMap(f=>f.outputs?[f.outputs]:[]),datasetId:d.id})}catch(f){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),f}}parseTokenOrUrl(e,r,n=2,o="dataset"){try{return Wr(e),[r,e]}catch{}try{let a=new URL(e).pathname.split("/").filter(s=>s!=="");if(a.length>=n){let s=a[a.length-n];return[r,s]}else throw new Error(`Invalid public ${o} URL: ${e}`)}catch{throw new Error(`Invalid public ${o} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}});var DV,jV=C(()=>{lse();FV();_V();DV="0.2.14"});function NV(){if(cse===void 0){let t=c5t(),e=f5t();cse={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:DV,...e}}return cse}function tNe(){let t=d5t()||{},e={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[n,o]of Object.entries(t))(n.startsWith("LANGCHAIN_")||n.startsWith("LANGSMITH_"))&&typeof o=="string"&&!r.includes(n)&&!n.toLowerCase().includes("key")&&!n.toLowerCase().includes("secret")&&!n.toLowerCase().includes("token")&&(n==="LANGCHAIN_REVISION_ID"?e.revision_id=o:e[n]=o);return e}function d5t(){try{return typeof process<"u"&&process.env?Object.entries(process.env).reduce((t,[e,r])=>(t[e]=String(r),t),{}):void 0}catch{return}}function vy(t){try{return typeof process<"u"?process.env?.[t]:void 0}catch{return}}function WS(t){return vy(`LANGSMITH_${t}`)||vy(`LANGCHAIN_${t}`)}function f5t(){if(dse!==void 0)return dse;let t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(let r of t){let n=vy(r);n!==void 0&&(e[r]=n)}return dse=e,e}var JS,a5t,s5t,u5t,rNe,l5t,c5t,cse,dse,LV=C(()=>{jV();a5t=()=>typeof window<"u"&&typeof window.document<"u",s5t=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",u5t=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),rNe=()=>typeof Deno<"u",l5t=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!rNe(),c5t=()=>JS||(a5t()?JS="browser":l5t()?JS="node":s5t()?JS="webworker":u5t()?JS="jsdom":rNe()?JS="deno":JS="other",JS)});var nNe,oNe=C(()=>{LV();nNe=t=>t!==void 0?t:!!["TRACING_V2","TRACING"].find(r=>WS(r)==="true")});var BV,iNe=C(()=>{BV=Symbol.for("lc:context_variables")});function p5t(t){return t.replace(/[-:.]/g,"")}function h5t(t,e,r=1){let n=r.toFixed(0).slice(0,3).padStart(3,"0");return p5t(`${new Date(t).toISOString().slice(0,-1)}${n}Z`)+e}function kV(t){return t!==void 0&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function sNe(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function aNe(t){return Array.isArray(t)&&t.some(e=>sNe(e))}function m5t(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function g5t(t){return t!==void 0&&typeof t.callbacks=="object"&&(aNe(t.callbacks?.handlers)||aNe(t.callbacks))}var fj,Vu,FV=C(()=>{pV();LV();lse();oNe();Uae();iNe();fj=class{constructor(e,r){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=r}static fromHeader(e){let r=e.split(","),n={},o=[];for(let i of r){let[a,s]=i.split("="),u=decodeURIComponent(s);a==="langsmith-metadata"?n=JSON.parse(u):a==="langsmith-tags"&&(o=u.split(","))}return new fj(n,o)}toHeader(){let e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}},Vu=class{constructor(e){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),kV(e)){Object.assign(this,{...e});return}let r=Vu.getDefaultConfig(),{metadata:n,...o}=e,i=o.client??Vu.getSharedClient(),a={...n,...o?.extra?.metadata};if(o.extra={...o.extra,metadata:a},Object.assign(this,{...r,...o,client:i}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){let s=h5t(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+s:this.dotted_order=s}}static getDefaultConfig(){return{id:zO(),run_type:"chain",project_name:vy("LANGCHAIN_PROJECT")??vy("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:vy("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:vy("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Vu.sharedClient||(Vu.sharedClient=new _y),Vu.sharedClient}createChild(e){let r=this.child_execution_order+1,n=new Vu({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:r,child_execution_order:r});BV in this&&(n[BV]=this[BV]);let o=Symbol.for("lc:child_config"),i=e.extra?.[o]??this.extra[o];if(g5t(i)){let u={...i},l=m5t(u.callbacks)?u.callbacks.copy?.():void 0;l&&(Object.assign(l,{_parentRunId:n.id}),l.handlers?.find(sNe)?.updateFromRunTree?.(n),u.callbacks=l),n.extra[o]=u}let a=new Set,s=this;for(;s!=null&&!a.has(s.id);)a.add(s.id),s.child_execution_order=Math.max(s.child_execution_order,r),s=s.parent_run;return this.child_runs.push(n),n}async end(e,r,n=Date.now(),o){this.outputs=this.outputs??e,this.error=this.error??r,this.end_time=this.end_time??n,o&&Object.keys(o).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...o}}:{metadata:o})}_convertToCreate(e,r,n=!0){let o=e.extra??{};if(o.runtime||(o.runtime={}),r)for(let[u,l]of Object.entries(r))o.runtime[u]||(o.runtime[u]=l);let i,a;return n?(a=e.parent_run?.id,i=[]):(i=e.child_runs.map(u=>this._convertToCreate(u,r,n)),a=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:o,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:i,parent_run_id:a,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments}}async postRun(e=!0){try{let r=NV(),n=await this._convertToCreate(this,r,!0);if(await this.client.createRun(n),!e){wV("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let o of this.child_runs)await o.postRun(!1)}}catch(r){console.error(`Error in postRun for run ${this.id}:`,r)}}async patchRun(){try{let e={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:this.parent_run?.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments};await this.client.updateRun(this.id,e)}catch(e){console.error(`Error in patchRun for run ${this.id}`,e)}}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(e,r){let n=e?.callbacks,o,i,a,s=nNe();if(n){let l=n?.getParentRunId?.()??"",c=n?.handlers?.find(d=>d?.name=="langchain_tracer");o=c?.getRun?.(l),i=c?.projectName,a=c?.client,s=s||!!c}return o?new Vu({name:o.name,id:o.id,trace_id:o.trace_id,dotted_order:o.dotted_order,client:a,tracingEnabled:s,project_name:i,tags:[...new Set((o?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...o?.extra?.metadata,...e?.metadata}}}).createChild(r):new Vu({...r,client:a,tracingEnabled:s,project_name:i})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,r){let n="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,o=n["langsmith-trace"];if(!o||typeof o!="string")return;let i=o.trim(),a=i.split(".").map(l=>{let[c,d]=l.split("Z");return{strTime:c,time:Date.parse(c+"Z"),uuid:d}}),s=a[0].uuid,u={...r,name:r?.name??"parent",run_type:r?.run_type??"chain",start_time:r?.start_time??Date.now(),id:a.at(-1)?.uuid,trace_id:s,dotted_order:i};if(n.baggage&&typeof n.baggage=="string"){let l=fj.fromHeader(n.baggage);u.metadata=l.metadata,u.tags=l.tags}return new Vu(u)}toHeaders(e){let r={"langsmith-trace":this.dotted_order,baggage:new fj(this.extra?.metadata,this.tags).toHeader()};if(e)for(let[n,o]of Object.entries(r))e.set(n,o);return r}};Object.defineProperty(Vu,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null})});function $V(t){return typeof t=="function"&&"langsmith:traceable"in t}var pse,fse,y5t,hse,b5t,uNe,lyn,lNe=C(()=>{FV();pse=class{getStore(){}run(e,r){return r()}},fse=Symbol.for("ls:tracing_async_local_storage"),y5t=new pse,hse=class{getInstance(){return globalThis[fse]??y5t}initializeGlobalInstance(e){globalThis[fse]===void 0&&(globalThis[fse]=e)}},b5t=new hse,uNe=()=>{let t=b5t.getInstance().getStore();if(!kV(t))throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join(`
`));return t},lyn=Symbol.for("langsmith:traceable:root")});var mse=C(()=>{lNe()});function UV(t,e){return _5t.call(t,e)}function zV(t){if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(t);let e=[];for(let r in t)UV(t,r)&&e.push(r);return e}function $c(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function HV(t){let e=0,r=t.length,n;for(;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function wy(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function vq(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function qV(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(qV(t[r]))return!0}else if(typeof t=="object"){let r=zV(t),n=r.length;for(var e=0;e<n;e++)if(qV(t[r[e]]))return!0}}return!1}function cNe(t,e){let r=[t];for(let n in e){let o=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof o<"u"&&r.push(`${n}: ${o}`)}return r.join(`
`)}var _5t,sA,wq=C(()=>{_5t=Object.prototype.hasOwnProperty;sA=class extends Error{constructor(e,r,n,o,i){super(cNe(e,{name:r,index:n,operation:o,tree:i})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.setPrototypeOf(this,new.target.prototype),this.message=cNe(e,{name:r,index:n,operation:o,tree:i})}}});var gse={};Qd(gse,{JsonPatchError:()=>ja,_areEquals:()=>Sq,applyOperation:()=>uA,applyPatch:()=>HO,applyReducer:()=>S5t,deepClone:()=>v5t,getValueByPointer:()=>VV,validate:()=>dNe,validator:()=>WV});function VV(t,e){if(e=="")return t;var r={op:"_get",path:e};return uA(t,r),r.value}function uA(t,e,r=!1,n=!0,o=!0,i=0){if(r&&(typeof r=="function"?r(e,0,t,e.path):WV(e,0)),e.path===""){let a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=VV(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=Sq(t,e.value),a.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(r)throw new ja("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,e,t);return a}}else{n||(t=$c(t));let s=(e.path||"").split("/"),u=t,l=1,c=s.length,d,f,p;for(typeof r=="function"?p=r:p=WV;;){if(f=s[l],f&&f.indexOf("~")!=-1&&(f=vq(f)),o&&(f=="__proto__"||f=="prototype"&&l>0&&s[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&d===void 0&&(u[f]===void 0?d=s.slice(0,l).join("/"):l==c-1&&(d=e.path),d!==void 0&&p(e,0,t,d)),l++,Array.isArray(u)){if(f==="-")f=u.length;else{if(r&&!HV(f))throw new ja("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,e,t);HV(f)&&(f=~~f)}if(l>=c){if(r&&e.op==="add"&&f>u.length)throw new ja("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,e,t);let m=w5t[e.op].call(e,u,f,t);if(m.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return m}}else if(l>=c){let m=pj[e.op].call(e,u,f,t);if(m.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return m}if(u=u[f],r&&l<c&&(!u||typeof u!="object"))throw new ja("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,e,t)}}}function HO(t,e,r,n=!0,o=!0){if(r&&!Array.isArray(e))throw new ja("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=$c(t));let i=new Array(e.length);for(let a=0,s=e.length;a<s;a++)i[a]=uA(t,e[a],r,!0,o,a),t=i[a].newDocument;return i.newDocument=t,i}function S5t(t,e,r){let n=uA(t,e);if(n.test===!1)throw new ja("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return n.newDocument}function WV(t,e,r,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new ja("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(pj[t.op]){if(typeof t.path!="string")throw new ja("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new ja('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new ja("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new ja("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&qV(t.value))throw new ja("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var o=t.path.split("/").length,i=n.split("/").length;if(o!==i+1&&o!==i)throw new ja("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new ja("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},s=dNe([a],r);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new ja("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new ja("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}function dNe(t,e,r){try{if(!Array.isArray(t))throw new ja("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)HO($c(e),$c(t),r||!0);else{r=r||WV;for(var n=0;n<t.length;n++)r(t[n],n,e,void 0)}}catch(o){if(o instanceof ja)return o;throw o}}function Sq(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),n=Array.isArray(e),o,i,a;if(r&&n){if(i=t.length,i!=e.length)return!1;for(o=i;o--!==0;)if(!Sq(t[o],e[o]))return!1;return!0}if(r!=n)return!1;var s=Object.keys(t);if(i=s.length,i!==Object.keys(e).length)return!1;for(o=i;o--!==0;)if(!e.hasOwnProperty(s[o]))return!1;for(o=i;o--!==0;)if(a=s[o],!Sq(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}var ja,v5t,pj,w5t,JV=C(()=>{wq();ja=sA,v5t=$c,pj={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var n=t[e];return delete t[e],{newDocument:r,removed:n}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:function(t,e,r){let n=VV(r,this.path);n&&(n=$c(n));let o=uA(r,{op:"remove",path:this.from}).removed;return uA(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(t,e,r){let n=VV(r,this.from);return uA(r,{op:"add",path:this.path,value:$c(n)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:Sq(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},w5t={add:function(t,e,r){return HV(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var n=t.splice(e,1);return{newDocument:r,removed:n[0]}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:pj.move,copy:pj.copy,test:pj.test,_get:pj._get}});function fNe(t,e,r,n,o){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var i=zV(e),a=zV(t),s=!1,u=!1,l=a.length-1;l>=0;l--){var c=a[l],d=t[c];if(UV(e,c)&&!(e[c]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?fNe(d,f,r,n+"/"+wy(c),o):d!==f&&(s=!0,o&&r.push({op:"test",path:n+"/"+wy(c),value:$c(d)}),r.push({op:"replace",path:n+"/"+wy(c),value:$c(f)}))}else Array.isArray(t)===Array.isArray(e)?(o&&r.push({op:"test",path:n+"/"+wy(c),value:$c(d)}),r.push({op:"remove",path:n+"/"+wy(c)}),u=!0):(o&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}),s=!0)}if(!(!u&&i.length==a.length))for(var l=0;l<i.length;l++){var c=i[l];!UV(t,c)&&e[c]!==void 0&&r.push({op:"add",path:n+"/"+wy(c),value:$c(e[c])})}}}function GV(t,e,r=!1){var n=[];return fNe(t,e,n,"",r),n}var pNe=C(()=>{wq();JV();});var _yn,yse=C(()=>{JV();pNe();wq();JV();wq();_yn={...gse,JsonPatchError:sA,deepClone:$c,escapePathComponent:wy,unescapePathComponent:vq}});var mNe=b((Cyn,hNe)=>{"use strict";hNe.exports=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}});var SNe=b((Oyn,bse)=>{"use strict";var x5t=/[\p{Lu}]/u,C5t=/[\p{Ll}]/u,gNe=/^[\p{Lu}](?![\p{Lu}])/gu,_Ne=/([\p{Alpha}\p{N}_]|$)/u,vNe=/[_.\- ]+/,O5t=new RegExp("^"+vNe.source),yNe=new RegExp(vNe.source+_Ne.source,"gu"),bNe=new RegExp("\\d+"+_Ne.source,"gu"),E5t=(t,e,r)=>{let n=!1,o=!1,i=!1;for(let a=0;a<t.length;a++){let s=t[a];n&&x5t.test(s)?(t=t.slice(0,a)+"-"+t.slice(a),n=!1,i=o,o=!0,a++):o&&i&&C5t.test(s)?(t=t.slice(0,a-1)+"-"+t.slice(a-1),i=o,o=!1,n=!0):(n=e(s)===s&&r(s)!==s,i=o,o=r(s)===s&&e(s)!==s)}return t},P5t=(t,e)=>(gNe.lastIndex=0,t.replace(gNe,r=>e(r))),T5t=(t,e)=>(yNe.lastIndex=0,bNe.lastIndex=0,t.replace(yNe,(r,n)=>e(n)).replace(bNe,r=>e(r))),wNe=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(i=>i.trim()).filter(i=>i.length).join("-"):t=t.trim(),t.length===0)return"";let r=e.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(e.locale),n=e.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=E5t(t,r,n)),t=t.replace(O5t,""),e.preserveConsecutiveUppercase?t=P5t(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),T5t(t,n))};bse.exports=wNe;bse.exports.default=wNe});function CNe(t,e){return e?.[t]||(0,xNe.default)(t)}function ONe(t,e,r){let n={};for(let o in t)Object.hasOwn(t,o)&&(n[e(o,r)]=t[o]);return n}var xNe,M5t,ENe=C(()=>{xNe=k(mNe(),1),M5t=k(SNe(),1)});function PNe(t){return Array.isArray(t)?[...t]:{...t}}function A5t(t,e){let r=PNe(t);for(let[n,o]of Object.entries(e)){let[i,...a]=n.split(".").reverse(),s=r;for(let u of a.reverse()){if(s[u]===void 0)break;s[u]=PNe(s[u]),s=s[u]}s[i]!==void 0&&(s[i]={lc:1,type:"secret",id:[o]})}return r}function _se(t){let e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var qc,lA=C(()=>{ENe();qc=class{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,_se(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...r){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([n])=>this.lc_serializable_keys?.includes(n))):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof qc||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let e={},r={},n=Object.keys(this.lc_kwargs).reduce((o,i)=>(o[i]=i in this?this[i]:this.lc_kwargs[i],o),{});for(let o=Object.getPrototypeOf(this);o;o=Object.getPrototypeOf(o))Object.assign(e,Reflect.get(o,"lc_aliases",this)),Object.assign(r,Reflect.get(o,"lc_secrets",this)),Object.assign(n,Reflect.get(o,"lc_attributes",this));return Object.keys(r).forEach(o=>{let i=this,a=n,[s,...u]=o.split(".").reverse();for(let l of u.reverse()){if(!(l in i)||i[l]===void 0)return;(!(l in a)||a[l]===void 0)&&(typeof i[l]=="object"&&i[l]!=null?a[l]={}:Array.isArray(i[l])&&(a[l]=[])),i=i[l],a=a[l]}s in i&&i[s]!==void 0&&(a[s]=a[s]||i[s])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:ONe(Object.keys(r).length?A5t(n,r):n,CNe,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}});async function TNe(){return vse===void 0&&(vse={library:"langchain-js",runtime:N5t()}),vse}function Kt(t){try{return typeof process<"u"?process.env?.[t]:wse()?Deno?.env.get(t):void 0}catch{return}}var R5t,I5t,D5t,wse,j5t,N5t,vse,cA=C(()=>{R5t=()=>typeof window<"u"&&typeof window.document<"u",I5t=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",D5t=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),wse=()=>typeof Deno<"u",j5t=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!wse(),N5t=()=>{let t;return R5t()?t="browser":j5t()?t="node":I5t()?t="webworker":D5t()?t="jsdom":wse()?t="deno":t="other",t}});function xse(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}var Sse,GS,MNe,xq=C(()=>{cq();lA();cA();Sse=class{};GS=class extends Sse{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,_se(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Kt("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return qc.prototype.toJSON.call(this)}toJSONNotImplemented(){return qc.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class r extends GS{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:rf()}),Object.assign(this,e)}}return new r}},MNe=t=>{let e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"}});function Cse(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function L5t(t){return t.replace(/[-:.]/g,"")}function F5t(t,e,r){let n=r.toFixed(0).slice(0,3).padStart(3,"0");return L5t(`${new Date(t).toISOString().slice(0,-1)}${n}Z`)+e}function hj(t){return typeof t._addRunToRunMap=="function"}var oh,dA=C(()=>{xq();oh=class extends GS{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,r){e.child_runs.push(r)}_addRunToRunMap(e){let r=F5t(e.start_time,e.id,e.execution_order),n={...e};if(n.parent_run_id!==void 0){let o=this.runMap.get(n.parent_run_id);o&&(this._addChildRun(o,n),o.child_execution_order=Math.max(o.child_execution_order,n.child_execution_order),n.trace_id=o.trace_id,o.dotted_order!==void 0&&(n.dotted_order=[o.dotted_order,r].join(".")))}else n.trace_id=n.id,n.dotted_order=r;return this.runMap.set(n.id,n),n}async _endTrace(e){let r=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);r?r.child_execution_order=Math.max(r.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await this.onRunUpdate?.(e)}_getExecutionOrder(e){let r=e!==void 0&&this.runMap.get(e);return r?r.child_execution_order+1:1}_createRunForLLMStart(e,r,n,o,i,a,s,u){let l=this._getExecutionOrder(o),c=Date.now(),d=s?{...i,metadata:s}:i,f={id:n,name:u??e.id[e.id.length-1],parent_run_id:o,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:r},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(f)}async handleLLMStart(e,r,n,o,i,a,s,u){let l=this.runMap.get(n)??this._createRunForLLMStart(e,r,n,o,i,a,s,u);return await this.onRunCreate?.(l),await this.onLLMStart?.(l),l}_createRunForChatModelStart(e,r,n,o,i,a,s,u){let l=this._getExecutionOrder(o),c=Date.now(),d=s?{...i,metadata:s}:i,f={id:n,name:u??e.id[e.id.length-1],parent_run_id:o,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:r},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(f)}async handleChatModelStart(e,r,n,o,i,a,s,u){let l=this.runMap.get(n)??this._createRunForChatModelStart(e,r,n,o,i,a,s,u);return await this.onRunCreate?.(l),await this.onLLMStart?.(l),l}async handleLLMEnd(e,r,n,o,i){let a=this.runMap.get(r);if(!a||a?.run_type!=="llm")throw new Error("No LLM run to end.");return a.end_time=Date.now(),a.outputs=e,a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),a.extra={...a.extra,...i},await this.onLLMEnd?.(a),await this._endTrace(a),a}async handleLLMError(e,r,n,o,i){let a=this.runMap.get(r);if(!a||a?.run_type!=="llm")throw new Error("No LLM run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),a.extra={...a.extra,...i},await this.onLLMError?.(a),await this._endTrace(a),a}_createRunForChainStart(e,r,n,o,i,a,s,u){let l=this._getExecutionOrder(o),c=Date.now(),d={id:n,name:u??e.id[e.id.length-1],parent_run_id:o,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:r,execution_order:l,child_execution_order:l,run_type:s??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return this._addRunToRunMap(d)}async handleChainStart(e,r,n,o,i,a,s,u){let l=this.runMap.get(n)??this._createRunForChainStart(e,r,n,o,i,a,s,u);return await this.onRunCreate?.(l),await this.onChainStart?.(l),l}async handleChainEnd(e,r,n,o,i){let a=this.runMap.get(r);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=Cse(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),i?.inputs!==void 0&&(a.inputs=Cse(i.inputs,"input")),await this.onChainEnd?.(a),await this._endTrace(a),a}async handleChainError(e,r,n,o,i){let a=this.runMap.get(r);if(!a)throw new Error("No chain run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),i?.inputs!==void 0&&(a.inputs=Cse(i.inputs,"input")),await this.onChainError?.(a),await this._endTrace(a),a}_createRunForToolStart(e,r,n,o,i,a,s){let u=this._getExecutionOrder(o),l=Date.now(),c={id:n,name:s??e.id[e.id.length-1],parent_run_id:o,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:r},execution_order:u,child_execution_order:u,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleToolStart(e,r,n,o,i,a,s){let u=this.runMap.get(n)??this._createRunForToolStart(e,r,n,o,i,a,s);return await this.onRunCreate?.(u),await this.onToolStart?.(u),u}async handleToolEnd(e,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await this.onToolEnd?.(n),await this._endTrace(n),n}async handleToolError(e,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await this.onToolError?.(n),await this._endTrace(n),n}async handleAgentAction(e,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="chain")return;let o=n;o.actions=o.actions||[],o.actions.push(e),o.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(n)}async handleAgentEnd(e,r){let n=this.runMap.get(r);!n||n?.run_type!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(n))}_createRunForRetrieverStart(e,r,n,o,i,a,s){let u=this._getExecutionOrder(o),l=Date.now(),c={id:n,name:s??e.id[e.id.length-1],parent_run_id:o,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:r},execution_order:u,child_execution_order:u,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,r,n,o,i,a,s){let u=this.runMap.get(n)??this._createRunForRetrieverStart(e,r,n,o,i,a,s);return await this.onRunCreate?.(u),await this.onRetrieverStart?.(u),u}async handleRetrieverEnd(e,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await this.onRetrieverEnd?.(n),await this._endTrace(n),n}async handleRetrieverError(e,r){let n=this.runMap.get(r);if(!n||n?.run_type!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await this.onRetrieverError?.(n),await this._endTrace(n),n}async handleText(e,r){let n=this.runMap.get(r);!n||n?.run_type!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(n))}async handleLLMNewToken(e,r,n,o,i,a){let s=this.runMap.get(n);if(!s||s?.run_type!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return s.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:r,chunk:a?.chunk}}),await this.onLLMNewToken?.(s,e,{chunk:a?.chunk}),s}}});var DNe=b((Nyn,INe)=>{"use strict";var ANe=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,RNe=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`;function B5t(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[o,i]of Object.entries(n))e[o]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},n[o]=e[o],t.set(i[0],i[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi256=ANe(),e.color.ansi16m=RNe(),e.bgColor.ansi256=ANe(10),e.bgColor.ansi16m=RNe(10),Object.defineProperties(e,{rgbToAnsi256:{value:(r,n,o)=>r===n&&n===o?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5),enumerable:!1},hexToRgb:{value:r=>{let n=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(r.toString(16));if(!n)return[0,0,0];let{colorString:o}=n.groups;o.length===3&&(o=o.split("").map(a=>a+a).join(""));let i=Number.parseInt(o,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:r=>e.rgbToAnsi256(...e.hexToRgb(r)),enumerable:!1}}),e}Object.defineProperty(INe,"exports",{enumerable:!0,get:B5t})});function Pd(t,e){return`${t.open}${e}${t.close}`}function ih(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function jNe(t){return typeof t=="string"?t.trim():t==null?t:ih(t,t.toString())}function VO(t){if(!t.end_time)return"";let e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}var Ose,af,Cq,NNe=C(()=>{Ose=k(DNe(),1);dA();({color:af}=Ose.default),Cq=class extends oh{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){let r=[],n=e;for(;n.parent_run_id;){let o=this.runMap.get(n.parent_run_id);if(o)r.push(o),n=o;else break}return r}getBreadcrumbs(e){let n=[...this.getParents(e).reverse(),e].map((o,i,a)=>{let s=`${o.execution_order}:${o.run_type}:${o.name}`;return i===a.length-1?Pd(Ose.default.bold,s):s}).join(" > ");return Pd(af.grey,n)}onChainStart(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.green,"[chain/start]")} [${r}] Entering Chain run with input: ${ih(e.inputs,"[inputs]")}`)}onChainEnd(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.cyan,"[chain/end]")} [${r}] [${VO(e)}] Exiting Chain run with output: ${ih(e.outputs,"[outputs]")}`)}onChainError(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.red,"[chain/error]")} [${r}] [${VO(e)}] Chain run errored with error: ${ih(e.error,"[error]")}`)}onLLMStart(e){let r=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(o=>o.trim())}:e.inputs;console.log(`${Pd(af.green,"[llm/start]")} [${r}] Entering LLM run with input: ${ih(n,"[inputs]")}`)}onLLMEnd(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.cyan,"[llm/end]")} [${r}] [${VO(e)}] Exiting LLM run with output: ${ih(e.outputs,"[response]")}`)}onLLMError(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.red,"[llm/error]")} [${r}] [${VO(e)}] LLM run errored with error: ${ih(e.error,"[error]")}`)}onToolStart(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.green,"[tool/start]")} [${r}] Entering Tool run with input: "${jNe(e.inputs.input)}"`)}onToolEnd(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.cyan,"[tool/end]")} [${r}] [${VO(e)}] Exiting Tool run with output: "${jNe(e.outputs?.output)}"`)}onToolError(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.red,"[tool/error]")} [${r}] [${VO(e)}] Tool run errored with error: ${ih(e.error,"[error]")}`)}onRetrieverStart(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.green,"[retriever/start]")} [${r}] Entering Retriever run with input: ${ih(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.cyan,"[retriever/end]")} [${r}] [${VO(e)}] Exiting Retriever run with output: ${ih(e.outputs,"[outputs]")}`)}onRetrieverError(e){let r=this.getBreadcrumbs(e);console.log(`${Pd(af.red,"[retriever/error]")} [${r}] [${VO(e)}] Retriever run errored with error: ${ih(e.error,"[error]")}`)}onAgentAction(e){let r=e,n=this.getBreadcrumbs(e);console.log(`${Pd(af.blue,"[agent/action]")} [${n}] Agent selected action: ${ih(r.actions[r.actions.length-1],"[action]")}`)}}});function WO(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}var Oq=C(()=>{});function gj(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var mj,KV=C(()=>{mj=class extends Error{constructor(e,r){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=r}}});function Ese(t,e=yj){t=t.trim();let r=/```(json)?(.*)```/s.exec(t);return e(r?r[2]:t)}function yj(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="",r=[],n=!1,o=!1;for(let i of t){if(n)i==='"'&&!o?n=!1:i===`
`&&!o?i="\\n":i==="\\"?o=!o:o=!1;else if(i==='"')n=!0,o=!1;else if(i==="{")r.push("}");else if(i==="[")r.push("]");else if(i==="}"||i==="]")if(r&&r[r.length-1]===i)r.pop();else return null;e+=i}n&&(e+='"');for(let i=r.length-1;i>=0;i-=1)e+=r[i];try{return JSON.parse(e)}catch{return null}}var Pse=C(()=>{});function ah(t,e){return typeof t=="string"?typeof e=="string"?t+e:[{type:"text",text:t},...e]:Array.isArray(e)?Eq(t,e)??[...t,...e]:[...t,{type:"text",text:e}]}function LNe(t,e){return t==="error"||e==="error"?"error":"success"}function k5t(t,e){function r(n,o){if(typeof n!="object"||n===null||n===void 0)return n;if(o>=e)return Array.isArray(n)?"[Array]":"[Object]";if(Array.isArray(n))return n.map(a=>r(a,o+1));let i={};for(let a of Object.keys(n))i[a]=r(n[a],o+1);return i}return JSON.stringify(r(t,0),null,2)}function Ya(t,e){let r={...t};for(let[n,o]of Object.entries(e))if(r[n]==null)r[n]=o;else{if(o==null)continue;if(typeof r[n]!=typeof o||Array.isArray(r[n])!==Array.isArray(o))throw new Error(`field[${n}] already exists in the message chunk, but with a different type.`);if(typeof r[n]=="string"){if(n==="type")continue;r[n]+=o}else if(typeof r[n]=="object"&&!Array.isArray(r[n]))r[n]=Ya(r[n],o);else if(Array.isArray(r[n]))r[n]=Eq(r[n],o);else{if(r[n]===o)continue;console.warn(`field[${n}] already exists in this message chunk and value has unsupported type.`)}}return r}function Eq(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{let r=[...t];for(let n of e)if(typeof n=="object"&&"index"in n&&typeof n.index=="number"){let o=r.findIndex(i=>i.index===n.index);o!==-1?r[o]=Ya(r[o],n):r.push(n)}else{if(typeof n=="object"&&"text"in n&&n.text==="")continue;r.push(n)}return r}}}function FNe(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return Eq(t,e);if(typeof t=="object"&&typeof e=="object")return Ya(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}function BNe(t){return typeof t.role=="string"}function sh(t){return typeof t?._getType=="function"}function Tse(t){return sh(t)&&typeof t.concat=="function"}var Wu,sf,uh=C(()=>{lA();Wu=class extends qc{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}getType(){return this._getType()}constructor(e,r){typeof e=="string"&&(e={content:e,additional_kwargs:r,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;let r=k5t(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${r}`}};sf=class extends Wu{}});function kNe(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}function $Ne(t){let e=[],r=[];for(let n of t)if(n.function){let o=n.function.name;try{let i=JSON.parse(n.function.arguments),a={name:o||"",args:i||{},id:n.id};e.push(a)}catch{r.push({name:o,args:n.function.arguments,id:n.id,error:"Malformed args."})}}else continue;return[e,r]}var KS,Sy,bj=C(()=>{uh();KS=class extends Wu{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,r,n){typeof e=="string"&&(e={content:e,name:n,tool_call_id:r}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},Sy=class extends sf{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new Sy({content:ah(this.content,e.content),additional_kwargs:Ya(this.additional_kwargs,e.additional_kwargs),response_metadata:Ya(this.response_metadata,e.response_metadata),artifact:FNe(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:LNe(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}});function Ju(t){return t._getType()==="ai"}function Mse(t){return t._getType()==="ai"}var Po,Ar,fA=C(()=>{Pse();uh();bj();Po=class extends Wu{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,r){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:r??{}};else{n=e;let o=n.additional_kwargs?.tool_calls,i=n.tool_calls;o!=null&&o.length>0&&(i===void 0||i.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(o!=null&&i===void 0){let[a,s]=$Ne(o);n.tool_calls=a??[],n.invalid_tool_calls=s??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}};Ar=class extends sf{constructor(e){let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)r={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{let n=[],o=[];for(let i of e.tool_call_chunks){let a={};try{if(a=yj(i.args||"{}"),a===null||typeof a!="object"||Array.isArray(a))throw new Error("Malformed tool call chunk args.");n.push({name:i.name??"",args:a,id:i.id,type:"tool_call"})}catch{o.push({name:i.name,args:i.args,id:i.id,error:"Malformed args.",type:"invalid_tool_call"})}}r={...e,tool_calls:n,invalid_tool_calls:o,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=r.tool_call_chunks??this.tool_call_chunks,this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=r.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){let r={content:ah(this.content,e.content),additional_kwargs:Ya(this.additional_kwargs,e.additional_kwargs),response_metadata:Ya(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){let n=Eq(this.tool_call_chunks,e.tool_call_chunks);n!==void 0&&n.length>0&&(r.tool_call_chunks=n)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){let n={...(this.usage_metadata?.input_token_details?.audio!==void 0||e.usage_metadata?.input_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.input_token_details?.audio??0)+(e.usage_metadata?.input_token_details?.audio??0)},...(this.usage_metadata?.input_token_details?.cache_read!==void 0||e.usage_metadata?.input_token_details?.cache_read!==void 0)&&{cache_read:(this.usage_metadata?.input_token_details?.cache_read??0)+(e.usage_metadata?.input_token_details?.cache_read??0)},...(this.usage_metadata?.input_token_details?.cache_creation!==void 0||e.usage_metadata?.input_token_details?.cache_creation!==void 0)&&{cache_creation:(this.usage_metadata?.input_token_details?.cache_creation??0)+(e.usage_metadata?.input_token_details?.cache_creation??0)}},o={...(this.usage_metadata?.output_token_details?.audio!==void 0||e.usage_metadata?.output_token_details?.audio!==void 0)&&{audio:(this.usage_metadata?.output_token_details?.audio??0)+(e.usage_metadata?.output_token_details?.audio??0)},...(this.usage_metadata?.output_token_details?.reasoning!==void 0||e.usage_metadata?.output_token_details?.reasoning!==void 0)&&{reasoning:(this.usage_metadata?.output_token_details?.reasoning??0)+(e.usage_metadata?.output_token_details?.reasoning??0)}},i=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},a=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},s={input_tokens:i.input_tokens+a.input_tokens,output_tokens:i.output_tokens+a.output_tokens,total_tokens:i.total_tokens+a.total_tokens,...Object.keys(n).length>0&&{input_token_details:n},...Object.keys(o).length>0&&{output_token_details:o}};r.usage_metadata=s}return new Ar(r)}}});var Gl,op,YV=C(()=>{uh();Gl=class extends Wu{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Gl}constructor(e,r){typeof e=="string"&&(e={content:e,role:r}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},op=class extends sf{static lc_name(){return"ChatMessageChunk"}constructor(e,r){typeof e=="string"&&(e={content:e,role:r}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new op({content:ah(this.content,e.content),additional_kwargs:Ya(this.additional_kwargs,e.additional_kwargs),response_metadata:Ya(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}});var qm,XV=C(()=>{uh();qm=class extends sf{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new qm({content:ah(this.content,e.content),additional_kwargs:Ya(this.additional_kwargs,e.additional_kwargs),response_metadata:Ya(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}});var Xa,ip,Pq=C(()=>{uh();Xa=class extends Wu{static lc_name(){return"HumanMessage"}_getType(){return"human"}},ip=class extends sf{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new ip({content:ah(this.content,e.content),additional_kwargs:Ya(this.additional_kwargs,e.additional_kwargs),response_metadata:Ya(this.response_metadata,e.response_metadata),id:this.id??e.id})}}});var YS,lh,ZV=C(()=>{uh();YS=class extends Wu{static lc_name(){return"SystemMessage"}_getType(){return"system"}},lh=class extends sf{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new lh({content:ah(this.content,e.content),additional_kwargs:Ya(this.additional_kwargs,e.additional_kwargs),response_metadata:Ya(this.response_metadata,e.response_metadata),id:this.id??e.id})}}});function q5t(t){return gj(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function U5t(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function Ase(t){let e,r;if(U5t(t)){let n=t.id.at(-1);n==="HumanMessage"||n==="HumanMessageChunk"?e="user":n==="AIMessage"||n==="AIMessageChunk"?e="assistant":n==="SystemMessage"||n==="SystemMessageChunk"?e="system":n==="FunctionMessage"||n==="FunctionMessageChunk"?e="function":n==="ToolMessage"||n==="ToolMessageChunk"?e="tool":e="unknown",r=t.kwargs}else{let{type:n,...o}=t;e=n,r=o}if(e==="human"||e==="user")return new Xa(r);if(e==="ai"||e==="assistant"){let{tool_calls:n,...o}=r;if(!Array.isArray(n))return new Po(r);let i=n.map(q5t);return new Po({...o,tool_calls:i})}else{if(e==="system")return new YS(r);if(e==="developer")return new YS({...r,additional_kwargs:{...r.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in r)return new KS({...r,content:r.content,tool_call_id:r.tool_call_id,name:r.name});throw WO(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Um(t){if(typeof t=="string")return new Xa(t);if(sh(t))return t;if(Array.isArray(t)){let[e,r]=t;return Ase({type:e,content:r})}else if(BNe(t)){let{role:e,...r}=t;return Ase({...r,type:e})}else return Ase(t)}function uf(t,e="Human",r="AI"){let n=[];for(let o of t){let i;if(o._getType()==="human")i=e;else if(o._getType()==="ai")i=r;else if(o._getType()==="system")i="System";else if(o._getType()==="function")i="Function";else if(o._getType()==="tool")i="Tool";else if(o._getType()==="generic")i=o.role;else throw new Error(`Got unsupported message type: ${o._getType()}`);let a=o.name?`${o.name}, `:"",s=typeof o.content=="string"?o.content:JSON.stringify(o.content,null,2);n.push(`${i}: ${a}${s}`)}return n.join(`
`)}function Rse(t){let e=t._getType();if(e==="human")return new ip({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:r.tool_calls?.map(n=>({...n,type:"tool_call_chunk",index:void 0,args:JSON.stringify(n.args)}))}),new Ar({...r})}else{if(e==="system")return new lh({...t});if(e==="function")return new qm({...t});if(Gl.isInstance(t))return new op({...t});throw new Error("Unknown message type.")}}var JO=C(()=>{Oq();KV();fA();uh();YV();XV();Pq();ZV();bj()});var Ise=C(()=>{FV()});var Dse=C(()=>{jV()});var jse,qNe,UNe=C(()=>{Dse();cA();qNe=()=>{if(jse===void 0){let t=Kt("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};jse=new _y(t)}return jse}});var GO,zNe=C(()=>{Ise();mse();cA();dA();UNe();GO=class extends oh{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{exampleId:r,projectName:n,client:o}=e;this.projectName=n??Kt("LANGCHAIN_PROJECT")??Kt("LANGCHAIN_SESSION"),this.exampleId=r,this.client=o??qNe();let i=GO.getTraceableRunTree();i&&this.updateFromRunTree(i)}async _convertToCreate(e,r=void 0){return{...e,extra:{...e.extra,runtime:await TNe()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:r}}async persistRun(e){}async onRunCreate(e){let r=await this._convertToCreate(e,this.exampleId);await this.client.createRun(r)}async onRunUpdate(e){let r={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id,extra:e.extra};await this.client.updateRun(e.id,r)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let r=e,n=new Set;for(;r.parent_run&&!(n.has(r.id)||(n.add(r.id),!r.parent_run));)r=r.parent_run;n.clear();let o=[r];for(;o.length>0;){let i=o.shift();!i||n.has(i.id)||(n.add(i.id),this.runMap.set(i.id,i),i.child_runs&&o.push(...i.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){let r={},n=[];for(let[o,i]of this.runMap){let a=new Vu({...i,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});r[o]=a,n.push([o,i.dotted_order])}n.sort((o,i)=>!o[1]||!i[1]?0:o[1].localeCompare(i[1]));for(let[o]of n){let i=this.runMap.get(o),a=r[o];if(!(!i||!a)&&i.parent_run_id){let s=r[i.parent_run_id];s&&(s.child_runs.push(a),a.parent_run=s)}}return r[e]}static getTraceableRunTree(){try{return uNe()}catch{return}}}});var HNe,pA,VNe,KO,Tq=C(()=>{HNe=Symbol.for("ls:tracing_async_local_storage"),pA=Symbol.for("lc:context_variables"),VNe=t=>{globalThis[HNe]=t},KO=()=>globalThis[HNe]});function z5t(){let t="default"in QV.default?QV.default.default:QV.default;return new t({autoStart:!0,concurrency:1})}function H5t(){return typeof Mq>"u"&&(Mq=z5t()),Mq}async function Za(t,e){if(e===!0){let r=KO();r!==void 0?await r.run(void 0,async()=>t()):await t()}else Mq=H5t(),Mq.add(async()=>{let r=KO();r!==void 0?await r.run(void 0,async()=>t()):await t()})}var QV,Mq,WNe=C(()=>{QV=k(bV(),1);Tq()});var JNe=C(()=>{WNe()});var GNe,KNe=C(()=>{cA();GNe=t=>t!==void 0?t:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(r=>Kt(r)==="true")});function Nse(t){let e=KO();return e===void 0?void 0:e.getStore()?.[pA]?.[t]}var V5t,YNe,XNe=C(()=>{Ise();Tq();V5t=Symbol("lc:configure_hooks"),YNe=()=>Nse(V5t)||[]});function hA(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}function Aq(t){return"name"in t?t:GS.fromMethods(t)}var Lse,_j,Fse,e5,Bse,kse,bi,YO=C(()=>{cq();xq();NNe();JO();cA();zNe();JNe();KNe();dA();XNe();Lse=class{setHandler(e){return this.setHandlers([e])}},_j=class{constructor(e,r,n,o,i,a,s,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(r=>Za(async()=>{try{await r.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleText: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}async handleCustomEvent(e,r,n,o,i){await Promise.all(this.handlers.map(a=>Za(async()=>{try{await a.handleCustomEvent?.(e,r,this.runId,this.tags,this.metadata)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}},Fse=class extends _j{getChild(e){let r=new bi(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),e&&r.addTags([e],!1),r}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(r=>Za(async()=>{if(!r.ignoreRetriever)try{await r.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleRetriever`),r.raiseError)throw n}},r.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(r=>Za(async()=>{if(!r.ignoreRetriever)try{await r.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleRetrieverError: ${n}`),r.raiseError)throw e}},r.awaitHandlers)))}},e5=class extends _j{async handleLLMNewToken(e,r,n,o,i,a){await Promise.all(this.handlers.map(s=>Za(async()=>{if(!s.ignoreLLM)try{await s.handleLLMNewToken?.(e,r??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a)}catch(u){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${u}`),s.raiseError)throw u}},s.awaitHandlers)))}async handleLLMError(e,r,n,o,i){await Promise.all(this.handlers.map(a=>Za(async()=>{if(!a.ignoreLLM)try{await a.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}async handleLLMEnd(e,r,n,o,i){await Promise.all(this.handlers.map(a=>Za(async()=>{if(!a.ignoreLLM)try{await a.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}},Bse=class extends _j{getChild(e){let r=new bi(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),e&&r.addTags([e],!1),r}async handleChainError(e,r,n,o,i){await Promise.all(this.handlers.map(a=>Za(async()=>{if(!a.ignoreChain)try{await a.handleChainError?.(e,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}async handleChainEnd(e,r,n,o,i){await Promise.all(this.handlers.map(a=>Za(async()=>{if(!a.ignoreChain)try{await a.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,i)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(r=>Za(async()=>{if(!r.ignoreAgent)try{await r.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleAgentAction: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(r=>Za(async()=>{if(!r.ignoreAgent)try{await r.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleAgentEnd: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}},kse=class extends _j{getChild(e){let r=new bi(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),e&&r.addTags([e],!1),r}async handleToolError(e){await Promise.all(this.handlers.map(r=>Za(async()=>{if(!r.ignoreAgent)try{await r.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleToolError: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(r=>Za(async()=>{if(!r.ignoreAgent)try{await r.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(n){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleToolEnd: ${n}`),r.raiseError)throw n}},r.awaitHandlers)))}},bi=class extends Lse{constructor(e,r){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=r?.handlers??this.handlers,this.inheritableHandlers=r?.inheritableHandlers??this.inheritableHandlers,this.tags=r?.tags??this.tags,this.inheritableTags=r?.inheritableTags??this.inheritableTags,this.metadata=r?.metadata??this.metadata,this.inheritableMetadata=r?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,r,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0){return Promise.all(r.map(async(l,c)=>{let d=c===0&&n?n:rf();return await Promise.all(this.handlers.map(f=>{if(!f.ignoreLLM)return hj(f)&&f._createRunForLLMStart(e,[l],d,this._parentRunId,i,this.tags,this.metadata,u),Za(async()=>{try{await f.handleLLMStart?.(e,[l],d,this._parentRunId,i,this.tags,this.metadata,u)}catch(p){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`),f.raiseError)throw p}},f.awaitHandlers)})),new e5(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,r,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0){return Promise.all(r.map(async(l,c)=>{let d=c===0&&n?n:rf();return await Promise.all(this.handlers.map(f=>{if(!f.ignoreLLM)return hj(f)&&f._createRunForChatModelStart(e,[l],d,this._parentRunId,i,this.tags,this.metadata,u),Za(async()=>{try{if(f.handleChatModelStart)await f.handleChatModelStart?.(e,[l],d,this._parentRunId,i,this.tags,this.metadata,u);else if(f.handleLLMStart){let p=uf(l);await f.handleLLMStart?.(e,[p],d,this._parentRunId,i,this.tags,this.metadata,u)}}catch(p){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleLLMStart: ${p}`),f.raiseError)throw p}},f.awaitHandlers)})),new e5(d,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,r,n=rf(),o=void 0,i=void 0,a=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreChain)return hj(u)&&u._createRunForChainStart(e,r,n,this._parentRunId,this.tags,this.metadata,o,s),Za(async()=>{try{await u.handleChainStart?.(e,r,n,this._parentRunId,this.tags,this.metadata,o,s)}catch(l){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainStart: ${l}`),u.raiseError)throw l}},u.awaitHandlers)})),new Bse(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,r,n=rf(),o=void 0,i=void 0,a=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreAgent)return hj(u)&&u._createRunForToolStart(e,r,n,this._parentRunId,this.tags,this.metadata,s),Za(async()=>{try{await u.handleToolStart?.(e,r,n,this._parentRunId,this.tags,this.metadata,s)}catch(l){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleToolStart: ${l}`),u.raiseError)throw l}},u.awaitHandlers)})),new kse(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,r,n=rf(),o=void 0,i=void 0,a=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreRetriever)return hj(u)&&u._createRunForRetrieverStart(e,r,n,this._parentRunId,this.tags,this.metadata,s),Za(async()=>{try{await u.handleRetrieverStart?.(e,r,n,this._parentRunId,this.tags,this.metadata,s)}catch(l){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${l}`),u.raiseError)throw l}},u.awaitHandlers)})),new Fse(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,r,n,o,i){await Promise.all(this.handlers.map(a=>Za(async()=>{if(!a.ignoreCustomEvent)try{await a.handleCustomEvent?.(e,r,n,this.tags,this.metadata)}catch(s){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${s}`),a.raiseError)throw s}},a.awaitHandlers)))}addHandler(e,r=!0){this.handlers.push(e),r&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(r=>r!==e),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==e)}setHandlers(e,r=!0){this.handlers=[],this.inheritableHandlers=[];for(let n of e)this.addHandler(n,r)}addTags(e,r=!0){this.removeTags(e),this.tags.push(...e),r&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(r=>!e.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!e.includes(r))}addMetadata(e,r=!0){this.metadata={...this.metadata,...e},r&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(let r of Object.keys(e))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(e=[],r=!0){let n=new bi(this._parentRunId);for(let o of this.handlers){let i=this.inheritableHandlers.includes(o);n.addHandler(o,i)}for(let o of this.tags){let i=this.inheritableTags.includes(o);n.addTags([o],i)}for(let o of Object.keys(this.metadata)){let i=Object.keys(this.inheritableMetadata).includes(o);n.addMetadata({[o]:this.metadata[o]},i)}for(let o of e)n.handlers.filter(i=>i.name==="console_callback_handler").some(i=>i.name===o.name)||n.addHandler(o,r);return n}static fromHandlers(e){class r extends GS{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:rf()}),Object.assign(this,e)}}let n=new this;return n.addHandler(new r),n}static configure(e,r,n,o,i,a,s){return this._configureSync(e,r,n,o,i,a,s)}static _configureSync(e,r,n,o,i,a,s){let u;(e||r)&&(Array.isArray(e)||!e?(u=new bi,u.setHandlers(e?.map(Aq)??[],!0)):u=e,u=u.copy(Array.isArray(r)?r.map(Aq):r?.handlers,!1));let l=Kt("LANGCHAIN_VERBOSE")==="true"||s?.verbose,c=GO.getTraceableRunTree()?.tracingEnabled||GNe(),d=c||(Kt("LANGCHAIN_TRACING")??!1);if(l||d){if(u||(u=new bi),l&&!u.handlers.some(f=>f.name===Cq.prototype.name)){let f=new Cq;u.addHandler(f,!0)}if(d&&!u.handlers.some(f=>f.name==="langchain_tracer")&&c){let f=new GO;u.addHandler(f,!0),u._parentRunId=GO.getTraceableRunTree()?.id??u._parentRunId}}for(let{contextVar:f,inheritable:p=!0,handlerClass:m,envVar:h}of YNe()){let v=h&&Kt(h)==="true"&&m,g,_=f!==void 0?Nse(f):void 0;_&&MNe(_)?g=_:v&&(g=new m({})),g!==void 0&&(u||(u=new bi),u.handlers.some(S=>S.name===g.name)||u.addHandler(g,p))}return(n||o)&&u&&(u.addTags(n??[]),u.addTags(o??[],!1)),(i||a)&&u&&(u.addMetadata(i??{}),u.addMetadata(a??{},!1)),u}}});var t5,W5t,ZNe,$se,Uc,QNe=C(()=>{Dse();Tq();YO();t5=class{getStore(){}run(e,r){return r()}enterWith(e){}},W5t=new t5,ZNe=Symbol.for("lc:child_config"),$se=class{getInstance(){return KO()??W5t}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[ZNe]}runWithConfig(e,r,n){let o=bi._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),i=this.getInstance(),a=i.getStore(),s=o?.getParentRunId(),u=o?.handlers?.find(c=>c?.name==="langchain_tracer"),l;return u&&s?l=u.convertToRunTree(s):n||(l=new Vu({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[ZNe]:e}),a!==void 0&&a[pA]!==void 0&&(l[pA]=a[pA]),i.run(l,r)}initializeGlobalInstance(e){KO()===void 0&&VNe(e)}},Uc=new $se});var vj=C(()=>{QNe();Tq()});async function lf(t){return bi._configureSync(t?.callbacks,void 0,t?.tags,void 0,t?.metadata)}function n5(...t){let e={};for(let r of t.filter(n=>!!n))for(let n of Object.keys(r))if(n==="metadata")e[n]={...e[n],...r[n]};else if(n==="tags"){let o=e[n]??[];e[n]=[...new Set(o.concat(r[n]??[]))]}else if(n==="configurable")e[n]={...e[n],...r[n]};else if(n==="timeout")e.timeout===void 0?e.timeout=r.timeout:r.timeout!==void 0&&(e.timeout=Math.min(e.timeout,r.timeout));else if(n==="signal")e.signal===void 0?e.signal=r.signal:r.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,r.signal]):e.signal=r.signal);else if(n==="callbacks"){let o=e.callbacks,i=r.callbacks;if(Array.isArray(i))if(!o)e.callbacks=i;else if(Array.isArray(o))e.callbacks=o.concat(i);else{let a=o.copy();for(let s of i)a.addHandler(Aq(s),!0);e.callbacks=a}else if(i)if(!o)e.callbacks=i;else if(Array.isArray(o)){let a=i.copy();for(let s of o)a.addHandler(Aq(s),!0);e.callbacks=a}else e.callbacks=new bi(i._parentRunId,{handlers:o.handlers.concat(i.handlers),inheritableHandlers:o.inheritableHandlers.concat(i.inheritableHandlers),tags:Array.from(new Set(o.tags.concat(i.tags))),inheritableTags:Array.from(new Set(o.inheritableTags.concat(i.inheritableTags))),metadata:{...o.metadata,...i.metadata}})}else{let o=n;e[o]=r[o]??e[o]}return e}function Rr(t){let e=Uc.getRunnableConfig(),r={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){let{runId:n,runName:o,...i}=e;r=Object.entries(i).reduce((a,[s,u])=>(u!==void 0&&(a[s]=u),a),r)}if(t&&(r=Object.entries(t).reduce((n,[o,i])=>(i!==void 0&&(n[o]=i),n),r)),r?.configurable)for(let n of Object.keys(r.configurable))J5t.has(typeof r.configurable[n])&&!r.metadata?.[n]&&(r.metadata||(r.metadata={}),r.metadata[n]=r.configurable[n]);if(r.timeout!==void 0){if(r.timeout<=0)throw new Error("Timeout must be a positive number");let n=AbortSignal.timeout(r.timeout);r.signal!==void 0?"any"in AbortSignal&&(r.signal=AbortSignal.any([r.signal,n])):r.signal=n,delete r.timeout}return r}function Na(t={},{callbacks:e,maxConcurrency:r,recursionLimit:n,runName:o,configurable:i,runId:a}={}){let s=Rr(t);return e!==void 0&&(delete s.runName,s.callbacks=e),n!==void 0&&(s.recursionLimit=n),r!==void 0&&(s.maxConcurrency=r),o!==void 0&&(s.runName=o),i!==void 0&&(s.configurable={...s.configurable,...i}),a!==void 0&&delete s.runId,s}function ap(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}var r5,J5t,xy=C(()=>{YO();vj();r5=25;J5t=new Set(["string","number","boolean"])});async function Cy(t,e){if(e===void 0)return t;let r;return Promise.race([t.catch(n=>{if(!e?.aborted)throw n}),new Promise((n,o)=>{r=()=>{o(new Error("Aborted"))},e.addEventListener("abort",r),e.aborted&&o(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",r))}var qse=C(()=>{});function Use(t,e=2){let r=Array.from({length:e},()=>[]);return r.map(async function*(o){for(;;)if(o.length===0){let i=await t.next();for(let a of r)a.push(i)}else{if(o[0].done)return;yield o.shift().value}})}function yl(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){let r={...t};for(let[n,o]of Object.entries(e))n in r&&!Array.isArray(r[n])?r[n]=yl(r[n],o):r[n]=o;return r}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}async function eLe(t,e,r,n,...o){let i=new XS({generator:e,startSetup:r,signal:n}),a=await i.setup;return{output:t(i,a,...o),setup:a}}var Gu,XS,Oy=C(()=>{xy();vj();qse();Gu=class extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{let e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){let e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){let r=this.reader.cancel();this.reader.releaseLock(),await r}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){let r=e.getReader();return new Gu({start(n){return o();function o(){return r.read().then(({done:i,value:a})=>{if(i){n.close();return}return n.enqueue(a),o()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(e){return new Gu({async pull(r){let{value:n,done:o}=await e.next();o&&r.close(),r.enqueue(n)},async cancel(r){await e.return(r)}})}};XS=class{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((r,n)=>{Uc.runWithConfig(ap(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,n):this.firstResult.then(o=>r(void 0),n)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?Uc.runWithConfig(ap(this.config),this.signal?async()=>Cy(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}});async function tLe(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:r}=t;if(["retriever","llm","prompt"].includes(t.run_type))return r;if(!(Object.keys(r).length===1&&r?.input===""))return r.input}async function rLe(t,e){let{outputs:r}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?r:r!==void 0&&Object.keys(r).length===1&&r?.output!==void 0?r.output:r}function G5t(t){return t!==void 0&&t.message!==void 0}var zm,XO,nLe,Rq,oLe=C(()=>{yse();dA();Oy();fA();zm=class{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){let r=this.ops.concat(e.ops),n=HO({},r);return new XO({ops:r,state:n[n.length-1].newDocument})}},XO=class extends zm{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){let r=this.ops.concat(e.ops),n=HO(this.state,e.ops);return new XO({ops:r,state:n[n.length-1].newDocument})}static fromRunLogPatch(e){let r=HO({},e.ops);return new XO({ops:e.ops,state:r[r.length-1].newDocument})}},nLe=t=>t.name==="log_stream_tracer";Rq=class extends oh{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Gu.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;let r=e.tags??[],n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(n=n||r.find(o=>this.includeTags?.includes(o))!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(n=n&&r.every(o=>!this.excludeTags?.includes(o))),n}async*tapOutputIterable(e,r){for await(let n of r){if(e!==this.rootId){let o=this.keyMapByRunId[e];o&&await this.writer.write(new zm({ops:[{op:"add",path:`/logs/${o}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new zm({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;let r=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=r===1?e.name:`${e.name}:${r}`;let n={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(n.inputs=await tLe(e,this._schemaFormat)),await this.writer.write(new zm({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{let r=this.keyMapByRunId[e.id];if(r===void 0)return;let n=[];this._schemaFormat==="streaming_events"&&n.push({op:"replace",path:`/logs/${r}/inputs`,value:await tLe(e,this._schemaFormat)}),n.push({op:"add",path:`/logs/${r}/final_output`,value:await rLe(e,this._schemaFormat)}),e.end_time!==void 0&&n.push({op:"add",path:`/logs/${r}/end_time`,value:new Date(e.end_time).toISOString()});let o=new zm({ops:n});await this.writer.write(o)}finally{if(e.id===this.rootId){let r=new zm({ops:[{op:"replace",path:"/final_output",value:await rLe(e,this._schemaFormat)}]});await this.writer.write(r),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,r,n){let o=this.keyMapByRunId[e.id];if(o===void 0)return;let i=e.inputs.messages!==void 0,a;i?G5t(n?.chunk)?a=n?.chunk:a=new Ar({id:`run-${e.id}`,content:r}):a=r;let s=new zm({ops:[{op:"add",path:`/logs/${o}/streamed_output_str/-`,value:r},{op:"add",path:`/logs/${o}/streamed_output/-`,value:a}]});await this.writer.write(s)}}});var Iq,cf,qo,wj=C(()=>{Iq="__run",cf=class{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new cf({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},qo=class extends cf{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new qo({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}});function o5({name:t,serialized:e}){return t!==void 0?t:e?.name!==void 0?e.name:e?.id!==void 0&&Array.isArray(e?.id)?e.id[e.id.length-1]:"Unnamed"}var iLe,i5,aLe=C(()=>{dA();Oy();fA();wj();iLe=t=>t.name==="event_stream_tracer",i5=class extends oh{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Gu.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){let r=e.tags??[],n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(n=n||r.find(o=>this.includeTags?.includes(o))!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(n=n&&r.every(o=>!this.excludeTags?.includes(o))),n}async*tapOutputIterable(e,r){let n=await r.next();if(n.done)return;let o=this.runInfoMap.get(e);if(o===void 0){yield n.value;return}function i(s,u){return s==="llm"&&typeof u=="string"?new cf({text:u}):u}let a=this.tappedPromises.get(e);if(a===void 0){let s;a=new Promise(u=>{s=u}),this.tappedPromises.set(e,a);try{let u={event:`on_${o.runType}_stream`,run_id:e,name:o.name,tags:o.tags,metadata:o.metadata,data:{}};await this.send({...u,data:{chunk:i(o.runType,n.value)}},o),yield n.value;for await(let l of r)o.runType!=="tool"&&o.runType!=="retriever"&&await this.send({...u,data:{chunk:i(o.runType,l)}},o),yield l}finally{s()}}else{yield n.value;for await(let s of r)yield s}}async send(e,r){this._includeRun(r)&&await this.writer.write(e)}async sendEndEvent(e,r){let n=this.tappedPromises.get(e.run_id);n!==void 0?n.then(()=>{this.send(e,r)}):await this.send(e,r)}async onLLMStart(e){let r=o5(e),n=e.inputs.messages!==void 0?"chat_model":"llm",o={tags:e.tags??[],metadata:e.extra?.metadata??{},name:r,runType:n,inputs:e.inputs};this.runInfoMap.set(e.id,o);let i=`on_${n}_start`;await this.send({event:i,data:{input:e.inputs},name:r,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},o)}async onLLMNewToken(e,r,n){let o=this.runInfoMap.get(e.id),i,a;if(o===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(o.runType==="chat_model")a="on_chat_model_stream",n?.chunk===void 0?i=new Ar({content:r,id:`run-${e.id}`}):i=n.chunk.message;else if(o.runType==="llm")a="on_llm_stream",n?.chunk===void 0?i=new cf({text:r}):i=n.chunk;else throw new Error(`Unexpected run type ${o.runType}`);await this.send({event:a,data:{chunk:i},run_id:e.id,name:o.name,tags:o.tags,metadata:o.metadata},o)}}async onLLMEnd(e){let r=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let n;if(r===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);let o=e.outputs?.generations,i;if(r.runType==="chat_model"){for(let a of o??[]){if(i!==void 0)break;i=a[0]?.message}n="on_chat_model_end"}else if(r.runType==="llm")i={generations:o?.map(a=>a.map(s=>({text:s.text,generationInfo:s.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},n="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${r.runType}`);await this.sendEndEvent({event:n,data:{output:i,input:r.inputs},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onChainStart(e){let r=o5(e),n=e.run_type??"chain",o={tags:e.tags??[],metadata:e.extra?.metadata??{},name:r,runType:e.run_type},i={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(i={},o.inputs={}):e.inputs.input!==void 0?(i.input=e.inputs.input,o.inputs=e.inputs.input):(i.input=e.inputs,o.inputs=e.inputs),this.runInfoMap.set(e.id,o),await this.send({event:`on_${n}_start`,data:i,name:r,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},o)}async onChainEnd(e){let r=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),r===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);let n=`on_${e.run_type}_end`,o=e.inputs??r.inputs??{},a={output:e.outputs?.output??e.outputs,input:o};o.input&&Object.keys(o).length===1&&(a.input=o.input,r.inputs=o.input),await this.sendEndEvent({event:n,data:a,run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata??{}},r)}async onToolStart(e){let r=o5(e),n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:r,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,n),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:r,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},n)}async onToolEnd(e){let r=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),r===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(r.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);let n=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:n,input:r.inputs},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onRetrieverStart(e){let r=o5(e),n="retriever",o={tags:e.tags??[],metadata:e.extra?.metadata??{},name:r,runType:n,inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,o),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:r,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},o)}async onRetrieverEnd(e){let r=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),r===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:r.inputs},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async handleCustomEvent(e,r,n){let o=this.runInfoMap.get(n);if(o===void 0)throw new Error(`handleCustomEvent: Run ID ${n} not found in run map.`);await this.send({event:"on_custom_event",run_id:n,name:e,tags:o.tags,metadata:o.metadata,data:r},o)}async finish(){let e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}});var sLe,a5,K5t,Y5t,sp,Sj=C(()=>{sLe=k(uV(),1),a5=k(bV(),1),K5t=[400,401,402,403,404,405,406,407,409],Y5t=t=>{if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||t?.code==="ECONNABORTED")throw t;let e=t?.response?.status??t?.status;if(e&&K5t.includes(+e))throw t;if(t?.error?.code==="insufficient_quota"){let r=new Error(t?.message);throw r.name="InsufficientQuotaError",r}},sp=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??Y5t;let r="default"in a5.default?a5.default.default:a5.default;this.queue=new r({concurrency:this.maxConcurrency})}call(e,...r){return this.queue.add(()=>(0,sLe.default)(()=>e(...r).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,r,...n){return e.signal?Promise.race([this.call(r,...n),new Promise((o,i)=>{e.signal?.addEventListener("abort",()=>{i(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...e){return this.call(()=>fetch(...e).then(r=>r.ok?r:Promise.reject(r)))}}});var Dq,uLe=C(()=>{dA();Dq=class extends oh{constructor({config:e,onStart:r,onEnd:n,onError:o}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=r,this.argOnEnd=n,this.argOnError=o}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}});function jq(t){return t?t.lc_runnable:!1}var s5,zse=C(()=>{s5=class{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,r){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,o=e.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(r)),this.includeTags!==void 0&&(n=n||o.some(i=>this.includeTags?.includes(i))),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(r)),this.excludeTags!==void 0&&(n=n&&o.every(i=>!this.excludeTags?.includes(i))),n}}});var cLe,lLe,dLe,u5=C(()=>{cLe=Symbol("Let zodToJsonSchema decide on which parser to use"),lLe={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},dLe=t=>typeof t=="string"?{...lLe,name:t}:{...lLe,...t}});var fLe,Hse=C(()=>{u5();fLe=t=>{let e=dLe(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}}});function Vse(t,e,r,n){n?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function mn(t,e,r,n,o){t[e]=r,Vse(t,e,n,o)}var ZO=C(()=>{});function pLe(){return{}}var Wse=C(()=>{});function hLe(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==re.ZodAny&&(r.items=Bt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&mn(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&mn(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(mn(r,"minItems",t.exactLength.value,t.exactLength.message,e),mn(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}var Jse=C(()=>{tf();ZO();hs()});function mLe(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?mn(r,"minimum",n.value,n.message,e):mn(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),mn(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?mn(r,"maximum",n.value,n.message,e):mn(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),mn(r,"maximum",n.value,n.message,e));break;case"multipleOf":mn(r,"multipleOf",n.value,n.message,e);break}return r}var Gse=C(()=>{ZO()});function gLe(){return{type:"boolean"}}var Kse=C(()=>{});function l5(t,e){return Bt(t.type._def,e)}var c5=C(()=>{hs()});var yLe,Yse=C(()=>{hs();yLe=(t,e)=>Bt(t.innerType._def,e)});function Xse(t,e,r){let n=r??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>Xse(t,e,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return X5t(t,e)}}var X5t,Zse=C(()=>{ZO();X5t=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let n of t.checks)switch(n.kind){case"min":mn(r,"minimum",n.value,n.message,e);break;case"max":mn(r,"maximum",n.value,n.message,e);break}return r}});function bLe(t,e){return{...Bt(t.innerType._def,e),default:t.defaultValue()}}var Qse=C(()=>{hs()});function _Le(t,e){return e.effectStrategy==="input"?Bt(t.schema._def,e):{}}var eue=C(()=>{hs()});function vLe(t){return{type:"string",enum:Array.from(t.values)}}var tue=C(()=>{});function wLe(t,e){let r=[Bt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Bt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(Z5t(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...u}=i;a=u}else n=void 0;o.push(a)}}),o.length?{allOf:o,...n}:void 0}var Z5t,rue=C(()=>{hs();Z5t=t=>"type"in t&&t.type==="string"?!1:"allOf"in t});function SLe(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var nue=C(()=>{});function d5(t,e){let r={type:"string"};if(t.checks)for(let n of t.checks)switch(n.kind){case"min":mn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e);break;case"max":mn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Vm(r,"email",n.message,e);break;case"format:idn-email":Vm(r,"idn-email",n.message,e);break;case"pattern:zod":Td(r,Hm.email,n.message,e);break}break;case"url":Vm(r,"uri",n.message,e);break;case"uuid":Vm(r,"uuid",n.message,e);break;case"regex":Td(r,n.regex,n.message,e);break;case"cuid":Td(r,Hm.cuid,n.message,e);break;case"cuid2":Td(r,Hm.cuid2,n.message,e);break;case"startsWith":Td(r,RegExp(`^${iue(n.value,e)}`),n.message,e);break;case"endsWith":Td(r,RegExp(`${iue(n.value,e)}$`),n.message,e);break;case"datetime":Vm(r,"date-time",n.message,e);break;case"date":Vm(r,"date",n.message,e);break;case"time":Vm(r,"time",n.message,e);break;case"duration":Vm(r,"duration",n.message,e);break;case"length":mn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e),mn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"includes":{Td(r,RegExp(iue(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&Vm(r,"ipv4",n.message,e),n.version!=="v4"&&Vm(r,"ipv6",n.message,e);break}case"base64url":Td(r,Hm.base64url,n.message,e);break;case"jwt":Td(r,Hm.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&Td(r,Hm.ipv4Cidr,n.message,e),n.version!=="v4"&&Td(r,Hm.ipv6Cidr,n.message,e);break}case"emoji":Td(r,Hm.emoji(),n.message,e);break;case"ulid":{Td(r,Hm.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Vm(r,"binary",n.message,e);break}case"contentEncoding:base64":{mn(r,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{Td(r,Hm.base64,n.message,e);break}}break}case"nanoid":Td(r,Hm.nanoid,n.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:(o=>{})(n)}return r}function iue(t,e){return e.patternStrategy==="escape"?e9t(t):t}function e9t(t){let e="";for(let r=0;r<t.length;r++)Q5t.has(t[r])||(e+="\\"),e+=t[r];return e}function Vm(t,e,r,n){t.format||t.anyOf?.some(o=>o.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):mn(t,"format",e,r,n)}function Td(t,e,r,n){t.pattern||t.allOf?.some(o=>o.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:xLe(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):mn(t,"pattern",xLe(e,n),r,n)}function xLe(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},n=r.i?t.source.toLowerCase():t.source,o="",i=!1,a=!1,s=!1;for(let u=0;u<n.length;u++){if(i){o+=n[u],i=!1;continue}if(r.i){if(a){if(n[u].match(/[a-z]/)){s?(o+=n[u],o+=`${n[u-2]}-${n[u]}`.toUpperCase(),s=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(o+=n[u],s=!0):o+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){o+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){o+=a?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}o+=n[u],n[u]==="\\"?i=!0:a&&n[u]==="]"?a=!1:!a&&n[u]==="["&&(a=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return o}var oue,Hm,Q5t,f5=C(()=>{ZO();Hm={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(oue===void 0&&(oue=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),oue),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};Q5t=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789")});function p5(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===re.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((n,o)=>({...n,[o]:Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",o]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===re.ZodString&&t.keyType._def.checks?.length){let{type:n,...o}=d5(t.keyType._def,e);return{...r,propertyNames:o}}else{if(t.keyType?._def.typeName===re.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===re.ZodBranded&&t.keyType._def.type._def.typeName===re.ZodString&&t.keyType._def.type._def.checks?.length){let{type:n,...o}=l5(t.keyType._def,e);return{...r,propertyNames:o}}}return r}var h5=C(()=>{tf();hs();f5();c5()});function CLe(t,e){if(e.mapStrategy==="record")return p5(t,e);let r=Bt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},n=Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}var aue=C(()=>{hs();h5()});function OLe(t){let e=t.values,n=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}var sue=C(()=>{});function ELe(){return{not:{}}}var uue=C(()=>{});function PLe(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var lue=C(()=>{});function MLe(t,e){if(e.target==="openApi3")return TLe(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in Nq&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let a=Nq[i._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,a,s)=>s.indexOf(i)===a);return{type:o.length>1?o:o[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return TLe(t,e)}var Nq,TLe,m5=C(()=>{hs();Nq={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};TLe=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,o)=>Bt(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0}});function ALe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Nq[t.innerType._def.typeName],nullable:!0}:{type:[Nq[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=Bt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}var cue=C(()=>{hs();m5()});function RLe(t,e){let r={type:"number"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"int":r.type="integer",Vse(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?mn(r,"minimum",n.value,n.message,e):mn(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),mn(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?mn(r,"maximum",n.value,n.message,e):mn(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),mn(r,"maximum",n.value,n.message,e));break;case"multipleOf":mn(r,"multipleOf",n.value,n.message,e);break}return r}var due=C(()=>{ZO()});function t9t(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":Bt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":Bt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function ILe(t,e){let r=e.target==="openAi",n={type:"object",...Object.entries(t.shape()).reduce((o,[i,a])=>{if(a===void 0||a._def===void 0)return o;let s=a.isOptional();s&&r&&(a instanceof ef&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),s=!1);let u=Bt(a._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});return u===void 0?o:{properties:{...o.properties,[i]:u},required:s?o.required:[...o.required,i]}},{properties:{},required:[]}),additionalProperties:t9t(t,e)};return n.required.length||delete n.required,n}var fue=C(()=>{tf();hs()});var DLe,pue=C(()=>{hs();DLe=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return Bt(t.innerType._def,e);let r=Bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}}});var jLe,hue=C(()=>{hs();jLe=(t,e)=>{if(e.pipeStrategy==="input")return Bt(t.in._def,e);if(e.pipeStrategy==="output")return Bt(t.out._def,e);let r=Bt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=Bt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}}});function NLe(t,e){return Bt(t.type._def,e)}var mue=C(()=>{hs()});function LLe(t,e){let n={type:"array",uniqueItems:!0,items:Bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&mn(n,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&mn(n,"maxItems",t.maxSize.value,t.maxSize.message,e),n}var gue=C(()=>{ZO();hs()});function FLe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>Bt(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Bt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>Bt(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}var yue=C(()=>{hs()});function BLe(){return{not:{}}}var bue=C(()=>{});function kLe(){return{}}var _ue=C(()=>{});var $Le,vue=C(()=>{hs();$Le=(t,e)=>Bt(t.innerType._def,e)});function Bt(t,e,r=!1){let n=e.seen.get(t);if(e.override){let a=e.override?.(t,e,n,r);if(a!==cLe)return a}if(n&&!r){let a=r9t(n,e);if(a!==void 0)return a}let o={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,o);let i=o9t(t,t.typeName,e);return i&&i9t(t,e,i),o.jsonSchema=i,i}var r9t,n9t,o9t,i9t,hs=C(()=>{tf();Wse();Jse();Gse();Kse();c5();Yse();Zse();Qse();eue();tue();rue();nue();aue();sue();uue();lue();cue();due();fue();pue();hue();mue();h5();gue();f5();yue();bue();m5();_ue();vue();u5();r9t=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:n9t(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,n)=>e.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},n9t=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},o9t=(t,e,r)=>{switch(e){case re.ZodString:return d5(t,r);case re.ZodNumber:return RLe(t,r);case re.ZodObject:return ILe(t,r);case re.ZodBigInt:return mLe(t,r);case re.ZodBoolean:return gLe();case re.ZodDate:return Xse(t,r);case re.ZodUndefined:return BLe();case re.ZodNull:return PLe(r);case re.ZodArray:return hLe(t,r);case re.ZodUnion:case re.ZodDiscriminatedUnion:return MLe(t,r);case re.ZodIntersection:return wLe(t,r);case re.ZodTuple:return FLe(t,r);case re.ZodRecord:return p5(t,r);case re.ZodLiteral:return SLe(t,r);case re.ZodEnum:return vLe(t);case re.ZodNativeEnum:return OLe(t);case re.ZodNullable:return ALe(t,r);case re.ZodOptional:return DLe(t,r);case re.ZodMap:return CLe(t,r);case re.ZodSet:return LLe(t,r);case re.ZodLazy:return Bt(t.getter()._def,r);case re.ZodPromise:return NLe(t,r);case re.ZodNaN:case re.ZodNever:return ELe();case re.ZodEffects:return _Le(t,r);case re.ZodAny:return pLe();case re.ZodUnknown:return kLe();case re.ZodDefault:return bLe(t,r);case re.ZodBranded:return l5(t,r);case re.ZodReadonly:return $Le(t,r);case re.ZodCatch:return yLe(t,r);case re.ZodPipeline:return jLe(t,r);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(n=>{})(e)}},i9t=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r)});var Fi,wue=C(()=>{hs();Hse();Fi=(t,e)=>{let r=fLe(e),n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[l,c])=>({...u,[l]:Bt(c._def,{...r,currentPath:[...r.basePath,r.definitionPath,l]},!0)??{}}),{}):void 0,o=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=Bt(t._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(i.title=a);let s=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s}});var ch=C(()=>{u5();Hse();ZO();hs();Wse();Jse();Gse();Kse();c5();Yse();Zse();Qse();eue();tue();rue();nue();aue();sue();uue();lue();cue();due();fue();pue();hue();mue();vue();h5();gue();f5();yue();bue();m5();_ue();wue();wue()});function Sue(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}function s9t(t){let e="";for(let[r,n]of Object.entries(t))e+=`	classDef ${r} ${n};
`;return e}function qLe(t,e,r){let{firstNode:n,lastNode:o,nodeColors:i,withStyles:a=!0,curveStyle:s="linear",wrapLabelNWords:u=9}=r??{},l=a?`%%{init: {'flowchart': {'curve': '${s}'}}}%%
graph TD;
`:`graph TD;
`;if(a){let p="default",m={[p]:"{0}({1})"};n!==void 0&&(m[n]="{0}([{1}]):::first"),o!==void 0&&(m[o]="{0}([{1}]):::last");for(let[h,v]of Object.entries(t)){let g=v.name.split(":").pop()??"",S=a9t.some(O=>g.startsWith(O)&&g.endsWith(O))?`<p>${g}</p>`:g;Object.keys(v.metadata??{}).length&&(S+=`<hr/><small><em>${Object.entries(v.metadata??{}).map(([O,T])=>`${O} = ${T}`).join(`
`)}</em></small>`);let x=(m[h]??m[p]).replace("{0}",Sue(h)).replace("{1}",S);l+=`	${x}
`}}let c={};for(let p of e){let m=p.source.split(":"),h=p.target.split(":"),v=m.filter((g,_)=>g===h[_]).join(":");c[v]||(c[v]=[]),c[v].push(p)}let d=new Set;function f(p,m){let h=p.length===1&&p[0].source===p[0].target;if(m&&!h){let v=m.split(":").pop();if(d.has(v))throw new Error(`Found duplicate subgraph '${v}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);d.add(v),l+=`	subgraph ${v}
`}for(let v of p){let{source:g,target:_,data:S,conditional:x}=v,O="";if(S!==void 0){let T=S,E=T.split(" ");E.length>u&&(T=Array.from({length:Math.ceil(E.length/u)},(M,R)=>E.slice(R*u,(R+1)*u).join(" ")).join("&nbsp;<br>&nbsp;")),O=x?` -. &nbsp;${T}&nbsp; .-> `:` -- &nbsp;${T}&nbsp; --> `}else O=x?" -.-> ":" --> ";l+=`	${Sue(g)}${O}${Sue(_)};
`}for(let v in c)v.startsWith(`${m}:`)&&v!==m&&f(c[v],v);m&&!h&&(l+=`	end
`)}f(c[""]??[],"");for(let p in c)!p.includes(":")&&p!==""&&f(c[p],p);return a&&(l+=s9t(i??{})),l}async function ULe(t,e){let{backgroundColor:r="white"}=e??{},n=btoa(t);r!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(r)||(r=`!${r}`));let o=`https://mermaid.ink/img/${n}?bgColor=${r}`,i=await fetch(o);if(!i.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${i.status}`,`Status text: ${i.statusText}`].join(`
`));return await i.blob()}var a9t,zLe=C(()=>{a9t=["*","_","`"]});function u9t(t,e){if(t!==void 0&&!sj(t))return t;if(jq(e))try{let r=e.getName();return r=r.startsWith("Runnable")?r.slice(8):r,r}catch{return e.getName()}else return e.name??"UnknownSchema"}function l9t(t){return jq(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...Fi(t.data.schema),title:t.data.name}}}function HLe(t,e=[]){let r=new Set(t.edges.filter(o=>!e.includes(o.source)).map(o=>o.target)),n=[];for(let o of Object.values(t.nodes))!e.includes(o.id)&&!r.has(o.id)&&n.push(o);return n.length===1?n[0]:void 0}function VLe(t,e=[]){let r=new Set(t.edges.filter(o=>!e.includes(o.target)).map(o=>o.source)),n=[];for(let o of Object.values(t.nodes))!e.includes(o.id)&&!r.has(o.id)&&n.push(o);return n.length===1?n[0]:void 0}var mA,WLe=C(()=>{ch();cq();zse();zLe();mA=class{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=e?.nodes??this.nodes,this.edges=e?.edges??this.edges}toJSON(){let e={};return Object.values(this.nodes).forEach((r,n)=>{e[r.id]=sj(r.id)?n:r.id}),{nodes:Object.values(this.nodes).map(r=>({id:e[r.id],...l9t(r)})),edges:this.edges.map(r=>{let n={source:e[r.source],target:e[r.target]};return typeof r.data<"u"&&(n.data=r.data),typeof r.conditional<"u"&&(n.conditional=r.conditional),n})}}addNode(e,r,n){if(r!==void 0&&this.nodes[r]!==void 0)throw new Error(`Node with id ${r} already exists`);let o=r??rf(),i={id:o,data:e,name:u9t(r,e),metadata:n};return this.nodes[o]=i,i}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(r=>r.source!==e.id&&r.target!==e.id)}addEdge(e,r,n,o){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[r.id]===void 0)throw new Error(`Target node ${r.id} not in graph`);let i={source:e.id,target:r.id,data:n,conditional:o};return this.edges.push(i),i}firstNode(){return HLe(this)}lastNode(){return VLe(this)}extend(e,r=""){let n=r;Object.values(e.nodes).map(l=>l.id).every(sj)&&(n="");let i=l=>n?`${n}:${l}`:l;Object.entries(e.nodes).forEach(([l,c])=>{this.nodes[i(l)]={...c,id:i(l)}});let a=e.edges.map(l=>({...l,source:i(l.source),target:i(l.target)}));this.edges=[...this.edges,...a];let s=e.firstNode(),u=e.lastNode();return[s?{id:i(s.id),data:s.data}:void 0,u?{id:i(u.id),data:u.data}:void 0]}trimFirstNode(){let e=this.firstNode();e&&HLe(this,[e.id])&&this.removeNode(e)}trimLastNode(){let e=this.lastNode();e&&VLe(this,[e.id])&&this.removeNode(e)}reid(){let e=Object.fromEntries(Object.values(this.nodes).map(o=>[o.id,o.name])),r=new Map;Object.values(e).forEach(o=>{r.set(o,(r.get(o)||0)+1)});let n=o=>{let i=e[o];return sj(o)&&r.get(i)===1?i:o};return new mA({nodes:Object.fromEntries(Object.entries(this.nodes).map(([o,i])=>[n(o),{...i,id:n(o)}])),edges:this.edges.map(o=>({...o,source:n(o.source),target:n(o.target)}))})}drawMermaid(e){let{withStyles:r,curveStyle:n,nodeColors:o={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:i}=e??{},a=this.reid(),s=a.firstNode(),u=a.lastNode();return qLe(a.nodes,a.edges,{firstNode:s?.id,lastNode:u?.id,withStyles:r,curveStyle:n,nodeColors:o,wrapLabelNWords:i})}async drawMermaidPng(e){let r=this.drawMermaid(e);return ULe(r,{backgroundColor:e?.backgroundColor})}}});function JLe(t){let e=new TextEncoder,r=new ReadableStream({async start(n){for await(let o of t)n.enqueue(e.encode(`event: data
data: ${JSON.stringify(o)}

`));n.enqueue(e.encode(`event: end

`)),n.close()}});return Gu.fromReadableStream(r)}var GLe=C(()=>{Oy()});function xue(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}function g5(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*Cue(t,e){for(;;){let{value:r,done:n}=Uc.runWithConfig(ap(t),e.next.bind(e),!0);if(n)break;yield r}}async function*y5(t,e){let r=e[Symbol.asyncIterator]();for(;;){let{value:n,done:o}=await Uc.runWithConfig(ap(t),r.next.bind(e),!0);if(o)break;yield n}}var KLe,YLe=C(()=>{vj();xy();KLe=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function"});function Ku(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}function c9t(t){if($V(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}function ZS(t){if(typeof t=="function")return new Jm({func:t});if(Qr.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){let e={};for(let[r,n]of Object.entries(t))e[r]=ZS(n);return new Ey({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}function d9t(t,e){let r=e.name??t.getName(),n=e.description??e.schema?.description;return e.schema.constructor===kr.ZodString?new Fq({name:r,description:n,schema:kr.object({input:kr.string()}).transform(o=>o.input),bound:t}):new Fq({name:r,description:n,schema:e.schema,bound:t})}var Oue,Qr,Wm,gA,b5,ni,Ey,Lq,Jm,_5,xj,v5,Fq,df=C(()=>{tf();Oue=k(uV(),1);cq();mse();oLe();aLe();lA();Oy();qse();xy();Sj();uLe();zse();vj();WLe();GLe();YLe();KV();Qr=class extends qc{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){let r=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${r}${e}`:r}bind(e){return new Wm({bound:this,kwargs:e,config:{}})}map(){return new gA({bound:this})}withRetry(e){return new b5({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new Wm({bound:this,config:e,kwargs:{}})}withFallbacks(e){let r=Array.isArray(e)?e:e.fallbacks;return new _5({runnable:this,fallbacks:r})}_getOptionsList(e,r=0){if(Array.isArray(e)&&e.length!==r)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${r} inputs`);if(Array.isArray(e))return e.map(Rr);if(r>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");let n=Object.fromEntries(Object.entries(e).filter(([o])=>o!=="runId"));return Array.from({length:r},(o,i)=>Rr(i===0?e:n))}return Array.from({length:r},()=>Rr(e))}async batch(e,r,n){let o=this._getOptionsList(r??{},e.length),i=o[0]?.maxConcurrency??n?.maxConcurrency,a=new sp({maxConcurrency:i,onFailedAttempt:u=>{throw u}}),s=e.map((u,l)=>a.call(async()=>{try{return await this.invoke(u,o[l])}catch(c){if(n?.returnExceptions)return c;throw c}}));return Promise.all(s)}async*_streamIterator(e,r){yield this.invoke(e,r)}async stream(e,r){let n=Rr(r),o=new XS({generator:this._streamIterator(e,n),config:n});return await o.setup,Gu.fromAsyncGenerator(o)}_separateRunnableConfigFromCallOptions(e){let r;e===void 0?r=Rr(e):r=Rr({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});let n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,delete n.timeout,delete n.signal,[r,n]}async _callWithConfig(e,r,n){let o=Rr(n),a=await(await lf(o))?.handleChainStart(this.toJSON(),Ku(r,"input"),o.runId,o?.runType,void 0,void 0,o?.runName??this.getName());delete o.runId;let s;try{let u=e.call(this,r,o,a);s=await Cy(u,n?.signal)}catch(u){throw await a?.handleChainError(u),u}return await a?.handleChainEnd(Ku(s,"output")),s}async _batchWithConfig(e,r,n,o){let i=this._getOptionsList(n??{},r.length),a=await Promise.all(i.map(lf)),s=await Promise.all(a.map(async(l,c)=>{let d=await l?.handleChainStart(this.toJSON(),Ku(r[c],"input"),i[c].runId,i[c].runType,void 0,void 0,i[c].runName??this.getName());return delete i[c].runId,d})),u;try{let l=e.call(this,r,i,s,o);u=await Cy(l,i?.[0]?.signal)}catch(l){throw await Promise.all(s.map(c=>c?.handleChainError(l))),l}return await Promise.all(s.map(l=>l?.handleChainEnd(Ku(u,"output")))),u}async*_transformStreamWithConfig(e,r,n){let o,i=!0,a,s=!0,u=Rr(n),l=await lf(u);async function*c(){for await(let f of e){if(i)if(o===void 0)o=f;else try{o=yl(o,f)}catch{o=void 0,i=!1}yield f}}let d;try{let f=await eLe(r.bind(this),c(),async()=>l?.handleChainStart(this.toJSON(),{input:""},u.runId,u.runType,void 0,void 0,u.runName??this.getName()),n?.signal,u);delete u.runId,d=f.setup;let p=d?.handlers.find(iLe),m=f.output;p!==void 0&&d!==void 0&&(m=p.tapOutputIterable(d.runId,m));let h=d?.handlers.find(nLe);h!==void 0&&d!==void 0&&(m=h.tapOutputIterable(d.runId,m));for await(let v of m)if(yield v,s)if(a===void 0)a=v;else try{a=yl(a,v)}catch{a=void 0,s=!1}}catch(f){throw await d?.handleChainError(f,void 0,void 0,void 0,{inputs:Ku(o,"input")}),f}await d?.handleChainEnd(a??{},void 0,void 0,void 0,{inputs:Ku(o,"input")})}getGraph(e){let r=new mA,n=r.addNode({name:`${this.getName()}Input`,schema:kr.any()}),o=r.addNode(this),i=r.addNode({name:`${this.getName()}Output`,schema:kr.any()});return r.addEdge(n,o),r.addEdge(o,i),r}pipe(e){return new ni({first:this,last:ZS(e)})}pick(e){return this.pipe(new v5(e))}assign(e){return this.pipe(new xj(new Ey({steps:e})))}async*transform(e,r){let n;for await(let o of e)n===void 0?n=o:n=yl(n,o);yield*this._streamIterator(n,Rr(r))}async*streamLog(e,r,n){let o=new Rq({...n,autoClose:!1,_schemaFormat:"original"}),i=Rr(r);yield*this._streamLog(e,o,i)}async*_streamLog(e,r,n){let{callbacks:o}=n;if(o===void 0)n.callbacks=[r];else if(Array.isArray(o))n.callbacks=o.concat([r]);else{let u=o.copy();u.addHandler(r,!0),n.callbacks=u}let i=this.stream(e,n);async function a(){try{let u=await i;for await(let l of u){let c=new zm({ops:[{op:"add",path:"/streamed_output/-",value:l}]});await r.writer.write(c)}}finally{await r.writer.close()}}let s=a();try{for await(let u of r)yield u}finally{await s}}streamEvents(e,r,n){let o;if(r.version==="v1")o=this._streamEventsV1(e,r,n);else if(r.version==="v2")o=this._streamEventsV2(e,r,n);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return r.encoding==="text/event-stream"?JLe(o):Gu.fromAsyncGenerator(o)}async*_streamEventsV2(e,r,n){let o=new i5({...n,autoClose:!1}),i=Rr(r),a=i.runId??rf();i.runId=a;let s=i.callbacks;if(s===void 0)i.callbacks=[o];else if(Array.isArray(s))i.callbacks=s.concat(o);else{let m=s.copy();m.addHandler(o,!0),i.callbacks=m}let u=new AbortController,l=this;async function c(){try{let m;r?.signal?"any"in AbortSignal?m=AbortSignal.any([u.signal,r.signal]):(m=r.signal,r.signal.addEventListener("abort",()=>{u.abort()},{once:!0})):m=u.signal;let h=await l.stream(e,{...i,signal:m}),v=o.tapOutputIterable(a,h);for await(let g of v)if(u.signal.aborted)break}finally{await o.finish()}}let d=c(),f=!1,p;try{for await(let m of o){if(!f){m.data.input=e,f=!0,p=m.run_id,yield m;continue}m.run_id===p&&m.event.endsWith("_end")&&m.data?.input&&delete m.data.input,yield m}}finally{u.abort(),await d}}async*_streamEventsV1(e,r,n){let o,i=!1,a=Rr(r),s=a.tags??[],u=a.metadata??{},l=a.runName??this.getName(),c=new Rq({...n,autoClose:!1,_schemaFormat:"streaming_events"}),d=new s5({...n}),f=this._streamLog(e,c,a);for await(let m of f){if(o?o=o.concat(m):o=XO.fromRunLogPatch(m),o.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!i){i=!0;let _={...o.state},S={run_id:_.id,event:`on_${_.type}_start`,name:l,tags:s,metadata:u,data:{input:e}};d.includeEvent(S,_.type)&&(yield S)}let h=m.ops.filter(_=>_.path.startsWith("/logs/")).map(_=>_.path.split("/")[2]),v=[...new Set(h)];for(let _ of v){let S,x={},O=o.state.logs[_];if(O.end_time===void 0?O.streamed_output.length>0?S="stream":S="start":S="end",S==="start")O.inputs!==void 0&&(x.input=O.inputs);else if(S==="end")O.inputs!==void 0&&(x.input=O.inputs),x.output=O.final_output;else if(S==="stream"){let T=O.streamed_output.length;if(T!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${T} instead. Encountered in: "${O.name}"`);x={chunk:O.streamed_output[0]},O.streamed_output=[]}yield{event:`on_${O.type}_${S}`,name:O.name,run_id:O.id,tags:O.tags,metadata:O.metadata,data:x}}let{state:g}=o;if(g.streamed_output.length>0){let _=g.streamed_output.length;if(_!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${_} instead. Encountered in: "${g.name}"`);let S={chunk:g.streamed_output[0]};g.streamed_output=[];let x={event:`on_${g.type}_stream`,run_id:g.id,tags:s,metadata:u,name:l,data:S};d.includeEvent(x,g.type)&&(yield x)}}let p=o?.state;if(p!==void 0){let m={event:`on_${p.type}_end`,name:l,run_id:p.id,tags:s,metadata:u,data:{output:p.final_output}};d.includeEvent(m,p.type)&&(yield m)}}static isRunnable(e){return jq(e)}withListeners({onStart:e,onEnd:r,onError:n}){return new Wm({bound:this,config:{},configFactories:[o=>({callbacks:[new Dq({config:o,onStart:e,onEnd:r,onError:n})]})]})}asTool(e){return d9t(this,e)}},Wm=class extends Qr{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){let r=n5(this.config,...e);return n5(r,...this.configFactories?await Promise.all(this.configFactories.map(async n=>await n(r))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,r){return this.bound.invoke(e,await this._mergeConfig(Rr(r),this.kwargs))}async batch(e,r,n){let o=Array.isArray(r)?await Promise.all(r.map(async i=>this._mergeConfig(Rr(i),this.kwargs))):await this._mergeConfig(Rr(r),this.kwargs);return this.bound.batch(e,o,n)}async*_streamIterator(e,r){yield*this.bound._streamIterator(e,await this._mergeConfig(Rr(r),this.kwargs))}async stream(e,r){return this.bound.stream(e,await this._mergeConfig(Rr(r),this.kwargs))}async*transform(e,r){yield*this.bound.transform(e,await this._mergeConfig(Rr(r),this.kwargs))}streamEvents(e,r,n){let o=this,i=async function*(){yield*o.bound.streamEvents(e,{...await o._mergeConfig(Rr(r),o.kwargs),version:r.version},n)};return Gu.fromAsyncGenerator(i())}static isRunnableBinding(e){return e.bound&&Qr.isRunnable(e.bound)}withListeners({onStart:e,onEnd:r,onError:n}){return new Wm({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[o=>({callbacks:[new Dq({config:o,onStart:e,onEnd:r,onError:n})]})]})}},gA=class extends Qr{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new gA({bound:this.bound.bind(e)})}async invoke(e,r){return this._callWithConfig(this._invoke.bind(this),e,r)}async _invoke(e,r,n){return this.bound.batch(e,Na(r,{callbacks:n?.getChild()}))}withListeners({onStart:e,onEnd:r,onError:n}){return new gA({bound:this.bound.withListeners({onStart:e,onEnd:r,onError:n})})}},b5=class extends Wm{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,r,n){let o=e>1?`retry:attempt:${e}`:void 0;return Na(r,{callbacks:n?.getChild(o)})}async _invoke(e,r,n){return(0,Oue.default)(o=>super.invoke(e,this._patchConfigForRetry(o,r,n)),{onFailedAttempt:o=>this.onFailedAttempt(o,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,r){return this._callWithConfig(this._invoke.bind(this),e,r)}async _batch(e,r,n,o){let i={};try{await(0,Oue.default)(async a=>{let s=e.map((f,p)=>p).filter(f=>i[f.toString()]===void 0||i[f.toString()]instanceof Error),u=s.map(f=>e[f]),l=s.map(f=>this._patchConfigForRetry(a,r?.[f],n?.[f])),c=await super.batch(u,l,{...o,returnExceptions:!0}),d;for(let f=0;f<c.length;f+=1){let p=c[f],m=s[f];p instanceof Error&&d===void 0&&(d=p,d.input=u[f]),i[m.toString()]=p}if(d)throw d;return c},{onFailedAttempt:a=>this.onFailedAttempt(a,a.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(a){if(o?.returnExceptions!==!0)throw a}return Object.keys(i).sort((a,s)=>parseInt(a,10)-parseInt(s,10)).map(a=>i[parseInt(a,10)])}async batch(e,r,n){return this._batchWithConfig(this._batch.bind(this),e,r,n)}},ni=class extends Qr{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,r){let n=Rr(r),i=await(await lf(n))?.handleChainStart(this.toJSON(),Ku(e,"input"),n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let a=e,s;try{let u=[this.first,...this.middle];for(let l=0;l<u.length;l+=1){let d=u[l].invoke(a,Na(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${l+1}`)}));a=await Cy(d,r?.signal)}if(r?.signal?.aborted)throw new Error("Aborted");s=await this.last.invoke(a,Na(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(u){throw await i?.handleChainError(u),u}return await i?.handleChainEnd(Ku(s,"output")),s}async batch(e,r,n){let o=this._getOptionsList(r??{},e.length),i=await Promise.all(o.map(lf)),a=await Promise.all(i.map(async(u,l)=>{let c=await u?.handleChainStart(this.toJSON(),Ku(e[l],"input"),o[l].runId,void 0,void 0,void 0,o[l].runName);return delete o[l].runId,c})),s=e;try{for(let u=0;u<this.steps.length;u+=1){let c=this.steps[u].batch(s,a.map((d,f)=>{let p=d?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`);return Na(o[f],{callbacks:p})}),n);s=await Cy(c,o[0]?.signal)}}catch(u){throw await Promise.all(a.map(l=>l?.handleChainError(u))),u}return await Promise.all(a.map(u=>u?.handleChainEnd(Ku(s,"output")))),s}async*_streamIterator(e,r){let n=await lf(r),{runId:o,...i}=r??{},a=await n?.handleChainStart(this.toJSON(),Ku(e,"input"),o,void 0,void 0,void 0,i?.runName),s=[this.first,...this.middle,this.last],u=!0,l;async function*c(){yield e}try{let d=s[0].transform(c(),Na(i,{callbacks:a?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let f=1;f<s.length;f+=1)d=await s[f].transform(d,Na(i,{callbacks:a?.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));for await(let f of d)if(r?.signal?.throwIfAborted(),yield f,u)if(l===void 0)l=f;else try{l=yl(l,f)}catch{l=void 0,u=!1}}catch(d){throw await a?.handleChainError(d),d}await a?.handleChainEnd(Ku(l,"output"))}getGraph(e){let r=new mA,n=null;return this.steps.forEach((o,i)=>{let a=o.getGraph(e);i!==0&&a.trimFirstNode(),i!==this.steps.length-1&&a.trimLastNode(),r.extend(a);let s=a.firstNode();if(!s)throw new Error(`Runnable ${o} has no first node`);n&&r.addEdge(n,s),n=a.lastNode()}),r}pipe(e){return ni.isRunnableSequence(e)?new ni({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new ni({first:this.first,middle:[...this.middle,this.last],last:ZS(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Qr.isRunnable(e)}static from([e,...r],n){let o={};return typeof n=="string"?o.name=n:n!==void 0&&(o=n),new ni({...o,first:ZS(e),middle:r.slice(0,-1).map(ZS),last:ZS(r[r.length-1])})}},Ey=class extends Qr{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(let[r,n]of Object.entries(e.steps))this.steps[r]=ZS(n)}static from(e){return new Ey({steps:e})}async invoke(e,r){let n=Rr(r),i=await(await lf(n))?.handleChainStart(this.toJSON(),{input:e},n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let a={};try{let s=Object.entries(this.steps).map(async([u,l])=>{a[u]=await l.invoke(e,Na(n,{callbacks:i?.getChild(`map:key:${u}`)}))});await Cy(Promise.all(s),r?.signal)}catch(s){throw await i?.handleChainError(s),s}return await i?.handleChainEnd(a),a}async*_transform(e,r,n){let o={...this.steps},i=Use(e,Object.keys(o).length),a=new Map(Object.entries(o).map(([s,u],l)=>{let c=u.transform(i[l],Na(n,{callbacks:r?.getChild(`map:key:${s}`)}));return[s,c.next().then(d=>({key:s,gen:c,result:d}))]}));for(;a.size;){let s=Promise.race(a.values()),{key:u,result:l,gen:c}=await Cy(s,n?.signal);a.delete(u),l.done||(yield{[u]:l.value},a.set(u,c.next().then(d=>({key:u,gen:c,result:d}))))}}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let o=Rr(r),i=new XS({generator:this.transform(n(),o),config:o});return await i.setup,Gu.fromAsyncGenerator(i)}},Lq=class extends Qr{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!$V(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,r){let[n]=this._getOptionsList(r??{},1),o=await lf(n),i=this.func(Na(n,{callbacks:o}),e);return Cy(i,n?.signal)}async*_streamIterator(e,r){let[n]=this._getOptionsList(r??{},1),o=await this.invoke(e,r);if(g5(o)){for await(let i of o)n?.signal?.throwIfAborted(),yield i;return}if(KLe(o)){for(;;){n?.signal?.throwIfAborted();let i=o.next();if(i.done)break;yield i.value}return}yield o}static from(e){return new Lq({func:e})}};Jm=class extends Qr{static lc_name(){return"RunnableLambda"}constructor(e){if($V(e.func))return Lq.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c9t(e.func),this.func=e.func}static from(e){return new Jm({func:e})}async _invoke(e,r,n){return new Promise((o,i)=>{let a=Na(r,{callbacks:n?.getChild(),recursionLimit:(r?.recursionLimit??r5)-1});Uc.runWithConfig(ap(a),async()=>{try{let s=await this.func(e,{...a});if(s&&Qr.isRunnable(s)){if(r?.recursionLimit===0)throw new Error("Recursion limit reached.");s=await s.invoke(e,{...a,recursionLimit:(a.recursionLimit??r5)-1})}else if(g5(s)){let u;for await(let l of y5(a,s))if(r?.signal?.throwIfAborted(),u===void 0)u=l;else try{u=yl(u,l)}catch{u=l}s=u}else if(xue(s)){let u;for(let l of Cue(a,s))if(r?.signal?.throwIfAborted(),u===void 0)u=l;else try{u=yl(u,l)}catch{u=l}s=u}o(s)}catch(s){i(s)}})})}async invoke(e,r){return this._callWithConfig(this._invoke.bind(this),e,r)}async*_transform(e,r,n){let o;for await(let s of e)if(o===void 0)o=s;else try{o=yl(o,s)}catch{o=s}let i=Na(n,{callbacks:r?.getChild(),recursionLimit:(n?.recursionLimit??r5)-1}),a=await new Promise((s,u)=>{Uc.runWithConfig(ap(i),async()=>{try{let l=await this.func(o,{...i,config:i});s(l)}catch(l){u(l)}})});if(a&&Qr.isRunnable(a)){if(n?.recursionLimit===0)throw new Error("Recursion limit reached.");let s=await a.stream(o,i);for await(let u of s)yield u}else if(g5(a))for await(let s of y5(i,a))n?.signal?.throwIfAborted(),yield s;else if(xue(a))for(let s of Cue(i,a))n?.signal?.throwIfAborted(),yield s;else yield a}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let o=Rr(r),i=new XS({generator:this.transform(n(),o),config:o});return await i.setup,Gu.fromAsyncGenerator(i)}},_5=class extends Qr{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(let e of this.fallbacks)yield e}async invoke(e,r){let n=Rr(r),o=await lf(n),{runId:i,...a}=n,s=await o?.handleChainStart(this.toJSON(),Ku(e,"input"),i,void 0,void 0,void 0,a?.runName),u=Na(a,{callbacks:s?.getChild()});return await Uc.runWithConfig(u,async()=>{let c;for(let d of this.runnables()){n?.signal?.throwIfAborted();try{let f=await d.invoke(e,u);return await s?.handleChainEnd(Ku(f,"output")),f}catch(f){c===void 0&&(c=f)}}throw c===void 0?new Error("No error stored at end of fallback."):(await s?.handleChainError(c),c)})}async*_streamIterator(e,r){let n=Rr(r),o=await lf(n),{runId:i,...a}=n,s=await o?.handleChainStart(this.toJSON(),Ku(e,"input"),i,void 0,void 0,void 0,a?.runName),u,l;for(let d of this.runnables()){n?.signal?.throwIfAborted();let f=Na(a,{callbacks:s?.getChild()});try{let p=await d.stream(e,f);l=y5(f,p);break}catch(p){u===void 0&&(u=p)}}if(l===void 0){let d=u??new Error("No error stored at end of fallback.");throw await s?.handleChainError(d),d}let c;try{for await(let d of l){yield d;try{c=c===void 0?c:yl(c,d)}catch{c=void 0}}}catch(d){throw await s?.handleChainError(d),d}await s?.handleChainEnd(Ku(c,"output"))}async batch(e,r,n){if(n?.returnExceptions)throw new Error("Not implemented.");let o=this._getOptionsList(r??{},e.length),i=await Promise.all(o.map(u=>lf(u))),a=await Promise.all(i.map(async(u,l)=>{let c=await u?.handleChainStart(this.toJSON(),Ku(e[l],"input"),o[l].runId,void 0,void 0,void 0,o[l].runName);return delete o[l].runId,c})),s;for(let u of this.runnables()){o[0].signal?.throwIfAborted();try{let l=await u.batch(e,a.map((c,d)=>Na(o[d],{callbacks:c?.getChild()})),n);return await Promise.all(a.map((c,d)=>c?.handleChainEnd(Ku(l[d],"output")))),l}catch(l){s===void 0&&(s=l)}}throw s?(await Promise.all(a.map(u=>u?.handleChainError(s))),s):new Error("No error stored at end of fallbacks.")}};xj=class extends Qr{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof Ey&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,r){let n=await this.mapper.invoke(e,r);return{...e,...n}}async*_transform(e,r,n){let o=this.mapper.getStepsKeys(),[i,a]=Use(e),s=this.mapper.transform(a,Na(n,{callbacks:r?.getChild()})),u=s.next();for await(let l of i){if(typeof l!="object"||Array.isArray(l))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof l}`);let c=Object.fromEntries(Object.entries(l).filter(([d])=>!o.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await u).value;for await(let l of s)yield l}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let o=Rr(r),i=new XS({generator:this.transform(n(),o),config:o});return await i.setup,Gu.fromAsyncGenerator(i)}},v5=class extends Qr{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{let r=this.keys.map(n=>[n,e[n]]).filter(n=>n[1]!==void 0);return r.length===0?void 0:Object.fromEntries(r)}}async invoke(e,r){return this._callWithConfig(this._pick.bind(this),e,r)}async*_transform(e){for await(let r of e){let n=await this._pick(r);n!==void 0&&(yield n)}}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let o=Rr(r),i=new XS({generator:this.transform(n(),o),config:o});return await i.setup,Gu.fromAsyncGenerator(i)}},Fq=class extends Wm{constructor(e){let r=ni.from([Jm.from(async n=>{let o;if(gj(n))try{o=await this.schema.parseAsync(n.args)}catch{throw new mj("Received tool input did not match expected schema",JSON.stringify(n.args))}else o=n;return o}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:r,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}});var Bi,w5=C(()=>{Oy();df();xy();Bi=class extends Qr{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,r){let n=Rr(r);return this.func&&await this.func(e,n),this._callWithConfig(o=>Promise.resolve(o),e,n)}async*transform(e,r){let n=Rr(r),o,i=!0;for await(let a of this._transformStreamWithConfig(e,s=>s,n))if(yield a,i)if(o===void 0)o=a;else try{o=yl(o,a)}catch{o=void 0,i=!1}this.func&&o!==void 0&&await this.func(o,n)}static assign(e){return new xj(new Ey({steps:e}))}}});var XLe=C(()=>{df();xy()});var ZLe=C(()=>{df();xy();Oy()});var Eue=C(()=>{uh()});var QLe=C(()=>{df();fA();uh();YV();XV();Pq();Eue();ZV();bj();JO()});var yA=C(()=>{fA();uh();YV();XV();Pq();ZV();JO();QLe();Eue();bj()});var eFe=C(()=>{yA();df();w5()});var Pue=C(()=>{df();xy();w5();XLe();ZLe();eFe()});var bA,_A,up,Cj=C(()=>{Pue();Oq();bA=class extends Qr{parseResultWithPrompt(e,r,n){return this.parseResult(e,n)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,r){return typeof e=="string"?this._callWithConfig(async(n,o)=>this.parseResult([{text:n}],o?.callbacks),e,{...r,runType:"parser"}):this._callWithConfig(async(n,o)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],o?.callbacks),e,{...r,runType:"parser"})}},_A=class extends bA{parseResult(e,r){return this.parse(e[0].text,r)}async parseWithPrompt(e,r,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}},up=class extends Error{constructor(e,r,n,o=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=r,this.observation=n,this.sendToLLM=o,o&&(n===void 0||r===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");WO(this,"OUTPUT_PARSING_FAILURE")}}});function Bq(t,e){let r=typeof t;if(r!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(!Bq(t[o],e[o]))return!1;return!0}if(r==="object"){if(!t||!e)return t===e;let n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(let a of n)if(!Bq(t[a],e[a]))return!1;return!0}return t===e}var Tue=C(()=>{});var S5=C(()=>{});var DSn,x5=C(()=>{S5();DSn=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker")});function ff(t){return t.test.bind(t)}function j9t(t){return t%4===0&&(t%100!==0||t%400===0)}function tFe(t){let e=t.match(p9t);if(!e)return!1;let r=+e[1],n=+e[2],o=+e[3];return n>=1&&n<=12&&o>=1&&o<=(n==2&&j9t(r)?29:h9t[n])}function rFe(t,e){let r=e.match(m9t);if(!r)return!1;let n=+r[1],o=+r[2],i=+r[3],a=!!r[5];return(n<=23&&o<=59&&i<=59||n==23&&o==59&&i==60)&&(!t||a)}function L9t(t){let e=t.split(N9t);return e.length==2&&tFe(e[0])&&rFe(!0,e[1])}function k9t(t){return F9t.test(t)&&B9t.test(t)}function q9t(t){if($9t.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}var p9t,h9t,m9t,g9t,y9t,b9t,_9t,v9t,w9t,S9t,x9t,C9t,O9t,E9t,P9t,T9t,M9t,A9t,R9t,I9t,D9t,N9t,F9t,B9t,$9t,Mue=C(()=>{p9t=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,h9t=[0,31,28,31,30,31,30,31,31,30,31,30,31],m9t=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,g9t=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,y9t=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,b9t=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,_9t=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,v9t=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,w9t=/^(?:\/(?:[^~/]|~0|~1)*)*$/,S9t=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,x9t=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,C9t=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,O9t=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,E9t=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,P9t=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,T9t=t=>{if(t[0]==='"')return!1;let[e,r,...n]=t.split("@");return!e||!r||n.length!==0||e.length>64||r.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(r)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:r.split(".").every(o=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(o))},M9t=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,A9t=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,R9t=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));I9t={date:tFe,time:rFe.bind(void 0,!1),"date-time":L9t,duration:R9t,uri:k9t,"uri-reference":ff(y9t),"uri-template":ff(b9t),url:ff(_9t),email:T9t,hostname:ff(g9t),ipv4:ff(M9t),ipv6:ff(A9t),regex:q9t,uuid:ff(v9t),"json-pointer":ff(w9t),"json-pointer-uri-fragment":ff(S9t),"relative-json-pointer":ff(x9t)},D9t={...I9t,date:ff(C9t),time:ff(O9t),"date-time":ff(E9t),"uri-reference":ff(P9t)};N9t=/t|\s/i;F9t=/\/|:/,B9t=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;$9t=/[^\\]\\Z/});var nFe,oFe=C(()=>{(function(t){t[t.Flag=1]="Flag",t[t.Basic=2]="Basic",t[t.Detailed=4]="Detailed"})(nFe||(nFe={}))});var Aue=C(()=>{});var Rue=C(()=>{Tue();x5();Mue();S5();Aue()});var iFe=C(()=>{x5();Rue()});var aFe=C(()=>{Tue();x5();Mue();S5();oFe();Aue();Rue();iFe()});var vA,wA,QO=C(()=>{aFe();Cj();uh();JO();wj();vA=class extends _A{async*_transform(e){for await(let r of e)typeof r=="string"?yield this.parseResult([{text:r}]):yield this.parseResult([{message:r,text:this._baseMessageToString(r)}])}async*transform(e,r){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...r,runType:"parser"})}},wA=class extends vA{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let r,n;for await(let o of e){if(typeof o!="string"&&typeof o.content!="string")throw new Error("Cannot handle non-string output.");let i;if(Tse(o)){if(typeof o.content!="string")throw new Error("Cannot handle non-string message output.");i=new qo({message:o,text:o.content})}else if(sh(o)){if(typeof o.content!="string")throw new Error("Cannot handle non-string message output.");i=new qo({message:Rse(o),text:o.content})}else i=new cf({text:o});n===void 0?n=i:n=n.concat(i);let a=await this.parsePartialResult([n]);a!=null&&!Bq(a,r)&&(this.diff?yield this._diff(r,a):yield a,r=a)}}getFormatInstructions(){return""}}});var sFe=C(()=>{QO()});var uFe=C(()=>{Cj();QO()});var C5,lFe=C(()=>{QO();C5=class extends vA{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","string"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentComplexToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((r,n)=>r+this._messageContentComplexToString(n),"")}}});var QS,cFe=C(()=>{tf();ch();Cj();QS=class extends _A{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){let r=kr.object(Object.fromEntries(Object.entries(e).map(([n,o])=>[n,kr.string().describe(o)])));return new this(r)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(Fi(this.schema))}
\`\`\`
`}async parse(e){try{let n=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,i)=>`"${i.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(n))}catch(r){throw new up(`Failed to parse. Text: "${e}". Error: ${r}`,e)}}}});var Iue=C(()=>{yse()});var ex,Due=C(()=>{QO();Iue();Pse();ex=class extends wA{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,r){if(r)return e?GV(e,r):[{op:"replace",path:"",value:r}]}async parsePartialResult(e){return Ese(e[0].text)}async parse(e){return Ese(e,JSON.parse)}getFormatInstructions(){return""}}});var dFe=C(()=>{});var fFe=C(()=>{QO();Iue();dFe()});var pFe=C(()=>{Cj();sFe();uFe();lFe();cFe();QO();Due();fFe()});var eE=C(()=>{pFe()});var kq,Oj,Ej,O5,$q=C(()=>{lA();Pq();JO();kq=class extends qc{},Oj=class extends kq{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Xa(this.value)]}},Ej=class extends kq{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return uf(this.messages)}toChatMessages(){return this.messages}},O5=class extends kq{static lc_name(){return"ImagePromptValue"}constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"imageUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new Xa({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}}});var tx,qq=C(()=>{$q();Pj();tx=class extends Py{async formatPromptValue(e){let r=await this.format(e);return new Oj(r)}}});function Nue(t){return typeof t=="function"}function H9t(t){return Mj(t)?"array":typeof t}function jue(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hFe(t,e){return t!=null&&typeof t=="object"&&e in t}function V9t(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}function J9t(t,e){return W9t.call(t,e)}function K9t(t){return!J9t(G9t,t)}function X9t(t){return String(t).replace(/[&<>"'`=\/]/g,function(r){return Y9t[r]})}function rWt(t,e){if(!t)return[];var r=!1,n=[],o=[],i=[],a=!1,s=!1,u="",l=0;function c(){if(a&&!s)for(;i.length;)delete o[i.pop()];else i=[];a=!1,s=!1}var d,f,p;function m(M){if(typeof M=="string"&&(M=M.split(Q9t,2)),!Mj(M)||M.length!==2)throw new Error("Invalid tags: "+M);d=new RegExp(jue(M[0])+"\\s*"),f=new RegExp("\\s*"+jue(M[1])),p=new RegExp("\\s*"+jue("}"+M[1]))}m(e||dh.tags);for(var h=new zq(t),v,g,_,S,x,O;!h.eos();){if(v=h.pos,_=h.scanUntil(d),_)for(var T=0,E=_.length;T<E;++T)S=_.charAt(T),K9t(S)?(i.push(o.length),u+=S):(s=!0,r=!0,u+=" "),o.push(["text",S,v,v+1]),v+=1,S===`
`&&(c(),u="",l=0,r=!1);if(!h.scan(d))break;if(a=!0,g=h.scan(tWt)||"name",h.scan(Z9t),g==="="?(_=h.scanUntil(mFe),h.scan(mFe),h.scanUntil(f)):g==="{"?(_=h.scanUntil(p),h.scan(eWt),h.scanUntil(f),g="&"):_=h.scanUntil(f),!h.scan(f))throw new Error("Unclosed tag at "+h.pos);if(g==">"?x=[g,_,v,h.pos,u,l,r]:x=[g,_,v,h.pos],l++,o.push(x),g==="#"||g==="^")n.push(x);else if(g==="/"){if(O=n.pop(),!O)throw new Error('Unopened section "'+_+'" at '+v);if(O[1]!==_)throw new Error('Unclosed section "'+O[1]+'" at '+v)}else g==="name"||g==="{"||g==="&"?s=!0:g==="="&&m(_)}if(c(),O=n.pop(),O)throw new Error('Unclosed section "'+O[1]+'" at '+h.pos);return oWt(nWt(o))}function nWt(t){for(var e=[],r,n,o=0,i=t.length;o<i;++o)r=t[o],r&&(r[0]==="text"&&n&&n[0]==="text"?(n[1]+=r[1],n[3]=r[3]):(e.push(r),n=r));return e}function oWt(t){for(var e=[],r=e,n=[],o,i,a=0,s=t.length;a<s;++a)switch(o=t[a],o[0]){case"#":case"^":r.push(o),n.push(o),r=o[4]=[];break;case"/":i=n.pop(),i[5]=o[2],r=n.length>0?n[n.length-1][4]:e;break;default:r.push(o)}return e}function zq(t){this.string=t,this.tail=t,this.pos=0}function Tj(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function Md(){this.templateCache={_cache:{},set:function(e,r){this._cache[e]=r},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}var z9t,Mj,W9t,G9t,Y9t,Z9t,Q9t,mFe,eWt,tWt,dh,Uq,E5,gFe=C(()=>{z9t=Object.prototype.toString,Mj=Array.isArray||function(e){return z9t.call(e)==="[object Array]"};W9t=RegExp.prototype.test;G9t=/\S/;Y9t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};Z9t=/\s*/,Q9t=/\s+/,mFe=/\s*=/,eWt=/\s*\}/,tWt=/#|\^|\/|>|\{|&|=|!/;zq.prototype.eos=function(){return this.tail===""};zq.prototype.scan=function(e){var r=this.tail.match(e);if(!r||r.index!==0)return"";var n=r[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};zq.prototype.scanUntil=function(e){var r=this.tail.search(e),n;switch(r){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=n.length,n};Tj.prototype.push=function(e){return new Tj(e,this)};Tj.prototype.lookup=function(e){var r=this.cache,n;if(r.hasOwnProperty(e))n=r[e];else{for(var o=this,i,a,s,u=!1;o;){if(e.indexOf(".")>0)for(i=o.view,a=e.split("."),s=0;i!=null&&s<a.length;)s===a.length-1&&(u=hFe(i,a[s])||V9t(i,a[s])),i=i[a[s++]];else i=o.view[e],u=hFe(o.view,e);if(u){n=i;break}o=o.parent}r[e]=n}return Nue(n)&&(n=n.call(this.view)),n};Md.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Md.prototype.parse=function(e,r){var n=this.templateCache,o=e+":"+(r||dh.tags).join(":"),i=typeof n<"u",a=i?n.get(o):void 0;return a==null&&(a=rWt(e,r),i&&n.set(o,a)),a};Md.prototype.render=function(e,r,n,o){var i=this.getConfigTags(o),a=this.parse(e,i),s=r instanceof Tj?r:new Tj(r,void 0);return this.renderTokens(a,s,n,e,o)};Md.prototype.renderTokens=function(e,r,n,o,i){for(var a="",s,u,l,c=0,d=e.length;c<d;++c)l=void 0,s=e[c],u=s[0],u==="#"?l=this.renderSection(s,r,n,o,i):u==="^"?l=this.renderInverted(s,r,n,o,i):u===">"?l=this.renderPartial(s,r,n,i):u==="&"?l=this.unescapedValue(s,r):u==="name"?l=this.escapedValue(s,r,i):u==="text"&&(l=this.rawValue(s)),l!==void 0&&(a+=l);return a};Md.prototype.renderSection=function(e,r,n,o,i){var a=this,s="",u=r.lookup(e[1]);function l(f){return a.render(f,r,n,i)}if(u){if(Mj(u))for(var c=0,d=u.length;c<d;++c)s+=this.renderTokens(e[4],r.push(u[c]),n,o,i);else if(typeof u=="object"||typeof u=="string"||typeof u=="number")s+=this.renderTokens(e[4],r.push(u),n,o,i);else if(Nue(u)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,o.slice(e[3],e[5]),l),u!=null&&(s+=u)}else s+=this.renderTokens(e[4],r,n,o,i);return s}};Md.prototype.renderInverted=function(e,r,n,o,i){var a=r.lookup(e[1]);if(!a||Mj(a)&&a.length===0)return this.renderTokens(e[4],r,n,o,i)};Md.prototype.indentPartial=function(e,r,n){for(var o=r.replace(/[^ \t]/g,""),i=e.split(`
`),a=0;a<i.length;a++)i[a].length&&(a>0||!n)&&(i[a]=o+i[a]);return i.join(`
`)};Md.prototype.renderPartial=function(e,r,n,o){if(n){var i=this.getConfigTags(o),a=Nue(n)?n(e[1]):n[e[1]];if(a!=null){var s=e[6],u=e[5],l=e[4],c=a;u==0&&l&&(c=this.indentPartial(a,l,s));var d=this.parse(c,i);return this.renderTokens(d,r,n,c,o)}}};Md.prototype.unescapedValue=function(e,r){var n=r.lookup(e[1]);if(n!=null)return n};Md.prototype.escapedValue=function(e,r,n){var o=this.getConfigEscape(n)||dh.escape,i=r.lookup(e[1]);if(i!=null)return typeof i=="number"&&o===dh.escape?String(i):o(i)};Md.prototype.rawValue=function(e){return e[1]};Md.prototype.getConfigTags=function(e){return Mj(e)?e:e&&typeof e=="object"?e.tags:void 0};Md.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Mj(e))return e.escape};dh={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){Uq.templateCache=t},get templateCache(){return Uq.templateCache}},Uq=new Md;dh.clearCache=function(){return Uq.clearCache()};dh.parse=function(e,r){return Uq.parse(e,r)};dh.render=function(e,r,n,o){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+H9t(e)+'" was given as the first argument for mustache#render(template, view, partials)');return Uq.render(e,r,n,o)};dh.escape=X9t;dh.Scanner=zq;dh.Context=Tj;dh.Writer=Md;E5=dh});function yFe(){E5.escape=t=>t}var Hq,iWt,P5,aWt,sWt,Lue,uWt,Gm,bFe,SA,Aj=C(()=>{gFe();Oq();Hq=t=>{let e=t.split(""),r=[],n=(i,a)=>{for(let s=a;s<e.length;s+=1)if(i.includes(e[s]))return s;return-1},o=0;for(;o<e.length;)if(e[o]==="{"&&o+1<e.length&&e[o+1]==="{")r.push({type:"literal",text:"{"}),o+=2;else if(e[o]==="}"&&o+1<e.length&&e[o+1]==="}")r.push({type:"literal",text:"}"}),o+=2;else if(e[o]==="{"){let i=n("}",o);if(i<0)throw new Error("Unclosed '{' in template.");r.push({type:"variable",name:e.slice(o+1,i).join("")}),o=i+1}else{if(e[o]==="}")throw new Error("Single '}' in template.");{let i=n("{}",o),a=(i<0?e.slice(o):e.slice(o,i)).join("");r.push({type:"literal",text:a}),o=i<0?e.length:i}}return r},iWt=t=>t.map(e=>e[0]==="name"?{type:"variable",name:e[1].includes(".")?e[1].split(".")[0]:e[1]}:["#","&","^",">"].includes(e[0])?{type:"variable",name:e[1]}:{type:"literal",text:e[1]}),P5=t=>{yFe();let e=E5.parse(t);return iWt(e)},aWt=(t,e)=>Hq(t).reduce((r,n)=>{if(n.type==="variable"){if(n.name in e){let o=typeof e[n.name]=="string"?e[n.name]:JSON.stringify(e[n.name]);return r+o}throw new Error(`(f-string) Missing value for input ${n.name}`)}return r+n.text},""),sWt=(t,e)=>(yFe(),E5.render(t,e)),Lue={"f-string":aWt,mustache:sWt},uWt={"f-string":Hq,mustache:P5},Gm=(t,e,r)=>{try{return Lue[e](t,r)}catch(n){throw WO(n,"INVALID_PROMPT_INPUT")}},bFe=(t,e)=>uWt[e](t),SA=(t,e,r)=>{if(!(e in Lue)){let n=Object.keys(Lue);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${n}`)}try{let n=r.reduce((o,i)=>(o[i]="foo",o),{});Array.isArray(t)?t.forEach(o=>{if(o.type==="text")Gm(o.text,e,n);else if(o.type==="image_url")if(typeof o.image_url=="string")Gm(o.image_url,e,n);else{let i=o.image_url.url;Gm(i,e,n)}else throw new Error(`Invalid message template received. ${JSON.stringify(o,null,2)}`)}):Gm(t,e,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}}});var Fue={};Qd(Fue,{PromptTemplate:()=>ms});var ms,Rj=C(()=>{qq();Aj();ms=class extends tx{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),SA(this.template,this.templateFormat,r)}}_getPromptType(){return"prompt"}async format(e){let r=await this.mergePartialAndUserVariables(e);return Gm(this.template,this.templateFormat,r)}static fromExamples(e,r,n,o=`

`,i=""){let a=[i,...e,r].join(o);return new ms({inputVariables:n,template:a})}static fromTemplate(e,r){let{templateFormat:n="f-string",...o}=r??{},i=new Set;return bFe(e,n).forEach(a=>{a.type==="variable"&&i.add(a.name)}),new ms({inputVariables:[...i],templateFormat:n,template:e,...o})}async partial(e){let r=this.inputVariables.filter(i=>!(i in e)),n={...this.partialVariables??{},...e},o={...this,inputVariables:r,partialVariables:n};return new ms(o)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new ms({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}});var tE,Bue=C(()=>{$q();Pj();Aj();tE=class extends Py{static lc_name(){return"ImagePromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","image"]}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"additionalContentFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e.template,this.templateFormat=e.templateFormat??this.templateFormat,this.validateTemplate=e.validateTemplate??this.validateTemplate,this.additionalContentFields=e.additionalContentFields,this.validateTemplate){let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),SA([{type:"image_url",image_url:this.template}],this.templateFormat,r)}}_getPromptType(){return"prompt"}async partial(e){let r=this.inputVariables.filter(i=>!(i in e)),n={...this.partialVariables??{},...e},o={...this,inputVariables:r,partialVariables:n};return new tE(o)}async format(e){let r={};for(let[a,s]of Object.entries(this.template))typeof s=="string"?r[a]=Gm(s,this.templateFormat,e):r[a]=s;let n=e.url||r.url,o=e.detail||r.detail;if(!n)throw new Error("Must provide either an image URL.");if(typeof n!="string")throw new Error("url must be a string.");let i={url:n};return o&&(i.detail=o),i}async formatPromptValue(e){let r=await this.format(e);return new O5(r)}}});function lWt(t){return typeof t.formatMessages=="function"}function cWt(t,e){if(lWt(t)||sh(t))return t;if(Array.isArray(t)&&t[0]==="placeholder"){let o=t[1];if(e?.templateFormat==="mustache"&&typeof o=="string"&&o.slice(0,2)==="{{"&&o.slice(-2)==="}}"){let i=o.slice(2,-2);return new rE({variableName:i,optional:!0})}else if(typeof o=="string"&&o[0]==="{"&&o[o.length-1]==="}"){let i=o.slice(1,-1);return new rE({variableName:i,optional:!0})}throw new Error(`Invalid placeholder template for format ${e?.templateFormat??'"f-string"'}: "${t[1]}". Expected a variable name surrounded by ${e?.templateFormat==="mustache"?"double":"single"} curly braces.`)}let r=Um(t),n;if(typeof r.content=="string"?n=r.content:n=r.content.map(o=>"text"in o?{...o,text:o.text}:"image_url"in o?{...o,image_url:o.image_url}:o),r._getType()==="human")return nE.fromTemplate(n,e);if(r._getType()==="ai")return que.fromTemplate(n,e);if(r._getType()==="system")return Ij.fromTemplate(n,e);if(Gl.isInstance(r))return $ue.fromTemplate(r.content,r.role,e);throw new Error(`Could not coerce message prompt template from input. Received message type: "${r._getType()}".`)}function dWt(t){return t.constructor.lc_name()==="MessagesPlaceholder"}var Vq,rE,kue,Wq,$ue,Jq,nE,que,Ij,zc,Gq=C(()=>{yA();$q();df();qq();Pj();Rj();Bue();Aj();Oq();Vq=class extends Qr{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(e,r){return this._callWithConfig(n=>this.formatMessages(n),e,{...r,runType:"prompt"})}},rE=class extends Vq{static lc_name(){return"MessagesPlaceholder"}constructor(e){typeof e=="string"&&(e={variableName:e}),super(e),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"optional",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){let r=e[this.variableName];if(this.optional&&!r)return[];if(!r){let o=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw o.name="InputFormatError",o}let n;try{Array.isArray(r)?n=r.map(Um):n=[Um(r)]}catch(o){let i=typeof r=="string"?r:JSON.stringify(r,null,2),a=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${i}`,`Additional message: ${o.message}`].join(`

`));throw a.name="InputFormatError",a.lc_error_code=o.lc_error_code,a}return n}},kue=class extends Vq{constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}},Wq=class extends Py{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){let r=await this.formatMessages(e);return new Ej(r)}},$ue=class extends kue{static lc_name(){return"ChatMessagePromptTemplate"}constructor(e,r){"prompt"in e||(e={prompt:e,role:r}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}async format(e){return new Gl(await this.prompt.format(e),this.role)}static fromTemplate(e,r,n){return new this(ms.fromTemplate(e,{templateFormat:n?.templateFormat}),r)}},Jq=class extends Vq{static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}constructor(e,r){if("prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"additionalOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chatMessageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,Array.isArray(this.prompt)){let n=[];this.prompt.forEach(o=>{"inputVariables"in o&&(n=n.concat(o.inputVariables))}),this.inputVariables=n}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=r??this.additionalOptions}createMessage(e){let r=this.constructor;if(r._messageClass()){let n=r._messageClass();return new n({content:e})}else if(r.chatMessageClass){let n=r.chatMessageClass();return new n({content:e,role:this.getRoleFromMessageClass(n.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,r){if(typeof e=="string")return new this(ms.fromTemplate(e,r));let n=[];for(let o of e)if(typeof o=="string"||typeof o=="object"&&"text"in o){let i="";typeof o=="string"?i=o:typeof o.text=="string"&&(i=o.text??"");let a={...r,...typeof o!="string"?{additionalContentFields:o}:{}};n.push(ms.fromTemplate(i,a))}else if(typeof o=="object"&&"image_url"in o){let i=o.image_url??"",a,s=[];if(typeof i=="string"){let u;r?.templateFormat==="mustache"?u=P5(i):u=Hq(i);let l=u.flatMap(c=>c.type==="variable"?[c.name]:[]);if((l?.length??0)>0){if(l.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${l}
From: ${i}`);s=[l[0]]}else s=[];i={url:i},a=new tE({template:i,inputVariables:s,templateFormat:r?.templateFormat,additionalContentFields:o})}else if(typeof i=="object"){if("url"in i){let u;r?.templateFormat==="mustache"?u=P5(i.url):u=Hq(i.url),s=u.flatMap(l=>l.type==="variable"?[l.name]:[])}else s=[];a=new tE({template:i,inputVariables:s,templateFormat:r?.templateFormat,additionalContentFields:o})}else throw new Error("Invalid image template");n.push(a)}return new this({prompt:n,additionalOptions:r})}async format(e){if(this.prompt instanceof tx){let r=await this.prompt.format(e);return this.createMessage(r)}else{let r=[];for(let n of this.prompt){let o={};if(!("inputVariables"in n))throw new Error(`Prompt ${n} does not have inputVariables defined.`);for(let i of n.inputVariables)o||(o={[i]:e[i]}),o={...o,[i]:e[i]};if(n instanceof tx){let i=await n.format(o),a;"additionalContentFields"in n&&(a=n.additionalContentFields),r.push({...a,type:"text",text:i})}else if(n instanceof tE){let i=await n.format(o),a;"additionalContentFields"in n&&(a=n.additionalContentFields),r.push({...a,type:"image_url",image_url:i})}}return this.createMessage(r)}}async formatMessages(e){return[await this.format(e)]}},nE=class extends Jq{static _messageClass(){return Xa}static lc_name(){return"HumanMessagePromptTemplate"}},que=class extends Jq{static _messageClass(){return Po}static lc_name(){return"AIMessagePromptTemplate"}},Ij=class extends Jq{static _messageClass(){return YS}static lc_name(){return"SystemMessagePromptTemplate"}};zc=class extends Wq{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),e.templateFormat==="mustache"&&e.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){let r=new Set;for(let s of this.promptMessages)if(!(s instanceof Wu))for(let u of s.inputVariables)r.add(u);let n=this.inputVariables,o=new Set(this.partialVariables?n.concat(Object.keys(this.partialVariables)):n),i=new Set([...o].filter(s=>!r.has(s)));if(i.size>0)throw new Error(`Input variables \`${[...i]}\` are not used in any of the prompt messages.`);let a=new Set([...r].filter(s=>!o.has(s)));if(a.size>0)throw new Error(`Input variables \`${[...a]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(e,r){if(typeof e.content=="string")return e;let n=await Promise.all(e.content.map(async o=>{if(o.type!=="image_url")return o;let i="";typeof o.image_url=="string"?i=o.image_url:i=o.image_url.url;let s=await ms.fromTemplate(i,{templateFormat:this.templateFormat}).format(r);return typeof o.image_url!="string"&&"url"in o.image_url?o.image_url.url=s:o.image_url=s,o}));return e.content=n,e}async formatMessages(e){let r=await this.mergePartialAndUserVariables(e),n=[];for(let o of this.promptMessages)if(o instanceof Wu)n.push(await this._parseImagePrompts(o,r));else{let i=o.inputVariables.reduce((s,u)=>{if(!(u in r)&&!(dWt(o)&&o.optional))throw WO(new Error(`Missing value for input variable \`${u.toString()}\``),"INVALID_PROMPT_INPUT");return s[u]=r[u],s},{}),a=await o.formatMessages(i);n=n.concat(a)}return n}async partial(e){let r=this.inputVariables.filter(i=>!(i in e)),n={...this.partialVariables??{},...e},o={...this,inputVariables:r,partialVariables:n};return new zc(o)}static fromTemplate(e,r){let n=ms.fromTemplate(e,r),o=new nE({prompt:n});return this.fromMessages([o])}static fromMessages(e,r){let n=e.reduce((a,s)=>a.concat(s instanceof zc?s.promptMessages:[cWt(s,r)]),[]),o=e.reduce((a,s)=>s instanceof zc?Object.assign(a,s.partialVariables):a,Object.create(null)),i=new Set;for(let a of n)if(!(a instanceof Wu))for(let s of a.inputVariables)s in o||i.add(s);return new this({...r,inputVariables:[...i],promptMessages:n,partialVariables:o,templateFormat:r?.templateFormat})}static fromPromptMessages(e){return this.fromMessages(e)}}});var _Fe={};Qd(_Fe,{FewShotChatMessagePromptTemplate:()=>Kq,FewShotPromptTemplate:()=>Dj});var Dj,Kq,Uue=C(()=>{qq();Aj();Rj();Gq();Dj=class extends tx{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),SA(this.prefix+this.suffix,this.templateFormat,r)}}_getPromptType(){return"few_shot"}static lc_name(){return"FewShotPromptTemplate"}async getExamples(e){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){let r=this.inputVariables.filter(i=>!(i in e)),n={...this.partialVariables??{},...e},o={...this,inputVariables:r,partialVariables:n};return new Dj(o)}async format(e){let r=await this.mergePartialAndUserVariables(e),n=await this.getExamples(r),o=await Promise.all(n.map(a=>this.examplePrompt.format(a))),i=[this.prefix,...o,this.suffix].join(this.exampleSeparator);return Gm(i,this.templateFormat,r)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(this.outputParser!==void 0)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){let{example_prompt:r}=e;if(!r)throw new Error("Missing example prompt");let n=await ms.deserialize(r),o;if(Array.isArray(e.examples))o=e.examples;else throw new Error("Invalid examples format. Only list or string are supported.");return new Dj({inputVariables:e.input_variables,examplePrompt:n,examples:o,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}},Kq=class extends Wq{_getPromptType(){return"few_shot_chat"}static lc_name(){return"FewShotChatMessagePromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:`

`}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.examples=e.examples,this.examplePrompt=e.examplePrompt,this.exampleSeparator=e.exampleSeparator??`

`,this.exampleSelector=e.exampleSelector,this.prefix=e.prefix??"",this.suffix=e.suffix??"",this.templateFormat=e.templateFormat??"f-string",this.validateTemplate=e.validateTemplate??!0,this.examples!==void 0&&this.exampleSelector!==void 0)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(this.examples===void 0&&this.exampleSelector===void 0)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),SA(this.prefix+this.suffix,this.templateFormat,r)}}async getExamples(e){if(this.examples!==void 0)return this.examples;if(this.exampleSelector!==void 0)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async formatMessages(e){let r=await this.mergePartialAndUserVariables(e),n=await this.getExamples(r);n=n.map(i=>{let a={};return this.examplePrompt.inputVariables.forEach(s=>{a[s]=i[s]}),a});let o=[];for(let i of n){let a=await this.examplePrompt.formatMessages(i);o.push(...a)}return o}async format(e){let r=await this.mergePartialAndUserVariables(e),n=await this.getExamples(r),i=(await Promise.all(n.map(s=>this.examplePrompt.formatMessages(s)))).flat().map(s=>s.content),a=[this.prefix,...i,this.suffix].join(this.exampleSeparator);return Gm(a,this.templateFormat,r)}async partial(e){let r=this.inputVariables.filter(i=>!(i in e)),n={...this.partialVariables??{},...e},o={...this,inputVariables:r,partialVariables:n};return new Kq(o)}}});var Py,Pj=C(()=>{df();Py=class extends Qr{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{inputVariables:r}=e;if(r.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){let r=this.partialVariables??{},n={};for(let[i,a]of Object.entries(r))typeof a=="string"?n[i]=a:n[i]=await a();return{...n,...e}}async invoke(e,r){let n={...this.metadata,...r?.metadata},o=[...this.tags??[],...r?.tags??[]];return this._callWithConfig(i=>this.formatPromptValue(i),e,{...r,tags:o,metadata:n,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{let{PromptTemplate:r}=await Promise.resolve().then(()=>(Rj(),Fue));return r.deserialize(e)}case void 0:{let{PromptTemplate:r}=await Promise.resolve().then(()=>(Rj(),Fue));return r.deserialize({...e,_type:"prompt"})}case"few_shot":{let{FewShotPromptTemplate:r}=await Promise.resolve().then(()=>(Uue(),_Fe));return r.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}});var vFe=C(()=>{Pj();Gq()});var wFe=C(()=>{});var SFe=C(()=>{Gq()});var xFe=C(()=>{Pj();Gq();Uue();vFe();Rj();wFe();qq();Aj();Bue();SFe()});var xA=C(()=>{xFe()});var rx=C(()=>{Pue()});var YFe=b(en=>{"use strict";var tU=Symbol.for("react.element"),SWt=Symbol.for("react.portal"),xWt=Symbol.for("react.fragment"),CWt=Symbol.for("react.strict_mode"),OWt=Symbol.for("react.profiler"),EWt=Symbol.for("react.provider"),PWt=Symbol.for("react.context"),TWt=Symbol.for("react.forward_ref"),MWt=Symbol.for("react.suspense"),AWt=Symbol.for("react.memo"),RWt=Symbol.for("react.lazy"),$Fe=Symbol.iterator;function IWt(t){return t===null||typeof t!="object"?null:(t=$Fe&&t[$Fe]||t["@@iterator"],typeof t=="function"?t:null)}var zFe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HFe=Object.assign,VFe={};function Nj(t,e,r){this.props=t,this.context=e,this.refs=VFe,this.updater=r||zFe}Nj.prototype.isReactComponent={};Nj.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nj.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WFe(){}WFe.prototype=Nj.prototype;function ile(t,e,r){this.props=t,this.context=e,this.refs=VFe,this.updater=r||zFe}var ale=ile.prototype=new WFe;ale.constructor=ile;HFe(ale,Nj.prototype);ale.isPureReactComponent=!0;var qFe=Array.isArray,JFe=Object.prototype.hasOwnProperty,sle={current:null},GFe={key:!0,ref:!0,__self:!0,__source:!0};function KFe(t,e,r){var n,o={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)JFe.call(e,n)&&!GFe.hasOwnProperty(n)&&(o[n]=e[n]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)o[n]===void 0&&(o[n]=s[n]);return{$$typeof:tU,type:t,key:i,ref:a,props:o,_owner:sle.current}}function DWt(t,e){return{$$typeof:tU,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ule(t){return typeof t=="object"&&t!==null&&t.$$typeof===tU}function jWt(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var UFe=/\/+/g;function ole(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jWt(""+t.key):e.toString(36)}function k5(t,e,r,n,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tU:case SWt:a=!0}}if(a)return a=t,o=o(a),t=n===""?"."+ole(a,0):n,qFe(o)?(r="",t!=null&&(r=t.replace(UFe,"$&/")+"/"),k5(o,e,r,"",function(l){return l})):o!=null&&(ule(o)&&(o=DWt(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(UFe,"$&/")+"/")+t)),e.push(o)),1;if(a=0,n=n===""?".":n+":",qFe(t))for(var s=0;s<t.length;s++){i=t[s];var u=n+ole(i,s);a+=k5(i,e,r,u,o)}else if(u=IWt(t),typeof u=="function")for(t=u.call(t),s=0;!(i=t.next()).done;)i=i.value,u=n+ole(i,s++),a+=k5(i,e,r,u,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function B5(t,e,r){if(t==null)return t;var n=[],o=0;return k5(t,n,"","",function(i){return e.call(r,i,o++)}),n}function NWt(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ad={current:null},$5={transition:null},LWt={ReactCurrentDispatcher:Ad,ReactCurrentBatchConfig:$5,ReactCurrentOwner:sle};en.Children={map:B5,forEach:function(t,e,r){B5(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return B5(t,function(){e++}),e},toArray:function(t){return B5(t,function(e){return e})||[]},only:function(t){if(!ule(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};en.Component=Nj;en.Fragment=xWt;en.Profiler=OWt;en.PureComponent=ile;en.StrictMode=CWt;en.Suspense=MWt;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LWt;en.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=HFe({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=sle.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)JFe.call(e,u)&&!GFe.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:tU,type:t.type,key:o,ref:i,props:n,_owner:a}};en.createContext=function(t){return t={$$typeof:PWt,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EWt,_context:t},t.Consumer=t};en.createElement=KFe;en.createFactory=function(t){var e=KFe.bind(null,t);return e.type=t,e};en.createRef=function(){return{current:null}};en.forwardRef=function(t){return{$$typeof:TWt,render:t}};en.isValidElement=ule;en.lazy=function(t){return{$$typeof:RWt,_payload:{_status:-1,_result:t},_init:NWt}};en.memo=function(t,e){return{$$typeof:AWt,type:t,compare:e===void 0?null:e}};en.startTransition=function(t){var e=$5.transition;$5.transition={};try{t()}finally{$5.transition=e}};en.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};en.useCallback=function(t,e){return Ad.current.useCallback(t,e)};en.useContext=function(t){return Ad.current.useContext(t)};en.useDebugValue=function(){};en.useDeferredValue=function(t){return Ad.current.useDeferredValue(t)};en.useEffect=function(t,e){return Ad.current.useEffect(t,e)};en.useId=function(){return Ad.current.useId()};en.useImperativeHandle=function(t,e,r){return Ad.current.useImperativeHandle(t,e,r)};en.useInsertionEffect=function(t,e){return Ad.current.useInsertionEffect(t,e)};en.useLayoutEffect=function(t,e){return Ad.current.useLayoutEffect(t,e)};en.useMemo=function(t,e){return Ad.current.useMemo(t,e)};en.useReducer=function(t,e,r){return Ad.current.useReducer(t,e,r)};en.useRef=function(t){return Ad.current.useRef(t)};en.useState=function(t){return Ad.current.useState(t)};en.useSyncExternalStore=function(t,e,r){return Ad.current.useSyncExternalStore(t,e,r)};en.useTransition=function(){return Ad.current.useTransition()};en.version="18.2.0"});var Z=b((iOn,XFe)=>{"use strict";XFe.exports=YFe()});var yBe=b(ii=>{"use strict";function gle(t,e){var r=t.length;t.push(e);e:for(;0<r;){var n=r-1>>>1,o=t[n];if(0<J5(o,e))t[n]=e,t[r]=o,r=n;else break e}}function Xm(t){return t.length===0?null:t[0]}function K5(t){if(t.length===0)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,o=t.length,i=o>>>1;n<i;){var a=2*(n+1)-1,s=t[a],u=a+1,l=t[u];if(0>J5(s,r))u<o&&0>J5(l,s)?(t[n]=l,t[u]=r,n=u):(t[n]=s,t[a]=r,n=a);else if(u<o&&0>J5(l,r))t[n]=l,t[u]=r,n=u;else break e}}return e}function J5(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(uBe=performance,ii.unstable_now=function(){return uBe.now()}):(ple=Date,lBe=ple.now(),ii.unstable_now=function(){return ple.now()-lBe});var uBe,ple,lBe,Ry=[],fE=[],qWt=1,fh=null,Vc=3,Y5=!1,MA=!1,nU=!1,fBe=typeof setTimeout=="function"?setTimeout:null,pBe=typeof clearTimeout=="function"?clearTimeout:null,cBe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yle(t){for(var e=Xm(fE);e!==null;){if(e.callback===null)K5(fE);else if(e.startTime<=t)K5(fE),e.sortIndex=e.expirationTime,gle(Ry,e);else break;e=Xm(fE)}}function ble(t){if(nU=!1,yle(t),!MA)if(Xm(Ry)!==null)MA=!0,vle(_le);else{var e=Xm(fE);e!==null&&wle(ble,e.startTime-t)}}function _le(t,e){MA=!1,nU&&(nU=!1,pBe(oU),oU=-1),Y5=!0;var r=Vc;try{for(yle(e),fh=Xm(Ry);fh!==null&&(!(fh.expirationTime>e)||t&&!gBe());){var n=fh.callback;if(typeof n=="function"){fh.callback=null,Vc=fh.priorityLevel;var o=n(fh.expirationTime<=e);e=ii.unstable_now(),typeof o=="function"?fh.callback=o:fh===Xm(Ry)&&K5(Ry),yle(e)}else K5(Ry);fh=Xm(Ry)}if(fh!==null)var i=!0;else{var a=Xm(fE);a!==null&&wle(ble,a.startTime-e),i=!1}return i}finally{fh=null,Vc=r,Y5=!1}}var X5=!1,G5=null,oU=-1,hBe=5,mBe=-1;function gBe(){return!(ii.unstable_now()-mBe<hBe)}function hle(){if(G5!==null){var t=ii.unstable_now();mBe=t;var e=!0;try{e=G5(!0,t)}finally{e?rU():(X5=!1,G5=null)}}else X5=!1}var rU;typeof cBe=="function"?rU=function(){cBe(hle)}:typeof MessageChannel<"u"?(mle=new MessageChannel,dBe=mle.port2,mle.port1.onmessage=hle,rU=function(){dBe.postMessage(null)}):rU=function(){fBe(hle,0)};var mle,dBe;function vle(t){G5=t,X5||(X5=!0,rU())}function wle(t,e){oU=fBe(function(){t(ii.unstable_now())},e)}ii.unstable_IdlePriority=5;ii.unstable_ImmediatePriority=1;ii.unstable_LowPriority=4;ii.unstable_NormalPriority=3;ii.unstable_Profiling=null;ii.unstable_UserBlockingPriority=2;ii.unstable_cancelCallback=function(t){t.callback=null};ii.unstable_continueExecution=function(){MA||Y5||(MA=!0,vle(_le))};ii.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):hBe=0<t?Math.floor(1e3/t):5};ii.unstable_getCurrentPriorityLevel=function(){return Vc};ii.unstable_getFirstCallbackNode=function(){return Xm(Ry)};ii.unstable_next=function(t){switch(Vc){case 1:case 2:case 3:var e=3;break;default:e=Vc}var r=Vc;Vc=e;try{return t()}finally{Vc=r}};ii.unstable_pauseExecution=function(){};ii.unstable_requestPaint=function(){};ii.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=Vc;Vc=t;try{return e()}finally{Vc=r}};ii.unstable_scheduleCallback=function(t,e,r){var n=ii.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=r+o,t={id:qWt++,callback:e,priorityLevel:t,startTime:r,expirationTime:o,sortIndex:-1},r>n?(t.sortIndex=r,gle(fE,t),Xm(Ry)===null&&t===Xm(fE)&&(nU?(pBe(oU),oU=-1):nU=!0,wle(ble,r-n))):(t.sortIndex=o,gle(Ry,t),MA||Y5||(MA=!0,vle(_le))),t};ii.unstable_shouldYield=gBe;ii.unstable_wrapCallback=function(t){var e=Vc;return function(){var r=Vc;Vc=e;try{return t.apply(this,arguments)}finally{Vc=r}}}});var _Be=b((bOn,bBe)=>{"use strict";bBe.exports=yBe()});var Oqe=b(mp=>{"use strict";var Eke=Z(),pp=_Be();function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pke=new Set,EU={};function UA(t,e){nN(t,e),nN(t+"Capture",e)}function nN(t,e){for(EU[t]=e,t=0;t<e.length;t++)Pke.add(e[t])}var cx=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hle=Object.prototype.hasOwnProperty,UWt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vBe={},wBe={};function zWt(t){return Hle.call(wBe,t)?!0:Hle.call(vBe,t)?!1:UWt.test(t)?wBe[t]=!0:(vBe[t]=!0,!1)}function HWt(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VWt(t,e,r,n){if(e===null||typeof e>"u"||HWt(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dd(t,e,r,n,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Xl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xl[t]=new Dd(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xl[e]=new Dd(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xl[t]=new Dd(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xl[t]=new Dd(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xl[t]=new Dd(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xl[t]=new Dd(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xl[t]=new Dd(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xl[t]=new Dd(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xl[t]=new Dd(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lce=/[\-:]([a-z])/g;function Fce(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lce,Fce);Xl[e]=new Dd(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lce,Fce);Xl[e]=new Dd(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lce,Fce);Xl[e]=new Dd(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xl[t]=new Dd(t,1,!1,t.toLowerCase(),null,!1,!1)});Xl.xlinkHref=new Dd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xl[t]=new Dd(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bce(t,e,r,n){var o=Xl.hasOwnProperty(e)?Xl[e]:null;(o!==null?o.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VWt(e,r,o,n)&&(r=null),n||o===null?zWt(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):o.mustUseProperty?t[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,n=o.attributeNamespace,r===null?t.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var hx=Eke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z5=Symbol.for("react.element"),kj=Symbol.for("react.portal"),$j=Symbol.for("react.fragment"),kce=Symbol.for("react.strict_mode"),Vle=Symbol.for("react.profiler"),Tke=Symbol.for("react.provider"),Mke=Symbol.for("react.context"),$ce=Symbol.for("react.forward_ref"),Wle=Symbol.for("react.suspense"),Jle=Symbol.for("react.suspense_list"),qce=Symbol.for("react.memo"),hE=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Ake=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var SBe=Symbol.iterator;function iU(t){return t===null||typeof t!="object"?null:(t=SBe&&t[SBe]||t["@@iterator"],typeof t=="function"?t:null)}var aa=Object.assign,Sle;function pU(t){if(Sle===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Sle=e&&e[1]||""}return`
`+Sle+t}var xle=!1;function Cle(t,e){if(!t||xle)return"";xle=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=n.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var u=`
`+o[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{xle=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pU(t):""}function WWt(t){switch(t.tag){case 5:return pU(t.type);case 16:return pU("Lazy");case 13:return pU("Suspense");case 19:return pU("SuspenseList");case 0:case 2:case 15:return t=Cle(t.type,!1),t;case 11:return t=Cle(t.type.render,!1),t;case 1:return t=Cle(t.type,!0),t;default:return""}}function Gle(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $j:return"Fragment";case kj:return"Portal";case Vle:return"Profiler";case kce:return"StrictMode";case Wle:return"Suspense";case Jle:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mke:return(t.displayName||"Context")+".Consumer";case Tke:return(t._context.displayName||"Context")+".Provider";case $ce:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qce:return e=t.displayName||null,e!==null?e:Gle(t.type)||"Memo";case hE:e=t._payload,t=t._init;try{return Gle(t(e))}catch{}}return null}function JWt(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gle(e);case 8:return e===kce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function TE(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rke(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GWt(t){var e=Rke(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Q5(t){t._valueTracker||(t._valueTracker=GWt(t))}function Ike(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Rke(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function P9(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kle(t,e){var r=e.checked;return aa({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xBe(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=TE(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dke(t,e){e=e.checked,e!=null&&Bce(t,"checked",e,!1)}function Yle(t,e){Dke(t,e);var r=TE(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xle(t,e.type,r):e.hasOwnProperty("defaultValue")&&Xle(t,e.type,TE(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CBe(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xle(t,e,r){(e!=="number"||P9(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hU=Array.isArray;function Xj(t,e,r,n){if(t=t.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=e.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&n&&(t[r].defaultSelected=!0)}else{for(r=""+TE(r),e=null,o=0;o<t.length;o++){if(t[o].value===r){t[o].selected=!0,n&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Zle(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return aa({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function OBe(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(hU(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:TE(r)}}function jke(t,e){var r=TE(e.value),n=TE(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function EBe(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nke(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qle(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nke(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var e9,Lke=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,o){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(e9=e9||document.createElement("div"),e9.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=e9.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function PU(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yU={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KWt=["Webkit","ms","Moz","O"];Object.keys(yU).forEach(function(t){KWt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yU[e]=yU[t]})});function Fke(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yU.hasOwnProperty(t)&&yU[t]?(""+e).trim():e+"px"}function Bke(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Fke(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,o):t[r]=o}}var YWt=aa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ece(t,e){if(e){if(YWt[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function tce(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rce=null;function Uce(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nce=null,Zj=null,Qj=null;function PBe(t){if(t=VU(t)){if(typeof nce!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=tW(e),nce(t.stateNode,t.type,e))}}function kke(t){Zj?Qj?Qj.push(t):Qj=[t]:Zj=t}function $ke(){if(Zj){var t=Zj,e=Qj;if(Qj=Zj=null,PBe(t),e)for(t=0;t<e.length;t++)PBe(e[t])}}function qke(t,e){return t(e)}function Uke(){}var Ole=!1;function zke(t,e,r){if(Ole)return t(e,r);Ole=!0;try{return qke(t,e,r)}finally{Ole=!1,(Zj!==null||Qj!==null)&&(Uke(),$ke())}}function TU(t,e){var r=t.stateNode;if(r===null)return null;var n=tW(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var oce=!1;if(cx)try{Fj={},Object.defineProperty(Fj,"passive",{get:function(){oce=!0}}),window.addEventListener("test",Fj,Fj),window.removeEventListener("test",Fj,Fj)}catch{oce=!1}var Fj;function XWt(t,e,r,n,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var bU=!1,T9=null,M9=!1,ice=null,ZWt={onError:function(t){bU=!0,T9=t}};function QWt(t,e,r,n,o,i,a,s,u){bU=!1,T9=null,XWt.apply(ZWt,arguments)}function eJt(t,e,r,n,o,i,a,s,u){if(QWt.apply(this,arguments),bU){if(bU){var l=T9;bU=!1,T9=null}else throw Error(Oe(198));M9||(M9=!0,ice=l)}}function zA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hke(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TBe(t){if(zA(t)!==t)throw Error(Oe(188))}function tJt(t){var e=t.alternate;if(!e){if(e=zA(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return TBe(o),t;if(i===n)return TBe(o),e;i=i.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function Vke(t){return t=tJt(t),t!==null?Wke(t):null}function Wke(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wke(t);if(e!==null)return e;t=t.sibling}return null}var Jke=pp.unstable_scheduleCallback,MBe=pp.unstable_cancelCallback,rJt=pp.unstable_shouldYield,nJt=pp.unstable_requestPaint,Qa=pp.unstable_now,oJt=pp.unstable_getCurrentPriorityLevel,zce=pp.unstable_ImmediatePriority,Gke=pp.unstable_UserBlockingPriority,A9=pp.unstable_NormalPriority,iJt=pp.unstable_LowPriority,Kke=pp.unstable_IdlePriority,X9=null,Ny=null;function aJt(t){if(Ny&&typeof Ny.onCommitFiberRoot=="function")try{Ny.onCommitFiberRoot(X9,t,void 0,(t.current.flags&128)===128)}catch{}}var rg=Math.clz32?Math.clz32:lJt,sJt=Math.log,uJt=Math.LN2;function lJt(t){return t>>>=0,t===0?32:31-(sJt(t)/uJt|0)|0}var t9=64,r9=4194304;function mU(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function R9(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,o=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~o;s!==0?n=mU(s):(i&=a,i!==0&&(n=mU(i)))}else a=r&~o,a!==0?n=mU(a):i!==0&&(n=mU(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&o)&&(o=n&-n,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rg(e),o=1<<r,n|=t[r],e&=~o;return n}function cJt(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dJt(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-rg(i),s=1<<a,u=o[a];u===-1?(!(s&r)||s&n)&&(o[a]=cJt(s,e)):u<=e&&(t.expiredLanes|=s),i&=~s}}function ace(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yke(){var t=t9;return t9<<=1,!(t9&4194240)&&(t9=64),t}function Ele(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zU(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rg(e),t[e]=r}function fJt(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var o=31-rg(r),i=1<<o;e[o]=0,n[o]=-1,t[o]=-1,r&=~i}}function Hce(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-rg(r),o=1<<n;o&e|t[n]&e&&(t[n]|=e),r&=~o}}var Lo=0;function Xke(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zke,Vce,Qke,e$e,t$e,sce=!1,n9=[],vE=null,wE=null,SE=null,MU=new Map,AU=new Map,gE=[],pJt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ABe(t,e){switch(t){case"focusin":case"focusout":vE=null;break;case"dragenter":case"dragleave":wE=null;break;case"mouseover":case"mouseout":SE=null;break;case"pointerover":case"pointerout":MU.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":AU.delete(e.pointerId)}}function aU(t,e,r,n,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},e!==null&&(e=VU(e),e!==null&&Vce(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function hJt(t,e,r,n,o){switch(e){case"focusin":return vE=aU(vE,t,e,r,n,o),!0;case"dragenter":return wE=aU(wE,t,e,r,n,o),!0;case"mouseover":return SE=aU(SE,t,e,r,n,o),!0;case"pointerover":var i=o.pointerId;return MU.set(i,aU(MU.get(i)||null,t,e,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,AU.set(i,aU(AU.get(i)||null,t,e,r,n,o)),!0}return!1}function r$e(t){var e=IA(t.target);if(e!==null){var r=zA(e);if(r!==null){if(e=r.tag,e===13){if(e=Hke(r),e!==null){t.blockedOn=e,t$e(t.priority,function(){Qke(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function y9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=uce(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);rce=n,r.target.dispatchEvent(n),rce=null}else return e=VU(r),e!==null&&Vce(e),t.blockedOn=r,!1;e.shift()}return!0}function RBe(t,e,r){y9(t)&&r.delete(e)}function mJt(){sce=!1,vE!==null&&y9(vE)&&(vE=null),wE!==null&&y9(wE)&&(wE=null),SE!==null&&y9(SE)&&(SE=null),MU.forEach(RBe),AU.forEach(RBe)}function sU(t,e){t.blockedOn===e&&(t.blockedOn=null,sce||(sce=!0,pp.unstable_scheduleCallback(pp.unstable_NormalPriority,mJt)))}function RU(t){function e(o){return sU(o,t)}if(0<n9.length){sU(n9[0],t);for(var r=1;r<n9.length;r++){var n=n9[r];n.blockedOn===t&&(n.blockedOn=null)}}for(vE!==null&&sU(vE,t),wE!==null&&sU(wE,t),SE!==null&&sU(SE,t),MU.forEach(e),AU.forEach(e),r=0;r<gE.length;r++)n=gE[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<gE.length&&(r=gE[0],r.blockedOn===null);)r$e(r),r.blockedOn===null&&gE.shift()}var eN=hx.ReactCurrentBatchConfig,I9=!0;function gJt(t,e,r,n){var o=Lo,i=eN.transition;eN.transition=null;try{Lo=1,Wce(t,e,r,n)}finally{Lo=o,eN.transition=i}}function yJt(t,e,r,n){var o=Lo,i=eN.transition;eN.transition=null;try{Lo=4,Wce(t,e,r,n)}finally{Lo=o,eN.transition=i}}function Wce(t,e,r,n){if(I9){var o=uce(t,e,r,n);if(o===null)Dle(t,e,n,D9,r),ABe(t,n);else if(hJt(o,t,e,r,n))n.stopPropagation();else if(ABe(t,n),e&4&&-1<pJt.indexOf(t)){for(;o!==null;){var i=VU(o);if(i!==null&&Zke(i),i=uce(t,e,r,n),i===null&&Dle(t,e,n,D9,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else Dle(t,e,n,null,r)}}var D9=null;function uce(t,e,r,n){if(D9=null,t=Uce(n),t=IA(t),t!==null)if(e=zA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hke(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return D9=t,null}function n$e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oJt()){case zce:return 1;case Gke:return 4;case A9:case iJt:return 16;case Kke:return 536870912;default:return 16}default:return 16}}var bE=null,Jce=null,b9=null;function o$e(){if(b9)return b9;var t,e=Jce,r=e.length,n,o="value"in bE?bE.value:bE.textContent,i=o.length;for(t=0;t<r&&e[t]===o[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===o[i-n];n++);return b9=o.slice(t,1<n?1-n:void 0)}function _9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o9(){return!0}function IBe(){return!1}function hp(t){function e(r,n,o,i,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?o9:IBe,this.isPropagationStopped=IBe,this}return aa(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=o9)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=o9)},persist:function(){},isPersistent:o9}),e}var cN={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gce=hp(cN),HU=aa({},cN,{view:0,detail:0}),bJt=hp(HU),Ple,Tle,uU,Z9=aa({},HU,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kce,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uU&&(uU&&t.type==="mousemove"?(Ple=t.screenX-uU.screenX,Tle=t.screenY-uU.screenY):Tle=Ple=0,uU=t),Ple)},movementY:function(t){return"movementY"in t?t.movementY:Tle}}),DBe=hp(Z9),_Jt=aa({},Z9,{dataTransfer:0}),vJt=hp(_Jt),wJt=aa({},HU,{relatedTarget:0}),Mle=hp(wJt),SJt=aa({},cN,{animationName:0,elapsedTime:0,pseudoElement:0}),xJt=hp(SJt),CJt=aa({},cN,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OJt=hp(CJt),EJt=aa({},cN,{data:0}),jBe=hp(EJt),PJt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TJt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MJt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AJt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MJt[t])?!!e[t]:!1}function Kce(){return AJt}var RJt=aa({},HU,{key:function(t){if(t.key){var e=PJt[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TJt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kce,charCode:function(t){return t.type==="keypress"?_9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IJt=hp(RJt),DJt=aa({},Z9,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NBe=hp(DJt),jJt=aa({},HU,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kce}),NJt=hp(jJt),LJt=aa({},cN,{propertyName:0,elapsedTime:0,pseudoElement:0}),FJt=hp(LJt),BJt=aa({},Z9,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kJt=hp(BJt),$Jt=[9,13,27,32],Yce=cx&&"CompositionEvent"in window,_U=null;cx&&"documentMode"in document&&(_U=document.documentMode);var qJt=cx&&"TextEvent"in window&&!_U,i$e=cx&&(!Yce||_U&&8<_U&&11>=_U),LBe=String.fromCharCode(32),FBe=!1;function a$e(t,e){switch(t){case"keyup":return $Jt.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s$e(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qj=!1;function UJt(t,e){switch(t){case"compositionend":return s$e(e);case"keypress":return e.which!==32?null:(FBe=!0,LBe);case"textInput":return t=e.data,t===LBe&&FBe?null:t;default:return null}}function zJt(t,e){if(qj)return t==="compositionend"||!Yce&&a$e(t,e)?(t=o$e(),b9=Jce=bE=null,qj=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i$e&&e.locale!=="ko"?null:e.data;default:return null}}var HJt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BBe(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HJt[t.type]:e==="textarea"}function u$e(t,e,r,n){kke(n),e=j9(e,"onChange"),0<e.length&&(r=new Gce("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vU=null,IU=null;function VJt(t){_$e(t,0)}function Q9(t){var e=Hj(t);if(Ike(e))return t}function WJt(t,e){if(t==="change")return e}var l$e=!1;cx&&(cx?(a9="oninput"in document,a9||(Ale=document.createElement("div"),Ale.setAttribute("oninput","return;"),a9=typeof Ale.oninput=="function"),i9=a9):i9=!1,l$e=i9&&(!document.documentMode||9<document.documentMode));var i9,a9,Ale;function kBe(){vU&&(vU.detachEvent("onpropertychange",c$e),IU=vU=null)}function c$e(t){if(t.propertyName==="value"&&Q9(IU)){var e=[];u$e(e,IU,t,Uce(t)),zke(VJt,e)}}function JJt(t,e,r){t==="focusin"?(kBe(),vU=e,IU=r,vU.attachEvent("onpropertychange",c$e)):t==="focusout"&&kBe()}function GJt(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Q9(IU)}function KJt(t,e){if(t==="click")return Q9(e)}function YJt(t,e){if(t==="input"||t==="change")return Q9(e)}function XJt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var og=typeof Object.is=="function"?Object.is:XJt;function DU(t,e){if(og(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Hle.call(e,o)||!og(t[o],e[o]))return!1}return!0}function $Be(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qBe(t,e){var r=$Be(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$Be(r)}}function d$e(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d$e(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f$e(){for(var t=window,e=P9();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=P9(t.document)}return e}function Xce(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZJt(t){var e=f$e(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&d$e(r.ownerDocument.documentElement,r)){if(n!==null&&Xce(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!t.extend&&i>n&&(o=n,n=i,i=o),o=qBe(r,i);var a=qBe(r,n);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QJt=cx&&"documentMode"in document&&11>=document.documentMode,Uj=null,lce=null,wU=null,cce=!1;function UBe(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cce||Uj==null||Uj!==P9(n)||(n=Uj,"selectionStart"in n&&Xce(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wU&&DU(wU,n)||(wU=n,n=j9(lce,"onSelect"),0<n.length&&(e=new Gce("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Uj)))}function s9(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zj={animationend:s9("Animation","AnimationEnd"),animationiteration:s9("Animation","AnimationIteration"),animationstart:s9("Animation","AnimationStart"),transitionend:s9("Transition","TransitionEnd")},Rle={},p$e={};cx&&(p$e=document.createElement("div").style,"AnimationEvent"in window||(delete zj.animationend.animation,delete zj.animationiteration.animation,delete zj.animationstart.animation),"TransitionEvent"in window||delete zj.transitionend.transition);function eW(t){if(Rle[t])return Rle[t];if(!zj[t])return t;var e=zj[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in p$e)return Rle[t]=e[r];return t}var h$e=eW("animationend"),m$e=eW("animationiteration"),g$e=eW("animationstart"),y$e=eW("transitionend"),b$e=new Map,zBe="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function AE(t,e){b$e.set(t,e),UA(e,[t])}for(u9=0;u9<zBe.length;u9++)l9=zBe[u9],HBe=l9.toLowerCase(),VBe=l9[0].toUpperCase()+l9.slice(1),AE(HBe,"on"+VBe);var l9,HBe,VBe,u9;AE(h$e,"onAnimationEnd");AE(m$e,"onAnimationIteration");AE(g$e,"onAnimationStart");AE("dblclick","onDoubleClick");AE("focusin","onFocus");AE("focusout","onBlur");AE(y$e,"onTransitionEnd");nN("onMouseEnter",["mouseout","mouseover"]);nN("onMouseLeave",["mouseout","mouseover"]);nN("onPointerEnter",["pointerout","pointerover"]);nN("onPointerLeave",["pointerout","pointerover"]);UA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));UA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));UA("onBeforeInput",["compositionend","keypress","textInput","paste"]);UA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));UA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));UA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gU="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eGt=new Set("cancel close invalid load scroll toggle".split(" ").concat(gU));function WBe(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eJt(n,e,void 0,t),t.currentTarget=null}function _$e(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],o=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;WBe(o,s,l),i=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;WBe(o,s,l),i=u}}}if(M9)throw t=ice,M9=!1,ice=null,t}function _i(t,e){var r=e[mce];r===void 0&&(r=e[mce]=new Set);var n=t+"__bubble";r.has(n)||(v$e(e,t,2,!1),r.add(n))}function Ile(t,e,r){var n=0;e&&(n|=4),v$e(r,t,n,e)}var c9="_reactListening"+Math.random().toString(36).slice(2);function jU(t){if(!t[c9]){t[c9]=!0,Pke.forEach(function(r){r!=="selectionchange"&&(eGt.has(r)||Ile(r,!1,t),Ile(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[c9]||(e[c9]=!0,Ile("selectionchange",!1,e))}}function v$e(t,e,r,n){switch(n$e(e)){case 1:var o=gJt;break;case 4:o=yJt;break;default:o=Wce}r=o.bind(null,e,r,t),o=void 0,!oce||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),n?o!==void 0?t.addEventListener(e,r,{capture:!0,passive:o}):t.addEventListener(e,r,!0):o!==void 0?t.addEventListener(e,r,{passive:o}):t.addEventListener(e,r,!1)}function Dle(t,e,r,n,o){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;s!==null;){if(a=IA(s),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}s=s.parentNode}}n=n.return}zke(function(){var l=i,c=Uce(r),d=[];e:{var f=b$e.get(t);if(f!==void 0){var p=Gce,m=t;switch(t){case"keypress":if(_9(r)===0)break e;case"keydown":case"keyup":p=IJt;break;case"focusin":m="focus",p=Mle;break;case"focusout":m="blur",p=Mle;break;case"beforeblur":case"afterblur":p=Mle;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DBe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vJt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NJt;break;case h$e:case m$e:case g$e:p=xJt;break;case y$e:p=FJt;break;case"scroll":p=bJt;break;case"wheel":p=kJt;break;case"copy":case"cut":case"paste":p=OJt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=NBe}var h=(e&4)!==0,v=!h&&t==="scroll",g=h?f!==null?f+"Capture":null:f;h=[];for(var _=l,S;_!==null;){S=_;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,g!==null&&(x=TU(_,g),x!=null&&h.push(NU(_,x,S)))),v)break;_=_.return}0<h.length&&(f=new p(f,m,null,r,c),d.push({event:f,listeners:h}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==rce&&(m=r.relatedTarget||r.fromElement)&&(IA(m)||m[dx]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=l,m=m?IA(m):null,m!==null&&(v=zA(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(h=DBe,x="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(h=NBe,x="onPointerLeave",g="onPointerEnter",_="pointer"),v=p==null?f:Hj(p),S=m==null?f:Hj(m),f=new h(x,_+"leave",p,r,c),f.target=v,f.relatedTarget=S,x=null,IA(c)===l&&(h=new h(g,_+"enter",m,r,c),h.target=S,h.relatedTarget=v,x=h),v=x,p&&m)t:{for(h=p,g=m,_=0,S=h;S;S=Bj(S))_++;for(S=0,x=g;x;x=Bj(x))S++;for(;0<_-S;)h=Bj(h),_--;for(;0<S-_;)g=Bj(g),S--;for(;_--;){if(h===g||g!==null&&h===g.alternate)break t;h=Bj(h),g=Bj(g)}h=null}else h=null;p!==null&&JBe(d,f,p,h,!1),m!==null&&v!==null&&JBe(d,v,m,h,!0)}}e:{if(f=l?Hj(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var O=WJt;else if(BBe(f))if(l$e)O=YJt;else{O=GJt;var T=JJt}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=KJt);if(O&&(O=O(t,l))){u$e(d,O,r,c);break e}T&&T(t,f,l),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Xle(f,"number",f.value)}switch(T=l?Hj(l):window,t){case"focusin":(BBe(T)||T.contentEditable==="true")&&(Uj=T,lce=l,wU=null);break;case"focusout":wU=lce=Uj=null;break;case"mousedown":cce=!0;break;case"contextmenu":case"mouseup":case"dragend":cce=!1,UBe(d,r,c);break;case"selectionchange":if(QJt)break;case"keydown":case"keyup":UBe(d,r,c)}var E;if(Yce)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else qj?a$e(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(i$e&&r.locale!=="ko"&&(qj||M!=="onCompositionStart"?M==="onCompositionEnd"&&qj&&(E=o$e()):(bE=c,Jce="value"in bE?bE.value:bE.textContent,qj=!0)),T=j9(l,M),0<T.length&&(M=new jBe(M,t,null,r,c),d.push({event:M,listeners:T}),E?M.data=E:(E=s$e(r),E!==null&&(M.data=E)))),(E=qJt?UJt(t,r):zJt(t,r))&&(l=j9(l,"onBeforeInput"),0<l.length&&(c=new jBe("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=E))}_$e(d,e)})}function NU(t,e,r){return{instance:t,listener:e,currentTarget:r}}function j9(t,e){for(var r=e+"Capture",n=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=TU(t,r),i!=null&&n.unshift(NU(t,i,o)),i=TU(t,e),i!=null&&n.push(NU(t,i,o))),t=t.return}return n}function Bj(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function JBe(t,e,r,n,o){for(var i=e._reactName,a=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,o?(u=TU(r,i),u!=null&&a.unshift(NU(r,u,s))):o||(u=TU(r,i),u!=null&&a.push(NU(r,u,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var tGt=/\r\n?/g,rGt=/\u0000|\uFFFD/g;function GBe(t){return(typeof t=="string"?t:""+t).replace(tGt,`
`).replace(rGt,"")}function d9(t,e,r){if(e=GBe(e),GBe(t)!==e&&r)throw Error(Oe(425))}function N9(){}var dce=null,fce=null;function pce(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hce=typeof setTimeout=="function"?setTimeout:void 0,nGt=typeof clearTimeout=="function"?clearTimeout:void 0,KBe=typeof Promise=="function"?Promise:void 0,oGt=typeof queueMicrotask=="function"?queueMicrotask:typeof KBe<"u"?function(t){return KBe.resolve(null).then(t).catch(iGt)}:hce;function iGt(t){setTimeout(function(){throw t})}function jle(t,e){var r=e,n=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){t.removeChild(o),RU(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);RU(e)}function xE(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YBe(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var dN=Math.random().toString(36).slice(2),jy="__reactFiber$"+dN,LU="__reactProps$"+dN,dx="__reactContainer$"+dN,mce="__reactEvents$"+dN,aGt="__reactListeners$"+dN,sGt="__reactHandles$"+dN;function IA(t){var e=t[jy];if(e)return e;for(var r=t.parentNode;r;){if(e=r[dx]||r[jy]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=YBe(t);t!==null;){if(r=t[jy])return r;t=YBe(t)}return e}t=r,r=t.parentNode}return null}function VU(t){return t=t[jy]||t[dx],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hj(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function tW(t){return t[LU]||null}var gce=[],Vj=-1;function RE(t){return{current:t}}function vi(t){0>Vj||(t.current=gce[Vj],gce[Vj]=null,Vj--)}function ai(t,e){Vj++,gce[Vj]=t.current,t.current=e}var ME={},Kc=RE(ME),mf=RE(!1),FA=ME;function oN(t,e){var r=t.type.contextTypes;if(!r)return ME;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function gf(t){return t=t.childContextTypes,t!=null}function L9(){vi(mf),vi(Kc)}function XBe(t,e,r){if(Kc.current!==ME)throw Error(Oe(168));ai(Kc,e),ai(mf,r)}function w$e(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in e))throw Error(Oe(108,JWt(t)||"Unknown",o));return aa({},r,n)}function F9(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ME,FA=Kc.current,ai(Kc,t),ai(mf,mf.current),!0}function ZBe(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=w$e(t,e,FA),n.__reactInternalMemoizedMergedChildContext=t,vi(mf),vi(Kc),ai(Kc,t)):vi(mf),ai(mf,r)}var ax=null,rW=!1,Nle=!1;function S$e(t){ax===null?ax=[t]:ax.push(t)}function uGt(t){rW=!0,S$e(t)}function IE(){if(!Nle&&ax!==null){Nle=!0;var t=0,e=Lo;try{var r=ax;for(Lo=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ax=null,rW=!1}catch(o){throw ax!==null&&(ax=ax.slice(t+1)),Jke(zce,IE),o}finally{Lo=e,Nle=!1}}return null}var Wj=[],Jj=0,B9=null,k9=0,ph=[],hh=0,BA=null,sx=1,ux="";function AA(t,e){Wj[Jj++]=k9,Wj[Jj++]=B9,B9=t,k9=e}function x$e(t,e,r){ph[hh++]=sx,ph[hh++]=ux,ph[hh++]=BA,BA=t;var n=sx;t=ux;var o=32-rg(n)-1;n&=~(1<<o),r+=1;var i=32-rg(e)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,sx=1<<32-rg(e)+o|r<<o|n,ux=i+t}else sx=1<<i|r<<o|n,ux=t}function Zce(t){t.return!==null&&(AA(t,1),x$e(t,1,0))}function Qce(t){for(;t===B9;)B9=Wj[--Jj],Wj[Jj]=null,k9=Wj[--Jj],Wj[Jj]=null;for(;t===BA;)BA=ph[--hh],ph[hh]=null,ux=ph[--hh],ph[hh]=null,sx=ph[--hh],ph[hh]=null}var fp=null,dp=null,$i=!1,tg=null;function C$e(t,e){var r=mh(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function QBe(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fp=t,dp=xE(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fp=t,dp=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=BA!==null?{id:sx,overflow:ux}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=mh(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fp=t,dp=null,!0):!1;default:return!1}}function yce(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bce(t){if($i){var e=dp;if(e){var r=e;if(!QBe(t,e)){if(yce(t))throw Error(Oe(418));e=xE(r.nextSibling);var n=fp;e&&QBe(t,e)?C$e(n,r):(t.flags=t.flags&-4097|2,$i=!1,fp=t)}}else{if(yce(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,$i=!1,fp=t}}}function eke(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fp=t}function f9(t){if(t!==fp)return!1;if(!$i)return eke(t),$i=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pce(t.type,t.memoizedProps)),e&&(e=dp)){if(yce(t))throw O$e(),Error(Oe(418));for(;e;)C$e(t,e),e=xE(e.nextSibling)}if(eke(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){dp=xE(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}dp=null}}else dp=fp?xE(t.stateNode.nextSibling):null;return!0}function O$e(){for(var t=dp;t;)t=xE(t.nextSibling)}function iN(){dp=fp=null,$i=!1}function ede(t){tg===null?tg=[t]:tg.push(t)}var lGt=hx.ReactCurrentBatchConfig;function Qm(t,e){if(t&&t.defaultProps){e=aa({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var $9=RE(null),q9=null,Gj=null,tde=null;function rde(){tde=Gj=q9=null}function nde(t){var e=$9.current;vi($9),t._currentValue=e}function _ce(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tN(t,e){q9=t,tde=Gj=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hf=!0),t.firstContext=null)}function yh(t){var e=t._currentValue;if(tde!==t)if(t={context:t,memoizedValue:e,next:null},Gj===null){if(q9===null)throw Error(Oe(308));Gj=t,q9.dependencies={lanes:0,firstContext:t}}else Gj=Gj.next=t;return e}var DA=null;function ode(t){DA===null?DA=[t]:DA.push(t)}function E$e(t,e,r,n){var o=e.interleaved;return o===null?(r.next=r,ode(e)):(r.next=o.next,o.next=r),e.interleaved=r,fx(t,n)}function fx(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var mE=!1;function ide(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P$e(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lx(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function CE(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fn&2){var o=n.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),n.pending=e,fx(t,r)}return o=n.interleaved,o===null?(e.next=e,ode(n)):(e.next=o.next,o.next=e),n.interleaved=e,fx(t,r)}function v9(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hce(t,r)}}function tke(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?o=i=e:i=i.next=e}else o=i=e;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function U9(t,e,r,n){var o=t.updateQueue;mE=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?i=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(i!==null){var d=o.baseState;a=0,c=l=u=null,s=i;do{var f=s.lane,p=s.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,h=s;switch(f=e,p=r,h.tag){case 1:if(m=h.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=h.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=aa({},d,f);break e;case 2:mE=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=d):c=c.next=p,a|=f;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;f=s,s=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(c===null&&(u=d),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);$A|=a,t.lanes=a,t.memoizedState=d}}function rke(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(Oe(191,o));o.call(n)}}}var T$e=new Eke.Component().refs;function vce(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:aa({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nW={isMounted:function(t){return(t=t._reactInternals)?zA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Id(),o=EE(t),i=lx(n,o);i.payload=e,r!=null&&(i.callback=r),e=CE(t,i,o),e!==null&&(ng(e,t,o,n),v9(e,t,o))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Id(),o=EE(t),i=lx(n,o);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=CE(t,i,o),e!==null&&(ng(e,t,o,n),v9(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Id(),n=EE(t),o=lx(r,n);o.tag=2,e!=null&&(o.callback=e),e=CE(t,o,n),e!==null&&(ng(e,t,n,r),v9(e,t,n))}};function nke(t,e,r,n,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!DU(r,n)||!DU(o,i):!0}function M$e(t,e,r){var n=!1,o=ME,i=e.contextType;return typeof i=="object"&&i!==null?i=yh(i):(o=gf(e)?FA:Kc.current,n=e.contextTypes,i=(n=n!=null)?oN(t,o):ME),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nW,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function oke(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nW.enqueueReplaceState(e,e.state,null)}function wce(t,e,r,n){var o=t.stateNode;o.props=r,o.state=t.memoizedState,o.refs=T$e,ide(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=yh(i):(i=gf(e)?FA:Kc.current,o.context=oN(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vce(t,e,i,r),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&nW.enqueueReplaceState(o,o.state,null),U9(t,r,o,n),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function lU(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var o=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var s=o.refs;s===T$e&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function p9(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ike(t){var e=t._init;return e(t._payload)}function A$e(t){function e(g,_){if(t){var S=g.deletions;S===null?(g.deletions=[_],g.flags|=16):S.push(_)}}function r(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function n(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function o(g,_){return g=PE(g,_),g.index=0,g.sibling=null,g}function i(g,_,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<_?(g.flags|=2,_):S):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,_,S,x){return _===null||_.tag!==6?(_=Ule(S,g.mode,x),_.return=g,_):(_=o(_,S),_.return=g,_)}function u(g,_,S,x){var O=S.type;return O===$j?c(g,_,S.props.children,x,S.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hE&&ike(O)===_.type)?(x=o(_,S.props),x.ref=lU(g,_,S),x.return=g,x):(x=E9(S.type,S.key,S.props,null,g.mode,x),x.ref=lU(g,_,S),x.return=g,x)}function l(g,_,S,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=zle(S,g.mode,x),_.return=g,_):(_=o(_,S.children||[]),_.return=g,_)}function c(g,_,S,x,O){return _===null||_.tag!==7?(_=LA(S,g.mode,x,O),_.return=g,_):(_=o(_,S),_.return=g,_)}function d(g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ule(""+_,g.mode,S),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Z5:return S=E9(_.type,_.key,_.props,null,g.mode,S),S.ref=lU(g,null,_),S.return=g,S;case kj:return _=zle(_,g.mode,S),_.return=g,_;case hE:var x=_._init;return d(g,x(_._payload),S)}if(hU(_)||iU(_))return _=LA(_,g.mode,S,null),_.return=g,_;p9(g,_)}return null}function f(g,_,S,x){var O=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:s(g,_,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Z5:return S.key===O?u(g,_,S,x):null;case kj:return S.key===O?l(g,_,S,x):null;case hE:return O=S._init,f(g,_,O(S._payload),x)}if(hU(S)||iU(S))return O!==null?null:c(g,_,S,x,null);p9(g,S)}return null}function p(g,_,S,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(S)||null,s(_,g,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Z5:return g=g.get(x.key===null?S:x.key)||null,u(_,g,x,O);case kj:return g=g.get(x.key===null?S:x.key)||null,l(_,g,x,O);case hE:var T=x._init;return p(g,_,S,T(x._payload),O)}if(hU(x)||iU(x))return g=g.get(S)||null,c(_,g,x,O,null);p9(_,x)}return null}function m(g,_,S,x){for(var O=null,T=null,E=_,M=_=0,R=null;E!==null&&M<S.length;M++){E.index>M?(R=E,E=null):R=E.sibling;var N=f(g,E,S[M],x);if(N===null){E===null&&(E=R);break}t&&E&&N.alternate===null&&e(g,E),_=i(N,_,M),T===null?O=N:T.sibling=N,T=N,E=R}if(M===S.length)return r(g,E),$i&&AA(g,M),O;if(E===null){for(;M<S.length;M++)E=d(g,S[M],x),E!==null&&(_=i(E,_,M),T===null?O=E:T.sibling=E,T=E);return $i&&AA(g,M),O}for(E=n(g,E);M<S.length;M++)R=p(E,g,M,S[M],x),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?M:R.key),_=i(R,_,M),T===null?O=R:T.sibling=R,T=R);return t&&E.forEach(function(j){return e(g,j)}),$i&&AA(g,M),O}function h(g,_,S,x){var O=iU(S);if(typeof O!="function")throw Error(Oe(150));if(S=O.call(S),S==null)throw Error(Oe(151));for(var T=O=null,E=_,M=_=0,R=null,N=S.next();E!==null&&!N.done;M++,N=S.next()){E.index>M?(R=E,E=null):R=E.sibling;var j=f(g,E,N.value,x);if(j===null){E===null&&(E=R);break}t&&E&&j.alternate===null&&e(g,E),_=i(j,_,M),T===null?O=j:T.sibling=j,T=j,E=R}if(N.done)return r(g,E),$i&&AA(g,M),O;if(E===null){for(;!N.done;M++,N=S.next())N=d(g,N.value,x),N!==null&&(_=i(N,_,M),T===null?O=N:T.sibling=N,T=N);return $i&&AA(g,M),O}for(E=n(g,E);!N.done;M++,N=S.next())N=p(E,g,M,N.value,x),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?M:N.key),_=i(N,_,M),T===null?O=N:T.sibling=N,T=N);return t&&E.forEach(function(F){return e(g,F)}),$i&&AA(g,M),O}function v(g,_,S,x){if(typeof S=="object"&&S!==null&&S.type===$j&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Z5:e:{for(var O=S.key,T=_;T!==null;){if(T.key===O){if(O=S.type,O===$j){if(T.tag===7){r(g,T.sibling),_=o(T,S.props.children),_.return=g,g=_;break e}}else if(T.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hE&&ike(O)===T.type){r(g,T.sibling),_=o(T,S.props),_.ref=lU(g,T,S),_.return=g,g=_;break e}r(g,T);break}else e(g,T);T=T.sibling}S.type===$j?(_=LA(S.props.children,g.mode,x,S.key),_.return=g,g=_):(x=E9(S.type,S.key,S.props,null,g.mode,x),x.ref=lU(g,_,S),x.return=g,g=x)}return a(g);case kj:e:{for(T=S.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(g,_.sibling),_=o(_,S.children||[]),_.return=g,g=_;break e}else{r(g,_);break}else e(g,_);_=_.sibling}_=zle(S,g.mode,x),_.return=g,g=_}return a(g);case hE:return T=S._init,v(g,_,T(S._payload),x)}if(hU(S))return m(g,_,S,x);if(iU(S))return h(g,_,S,x);p9(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(r(g,_.sibling),_=o(_,S),_.return=g,g=_):(r(g,_),_=Ule(S,g.mode,x),_.return=g,g=_),a(g)):r(g,_)}return v}var aN=A$e(!0),R$e=A$e(!1),WU={},Ly=RE(WU),FU=RE(WU),BU=RE(WU);function jA(t){if(t===WU)throw Error(Oe(174));return t}function ade(t,e){switch(ai(BU,e),ai(FU,t),ai(Ly,WU),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qle(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qle(e,t)}vi(Ly),ai(Ly,e)}function sN(){vi(Ly),vi(FU),vi(BU)}function I$e(t){jA(BU.current);var e=jA(Ly.current),r=Qle(e,t.type);e!==r&&(ai(FU,t),ai(Ly,r))}function sde(t){FU.current===t&&(vi(Ly),vi(FU))}var oa=RE(0);function z9(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lle=[];function ude(){for(var t=0;t<Lle.length;t++)Lle[t]._workInProgressVersionPrimary=null;Lle.length=0}var w9=hx.ReactCurrentDispatcher,Fle=hx.ReactCurrentBatchConfig,kA=0,ia=null,Yu=null,vl=null,H9=!1,SU=!1,kU=0,cGt=0;function Wc(){throw Error(Oe(321))}function lde(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!og(t[r],e[r]))return!1;return!0}function cde(t,e,r,n,o,i){if(kA=i,ia=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w9.current=t===null||t.memoizedState===null?hGt:mGt,t=r(n,o),SU){i=0;do{if(SU=!1,kU=0,25<=i)throw Error(Oe(301));i+=1,vl=Yu=null,e.updateQueue=null,w9.current=gGt,t=r(n,o)}while(SU)}if(w9.current=V9,e=Yu!==null&&Yu.next!==null,kA=0,vl=Yu=ia=null,H9=!1,e)throw Error(Oe(300));return t}function dde(){var t=kU!==0;return kU=0,t}function Dy(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vl===null?ia.memoizedState=vl=t:vl=vl.next=t,vl}function bh(){if(Yu===null){var t=ia.alternate;t=t!==null?t.memoizedState:null}else t=Yu.next;var e=vl===null?ia.memoizedState:vl.next;if(e!==null)vl=e,Yu=t;else{if(t===null)throw Error(Oe(310));Yu=t,t={memoizedState:Yu.memoizedState,baseState:Yu.baseState,baseQueue:Yu.baseQueue,queue:Yu.queue,next:null},vl===null?ia.memoizedState=vl=t:vl=vl.next=t}return vl}function $U(t,e){return typeof e=="function"?e(t):e}function Ble(t){var e=bh(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=Yu,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var s=a=null,u=null,l=i;do{var c=l.lane;if((kA&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=d,a=n):u=u.next=d,ia.lanes|=c,$A|=c}l=l.next}while(l!==null&&l!==i);u===null?a=n:u.next=s,og(n,e.memoizedState)||(hf=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){o=t;do i=o.lane,ia.lanes|=i,$A|=i,o=o.next;while(o!==t)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function kle(t){var e=bh(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,o=r.pending,i=e.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);og(i,e.memoizedState)||(hf=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function D$e(){}function j$e(t,e){var r=ia,n=bh(),o=e(),i=!og(n.memoizedState,o);if(i&&(n.memoizedState=o,hf=!0),n=n.queue,fde(F$e.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||vl!==null&&vl.memoizedState.tag&1){if(r.flags|=2048,qU(9,L$e.bind(null,r,n,o,e),void 0,null),wl===null)throw Error(Oe(349));kA&30||N$e(r,e,o)}return o}function N$e(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ia.updateQueue,e===null?(e={lastEffect:null,stores:null},ia.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function L$e(t,e,r,n){e.value=r,e.getSnapshot=n,B$e(e)&&k$e(t)}function F$e(t,e,r){return r(function(){B$e(e)&&k$e(t)})}function B$e(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!og(t,r)}catch{return!0}}function k$e(t){var e=fx(t,1);e!==null&&ng(e,t,1,-1)}function ake(t){var e=Dy();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$U,lastRenderedState:t},e.queue=t,t=t.dispatch=pGt.bind(null,ia,t),[e.memoizedState,t]}function qU(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ia.updateQueue,e===null?(e={lastEffect:null,stores:null},ia.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $$e(){return bh().memoizedState}function S9(t,e,r,n){var o=Dy();ia.flags|=t,o.memoizedState=qU(1|e,r,void 0,n===void 0?null:n)}function oW(t,e,r,n){var o=bh();n=n===void 0?null:n;var i=void 0;if(Yu!==null){var a=Yu.memoizedState;if(i=a.destroy,n!==null&&lde(n,a.deps)){o.memoizedState=qU(e,r,i,n);return}}ia.flags|=t,o.memoizedState=qU(1|e,r,i,n)}function ske(t,e){return S9(8390656,8,t,e)}function fde(t,e){return oW(2048,8,t,e)}function q$e(t,e){return oW(4,2,t,e)}function U$e(t,e){return oW(4,4,t,e)}function z$e(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H$e(t,e,r){return r=r!=null?r.concat([t]):null,oW(4,4,z$e.bind(null,e,t),r)}function pde(){}function V$e(t,e){var r=bh();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lde(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function W$e(t,e){var r=bh();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lde(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function J$e(t,e,r){return kA&21?(og(r,e)||(r=Yke(),ia.lanes|=r,$A|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hf=!0),t.memoizedState=r)}function dGt(t,e){var r=Lo;Lo=r!==0&&4>r?r:4,t(!0);var n=Fle.transition;Fle.transition={};try{t(!1),e()}finally{Lo=r,Fle.transition=n}}function G$e(){return bh().memoizedState}function fGt(t,e,r){var n=EE(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},K$e(t))Y$e(e,r);else if(r=E$e(t,e,r,n),r!==null){var o=Id();ng(r,t,n,o),X$e(r,e,n)}}function pGt(t,e,r){var n=EE(t),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(K$e(t))Y$e(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,s=i(a,r);if(o.hasEagerState=!0,o.eagerState=s,og(s,a)){var u=e.interleaved;u===null?(o.next=o,ode(e)):(o.next=u.next,u.next=o),e.interleaved=o;return}}catch{}finally{}r=E$e(t,e,o,n),r!==null&&(o=Id(),ng(r,t,n,o),X$e(r,e,n))}}function K$e(t){var e=t.alternate;return t===ia||e!==null&&e===ia}function Y$e(t,e){SU=H9=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function X$e(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hce(t,r)}}var V9={readContext:yh,useCallback:Wc,useContext:Wc,useEffect:Wc,useImperativeHandle:Wc,useInsertionEffect:Wc,useLayoutEffect:Wc,useMemo:Wc,useReducer:Wc,useRef:Wc,useState:Wc,useDebugValue:Wc,useDeferredValue:Wc,useTransition:Wc,useMutableSource:Wc,useSyncExternalStore:Wc,useId:Wc,unstable_isNewReconciler:!1},hGt={readContext:yh,useCallback:function(t,e){return Dy().memoizedState=[t,e===void 0?null:e],t},useContext:yh,useEffect:ske,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,S9(4194308,4,z$e.bind(null,e,t),r)},useLayoutEffect:function(t,e){return S9(4194308,4,t,e)},useInsertionEffect:function(t,e){return S9(4,2,t,e)},useMemo:function(t,e){var r=Dy();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Dy();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fGt.bind(null,ia,t),[n.memoizedState,t]},useRef:function(t){var e=Dy();return t={current:t},e.memoizedState=t},useState:ake,useDebugValue:pde,useDeferredValue:function(t){return Dy().memoizedState=t},useTransition:function(){var t=ake(!1),e=t[0];return t=dGt.bind(null,t[1]),Dy().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ia,o=Dy();if($i){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),wl===null)throw Error(Oe(349));kA&30||N$e(n,e,r)}o.memoizedState=r;var i={value:r,getSnapshot:e};return o.queue=i,ske(F$e.bind(null,n,i,t),[t]),n.flags|=2048,qU(9,L$e.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Dy(),e=wl.identifierPrefix;if($i){var r=ux,n=sx;r=(n&~(1<<32-rg(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=kU++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cGt++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mGt={readContext:yh,useCallback:V$e,useContext:yh,useEffect:fde,useImperativeHandle:H$e,useInsertionEffect:q$e,useLayoutEffect:U$e,useMemo:W$e,useReducer:Ble,useRef:$$e,useState:function(){return Ble($U)},useDebugValue:pde,useDeferredValue:function(t){var e=bh();return J$e(e,Yu.memoizedState,t)},useTransition:function(){var t=Ble($U)[0],e=bh().memoizedState;return[t,e]},useMutableSource:D$e,useSyncExternalStore:j$e,useId:G$e,unstable_isNewReconciler:!1},gGt={readContext:yh,useCallback:V$e,useContext:yh,useEffect:fde,useImperativeHandle:H$e,useInsertionEffect:q$e,useLayoutEffect:U$e,useMemo:W$e,useReducer:kle,useRef:$$e,useState:function(){return kle($U)},useDebugValue:pde,useDeferredValue:function(t){var e=bh();return Yu===null?e.memoizedState=t:J$e(e,Yu.memoizedState,t)},useTransition:function(){var t=kle($U)[0],e=bh().memoizedState;return[t,e]},useMutableSource:D$e,useSyncExternalStore:j$e,useId:G$e,unstable_isNewReconciler:!1};function uN(t,e){try{var r="",n=e;do r+=WWt(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function $le(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Sce(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var yGt=typeof WeakMap=="function"?WeakMap:Map;function Z$e(t,e,r){r=lx(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){J9||(J9=!0,Ice=n),Sce(t,e)},r}function Q$e(t,e,r){r=lx(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var o=e.value;r.payload=function(){return n(o)},r.callback=function(){Sce(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sce(t,e),typeof n!="function"&&(OE===null?OE=new Set([this]):OE.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function uke(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new yGt;var o=new Set;n.set(e,o)}else o=n.get(e),o===void 0&&(o=new Set,n.set(e,o));o.has(r)||(o.add(r),t=RGt.bind(null,t,e,r),e.then(t,t))}function lke(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cke(t,e,r,n,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lx(-1,1),e.tag=2,CE(r,e,1))),r.lanes|=1),t)}var bGt=hx.ReactCurrentOwner,hf=!1;function Rd(t,e,r,n){e.child=t===null?R$e(e,null,r,n):aN(e,t.child,r,n)}function dke(t,e,r,n,o){r=r.render;var i=e.ref;return tN(e,o),n=cde(t,e,r,n,i,o),r=dde(),t!==null&&!hf?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,px(t,e,o)):($i&&r&&Zce(e),e.flags|=1,Rd(t,e,n,o),e.child)}function fke(t,e,r,n,o){if(t===null){var i=r.type;return typeof i=="function"&&!wde(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,eqe(t,e,i,n,o)):(t=E9(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:DU,r(a,n)&&t.ref===e.ref)return px(t,e,o)}return e.flags|=1,t=PE(i,n),t.ref=e.ref,t.return=e,e.child=t}function eqe(t,e,r,n,o){if(t!==null){var i=t.memoizedProps;if(DU(i,n)&&t.ref===e.ref)if(hf=!1,e.pendingProps=n=i,(t.lanes&o)!==0)t.flags&131072&&(hf=!0);else return e.lanes=t.lanes,px(t,e,o)}return xce(t,e,r,n,o)}function tqe(t,e,r){var n=e.pendingProps,o=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ai(Yj,cp),cp|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ai(Yj,cp),cp|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ai(Yj,cp),cp|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ai(Yj,cp),cp|=n;return Rd(t,e,o,r),e.child}function rqe(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xce(t,e,r,n,o){var i=gf(r)?FA:Kc.current;return i=oN(e,i),tN(e,o),r=cde(t,e,r,n,i,o),n=dde(),t!==null&&!hf?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,px(t,e,o)):($i&&n&&Zce(e),e.flags|=1,Rd(t,e,r,o),e.child)}function pke(t,e,r,n,o){if(gf(r)){var i=!0;F9(e)}else i=!1;if(tN(e,o),e.stateNode===null)x9(t,e),M$e(e,r,n),wce(e,r,n,o),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=yh(l):(l=gf(r)?FA:Kc.current,l=oN(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&oke(e,a,n,l),mE=!1;var f=e.memoizedState;a.state=f,U9(e,n,a,o),u=e.memoizedState,s!==n||f!==u||mf.current||mE?(typeof c=="function"&&(vce(e,r,c,n),u=e.memoizedState),(s=mE||nke(e,r,s,n,f,u,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,P$e(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Qm(e.type,s),a.props=l,d=e.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=yh(u):(u=gf(r)?FA:Kc.current,u=oN(e,u));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==u)&&oke(e,a,n,u),mE=!1,f=e.memoizedState,a.state=f,U9(e,n,a,o);var m=e.memoizedState;s!==d||f!==m||mf.current||mE?(typeof p=="function"&&(vce(e,r,p,n),m=e.memoizedState),(l=mE||nke(e,r,l,n,f,m,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Cce(t,e,r,n,i,o)}function Cce(t,e,r,n,o,i){rqe(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return o&&ZBe(e,r,!1),px(t,e,i);n=e.stateNode,bGt.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=aN(e,t.child,null,i),e.child=aN(e,null,s,i)):Rd(t,e,s,i),e.memoizedState=n.state,o&&ZBe(e,r,!0),e.child}function nqe(t){var e=t.stateNode;e.pendingContext?XBe(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XBe(t,e.context,!1),ade(t,e.containerInfo)}function hke(t,e,r,n,o){return iN(),ede(o),e.flags|=256,Rd(t,e,r,n),e.child}var Oce={dehydrated:null,treeContext:null,retryLane:0};function Ece(t){return{baseLanes:t,cachePool:null,transitions:null}}function oqe(t,e,r){var n=e.pendingProps,o=oa.current,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(o&2)!==0),s?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ai(oa,o&1),t===null)return bce(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=sW(a,n,0,null),t=LA(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ece(r),e.memoizedState=Oce,t):hde(e,a));if(o=t.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return _Gt(t,e,a,n,s,o,r);if(i){i=n.fallback,a=e.mode,o=t.child,s=o.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=PE(o,u),n.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=PE(s,i):(i=LA(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Ece(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Oce,n}return i=t.child,t=i.sibling,n=PE(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hde(t,e){return e=sW({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function h9(t,e,r,n){return n!==null&&ede(n),aN(e,t.child,null,r),t=hde(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _Gt(t,e,r,n,o,i,a){if(r)return e.flags&256?(e.flags&=-257,n=$le(Error(Oe(422))),h9(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,o=e.mode,n=sW({mode:"visible",children:n.children},o,0,null),i=LA(i,o,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&aN(e,t.child,null,a),e.child.memoizedState=Ece(a),e.memoizedState=Oce,i);if(!(e.mode&1))return h9(t,e,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(Oe(419)),n=$le(i,n,void 0),h9(t,e,a,n)}if(s=(a&t.childLanes)!==0,hf||s){if(n=wl,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,fx(t,o),ng(n,t,o,-1))}return vde(),n=$le(Error(Oe(421))),h9(t,e,a,n)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=IGt.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,dp=xE(o.nextSibling),fp=e,$i=!0,tg=null,t!==null&&(ph[hh++]=sx,ph[hh++]=ux,ph[hh++]=BA,sx=t.id,ux=t.overflow,BA=e),e=hde(e,n.children),e.flags|=4096,e)}function mke(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_ce(t.return,e,r)}function qle(t,e,r,n,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function iqe(t,e,r){var n=e.pendingProps,o=n.revealOrder,i=n.tail;if(Rd(t,e,n.children,r),n=oa.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mke(t,r,e);else if(t.tag===19)mke(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ai(oa,n),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)t=r.alternate,t!==null&&z9(t)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),qle(e,!1,o,r,i);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&z9(t)===null){e.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}qle(e,!0,r,null,i);break;case"together":qle(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function x9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function px(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),$A|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=PE(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=PE(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vGt(t,e,r){switch(e.tag){case 3:nqe(e),iN();break;case 5:I$e(e);break;case 1:gf(e.type)&&F9(e);break;case 4:ade(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,o=e.memoizedProps.value;ai($9,n._currentValue),n._currentValue=o;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ai(oa,oa.current&1),e.flags|=128,null):r&e.child.childLanes?oqe(t,e,r):(ai(oa,oa.current&1),t=px(t,e,r),t!==null?t.sibling:null);ai(oa,oa.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return iqe(t,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ai(oa,oa.current),n)break;return null;case 22:case 23:return e.lanes=0,tqe(t,e,r)}return px(t,e,r)}var aqe,Pce,sqe,uqe;aqe=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pce=function(){};sqe=function(t,e,r,n){var o=t.memoizedProps;if(o!==n){t=e.stateNode,jA(Ly.current);var i=null;switch(r){case"input":o=Kle(t,o),n=Kle(t,n),i=[];break;case"select":o=aa({},o,{value:void 0}),n=aa({},n,{value:void 0}),i=[];break;case"textarea":o=Zle(t,o),n=Zle(t,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=N9)}ece(r,n);var a;r=null;for(l in o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var s=o[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(EU.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var u=n[l];if(s=o?.[l],n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(EU.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&_i("scroll",t),i||s===u||(i=[])):(i=i||[]).push(l,u))}r&&(i=i||[]).push("style",r);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};uqe=function(t,e,r,n){r!==n&&(e.flags|=4)};function cU(t,e){if(!$i)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Jc(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var o=t.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wGt(t,e,r){var n=e.pendingProps;switch(Qce(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jc(e),null;case 1:return gf(e.type)&&L9(),Jc(e),null;case 3:return n=e.stateNode,sN(),vi(mf),vi(Kc),ude(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(f9(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tg!==null&&(Nce(tg),tg=null))),Pce(t,e),Jc(e),null;case 5:sde(e);var o=jA(BU.current);if(r=e.type,t!==null&&e.stateNode!=null)sqe(t,e,r,n,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return Jc(e),null}if(t=jA(Ly.current),f9(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[jy]=e,n[LU]=i,t=(e.mode&1)!==0,r){case"dialog":_i("cancel",n),_i("close",n);break;case"iframe":case"object":case"embed":_i("load",n);break;case"video":case"audio":for(o=0;o<gU.length;o++)_i(gU[o],n);break;case"source":_i("error",n);break;case"img":case"image":case"link":_i("error",n),_i("load",n);break;case"details":_i("toggle",n);break;case"input":xBe(n,i),_i("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_i("invalid",n);break;case"textarea":OBe(n,i),_i("invalid",n)}ece(r,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&d9(n.textContent,s,t),o=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&d9(n.textContent,s,t),o=["children",""+s]):EU.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&_i("scroll",n)}switch(r){case"input":Q5(n),CBe(n,i,!0);break;case"textarea":Q5(n),EBe(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=N9)}n=o,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nke(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[jy]=e,t[LU]=n,aqe(t,e,!1,!1),e.stateNode=t;e:{switch(a=tce(r,n),r){case"dialog":_i("cancel",t),_i("close",t),o=n;break;case"iframe":case"object":case"embed":_i("load",t),o=n;break;case"video":case"audio":for(o=0;o<gU.length;o++)_i(gU[o],t);o=n;break;case"source":_i("error",t),o=n;break;case"img":case"image":case"link":_i("error",t),_i("load",t),o=n;break;case"details":_i("toggle",t),o=n;break;case"input":xBe(t,n),o=Kle(t,n),_i("invalid",t);break;case"option":o=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},o=aa({},n,{value:void 0}),_i("invalid",t);break;case"textarea":OBe(t,n),o=Zle(t,n),_i("invalid",t);break;default:o=n}ece(r,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="style"?Bke(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Lke(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&PU(t,u):typeof u=="number"&&PU(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(EU.hasOwnProperty(i)?u!=null&&i==="onScroll"&&_i("scroll",t):u!=null&&Bce(t,i,u,a))}switch(r){case"input":Q5(t),CBe(t,n,!1);break;case"textarea":Q5(t),EBe(t);break;case"option":n.value!=null&&t.setAttribute("value",""+TE(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Xj(t,!!n.multiple,i,!1):n.defaultValue!=null&&Xj(t,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=N9)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jc(e),null;case 6:if(t&&e.stateNode!=null)uqe(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=jA(BU.current),jA(Ly.current),f9(e)){if(n=e.stateNode,r=e.memoizedProps,n[jy]=e,(i=n.nodeValue!==r)&&(t=fp,t!==null))switch(t.tag){case 3:d9(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&d9(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jy]=e,e.stateNode=n}return Jc(e),null;case 13:if(vi(oa),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($i&&dp!==null&&e.mode&1&&!(e.flags&128))O$e(),iN(),e.flags|=98560,i=!1;else if(i=f9(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[jy]=e}else iN(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jc(e),i=!1}else tg!==null&&(Nce(tg),tg=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||oa.current&1?Xu===0&&(Xu=3):vde())),e.updateQueue!==null&&(e.flags|=4),Jc(e),null);case 4:return sN(),Pce(t,e),t===null&&jU(e.stateNode.containerInfo),Jc(e),null;case 10:return nde(e.type._context),Jc(e),null;case 17:return gf(e.type)&&L9(),Jc(e),null;case 19:if(vi(oa),i=e.memoizedState,i===null)return Jc(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)cU(i,!1);else{if(Xu!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=z9(t),a!==null){for(e.flags|=128,cU(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ai(oa,oa.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qa()>lN&&(e.flags|=128,n=!0,cU(i,!1),e.lanes=4194304)}else{if(!n)if(t=z9(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cU(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!$i)return Jc(e),null}else 2*Qa()-i.renderingStartTime>lN&&r!==1073741824&&(e.flags|=128,n=!0,cU(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qa(),e.sibling=null,r=oa.current,ai(oa,n?r&1|2:r&1),e):(Jc(e),null);case 22:case 23:return _de(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?cp&1073741824&&(Jc(e),e.subtreeFlags&6&&(e.flags|=8192)):Jc(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function SGt(t,e){switch(Qce(e),e.tag){case 1:return gf(e.type)&&L9(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sN(),vi(mf),vi(Kc),ude(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sde(e),null;case 13:if(vi(oa),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));iN()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vi(oa),null;case 4:return sN(),null;case 10:return nde(e.type._context),null;case 22:case 23:return _de(),null;case 24:return null;default:return null}}var m9=!1,Gc=!1,xGt=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Kj(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fa(t,e,n)}else r.current=null}function Tce(t,e,r){try{r()}catch(n){Fa(t,e,n)}}var gke=!1;function CGt(t,e){if(dce=I9,t=f$e(),Xce(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,s=-1,u=-1,l=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==r||o!==0&&d.nodeType!==3||(s=a+o),d!==i||n!==0&&d.nodeType!==3||(u=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===r&&++l===o&&(s=a),f===i&&++c===n&&(u=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(fce={focusedElem:t,selectionRange:r},I9=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var h=m.memoizedProps,v=m.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?h:Qm(e.type,h),v);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(x){Fa(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return m=gke,gke=!1,m}function xU(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Tce(e,r,i)}o=o.next}while(o!==n)}}function iW(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Mce(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function lqe(t){var e=t.alternate;e!==null&&(t.alternate=null,lqe(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jy],delete e[LU],delete e[mce],delete e[aGt],delete e[sGt])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cqe(t){return t.tag===5||t.tag===3||t.tag===4}function yke(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cqe(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ace(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=N9));else if(n!==4&&(t=t.child,t!==null))for(Ace(t,e,r),t=t.sibling;t!==null;)Ace(t,e,r),t=t.sibling}function Rce(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rce(t,e,r),t=t.sibling;t!==null;)Rce(t,e,r),t=t.sibling}var Kl=null,eg=!1;function pE(t,e,r){for(r=r.child;r!==null;)dqe(t,e,r),r=r.sibling}function dqe(t,e,r){if(Ny&&typeof Ny.onCommitFiberUnmount=="function")try{Ny.onCommitFiberUnmount(X9,r)}catch{}switch(r.tag){case 5:Gc||Kj(r,e);case 6:var n=Kl,o=eg;Kl=null,pE(t,e,r),Kl=n,eg=o,Kl!==null&&(eg?(t=Kl,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Kl.removeChild(r.stateNode));break;case 18:Kl!==null&&(eg?(t=Kl,r=r.stateNode,t.nodeType===8?jle(t.parentNode,r):t.nodeType===1&&jle(t,r),RU(t)):jle(Kl,r.stateNode));break;case 4:n=Kl,o=eg,Kl=r.stateNode.containerInfo,eg=!0,pE(t,e,r),Kl=n,eg=o;break;case 0:case 11:case 14:case 15:if(!Gc&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Tce(r,e,a),o=o.next}while(o!==n)}pE(t,e,r);break;case 1:if(!Gc&&(Kj(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Fa(r,e,s)}pE(t,e,r);break;case 21:pE(t,e,r);break;case 22:r.mode&1?(Gc=(n=Gc)||r.memoizedState!==null,pE(t,e,r),Gc=n):pE(t,e,r);break;default:pE(t,e,r)}}function bke(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xGt),e.forEach(function(n){var o=DGt.bind(null,t,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Zm(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Kl=s.stateNode,eg=!1;break e;case 3:Kl=s.stateNode.containerInfo,eg=!0;break e;case 4:Kl=s.stateNode.containerInfo,eg=!0;break e}s=s.return}if(Kl===null)throw Error(Oe(160));dqe(i,a,o),Kl=null,eg=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(l){Fa(o,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fqe(e,t),e=e.sibling}function fqe(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zm(e,t),Iy(t),n&4){try{xU(3,t,t.return),iW(3,t)}catch(h){Fa(t,t.return,h)}try{xU(5,t,t.return)}catch(h){Fa(t,t.return,h)}}break;case 1:Zm(e,t),Iy(t),n&512&&r!==null&&Kj(r,r.return);break;case 5:if(Zm(e,t),Iy(t),n&512&&r!==null&&Kj(r,r.return),t.flags&32){var o=t.stateNode;try{PU(o,"")}catch(h){Fa(t,t.return,h)}}if(n&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Dke(o,i),tce(s,a);var l=tce(s,i);for(a=0;a<u.length;a+=2){var c=u[a],d=u[a+1];c==="style"?Bke(o,d):c==="dangerouslySetInnerHTML"?Lke(o,d):c==="children"?PU(o,d):Bce(o,c,d,l)}switch(s){case"input":Yle(o,i);break;case"textarea":jke(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Xj(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xj(o,!!i.multiple,i.defaultValue,!0):Xj(o,!!i.multiple,i.multiple?[]:"",!1))}o[LU]=i}catch(h){Fa(t,t.return,h)}}break;case 6:if(Zm(e,t),Iy(t),n&4){if(t.stateNode===null)throw Error(Oe(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(h){Fa(t,t.return,h)}}break;case 3:if(Zm(e,t),Iy(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{RU(e.containerInfo)}catch(h){Fa(t,t.return,h)}break;case 4:Zm(e,t),Iy(t);break;case 13:Zm(e,t),Iy(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(yde=Qa())),n&4&&bke(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Gc=(l=Gc)||c,Zm(e,t),Gc=l):Zm(e,t),Iy(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(nt=t,c=t.child;c!==null;){for(d=nt=c;nt!==null;){switch(f=nt,p=f.child,f.tag){case 0:case 11:case 14:case 15:xU(4,f,f.return);break;case 1:Kj(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(h){Fa(n,r,h)}}break;case 5:Kj(f,f.return);break;case 22:if(f.memoizedState!==null){vke(d);continue}}p!==null?(p.return=f,nt=p):vke(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,l?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Fke("display",a))}catch(h){Fa(t,t.return,h)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(h){Fa(t,t.return,h)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zm(e,t),Iy(t),n&4&&bke(t);break;case 21:break;default:Zm(e,t),Iy(t)}}function Iy(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(cqe(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(PU(o,""),n.flags&=-33);var i=yke(t);Rce(t,i,o);break;case 3:case 4:var a=n.stateNode.containerInfo,s=yke(t);Ace(t,s,a);break;default:throw Error(Oe(161))}}catch(u){Fa(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OGt(t,e,r){nt=t,pqe(t,e,r)}function pqe(t,e,r){for(var n=(t.mode&1)!==0;nt!==null;){var o=nt,i=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||m9;if(!a){var s=o.alternate,u=s!==null&&s.memoizedState!==null||Gc;s=m9;var l=Gc;if(m9=a,(Gc=u)&&!l)for(nt=o;nt!==null;)a=nt,u=a.child,a.tag===22&&a.memoizedState!==null?wke(o):u!==null?(u.return=a,nt=u):wke(o);for(;i!==null;)nt=i,pqe(i,e,r),i=i.sibling;nt=o,m9=s,Gc=l}_ke(t,e,r)}else o.subtreeFlags&8772&&i!==null?(i.return=o,nt=i):_ke(t,e,r)}}function _ke(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gc||iW(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gc)if(r===null)n.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:Qm(e.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rke(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rke(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&RU(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Gc||e.flags&512&&Mce(e)}catch(f){Fa(e,e.return,f)}}if(e===t){nt=null;break}if(r=e.sibling,r!==null){r.return=e.return,nt=r;break}nt=e.return}}function vke(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,nt=r;break}nt=e.return}}function wke(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{iW(4,e)}catch(u){Fa(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var o=e.return;try{n.componentDidMount()}catch(u){Fa(e,o,u)}}var i=e.return;try{Mce(e)}catch(u){Fa(e,i,u)}break;case 5:var a=e.return;try{Mce(e)}catch(u){Fa(e,a,u)}}}catch(u){Fa(e,e.return,u)}if(e===t){nt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,nt=s;break}nt=e.return}}var EGt=Math.ceil,W9=hx.ReactCurrentDispatcher,mde=hx.ReactCurrentOwner,gh=hx.ReactCurrentBatchConfig,Fn=0,wl=null,gs=null,Yl=0,cp=0,Yj=RE(0),Xu=0,UU=null,$A=0,aW=0,gde=0,CU=null,pf=null,yde=0,lN=1/0,ix=null,J9=!1,Ice=null,OE=null,g9=!1,_E=null,G9=0,OU=0,Dce=null,C9=-1,O9=0;function Id(){return Fn&6?Qa():C9!==-1?C9:C9=Qa()}function EE(t){return t.mode&1?Fn&2&&Yl!==0?Yl&-Yl:lGt.transition!==null?(O9===0&&(O9=Yke()),O9):(t=Lo,t!==0||(t=window.event,t=t===void 0?16:n$e(t.type)),t):1}function ng(t,e,r,n){if(50<OU)throw OU=0,Dce=null,Error(Oe(185));zU(t,r,n),(!(Fn&2)||t!==wl)&&(t===wl&&(!(Fn&2)&&(aW|=r),Xu===4&&yE(t,Yl)),yf(t,n),r===1&&Fn===0&&!(e.mode&1)&&(lN=Qa()+500,rW&&IE()))}function yf(t,e){var r=t.callbackNode;dJt(t,e);var n=R9(t,t===wl?Yl:0);if(n===0)r!==null&&MBe(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&MBe(r),e===1)t.tag===0?uGt(Ske.bind(null,t)):S$e(Ske.bind(null,t)),oGt(function(){!(Fn&6)&&IE()}),r=null;else{switch(Xke(n)){case 1:r=zce;break;case 4:r=Gke;break;case 16:r=A9;break;case 536870912:r=Kke;break;default:r=A9}r=wqe(r,hqe.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hqe(t,e){if(C9=-1,O9=0,Fn&6)throw Error(Oe(327));var r=t.callbackNode;if(rN()&&t.callbackNode!==r)return null;var n=R9(t,t===wl?Yl:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=K9(t,n);else{e=n;var o=Fn;Fn|=2;var i=gqe();(wl!==t||Yl!==e)&&(ix=null,lN=Qa()+500,NA(t,e));do try{MGt();break}catch(s){mqe(t,s)}while(1);rde(),W9.current=i,Fn=o,gs!==null?e=0:(wl=null,Yl=0,e=Xu)}if(e!==0){if(e===2&&(o=ace(t),o!==0&&(n=o,e=jce(t,o))),e===1)throw r=UU,NA(t,0),yE(t,n),yf(t,Qa()),r;if(e===6)yE(t,n);else{if(o=t.current.alternate,!(n&30)&&!PGt(o)&&(e=K9(t,n),e===2&&(i=ace(t),i!==0&&(n=i,e=jce(t,i))),e===1))throw r=UU,NA(t,0),yE(t,n),yf(t,Qa()),r;switch(t.finishedWork=o,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:RA(t,pf,ix);break;case 3:if(yE(t,n),(n&130023424)===n&&(e=yde+500-Qa(),10<e)){if(R9(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){Id(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=hce(RA.bind(null,t,pf,ix),e);break}RA(t,pf,ix);break;case 4:if(yE(t,n),(n&4194240)===n)break;for(e=t.eventTimes,o=-1;0<n;){var a=31-rg(n);i=1<<a,a=e[a],a>o&&(o=a),n&=~i}if(n=o,n=Qa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EGt(n/1960))-n,10<n){t.timeoutHandle=hce(RA.bind(null,t,pf,ix),n);break}RA(t,pf,ix);break;case 5:RA(t,pf,ix);break;default:throw Error(Oe(329))}}}return yf(t,Qa()),t.callbackNode===r?hqe.bind(null,t):null}function jce(t,e){var r=CU;return t.current.memoizedState.isDehydrated&&(NA(t,e).flags|=256),t=K9(t,e),t!==2&&(e=pf,pf=r,e!==null&&Nce(e)),t}function Nce(t){pf===null?pf=t:pf.push.apply(pf,t)}function PGt(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!og(i(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yE(t,e){for(e&=~gde,e&=~aW,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rg(e),n=1<<r;t[r]=-1,e&=~n}}function Ske(t){if(Fn&6)throw Error(Oe(327));rN();var e=R9(t,0);if(!(e&1))return yf(t,Qa()),null;var r=K9(t,e);if(t.tag!==0&&r===2){var n=ace(t);n!==0&&(e=n,r=jce(t,n))}if(r===1)throw r=UU,NA(t,0),yE(t,e),yf(t,Qa()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,RA(t,pf,ix),yf(t,Qa()),null}function bde(t,e){var r=Fn;Fn|=1;try{return t(e)}finally{Fn=r,Fn===0&&(lN=Qa()+500,rW&&IE())}}function qA(t){_E!==null&&_E.tag===0&&!(Fn&6)&&rN();var e=Fn;Fn|=1;var r=gh.transition,n=Lo;try{if(gh.transition=null,Lo=1,t)return t()}finally{Lo=n,gh.transition=r,Fn=e,!(Fn&6)&&IE()}}function _de(){cp=Yj.current,vi(Yj)}function NA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nGt(r)),gs!==null)for(r=gs.return;r!==null;){var n=r;switch(Qce(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&L9();break;case 3:sN(),vi(mf),vi(Kc),ude();break;case 5:sde(n);break;case 4:sN();break;case 13:vi(oa);break;case 19:vi(oa);break;case 10:nde(n.type._context);break;case 22:case 23:_de()}r=r.return}if(wl=t,gs=t=PE(t.current,null),Yl=cp=e,Xu=0,UU=null,gde=aW=$A=0,pf=CU=null,DA!==null){for(e=0;e<DA.length;e++)if(r=DA[e],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=o,n.next=a}r.pending=n}DA=null}return t}function mqe(t,e){do{var r=gs;try{if(rde(),w9.current=V9,H9){for(var n=ia.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}H9=!1}if(kA=0,vl=Yu=ia=null,SU=!1,kU=0,mde.current=null,r===null||r.return===null){Xu=1,UU=e,gs=null;break}e:{var i=t,a=r.return,s=r,u=e;if(e=Yl,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=lke(a);if(p!==null){p.flags&=-257,cke(p,a,s,i,e),p.mode&1&&uke(i,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var h=new Set;h.add(u),e.updateQueue=h}else m.add(u);break e}else{if(!(e&1)){uke(i,l,e),vde();break e}u=Error(Oe(426))}}else if($i&&s.mode&1){var v=lke(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),cke(v,a,s,i,e),ede(uN(u,s));break e}}i=u=uN(u,s),Xu!==4&&(Xu=2),CU===null?CU=[i]:CU.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Z$e(i,u,e);tke(i,g);break e;case 1:s=u;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(OE===null||!OE.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Q$e(i,s,e);tke(i,x);break e}}i=i.return}while(i!==null)}bqe(r)}catch(O){e=O,gs===r&&r!==null&&(gs=r=r.return);continue}break}while(1)}function gqe(){var t=W9.current;return W9.current=V9,t===null?V9:t}function vde(){(Xu===0||Xu===3||Xu===2)&&(Xu=4),wl===null||!($A&268435455)&&!(aW&268435455)||yE(wl,Yl)}function K9(t,e){var r=Fn;Fn|=2;var n=gqe();(wl!==t||Yl!==e)&&(ix=null,NA(t,e));do try{TGt();break}catch(o){mqe(t,o)}while(1);if(rde(),Fn=r,W9.current=n,gs!==null)throw Error(Oe(261));return wl=null,Yl=0,Xu}function TGt(){for(;gs!==null;)yqe(gs)}function MGt(){for(;gs!==null&&!rJt();)yqe(gs)}function yqe(t){var e=vqe(t.alternate,t,cp);t.memoizedProps=t.pendingProps,e===null?bqe(t):gs=e,mde.current=null}function bqe(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=SGt(r,e),r!==null){r.flags&=32767,gs=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xu=6,gs=null;return}}else if(r=wGt(r,e,cp),r!==null){gs=r;return}if(e=e.sibling,e!==null){gs=e;return}gs=e=t}while(e!==null);Xu===0&&(Xu=5)}function RA(t,e,r){var n=Lo,o=gh.transition;try{gh.transition=null,Lo=1,AGt(t,e,r,n)}finally{gh.transition=o,Lo=n}return null}function AGt(t,e,r,n){do rN();while(_E!==null);if(Fn&6)throw Error(Oe(327));r=t.finishedWork;var o=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(fJt(t,i),t===wl&&(gs=wl=null,Yl=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||g9||(g9=!0,wqe(A9,function(){return rN(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=gh.transition,gh.transition=null;var a=Lo;Lo=1;var s=Fn;Fn|=4,mde.current=null,CGt(t,r),fqe(r,t),ZJt(fce),I9=!!dce,fce=dce=null,t.current=r,OGt(r,t,o),nJt(),Fn=s,Lo=a,gh.transition=i}else t.current=r;if(g9&&(g9=!1,_E=t,G9=o),i=t.pendingLanes,i===0&&(OE=null),aJt(r.stateNode,n),yf(t,Qa()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)o=e[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(J9)throw J9=!1,t=Ice,Ice=null,t;return G9&1&&t.tag!==0&&rN(),i=t.pendingLanes,i&1?t===Dce?OU++:(OU=0,Dce=t):OU=0,IE(),null}function rN(){if(_E!==null){var t=Xke(G9),e=gh.transition,r=Lo;try{if(gh.transition=null,Lo=16>t?16:t,_E===null)var n=!1;else{if(t=_E,_E=null,G9=0,Fn&6)throw Error(Oe(331));var o=Fn;for(Fn|=4,nt=t.current;nt!==null;){var i=nt,a=i.child;if(nt.flags&16){var s=i.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(nt=l;nt!==null;){var c=nt;switch(c.tag){case 0:case 11:case 15:xU(8,c,i)}var d=c.child;if(d!==null)d.return=c,nt=d;else for(;nt!==null;){c=nt;var f=c.sibling,p=c.return;if(lqe(c),c===l){nt=null;break}if(f!==null){f.return=p,nt=f;break}nt=p}}}var m=i.alternate;if(m!==null){var h=m.child;if(h!==null){m.child=null;do{var v=h.sibling;h.sibling=null,h=v}while(h!==null)}}nt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,nt=a;else e:for(;nt!==null;){if(i=nt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xU(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,nt=g;break e}nt=i.return}}var _=t.current;for(nt=_;nt!==null;){a=nt;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,nt=S;else e:for(a=_;nt!==null;){if(s=nt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:iW(9,s)}}catch(O){Fa(s,s.return,O)}if(s===a){nt=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,nt=x;break e}nt=s.return}}if(Fn=o,IE(),Ny&&typeof Ny.onPostCommitFiberRoot=="function")try{Ny.onPostCommitFiberRoot(X9,t)}catch{}n=!0}return n}finally{Lo=r,gh.transition=e}}return!1}function xke(t,e,r){e=uN(r,e),e=Z$e(t,e,1),t=CE(t,e,1),e=Id(),t!==null&&(zU(t,1,e),yf(t,e))}function Fa(t,e,r){if(t.tag===3)xke(t,t,r);else for(;e!==null;){if(e.tag===3){xke(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(OE===null||!OE.has(n))){t=uN(r,t),t=Q$e(e,t,1),e=CE(e,t,1),t=Id(),e!==null&&(zU(e,1,t),yf(e,t));break}}e=e.return}}function RGt(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Id(),t.pingedLanes|=t.suspendedLanes&r,wl===t&&(Yl&r)===r&&(Xu===4||Xu===3&&(Yl&130023424)===Yl&&500>Qa()-yde?NA(t,0):gde|=r),yf(t,e)}function _qe(t,e){e===0&&(t.mode&1?(e=r9,r9<<=1,!(r9&130023424)&&(r9=4194304)):e=1);var r=Id();t=fx(t,e),t!==null&&(zU(t,e,r),yf(t,r))}function IGt(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_qe(t,r)}function DGt(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,o=t.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),_qe(t,r)}var vqe;vqe=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mf.current)hf=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return hf=!1,vGt(t,e,r);hf=!!(t.flags&131072)}else hf=!1,$i&&e.flags&1048576&&x$e(e,k9,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;x9(t,e),t=e.pendingProps;var o=oN(e,Kc.current);tN(e,r),o=cde(null,e,n,t,o,r);var i=dde();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gf(n)?(i=!0,F9(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ide(e),o.updater=nW,e.stateNode=o,o._reactInternals=e,wce(e,n,t,r),e=Cce(null,e,n,!0,i,r)):(e.tag=0,$i&&i&&Zce(e),Rd(null,e,o,r),e=e.child),e;case 16:n=e.elementType;e:{switch(x9(t,e),t=e.pendingProps,o=n._init,n=o(n._payload),e.type=n,o=e.tag=NGt(n),t=Qm(n,t),o){case 0:e=xce(null,e,n,t,r);break e;case 1:e=pke(null,e,n,t,r);break e;case 11:e=dke(null,e,n,t,r);break e;case 14:e=fke(null,e,n,Qm(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Qm(n,o),xce(t,e,n,o,r);case 1:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Qm(n,o),pke(t,e,n,o,r);case 3:e:{if(nqe(e),t===null)throw Error(Oe(387));n=e.pendingProps,i=e.memoizedState,o=i.element,P$e(t,e),U9(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=uN(Error(Oe(423)),e),e=hke(t,e,n,r,o);break e}else if(n!==o){o=uN(Error(Oe(424)),e),e=hke(t,e,n,r,o);break e}else for(dp=xE(e.stateNode.containerInfo.firstChild),fp=e,$i=!0,tg=null,r=R$e(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(iN(),n===o){e=px(t,e,r);break e}Rd(t,e,n,r)}e=e.child}return e;case 5:return I$e(e),t===null&&bce(e),n=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,pce(n,o)?a=null:i!==null&&pce(n,i)&&(e.flags|=32),rqe(t,e),Rd(t,e,a,r),e.child;case 6:return t===null&&bce(e),null;case 13:return oqe(t,e,r);case 4:return ade(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=aN(e,null,n,r):Rd(t,e,n,r),e.child;case 11:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Qm(n,o),dke(t,e,n,o,r);case 7:return Rd(t,e,e.pendingProps,r),e.child;case 8:return Rd(t,e,e.pendingProps.children,r),e.child;case 12:return Rd(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,ai($9,n._currentValue),n._currentValue=a,i!==null)if(og(i.value,a)){if(i.children===o.children&&!mf.current){e=px(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=lx(-1,r&-r),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),_ce(i.return,r,e),s.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Oe(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),_ce(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Rd(t,e,o.children,r),e=e.child}return e;case 9:return o=e.type,n=e.pendingProps.children,tN(e,r),o=yh(o),n=n(o),e.flags|=1,Rd(t,e,n,r),e.child;case 14:return n=e.type,o=Qm(n,e.pendingProps),o=Qm(n.type,o),fke(t,e,n,o,r);case 15:return eqe(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Qm(n,o),x9(t,e),e.tag=1,gf(n)?(t=!0,F9(e)):t=!1,tN(e,r),M$e(e,n,o),wce(e,n,o,r),Cce(null,e,n,!0,t,r);case 19:return iqe(t,e,r);case 22:return tqe(t,e,r)}throw Error(Oe(156,e.tag))};function wqe(t,e){return Jke(t,e)}function jGt(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mh(t,e,r,n){return new jGt(t,e,r,n)}function wde(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NGt(t){if(typeof t=="function")return wde(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$ce)return 11;if(t===qce)return 14}return 2}function PE(t,e){var r=t.alternate;return r===null?(r=mh(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function E9(t,e,r,n,o,i){var a=2;if(n=t,typeof t=="function")wde(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $j:return LA(r.children,o,i,e);case kce:a=8,o|=8;break;case Vle:return t=mh(12,r,e,o|2),t.elementType=Vle,t.lanes=i,t;case Wle:return t=mh(13,r,e,o),t.elementType=Wle,t.lanes=i,t;case Jle:return t=mh(19,r,e,o),t.elementType=Jle,t.lanes=i,t;case Ake:return sW(r,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tke:a=10;break e;case Mke:a=9;break e;case $ce:a=11;break e;case qce:a=14;break e;case hE:a=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=mh(a,r,e,o),e.elementType=t,e.type=n,e.lanes=i,e}function LA(t,e,r,n){return t=mh(7,t,n,e),t.lanes=r,t}function sW(t,e,r,n){return t=mh(22,t,n,e),t.elementType=Ake,t.lanes=r,t.stateNode={isHidden:!1},t}function Ule(t,e,r){return t=mh(6,t,null,e),t.lanes=r,t}function zle(t,e,r){return e=mh(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LGt(t,e,r,n,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ele(0),this.expirationTimes=Ele(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ele(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sde(t,e,r,n,o,i,a,s,u){return t=new LGt(t,e,r,s,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mh(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ide(i),t}function FGt(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kj,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sqe(t){if(!t)return ME;t=t._reactInternals;e:{if(zA(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(gf(r))return w$e(t,r,e)}return e}function xqe(t,e,r,n,o,i,a,s,u){return t=Sde(r,n,!0,t,o,i,a,s,u),t.context=Sqe(null),r=t.current,n=Id(),o=EE(r),i=lx(n,o),i.callback=e??null,CE(r,i,o),t.current.lanes=o,zU(t,o,n),yf(t,n),t}function uW(t,e,r,n){var o=e.current,i=Id(),a=EE(o);return r=Sqe(r),e.context===null?e.context=r:e.pendingContext=r,e=lx(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=CE(o,e,a),t!==null&&(ng(t,o,a,i),v9(t,o,a)),a}function Y9(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cke(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xde(t,e){Cke(t,e),(t=t.alternate)&&Cke(t,e)}function BGt(){return null}var Cqe=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cde(t){this._internalRoot=t}lW.prototype.render=Cde.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));uW(t,e,null,null)};lW.prototype.unmount=Cde.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qA(function(){uW(null,t,null,null)}),e[dx]=null}};function lW(t){this._internalRoot=t}lW.prototype.unstable_scheduleHydration=function(t){if(t){var e=e$e();t={blockedOn:null,target:t,priority:e};for(var r=0;r<gE.length&&e!==0&&e<gE[r].priority;r++);gE.splice(r,0,t),r===0&&r$e(t)}};function Ode(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cW(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oke(){}function kGt(t,e,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var l=Y9(a);i.call(l)}}var a=xqe(e,n,t,0,null,!1,!1,"",Oke);return t._reactRootContainer=a,t[dx]=a.current,jU(t.nodeType===8?t.parentNode:t),qA(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof n=="function"){var s=n;n=function(){var l=Y9(u);s.call(l)}}var u=Sde(t,0,!1,null,null,!1,!1,"",Oke);return t._reactRootContainer=u,t[dx]=u.current,jU(t.nodeType===8?t.parentNode:t),qA(function(){uW(e,u,r,n)}),u}function dW(t,e,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var u=Y9(a);s.call(u)}}uW(e,a,t,o)}else a=kGt(r,e,t,o,n);return Y9(a)}Zke=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mU(e.pendingLanes);r!==0&&(Hce(e,r|1),yf(e,Qa()),!(Fn&6)&&(lN=Qa()+500,IE()))}break;case 13:qA(function(){var n=fx(t,1);if(n!==null){var o=Id();ng(n,t,1,o)}}),xde(t,1)}};Vce=function(t){if(t.tag===13){var e=fx(t,134217728);if(e!==null){var r=Id();ng(e,t,134217728,r)}xde(t,134217728)}};Qke=function(t){if(t.tag===13){var e=EE(t),r=fx(t,e);if(r!==null){var n=Id();ng(r,t,e,n)}xde(t,e)}};e$e=function(){return Lo};t$e=function(t,e){var r=Lo;try{return Lo=t,e()}finally{Lo=r}};nce=function(t,e,r){switch(e){case"input":if(Yle(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var o=tW(n);if(!o)throw Error(Oe(90));Ike(n),Yle(n,o)}}}break;case"textarea":jke(t,r);break;case"select":e=r.value,e!=null&&Xj(t,!!r.multiple,e,!1)}};qke=bde;Uke=qA;var $Gt={usingClientEntryPoint:!1,Events:[VU,Hj,tW,kke,$ke,bde]},dU={findFiberByHostInstance:IA,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qGt={bundleType:dU.bundleType,version:dU.version,rendererPackageName:dU.rendererPackageName,rendererConfig:dU.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hx.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vke(t),t===null?null:t.stateNode},findFiberByHostInstance:dU.findFiberByHostInstance||BGt,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(fU=__REACT_DEVTOOLS_GLOBAL_HOOK__,!fU.isDisabled&&fU.supportsFiber))try{X9=fU.inject(qGt),Ny=fU}catch{}var fU;mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$Gt;mp.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ode(e))throw Error(Oe(200));return FGt(t,e,null,r)};mp.createRoot=function(t,e){if(!Ode(t))throw Error(Oe(299));var r=!1,n="",o=Cqe;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Sde(t,1,!1,null,null,r,!1,n,o),t[dx]=e.current,jU(t.nodeType===8?t.parentNode:t),new Cde(e)};mp.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=Vke(e),t=t===null?null:t.stateNode,t};mp.flushSync=function(t){return qA(t)};mp.hydrate=function(t,e,r){if(!cW(e))throw Error(Oe(200));return dW(null,t,e,!0,r)};mp.hydrateRoot=function(t,e,r){if(!Ode(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",a=Cqe;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=xqe(e,null,t,1,r??null,o,!1,i,a),t[dx]=e.current,jU(t),n)for(t=0;t<n.length;t++)r=n[t],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new lW(e)};mp.render=function(t,e,r){if(!cW(e))throw Error(Oe(200));return dW(null,t,e,!1,r)};mp.unmountComponentAtNode=function(t){if(!cW(t))throw Error(Oe(40));return t._reactRootContainer?(qA(function(){dW(null,null,t,!1,function(){t._reactRootContainer=null,t[dx]=null})}),!0):!1};mp.unstable_batchedUpdates=bde;mp.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cW(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return dW(t,e,r,!1,n)};mp.version="18.2.0-next-9e3b772b8-20220608"});var ys=b((vOn,Pqe)=>{"use strict";function Eqe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eqe)}catch(t){console.error(t)}}Eqe(),Pqe.exports=Oqe()});var DE=b(Ede=>{"use strict";var Tqe=ys();Ede.createRoot=Tqe.createRoot,Ede.hydrateRoot=Tqe.hydrateRoot;var wOn});var Rqe=b(fW=>{"use strict";var zGt=Z(),HGt=Symbol.for("react.element"),VGt=Symbol.for("react.fragment"),WGt=Object.prototype.hasOwnProperty,JGt=zGt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GGt={key:!0,ref:!0,__self:!0,__source:!0};function Aqe(t,e,r){var n,o={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)WGt.call(e,n)&&!GGt.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)o[n]===void 0&&(o[n]=e[n]);return{$$typeof:HGt,type:t,key:i,ref:a,props:o,_owner:JGt.current}}fW.Fragment=VGt;fW.jsx=Aqe;fW.jsxs=Aqe});var ct=b((OOn,Iqe)=>{"use strict";Iqe.exports=Rqe()});var Xqe=b((Dde,vN)=>{(function(t,e){typeof Dde=="object"&&typeof vN<"u"?vN.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Dde,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function r(y){t=y}function n(y){return y instanceof Array||Object.prototype.toString.call(y)==="[object Array]"}function o(y){return y!=null&&Object.prototype.toString.call(y)==="[object Object]"}function i(y,w){return Object.prototype.hasOwnProperty.call(y,w)}function a(y){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(y).length===0;var w;for(w in y)if(i(y,w))return!1;return!0}function s(y){return y===void 0}function u(y){return typeof y=="number"||Object.prototype.toString.call(y)==="[object Number]"}function l(y){return y instanceof Date||Object.prototype.toString.call(y)==="[object Date]"}function c(y,w){var P=[],A,D=y.length;for(A=0;A<D;++A)P.push(w(y[A],A));return P}function d(y,w){for(var P in w)i(w,P)&&(y[P]=w[P]);return i(w,"toString")&&(y.toString=w.toString),i(w,"valueOf")&&(y.valueOf=w.valueOf),y}function f(y,w,P,A){return UIe(y,w,P,A,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(y){return y._pf==null&&(y._pf=p()),y._pf}var h;Array.prototype.some?h=Array.prototype.some:h=function(y){var w=Object(this),P=w.length>>>0,A;for(A=0;A<P;A++)if(A in w&&y.call(this,w[A],A,w))return!0;return!1};function v(y){if(y._isValid==null){var w=m(y),P=h.call(w.parsedDateParts,function(D){return D!=null}),A=!isNaN(y._d.getTime())&&w.overflow<0&&!w.empty&&!w.invalidEra&&!w.invalidMonth&&!w.invalidWeekday&&!w.weekdayMismatch&&!w.nullInput&&!w.invalidFormat&&!w.userInvalidated&&(!w.meridiem||w.meridiem&&P);if(y._strict&&(A=A&&w.charsLeftOver===0&&w.unusedTokens.length===0&&w.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(y))y._isValid=A;else return A}return y._isValid}function g(y){var w=f(NaN);return y!=null?d(m(w),y):m(w).userInvalidated=!0,w}var _=e.momentProperties=[],S=!1;function x(y,w){var P,A,D,z=_.length;if(s(w._isAMomentObject)||(y._isAMomentObject=w._isAMomentObject),s(w._i)||(y._i=w._i),s(w._f)||(y._f=w._f),s(w._l)||(y._l=w._l),s(w._strict)||(y._strict=w._strict),s(w._tzm)||(y._tzm=w._tzm),s(w._isUTC)||(y._isUTC=w._isUTC),s(w._offset)||(y._offset=w._offset),s(w._pf)||(y._pf=m(w)),s(w._locale)||(y._locale=w._locale),z>0)for(P=0;P<z;P++)A=_[P],D=w[A],s(D)||(y[A]=D);return y}function O(y){x(this,y),this._d=new Date(y._d!=null?y._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S===!1&&(S=!0,e.updateOffset(this),S=!1)}function T(y){return y instanceof O||y!=null&&y._isAMomentObject!=null}function E(y){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+y)}function M(y,w){var P=!0;return d(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,y),P){var A=[],D,z,se,At=arguments.length;for(z=0;z<At;z++){if(D="",typeof arguments[z]=="object"){D+=`
[`+z+"] ";for(se in arguments[0])i(arguments[0],se)&&(D+=se+": "+arguments[0][se]+", ");D=D.slice(0,-2)}else D=arguments[z];A.push(D)}E(y+`
Arguments: `+Array.prototype.slice.call(A).join("")+`
`+new Error().stack),P=!1}return w.apply(this,arguments)},w)}var R={};function N(y,w){e.deprecationHandler!=null&&e.deprecationHandler(y,w),R[y]||(E(w),R[y]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function j(y){return typeof Function<"u"&&y instanceof Function||Object.prototype.toString.call(y)==="[object Function]"}function F(y){var w,P;for(P in y)i(y,P)&&(w=y[P],j(w)?this[P]=w:this["_"+P]=w);this._config=y,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(y,w){var P=d({},y),A;for(A in w)i(w,A)&&(o(y[A])&&o(w[A])?(P[A]={},d(P[A],y[A]),d(P[A],w[A])):w[A]!=null?P[A]=w[A]:delete P[A]);for(A in y)i(y,A)&&!i(w,A)&&o(y[A])&&(P[A]=d({},P[A]));return P}function L(y){y!=null&&this.set(y)}var q;Object.keys?q=Object.keys:q=function(y){var w,P=[];for(w in y)i(y,w)&&P.push(w);return P};var U={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function J(y,w,P){var A=this._calendar[y]||this._calendar.sameElse;return j(A)?A.call(w,P):A}function H(y,w,P){var A=""+Math.abs(y),D=w-A.length,z=y>=0;return(z?P?"+":"":"-")+Math.pow(10,Math.max(0,D)).toString().substr(1)+A}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},K={};function ne(y,w,P,A){var D=A;typeof A=="string"&&(D=function(){return this[A]()}),y&&(K[y]=D),w&&(K[w[0]]=function(){return H(D.apply(this,arguments),w[1],w[2])}),P&&(K[P]=function(){return this.localeData().ordinal(D.apply(this,arguments),y)})}function Be(y){return y.match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"")}function X(y){var w=y.match(I),P,A;for(P=0,A=w.length;P<A;P++)K[w[P]]?w[P]=K[w[P]]:w[P]=Be(w[P]);return function(D){var z="",se;for(se=0;se<A;se++)z+=j(w[se])?w[se].call(D,y):w[se];return z}}function Q(y,w){return y.isValid()?(w=le(w,y.localeData()),W[w]=W[w]||X(w),W[w](y)):y.localeData().invalidDate()}function le(y,w){var P=5;function A(D){return w.longDateFormat(D)||D}for(V.lastIndex=0;P>=0&&V.test(y);)y=y.replace(V,A),V.lastIndex=0,P-=1;return y}var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function mt(y){var w=this._longDateFormat[y],P=this._longDateFormat[y.toUpperCase()];return w||!P?w:(this._longDateFormat[y]=P.match(I).map(function(A){return A==="MMMM"||A==="MM"||A==="DD"||A==="dddd"?A.slice(1):A}).join(""),this._longDateFormat[y])}var we="Invalid date";function ae(){return this._invalidDate}var ee="%d",ye=/\d{1,2}/;function Ue(y){return this._ordinal.replace("%d",y)}var dt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Je(y,w,P,A){var D=this._relativeTime[P];return j(D)?D(y,w,P,A):D.replace(/%d/i,y)}function sr(y,w){var P=this._relativeTime[y>0?"future":"past"];return j(P)?P(w):P.replace(/%s/i,w)}var Xr={};function ur(y,w){var P=y.toLowerCase();Xr[P]=Xr[P+"s"]=Xr[w]=y}function Xt(y){return typeof y=="string"?Xr[y]||Xr[y.toLowerCase()]:void 0}function hi(y){var w={},P,A;for(A in y)i(y,A)&&(P=Xt(A),P&&(w[P]=y[A]));return w}var ta={};function No(y,w){ta[y]=w}function Re(y){var w=[],P;for(P in y)i(y,P)&&w.push({unit:P,priority:ta[P]});return w.sort(function(A,D){return A.priority-D.priority}),w}function Ye(y){return y%4===0&&y%100!==0||y%400===0}function dr(y){return y<0?Math.ceil(y)||0:Math.floor(y)}function Xe(y){var w=+y,P=0;return w!==0&&isFinite(w)&&(P=dr(w)),P}function kn(y,w){return function(P){return P!=null?(hl(this,y,P),e.updateOffset(this,w),this):ra(this,y)}}function ra(y,w){return y.isValid()?y._d["get"+(y._isUTC?"UTC":"")+w]():NaN}function hl(y,w,P){y.isValid()&&!isNaN(P)&&(w==="FullYear"&&Ye(y.year())&&y.month()===1&&y.date()===29?(P=Xe(P),y._d["set"+(y._isUTC?"UTC":"")+w](P,y.month(),V6(P,y.month()))):y._d["set"+(y._isUTC?"UTC":"")+w](P))}function Nc(y){return y=Xt(y),j(this[y])?this[y]():this}function Nm(y,w){if(typeof y=="object"){y=hi(y);var P=Re(y),A,D=P.length;for(A=0;A<D;A++)this[P[A].unit](y[P[A].unit])}else if(y=Xt(y),j(this[y]))return this[y](w);return this}var Lm=/\d/,Ia=/\d\d/,Xp=/\d{3}/,Zf=/\d{4}/,Zp=/[+-]?\d{6}/,hn=/\d\d?/,NO=/\d\d\d\d?/,$M=/\d\d\d\d\d\d?/,LO=/\d{1,3}/,Da=/\d{1,4}/,ps=/[+-]?\d{1,6}/,na=/\d+/,bd=/[+-]?\d+/,Lc=/Z|[+-]\d\d:?\d\d/gi,Ga=/Z|[+-]\d\d(?::?\d\d)?/gi,Zd=/[+-]?\d+(\.\d{1,3})?/,_d=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zr;Zr={};function De(y,w,P){Zr[y]=j(w)?w:function(A,D){return A&&P?P:w}}function vd(y,w){return i(Zr,y)?Zr[y](w._strict,w._locale):new RegExp(Qf(y))}function Qf(y){return zu(y.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(w,P,A,D,z){return P||A||D||z}))}function zu(y){return y.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var AS={};function Vr(y,w){var P,A=w,D;for(typeof y=="string"&&(y=[y]),u(w)&&(A=function(z,se){se[w]=Xe(z)}),D=y.length,P=0;P<D;P++)AS[y[P]]=A}function Fm(y,w){Vr(y,function(P,A,D,z){D._w=D._w||{},w(P,D._w,D,z)})}function Z$(y,w,P){w!=null&&i(AS,y)&&AS[y](w,P._a,P,y)}var Fc=0,RS=1,hy=2,Hu=3,Bm=4,IS=5,qM=6,qUt=7,UUt=8;function zUt(y,w){return(y%w+w)%w}var Ka;Array.prototype.indexOf?Ka=Array.prototype.indexOf:Ka=function(y){var w;for(w=0;w<this.length;++w)if(this[w]===y)return w;return-1};function V6(y,w){if(isNaN(y)||isNaN(w))return NaN;var P=zUt(w,12);return y+=(w-P)/12,P===1?Ye(y)?29:28:31-P%7%2}ne("M",["MM",2],"Mo",function(){return this.month()+1}),ne("MMM",0,0,function(y){return this.localeData().monthsShort(this,y)}),ne("MMMM",0,0,function(y){return this.localeData().months(this,y)}),ur("month","M"),No("month",8),De("M",hn),De("MM",hn,Ia),De("MMM",function(y,w){return w.monthsShortRegex(y)}),De("MMMM",function(y,w){return w.monthsRegex(y)}),Vr(["M","MM"],function(y,w){w[RS]=Xe(y)-1}),Vr(["MMM","MMMM"],function(y,w,P,A){var D=P._locale.monthsParse(y,A,P._strict);D!=null?w[RS]=D:m(P).invalidMonth=y});var HUt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),PIe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),TIe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,VUt=_d,WUt=_d;function JUt(y,w){return y?n(this._months)?this._months[y.month()]:this._months[(this._months.isFormat||TIe).test(w)?"format":"standalone"][y.month()]:n(this._months)?this._months:this._months.standalone}function GUt(y,w){return y?n(this._monthsShort)?this._monthsShort[y.month()]:this._monthsShort[TIe.test(w)?"format":"standalone"][y.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function KUt(y,w,P){var A,D,z,se=y.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],A=0;A<12;++A)z=f([2e3,A]),this._shortMonthsParse[A]=this.monthsShort(z,"").toLocaleLowerCase(),this._longMonthsParse[A]=this.months(z,"").toLocaleLowerCase();return P?w==="MMM"?(D=Ka.call(this._shortMonthsParse,se),D!==-1?D:null):(D=Ka.call(this._longMonthsParse,se),D!==-1?D:null):w==="MMM"?(D=Ka.call(this._shortMonthsParse,se),D!==-1?D:(D=Ka.call(this._longMonthsParse,se),D!==-1?D:null)):(D=Ka.call(this._longMonthsParse,se),D!==-1?D:(D=Ka.call(this._shortMonthsParse,se),D!==-1?D:null))}function YUt(y,w,P){var A,D,z;if(this._monthsParseExact)return KUt.call(this,y,w,P);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),A=0;A<12;A++){if(D=f([2e3,A]),P&&!this._longMonthsParse[A]&&(this._longMonthsParse[A]=new RegExp("^"+this.months(D,"").replace(".","")+"$","i"),this._shortMonthsParse[A]=new RegExp("^"+this.monthsShort(D,"").replace(".","")+"$","i")),!P&&!this._monthsParse[A]&&(z="^"+this.months(D,"")+"|^"+this.monthsShort(D,""),this._monthsParse[A]=new RegExp(z.replace(".",""),"i")),P&&w==="MMMM"&&this._longMonthsParse[A].test(y))return A;if(P&&w==="MMM"&&this._shortMonthsParse[A].test(y))return A;if(!P&&this._monthsParse[A].test(y))return A}}function MIe(y,w){var P;if(!y.isValid())return y;if(typeof w=="string"){if(/^\d+$/.test(w))w=Xe(w);else if(w=y.localeData().monthsParse(w),!u(w))return y}return P=Math.min(y.date(),V6(y.year(),w)),y._d["set"+(y._isUTC?"UTC":"")+"Month"](w,P),y}function AIe(y){return y!=null?(MIe(this,y),e.updateOffset(this,!0),this):ra(this,"Month")}function XUt(){return V6(this.year(),this.month())}function ZUt(y){return this._monthsParseExact?(i(this,"_monthsRegex")||RIe.call(this),y?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=VUt),this._monthsShortStrictRegex&&y?this._monthsShortStrictRegex:this._monthsShortRegex)}function QUt(y){return this._monthsParseExact?(i(this,"_monthsRegex")||RIe.call(this),y?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=WUt),this._monthsStrictRegex&&y?this._monthsStrictRegex:this._monthsRegex)}function RIe(){function y(se,At){return At.length-se.length}var w=[],P=[],A=[],D,z;for(D=0;D<12;D++)z=f([2e3,D]),w.push(this.monthsShort(z,"")),P.push(this.months(z,"")),A.push(this.months(z,"")),A.push(this.monthsShort(z,""));for(w.sort(y),P.sort(y),A.sort(y),D=0;D<12;D++)w[D]=zu(w[D]),P[D]=zu(P[D]);for(D=0;D<24;D++)A[D]=zu(A[D]);this._monthsRegex=new RegExp("^("+A.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+w.join("|")+")","i")}ne("Y",0,0,function(){var y=this.year();return y<=9999?H(y,4):"+"+y}),ne(0,["YY",2],0,function(){return this.year()%100}),ne(0,["YYYY",4],0,"year"),ne(0,["YYYYY",5],0,"year"),ne(0,["YYYYYY",6,!0],0,"year"),ur("year","y"),No("year",1),De("Y",bd),De("YY",hn,Ia),De("YYYY",Da,Zf),De("YYYYY",ps,Zp),De("YYYYYY",ps,Zp),Vr(["YYYYY","YYYYYY"],Fc),Vr("YYYY",function(y,w){w[Fc]=y.length===2?e.parseTwoDigitYear(y):Xe(y)}),Vr("YY",function(y,w){w[Fc]=e.parseTwoDigitYear(y)}),Vr("Y",function(y,w){w[Fc]=parseInt(y,10)});function Q$(y){return Ye(y)?366:365}e.parseTwoDigitYear=function(y){return Xe(y)+(Xe(y)>68?1900:2e3)};var IIe=kn("FullYear",!0);function ezt(){return Ye(this.year())}function tzt(y,w,P,A,D,z,se){var At;return y<100&&y>=0?(At=new Date(y+400,w,P,A,D,z,se),isFinite(At.getFullYear())&&At.setFullYear(y)):At=new Date(y,w,P,A,D,z,se),At}function eq(y){var w,P;return y<100&&y>=0?(P=Array.prototype.slice.call(arguments),P[0]=y+400,w=new Date(Date.UTC.apply(null,P)),isFinite(w.getUTCFullYear())&&w.setUTCFullYear(y)):w=new Date(Date.UTC.apply(null,arguments)),w}function W6(y,w,P){var A=7+w-P,D=(7+eq(y,0,A).getUTCDay()-w)%7;return-D+A-1}function DIe(y,w,P,A,D){var z=(7+P-A)%7,se=W6(y,A,D),At=1+7*(w-1)+z+se,Mr,$o;return At<=0?(Mr=y-1,$o=Q$(Mr)+At):At>Q$(y)?(Mr=y+1,$o=At-Q$(y)):(Mr=y,$o=At),{year:Mr,dayOfYear:$o}}function tq(y,w,P){var A=W6(y.year(),w,P),D=Math.floor((y.dayOfYear()-A-1)/7)+1,z,se;return D<1?(se=y.year()-1,z=D+DS(se,w,P)):D>DS(y.year(),w,P)?(z=D-DS(y.year(),w,P),se=y.year()+1):(se=y.year(),z=D),{week:z,year:se}}function DS(y,w,P){var A=W6(y,w,P),D=W6(y+1,w,P);return(Q$(y)-A+D)/7}ne("w",["ww",2],"wo","week"),ne("W",["WW",2],"Wo","isoWeek"),ur("week","w"),ur("isoWeek","W"),No("week",5),No("isoWeek",5),De("w",hn),De("ww",hn,Ia),De("W",hn),De("WW",hn,Ia),Fm(["w","ww","W","WW"],function(y,w,P,A){w[A.substr(0,1)]=Xe(y)});function rzt(y){return tq(y,this._week.dow,this._week.doy).week}var nzt={dow:0,doy:6};function ozt(){return this._week.dow}function izt(){return this._week.doy}function azt(y){var w=this.localeData().week(this);return y==null?w:this.add((y-w)*7,"d")}function szt(y){var w=tq(this,1,4).week;return y==null?w:this.add((y-w)*7,"d")}ne("d",0,"do","day"),ne("dd",0,0,function(y){return this.localeData().weekdaysMin(this,y)}),ne("ddd",0,0,function(y){return this.localeData().weekdaysShort(this,y)}),ne("dddd",0,0,function(y){return this.localeData().weekdays(this,y)}),ne("e",0,0,"weekday"),ne("E",0,0,"isoWeekday"),ur("day","d"),ur("weekday","e"),ur("isoWeekday","E"),No("day",11),No("weekday",11),No("isoWeekday",11),De("d",hn),De("e",hn),De("E",hn),De("dd",function(y,w){return w.weekdaysMinRegex(y)}),De("ddd",function(y,w){return w.weekdaysShortRegex(y)}),De("dddd",function(y,w){return w.weekdaysRegex(y)}),Fm(["dd","ddd","dddd"],function(y,w,P,A){var D=P._locale.weekdaysParse(y,A,P._strict);D!=null?w.d=D:m(P).invalidWeekday=y}),Fm(["d","e","E"],function(y,w,P,A){w[A]=Xe(y)});function uzt(y,w){return typeof y!="string"?y:isNaN(y)?(y=w.weekdaysParse(y),typeof y=="number"?y:null):parseInt(y,10)}function lzt(y,w){return typeof y=="string"?w.weekdaysParse(y)%7||7:isNaN(y)?null:y}function aae(y,w){return y.slice(w,7).concat(y.slice(0,w))}var czt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jIe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dzt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fzt=_d,pzt=_d,hzt=_d;function mzt(y,w){var P=n(this._weekdays)?this._weekdays:this._weekdays[y&&y!==!0&&this._weekdays.isFormat.test(w)?"format":"standalone"];return y===!0?aae(P,this._week.dow):y?P[y.day()]:P}function gzt(y){return y===!0?aae(this._weekdaysShort,this._week.dow):y?this._weekdaysShort[y.day()]:this._weekdaysShort}function yzt(y){return y===!0?aae(this._weekdaysMin,this._week.dow):y?this._weekdaysMin[y.day()]:this._weekdaysMin}function bzt(y,w,P){var A,D,z,se=y.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],A=0;A<7;++A)z=f([2e3,1]).day(A),this._minWeekdaysParse[A]=this.weekdaysMin(z,"").toLocaleLowerCase(),this._shortWeekdaysParse[A]=this.weekdaysShort(z,"").toLocaleLowerCase(),this._weekdaysParse[A]=this.weekdays(z,"").toLocaleLowerCase();return P?w==="dddd"?(D=Ka.call(this._weekdaysParse,se),D!==-1?D:null):w==="ddd"?(D=Ka.call(this._shortWeekdaysParse,se),D!==-1?D:null):(D=Ka.call(this._minWeekdaysParse,se),D!==-1?D:null):w==="dddd"?(D=Ka.call(this._weekdaysParse,se),D!==-1||(D=Ka.call(this._shortWeekdaysParse,se),D!==-1)?D:(D=Ka.call(this._minWeekdaysParse,se),D!==-1?D:null)):w==="ddd"?(D=Ka.call(this._shortWeekdaysParse,se),D!==-1||(D=Ka.call(this._weekdaysParse,se),D!==-1)?D:(D=Ka.call(this._minWeekdaysParse,se),D!==-1?D:null)):(D=Ka.call(this._minWeekdaysParse,se),D!==-1||(D=Ka.call(this._weekdaysParse,se),D!==-1)?D:(D=Ka.call(this._shortWeekdaysParse,se),D!==-1?D:null))}function _zt(y,w,P){var A,D,z;if(this._weekdaysParseExact)return bzt.call(this,y,w,P);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),A=0;A<7;A++){if(D=f([2e3,1]).day(A),P&&!this._fullWeekdaysParse[A]&&(this._fullWeekdaysParse[A]=new RegExp("^"+this.weekdays(D,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[A]=new RegExp("^"+this.weekdaysShort(D,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[A]=new RegExp("^"+this.weekdaysMin(D,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[A]||(z="^"+this.weekdays(D,"")+"|^"+this.weekdaysShort(D,"")+"|^"+this.weekdaysMin(D,""),this._weekdaysParse[A]=new RegExp(z.replace(".",""),"i")),P&&w==="dddd"&&this._fullWeekdaysParse[A].test(y))return A;if(P&&w==="ddd"&&this._shortWeekdaysParse[A].test(y))return A;if(P&&w==="dd"&&this._minWeekdaysParse[A].test(y))return A;if(!P&&this._weekdaysParse[A].test(y))return A}}function vzt(y){if(!this.isValid())return y!=null?this:NaN;var w=this._isUTC?this._d.getUTCDay():this._d.getDay();return y!=null?(y=uzt(y,this.localeData()),this.add(y-w,"d")):w}function wzt(y){if(!this.isValid())return y!=null?this:NaN;var w=(this.day()+7-this.localeData()._week.dow)%7;return y==null?w:this.add(y-w,"d")}function Szt(y){if(!this.isValid())return y!=null?this:NaN;if(y!=null){var w=lzt(y,this.localeData());return this.day(this.day()%7?w:w-7)}else return this.day()||7}function xzt(y){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||sae.call(this),y?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=fzt),this._weekdaysStrictRegex&&y?this._weekdaysStrictRegex:this._weekdaysRegex)}function Czt(y){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||sae.call(this),y?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=pzt),this._weekdaysShortStrictRegex&&y?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ozt(y){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||sae.call(this),y?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hzt),this._weekdaysMinStrictRegex&&y?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function sae(){function y(wd,BS){return BS.length-wd.length}var w=[],P=[],A=[],D=[],z,se,At,Mr,$o;for(z=0;z<7;z++)se=f([2e3,1]).day(z),At=zu(this.weekdaysMin(se,"")),Mr=zu(this.weekdaysShort(se,"")),$o=zu(this.weekdays(se,"")),w.push(At),P.push(Mr),A.push($o),D.push(At),D.push(Mr),D.push($o);w.sort(y),P.sort(y),A.sort(y),D.sort(y),this._weekdaysRegex=new RegExp("^("+D.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+w.join("|")+")","i")}function uae(){return this.hours()%12||12}function Ezt(){return this.hours()||24}ne("H",["HH",2],0,"hour"),ne("h",["hh",2],0,uae),ne("k",["kk",2],0,Ezt),ne("hmm",0,0,function(){return""+uae.apply(this)+H(this.minutes(),2)}),ne("hmmss",0,0,function(){return""+uae.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),ne("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),ne("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)});function NIe(y,w){ne(y,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),w)})}NIe("a",!0),NIe("A",!1),ur("hour","h"),No("hour",13);function LIe(y,w){return w._meridiemParse}De("a",LIe),De("A",LIe),De("H",hn),De("h",hn),De("k",hn),De("HH",hn,Ia),De("hh",hn,Ia),De("kk",hn,Ia),De("hmm",NO),De("hmmss",$M),De("Hmm",NO),De("Hmmss",$M),Vr(["H","HH"],Hu),Vr(["k","kk"],function(y,w,P){var A=Xe(y);w[Hu]=A===24?0:A}),Vr(["a","A"],function(y,w,P){P._isPm=P._locale.isPM(y),P._meridiem=y}),Vr(["h","hh"],function(y,w,P){w[Hu]=Xe(y),m(P).bigHour=!0}),Vr("hmm",function(y,w,P){var A=y.length-2;w[Hu]=Xe(y.substr(0,A)),w[Bm]=Xe(y.substr(A)),m(P).bigHour=!0}),Vr("hmmss",function(y,w,P){var A=y.length-4,D=y.length-2;w[Hu]=Xe(y.substr(0,A)),w[Bm]=Xe(y.substr(A,2)),w[IS]=Xe(y.substr(D)),m(P).bigHour=!0}),Vr("Hmm",function(y,w,P){var A=y.length-2;w[Hu]=Xe(y.substr(0,A)),w[Bm]=Xe(y.substr(A))}),Vr("Hmmss",function(y,w,P){var A=y.length-4,D=y.length-2;w[Hu]=Xe(y.substr(0,A)),w[Bm]=Xe(y.substr(A,2)),w[IS]=Xe(y.substr(D))});function Pzt(y){return(y+"").toLowerCase().charAt(0)==="p"}var Tzt=/[ap]\.?m?\.?/i,Mzt=kn("Hours",!0);function Azt(y,w,P){return y>11?P?"pm":"PM":P?"am":"AM"}var FIe={calendar:U,longDateFormat:Ae,invalidDate:we,ordinal:ee,dayOfMonthOrdinalParse:ye,relativeTime:dt,months:HUt,monthsShort:PIe,week:nzt,weekdays:czt,weekdaysMin:dzt,weekdaysShort:jIe,meridiemParse:Tzt},Li={},rq={},nq;function Rzt(y,w){var P,A=Math.min(y.length,w.length);for(P=0;P<A;P+=1)if(y[P]!==w[P])return P;return A}function BIe(y){return y&&y.toLowerCase().replace("_","-")}function Izt(y){for(var w=0,P,A,D,z;w<y.length;){for(z=BIe(y[w]).split("-"),P=z.length,A=BIe(y[w+1]),A=A?A.split("-"):null;P>0;){if(D=J6(z.slice(0,P).join("-")),D)return D;if(A&&A.length>=P&&Rzt(z,A)>=P-1)break;P--}w++}return nq}function Dzt(y){return y.match("^[^/\\\\]*$")!=null}function J6(y){var w=null,P;if(Li[y]===void 0&&typeof vN<"u"&&vN&&vN.exports&&Dzt(y))try{w=nq._abbr,P=require,P("./locale/"+y),FO(w)}catch{Li[y]=null}return Li[y]}function FO(y,w){var P;return y&&(s(w)?P=jS(y):P=lae(y,w),P?nq=P:typeof console<"u"&&console.warn&&console.warn("Locale "+y+" not found. Did you forget to load it?")),nq._abbr}function lae(y,w){if(w!==null){var P,A=FIe;if(w.abbr=y,Li[y]!=null)N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),A=Li[y]._config;else if(w.parentLocale!=null)if(Li[w.parentLocale]!=null)A=Li[w.parentLocale]._config;else if(P=J6(w.parentLocale),P!=null)A=P._config;else return rq[w.parentLocale]||(rq[w.parentLocale]=[]),rq[w.parentLocale].push({name:y,config:w}),null;return Li[y]=new L(B(A,w)),rq[y]&&rq[y].forEach(function(D){lae(D.name,D.config)}),FO(y),Li[y]}else return delete Li[y],null}function jzt(y,w){if(w!=null){var P,A,D=FIe;Li[y]!=null&&Li[y].parentLocale!=null?Li[y].set(B(Li[y]._config,w)):(A=J6(y),A!=null&&(D=A._config),w=B(D,w),A==null&&(w.abbr=y),P=new L(w),P.parentLocale=Li[y],Li[y]=P),FO(y)}else Li[y]!=null&&(Li[y].parentLocale!=null?(Li[y]=Li[y].parentLocale,y===FO()&&FO(y)):Li[y]!=null&&delete Li[y]);return Li[y]}function jS(y){var w;if(y&&y._locale&&y._locale._abbr&&(y=y._locale._abbr),!y)return nq;if(!n(y)){if(w=J6(y),w)return w;y=[y]}return Izt(y)}function Nzt(){return q(Li)}function cae(y){var w,P=y._a;return P&&m(y).overflow===-2&&(w=P[RS]<0||P[RS]>11?RS:P[hy]<1||P[hy]>V6(P[Fc],P[RS])?hy:P[Hu]<0||P[Hu]>24||P[Hu]===24&&(P[Bm]!==0||P[IS]!==0||P[qM]!==0)?Hu:P[Bm]<0||P[Bm]>59?Bm:P[IS]<0||P[IS]>59?IS:P[qM]<0||P[qM]>999?qM:-1,m(y)._overflowDayOfYear&&(w<Fc||w>hy)&&(w=hy),m(y)._overflowWeeks&&w===-1&&(w=qUt),m(y)._overflowWeekday&&w===-1&&(w=UUt),m(y).overflow=w),y}var Lzt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fzt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bzt=/Z|[+-]\d\d(?::?\d\d)?/,G6=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],dae=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kzt=/^\/?Date\((-?\d+)/i,$zt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qzt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kIe(y){var w,P,A=y._i,D=Lzt.exec(A)||Fzt.exec(A),z,se,At,Mr,$o=G6.length,wd=dae.length;if(D){for(m(y).iso=!0,w=0,P=$o;w<P;w++)if(G6[w][1].exec(D[1])){se=G6[w][0],z=G6[w][2]!==!1;break}if(se==null){y._isValid=!1;return}if(D[3]){for(w=0,P=wd;w<P;w++)if(dae[w][1].exec(D[3])){At=(D[2]||" ")+dae[w][0];break}if(At==null){y._isValid=!1;return}}if(!z&&At!=null){y._isValid=!1;return}if(D[4])if(Bzt.exec(D[4]))Mr="Z";else{y._isValid=!1;return}y._f=se+(At||"")+(Mr||""),pae(y)}else y._isValid=!1}function Uzt(y,w,P,A,D,z){var se=[zzt(y),PIe.indexOf(w),parseInt(P,10),parseInt(A,10),parseInt(D,10)];return z&&se.push(parseInt(z,10)),se}function zzt(y){var w=parseInt(y,10);return w<=49?2e3+w:w<=999?1900+w:w}function Hzt(y){return y.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vzt(y,w,P){if(y){var A=jIe.indexOf(y),D=new Date(w[0],w[1],w[2]).getDay();if(A!==D)return m(P).weekdayMismatch=!0,P._isValid=!1,!1}return!0}function Wzt(y,w,P){if(y)return qzt[y];if(w)return 0;var A=parseInt(P,10),D=A%100,z=(A-D)/100;return z*60+D}function $Ie(y){var w=$zt.exec(Hzt(y._i)),P;if(w){if(P=Uzt(w[4],w[3],w[2],w[5],w[6],w[7]),!Vzt(w[1],P,y))return;y._a=P,y._tzm=Wzt(w[8],w[9],w[10]),y._d=eq.apply(null,y._a),y._d.setUTCMinutes(y._d.getUTCMinutes()-y._tzm),m(y).rfc2822=!0}else y._isValid=!1}function Jzt(y){var w=kzt.exec(y._i);if(w!==null){y._d=new Date(+w[1]);return}if(kIe(y),y._isValid===!1)delete y._isValid;else return;if($Ie(y),y._isValid===!1)delete y._isValid;else return;y._strict?y._isValid=!1:e.createFromInputFallback(y)}e.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(y){y._d=new Date(y._i+(y._useUTC?" UTC":""))});function GD(y,w,P){return y??w??P}function Gzt(y){var w=new Date(e.now());return y._useUTC?[w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()]:[w.getFullYear(),w.getMonth(),w.getDate()]}function fae(y){var w,P,A=[],D,z,se;if(!y._d){for(D=Gzt(y),y._w&&y._a[hy]==null&&y._a[RS]==null&&Kzt(y),y._dayOfYear!=null&&(se=GD(y._a[Fc],D[Fc]),(y._dayOfYear>Q$(se)||y._dayOfYear===0)&&(m(y)._overflowDayOfYear=!0),P=eq(se,0,y._dayOfYear),y._a[RS]=P.getUTCMonth(),y._a[hy]=P.getUTCDate()),w=0;w<3&&y._a[w]==null;++w)y._a[w]=A[w]=D[w];for(;w<7;w++)y._a[w]=A[w]=y._a[w]==null?w===2?1:0:y._a[w];y._a[Hu]===24&&y._a[Bm]===0&&y._a[IS]===0&&y._a[qM]===0&&(y._nextDay=!0,y._a[Hu]=0),y._d=(y._useUTC?eq:tzt).apply(null,A),z=y._useUTC?y._d.getUTCDay():y._d.getDay(),y._tzm!=null&&y._d.setUTCMinutes(y._d.getUTCMinutes()-y._tzm),y._nextDay&&(y._a[Hu]=24),y._w&&typeof y._w.d<"u"&&y._w.d!==z&&(m(y).weekdayMismatch=!0)}}function Kzt(y){var w,P,A,D,z,se,At,Mr,$o;w=y._w,w.GG!=null||w.W!=null||w.E!=null?(z=1,se=4,P=GD(w.GG,y._a[Fc],tq(mi(),1,4).year),A=GD(w.W,1),D=GD(w.E,1),(D<1||D>7)&&(Mr=!0)):(z=y._locale._week.dow,se=y._locale._week.doy,$o=tq(mi(),z,se),P=GD(w.gg,y._a[Fc],$o.year),A=GD(w.w,$o.week),w.d!=null?(D=w.d,(D<0||D>6)&&(Mr=!0)):w.e!=null?(D=w.e+z,(w.e<0||w.e>6)&&(Mr=!0)):D=z),A<1||A>DS(P,z,se)?m(y)._overflowWeeks=!0:Mr!=null?m(y)._overflowWeekday=!0:(At=DIe(P,A,D,z,se),y._a[Fc]=At.year,y._dayOfYear=At.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function pae(y){if(y._f===e.ISO_8601){kIe(y);return}if(y._f===e.RFC_2822){$Ie(y);return}y._a=[],m(y).empty=!0;var w=""+y._i,P,A,D,z,se,At=w.length,Mr=0,$o,wd;for(D=le(y._f,y._locale).match(I)||[],wd=D.length,P=0;P<wd;P++)z=D[P],A=(w.match(vd(z,y))||[])[0],A&&(se=w.substr(0,w.indexOf(A)),se.length>0&&m(y).unusedInput.push(se),w=w.slice(w.indexOf(A)+A.length),Mr+=A.length),K[z]?(A?m(y).empty=!1:m(y).unusedTokens.push(z),Z$(z,A,y)):y._strict&&!A&&m(y).unusedTokens.push(z);m(y).charsLeftOver=At-Mr,w.length>0&&m(y).unusedInput.push(w),y._a[Hu]<=12&&m(y).bigHour===!0&&y._a[Hu]>0&&(m(y).bigHour=void 0),m(y).parsedDateParts=y._a.slice(0),m(y).meridiem=y._meridiem,y._a[Hu]=Yzt(y._locale,y._a[Hu],y._meridiem),$o=m(y).era,$o!==null&&(y._a[Fc]=y._locale.erasConvertYear($o,y._a[Fc])),fae(y),cae(y)}function Yzt(y,w,P){var A;return P==null?w:y.meridiemHour!=null?y.meridiemHour(w,P):(y.isPM!=null&&(A=y.isPM(P),A&&w<12&&(w+=12),!A&&w===12&&(w=0)),w)}function Xzt(y){var w,P,A,D,z,se,At=!1,Mr=y._f.length;if(Mr===0){m(y).invalidFormat=!0,y._d=new Date(NaN);return}for(D=0;D<Mr;D++)z=0,se=!1,w=x({},y),y._useUTC!=null&&(w._useUTC=y._useUTC),w._f=y._f[D],pae(w),v(w)&&(se=!0),z+=m(w).charsLeftOver,z+=m(w).unusedTokens.length*10,m(w).score=z,At?z<A&&(A=z,P=w):(A==null||z<A||se)&&(A=z,P=w,se&&(At=!0));d(y,P||w)}function Zzt(y){if(!y._d){var w=hi(y._i),P=w.day===void 0?w.date:w.day;y._a=c([w.year,w.month,P,w.hour,w.minute,w.second,w.millisecond],function(A){return A&&parseInt(A,10)}),fae(y)}}function Qzt(y){var w=new O(cae(qIe(y)));return w._nextDay&&(w.add(1,"d"),w._nextDay=void 0),w}function qIe(y){var w=y._i,P=y._f;return y._locale=y._locale||jS(y._l),w===null||P===void 0&&w===""?g({nullInput:!0}):(typeof w=="string"&&(y._i=w=y._locale.preparse(w)),T(w)?new O(cae(w)):(l(w)?y._d=w:n(P)?Xzt(y):P?pae(y):e2t(y),v(y)||(y._d=null),y))}function e2t(y){var w=y._i;s(w)?y._d=new Date(e.now()):l(w)?y._d=new Date(w.valueOf()):typeof w=="string"?Jzt(y):n(w)?(y._a=c(w.slice(0),function(P){return parseInt(P,10)}),fae(y)):o(w)?Zzt(y):u(w)?y._d=new Date(w):e.createFromInputFallback(y)}function UIe(y,w,P,A,D){var z={};return(w===!0||w===!1)&&(A=w,w=void 0),(P===!0||P===!1)&&(A=P,P=void 0),(o(y)&&a(y)||n(y)&&y.length===0)&&(y=void 0),z._isAMomentObject=!0,z._useUTC=z._isUTC=D,z._l=P,z._i=y,z._f=w,z._strict=A,Qzt(z)}function mi(y,w,P,A){return UIe(y,w,P,A,!1)}var t2t=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var y=mi.apply(null,arguments);return this.isValid()&&y.isValid()?y<this?this:y:g()}),r2t=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var y=mi.apply(null,arguments);return this.isValid()&&y.isValid()?y>this?this:y:g()});function zIe(y,w){var P,A;if(w.length===1&&n(w[0])&&(w=w[0]),!w.length)return mi();for(P=w[0],A=1;A<w.length;++A)(!w[A].isValid()||w[A][y](P))&&(P=w[A]);return P}function n2t(){var y=[].slice.call(arguments,0);return zIe("isBefore",y)}function o2t(){var y=[].slice.call(arguments,0);return zIe("isAfter",y)}var i2t=function(){return Date.now?Date.now():+new Date},oq=["year","quarter","month","week","day","hour","minute","second","millisecond"];function a2t(y){var w,P=!1,A,D=oq.length;for(w in y)if(i(y,w)&&!(Ka.call(oq,w)!==-1&&(y[w]==null||!isNaN(y[w]))))return!1;for(A=0;A<D;++A)if(y[oq[A]]){if(P)return!1;parseFloat(y[oq[A]])!==Xe(y[oq[A]])&&(P=!0)}return!0}function s2t(){return this._isValid}function u2t(){return km(NaN)}function K6(y){var w=hi(y),P=w.year||0,A=w.quarter||0,D=w.month||0,z=w.week||w.isoWeek||0,se=w.day||0,At=w.hour||0,Mr=w.minute||0,$o=w.second||0,wd=w.millisecond||0;this._isValid=a2t(w),this._milliseconds=+wd+$o*1e3+Mr*6e4+At*1e3*60*60,this._days=+se+z*7,this._months=+D+A*3+P*12,this._data={},this._locale=jS(),this._bubble()}function Y6(y){return y instanceof K6}function hae(y){return y<0?Math.round(-1*y)*-1:Math.round(y)}function l2t(y,w,P){var A=Math.min(y.length,w.length),D=Math.abs(y.length-w.length),z=0,se;for(se=0;se<A;se++)(P&&y[se]!==w[se]||!P&&Xe(y[se])!==Xe(w[se]))&&z++;return z+D}function HIe(y,w){ne(y,0,0,function(){var P=this.utcOffset(),A="+";return P<0&&(P=-P,A="-"),A+H(~~(P/60),2)+w+H(~~P%60,2)})}HIe("Z",":"),HIe("ZZ",""),De("Z",Ga),De("ZZ",Ga),Vr(["Z","ZZ"],function(y,w,P){P._useUTC=!0,P._tzm=mae(Ga,y)});var c2t=/([\+\-]|\d\d)/gi;function mae(y,w){var P=(w||"").match(y),A,D,z;return P===null?null:(A=P[P.length-1]||[],D=(A+"").match(c2t)||["-",0,0],z=+(D[1]*60)+Xe(D[2]),z===0?0:D[0]==="+"?z:-z)}function gae(y,w){var P,A;return w._isUTC?(P=w.clone(),A=(T(y)||l(y)?y.valueOf():mi(y).valueOf())-P.valueOf(),P._d.setTime(P._d.valueOf()+A),e.updateOffset(P,!1),P):mi(y).local()}function yae(y){return-Math.round(y._d.getTimezoneOffset())}e.updateOffset=function(){};function d2t(y,w,P){var A=this._offset||0,D;if(!this.isValid())return y!=null?this:NaN;if(y!=null){if(typeof y=="string"){if(y=mae(Ga,y),y===null)return this}else Math.abs(y)<16&&!P&&(y=y*60);return!this._isUTC&&w&&(D=yae(this)),this._offset=y,this._isUTC=!0,D!=null&&this.add(D,"m"),A!==y&&(!w||this._changeInProgress?GIe(this,km(y-A,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?A:yae(this)}function f2t(y,w){return y!=null?(typeof y!="string"&&(y=-y),this.utcOffset(y,w),this):-this.utcOffset()}function p2t(y){return this.utcOffset(0,y)}function h2t(y){return this._isUTC&&(this.utcOffset(0,y),this._isUTC=!1,y&&this.subtract(yae(this),"m")),this}function m2t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var y=mae(Lc,this._i);y!=null?this.utcOffset(y):this.utcOffset(0,!0)}return this}function g2t(y){return this.isValid()?(y=y?mi(y).utcOffset():0,(this.utcOffset()-y)%60===0):!1}function y2t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function b2t(){if(!s(this._isDSTShifted))return this._isDSTShifted;var y={},w;return x(y,this),y=qIe(y),y._a?(w=y._isUTC?f(y._a):mi(y._a),this._isDSTShifted=this.isValid()&&l2t(y._a,w.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _2t(){return this.isValid()?!this._isUTC:!1}function v2t(){return this.isValid()?this._isUTC:!1}function VIe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var w2t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,S2t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function km(y,w){var P=y,A=null,D,z,se;return Y6(y)?P={ms:y._milliseconds,d:y._days,M:y._months}:u(y)||!isNaN(+y)?(P={},w?P[w]=+y:P.milliseconds=+y):(A=w2t.exec(y))?(D=A[1]==="-"?-1:1,P={y:0,d:Xe(A[hy])*D,h:Xe(A[Hu])*D,m:Xe(A[Bm])*D,s:Xe(A[IS])*D,ms:Xe(hae(A[qM]*1e3))*D}):(A=S2t.exec(y))?(D=A[1]==="-"?-1:1,P={y:UM(A[2],D),M:UM(A[3],D),w:UM(A[4],D),d:UM(A[5],D),h:UM(A[6],D),m:UM(A[7],D),s:UM(A[8],D)}):P==null?P={}:typeof P=="object"&&("from"in P||"to"in P)&&(se=x2t(mi(P.from),mi(P.to)),P={},P.ms=se.milliseconds,P.M=se.months),z=new K6(P),Y6(y)&&i(y,"_locale")&&(z._locale=y._locale),Y6(y)&&i(y,"_isValid")&&(z._isValid=y._isValid),z}km.fn=K6.prototype,km.invalid=u2t;function UM(y,w){var P=y&&parseFloat(y.replace(",","."));return(isNaN(P)?0:P)*w}function WIe(y,w){var P={};return P.months=w.month()-y.month()+(w.year()-y.year())*12,y.clone().add(P.months,"M").isAfter(w)&&--P.months,P.milliseconds=+w-+y.clone().add(P.months,"M"),P}function x2t(y,w){var P;return y.isValid()&&w.isValid()?(w=gae(w,y),y.isBefore(w)?P=WIe(y,w):(P=WIe(w,y),P.milliseconds=-P.milliseconds,P.months=-P.months),P):{milliseconds:0,months:0}}function JIe(y,w){return function(P,A){var D,z;return A!==null&&!isNaN(+A)&&(N(w,"moment()."+w+"(period, number) is deprecated. Please use moment()."+w+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),z=P,P=A,A=z),D=km(P,A),GIe(this,D,y),this}}function GIe(y,w,P,A){var D=w._milliseconds,z=hae(w._days),se=hae(w._months);y.isValid()&&(A=A??!0,se&&MIe(y,ra(y,"Month")+se*P),z&&hl(y,"Date",ra(y,"Date")+z*P),D&&y._d.setTime(y._d.valueOf()+D*P),A&&e.updateOffset(y,z||se))}var C2t=JIe(1,"add"),O2t=JIe(-1,"subtract");function KIe(y){return typeof y=="string"||y instanceof String}function E2t(y){return T(y)||l(y)||KIe(y)||u(y)||T2t(y)||P2t(y)||y===null||y===void 0}function P2t(y){var w=o(y)&&!a(y),P=!1,A=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],D,z,se=A.length;for(D=0;D<se;D+=1)z=A[D],P=P||i(y,z);return w&&P}function T2t(y){var w=n(y),P=!1;return w&&(P=y.filter(function(A){return!u(A)&&KIe(y)}).length===0),w&&P}function M2t(y){var w=o(y)&&!a(y),P=!1,A=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],D,z;for(D=0;D<A.length;D+=1)z=A[D],P=P||i(y,z);return w&&P}function A2t(y,w){var P=y.diff(w,"days",!0);return P<-6?"sameElse":P<-1?"lastWeek":P<0?"lastDay":P<1?"sameDay":P<2?"nextDay":P<7?"nextWeek":"sameElse"}function R2t(y,w){arguments.length===1&&(arguments[0]?E2t(arguments[0])?(y=arguments[0],w=void 0):M2t(arguments[0])&&(w=arguments[0],y=void 0):(y=void 0,w=void 0));var P=y||mi(),A=gae(P,this).startOf("day"),D=e.calendarFormat(this,A)||"sameElse",z=w&&(j(w[D])?w[D].call(this,P):w[D]);return this.format(z||this.localeData().calendar(D,this,mi(P)))}function I2t(){return new O(this)}function D2t(y,w){var P=T(y)?y:mi(y);return this.isValid()&&P.isValid()?(w=Xt(w)||"millisecond",w==="millisecond"?this.valueOf()>P.valueOf():P.valueOf()<this.clone().startOf(w).valueOf()):!1}function j2t(y,w){var P=T(y)?y:mi(y);return this.isValid()&&P.isValid()?(w=Xt(w)||"millisecond",w==="millisecond"?this.valueOf()<P.valueOf():this.clone().endOf(w).valueOf()<P.valueOf()):!1}function N2t(y,w,P,A){var D=T(y)?y:mi(y),z=T(w)?w:mi(w);return this.isValid()&&D.isValid()&&z.isValid()?(A=A||"()",(A[0]==="("?this.isAfter(D,P):!this.isBefore(D,P))&&(A[1]===")"?this.isBefore(z,P):!this.isAfter(z,P))):!1}function L2t(y,w){var P=T(y)?y:mi(y),A;return this.isValid()&&P.isValid()?(w=Xt(w)||"millisecond",w==="millisecond"?this.valueOf()===P.valueOf():(A=P.valueOf(),this.clone().startOf(w).valueOf()<=A&&A<=this.clone().endOf(w).valueOf())):!1}function F2t(y,w){return this.isSame(y,w)||this.isAfter(y,w)}function B2t(y,w){return this.isSame(y,w)||this.isBefore(y,w)}function k2t(y,w,P){var A,D,z;if(!this.isValid())return NaN;if(A=gae(y,this),!A.isValid())return NaN;switch(D=(A.utcOffset()-this.utcOffset())*6e4,w=Xt(w),w){case"year":z=X6(this,A)/12;break;case"month":z=X6(this,A);break;case"quarter":z=X6(this,A)/3;break;case"second":z=(this-A)/1e3;break;case"minute":z=(this-A)/6e4;break;case"hour":z=(this-A)/36e5;break;case"day":z=(this-A-D)/864e5;break;case"week":z=(this-A-D)/6048e5;break;default:z=this-A}return P?z:dr(z)}function X6(y,w){if(y.date()<w.date())return-X6(w,y);var P=(w.year()-y.year())*12+(w.month()-y.month()),A=y.clone().add(P,"months"),D,z;return w-A<0?(D=y.clone().add(P-1,"months"),z=(w-A)/(A-D)):(D=y.clone().add(P+1,"months"),z=(w-A)/(D-A)),-(P+z)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $2t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function q2t(y){if(!this.isValid())return null;var w=y!==!0,P=w?this.clone().utc():this;return P.year()<0||P.year()>9999?Q(P,w?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?w?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Q(P,"Z")):Q(P,w?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function U2t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var y="moment",w="",P,A,D,z;return this.isLocal()||(y=this.utcOffset()===0?"moment.utc":"moment.parseZone",w="Z"),P="["+y+'("]',A=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",D="-MM-DD[T]HH:mm:ss.SSS",z=w+'[")]',this.format(P+A+D+z)}function z2t(y){y||(y=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var w=Q(this,y);return this.localeData().postformat(w)}function H2t(y,w){return this.isValid()&&(T(y)&&y.isValid()||mi(y).isValid())?km({to:this,from:y}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function V2t(y){return this.from(mi(),y)}function W2t(y,w){return this.isValid()&&(T(y)&&y.isValid()||mi(y).isValid())?km({from:this,to:y}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function J2t(y){return this.to(mi(),y)}function YIe(y){var w;return y===void 0?this._locale._abbr:(w=jS(y),w!=null&&(this._locale=w),this)}var XIe=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(y){return y===void 0?this.localeData():this.locale(y)});function ZIe(){return this._locale}var Z6=1e3,KD=60*Z6,Q6=60*KD,QIe=(365*400+97)*24*Q6;function YD(y,w){return(y%w+w)%w}function e1e(y,w,P){return y<100&&y>=0?new Date(y+400,w,P)-QIe:new Date(y,w,P).valueOf()}function t1e(y,w,P){return y<100&&y>=0?Date.UTC(y+400,w,P)-QIe:Date.UTC(y,w,P)}function G2t(y){var w,P;if(y=Xt(y),y===void 0||y==="millisecond"||!this.isValid())return this;switch(P=this._isUTC?t1e:e1e,y){case"year":w=P(this.year(),0,1);break;case"quarter":w=P(this.year(),this.month()-this.month()%3,1);break;case"month":w=P(this.year(),this.month(),1);break;case"week":w=P(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":w=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":w=P(this.year(),this.month(),this.date());break;case"hour":w=this._d.valueOf(),w-=YD(w+(this._isUTC?0:this.utcOffset()*KD),Q6);break;case"minute":w=this._d.valueOf(),w-=YD(w,KD);break;case"second":w=this._d.valueOf(),w-=YD(w,Z6);break}return this._d.setTime(w),e.updateOffset(this,!0),this}function K2t(y){var w,P;if(y=Xt(y),y===void 0||y==="millisecond"||!this.isValid())return this;switch(P=this._isUTC?t1e:e1e,y){case"year":w=P(this.year()+1,0,1)-1;break;case"quarter":w=P(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":w=P(this.year(),this.month()+1,1)-1;break;case"week":w=P(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":w=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":w=P(this.year(),this.month(),this.date()+1)-1;break;case"hour":w=this._d.valueOf(),w+=Q6-YD(w+(this._isUTC?0:this.utcOffset()*KD),Q6)-1;break;case"minute":w=this._d.valueOf(),w+=KD-YD(w,KD)-1;break;case"second":w=this._d.valueOf(),w+=Z6-YD(w,Z6)-1;break}return this._d.setTime(w),e.updateOffset(this,!0),this}function Y2t(){return this._d.valueOf()-(this._offset||0)*6e4}function X2t(){return Math.floor(this.valueOf()/1e3)}function Z2t(){return new Date(this.valueOf())}function Q2t(){var y=this;return[y.year(),y.month(),y.date(),y.hour(),y.minute(),y.second(),y.millisecond()]}function e4t(){var y=this;return{years:y.year(),months:y.month(),date:y.date(),hours:y.hours(),minutes:y.minutes(),seconds:y.seconds(),milliseconds:y.milliseconds()}}function t4t(){return this.isValid()?this.toISOString():null}function r4t(){return v(this)}function n4t(){return d({},m(this))}function o4t(){return m(this).overflow}function i4t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ne("N",0,0,"eraAbbr"),ne("NN",0,0,"eraAbbr"),ne("NNN",0,0,"eraAbbr"),ne("NNNN",0,0,"eraName"),ne("NNNNN",0,0,"eraNarrow"),ne("y",["y",1],"yo","eraYear"),ne("y",["yy",2],0,"eraYear"),ne("y",["yyy",3],0,"eraYear"),ne("y",["yyyy",4],0,"eraYear"),De("N",bae),De("NN",bae),De("NNN",bae),De("NNNN",g4t),De("NNNNN",y4t),Vr(["N","NN","NNN","NNNN","NNNNN"],function(y,w,P,A){var D=P._locale.erasParse(y,A,P._strict);D?m(P).era=D:m(P).invalidEra=y}),De("y",na),De("yy",na),De("yyy",na),De("yyyy",na),De("yo",b4t),Vr(["y","yy","yyy","yyyy"],Fc),Vr(["yo"],function(y,w,P,A){var D;P._locale._eraYearOrdinalRegex&&(D=y.match(P._locale._eraYearOrdinalRegex)),P._locale.eraYearOrdinalParse?w[Fc]=P._locale.eraYearOrdinalParse(y,D):w[Fc]=parseInt(y,10)});function a4t(y,w){var P,A,D,z=this._eras||jS("en")._eras;for(P=0,A=z.length;P<A;++P){switch(typeof z[P].since){case"string":D=e(z[P].since).startOf("day"),z[P].since=D.valueOf();break}switch(typeof z[P].until){case"undefined":z[P].until=1/0;break;case"string":D=e(z[P].until).startOf("day").valueOf(),z[P].until=D.valueOf();break}}return z}function s4t(y,w,P){var A,D,z=this.eras(),se,At,Mr;for(y=y.toUpperCase(),A=0,D=z.length;A<D;++A)if(se=z[A].name.toUpperCase(),At=z[A].abbr.toUpperCase(),Mr=z[A].narrow.toUpperCase(),P)switch(w){case"N":case"NN":case"NNN":if(At===y)return z[A];break;case"NNNN":if(se===y)return z[A];break;case"NNNNN":if(Mr===y)return z[A];break}else if([se,At,Mr].indexOf(y)>=0)return z[A]}function u4t(y,w){var P=y.since<=y.until?1:-1;return w===void 0?e(y.since).year():e(y.since).year()+(w-y.offset)*P}function l4t(){var y,w,P,A=this.localeData().eras();for(y=0,w=A.length;y<w;++y)if(P=this.clone().startOf("day").valueOf(),A[y].since<=P&&P<=A[y].until||A[y].until<=P&&P<=A[y].since)return A[y].name;return""}function c4t(){var y,w,P,A=this.localeData().eras();for(y=0,w=A.length;y<w;++y)if(P=this.clone().startOf("day").valueOf(),A[y].since<=P&&P<=A[y].until||A[y].until<=P&&P<=A[y].since)return A[y].narrow;return""}function d4t(){var y,w,P,A=this.localeData().eras();for(y=0,w=A.length;y<w;++y)if(P=this.clone().startOf("day").valueOf(),A[y].since<=P&&P<=A[y].until||A[y].until<=P&&P<=A[y].since)return A[y].abbr;return""}function f4t(){var y,w,P,A,D=this.localeData().eras();for(y=0,w=D.length;y<w;++y)if(P=D[y].since<=D[y].until?1:-1,A=this.clone().startOf("day").valueOf(),D[y].since<=A&&A<=D[y].until||D[y].until<=A&&A<=D[y].since)return(this.year()-e(D[y].since).year())*P+D[y].offset;return this.year()}function p4t(y){return i(this,"_erasNameRegex")||_ae.call(this),y?this._erasNameRegex:this._erasRegex}function h4t(y){return i(this,"_erasAbbrRegex")||_ae.call(this),y?this._erasAbbrRegex:this._erasRegex}function m4t(y){return i(this,"_erasNarrowRegex")||_ae.call(this),y?this._erasNarrowRegex:this._erasRegex}function bae(y,w){return w.erasAbbrRegex(y)}function g4t(y,w){return w.erasNameRegex(y)}function y4t(y,w){return w.erasNarrowRegex(y)}function b4t(y,w){return w._eraYearOrdinalRegex||na}function _ae(){var y=[],w=[],P=[],A=[],D,z,se=this.eras();for(D=0,z=se.length;D<z;++D)w.push(zu(se[D].name)),y.push(zu(se[D].abbr)),P.push(zu(se[D].narrow)),A.push(zu(se[D].name)),A.push(zu(se[D].abbr)),A.push(zu(se[D].narrow));this._erasRegex=new RegExp("^("+A.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+w.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+P.join("|")+")","i")}ne(0,["gg",2],0,function(){return this.weekYear()%100}),ne(0,["GG",2],0,function(){return this.isoWeekYear()%100});function eV(y,w){ne(0,[y,y.length],0,w)}eV("gggg","weekYear"),eV("ggggg","weekYear"),eV("GGGG","isoWeekYear"),eV("GGGGG","isoWeekYear"),ur("weekYear","gg"),ur("isoWeekYear","GG"),No("weekYear",1),No("isoWeekYear",1),De("G",bd),De("g",bd),De("GG",hn,Ia),De("gg",hn,Ia),De("GGGG",Da,Zf),De("gggg",Da,Zf),De("GGGGG",ps,Zp),De("ggggg",ps,Zp),Fm(["gggg","ggggg","GGGG","GGGGG"],function(y,w,P,A){w[A.substr(0,2)]=Xe(y)}),Fm(["gg","GG"],function(y,w,P,A){w[A]=e.parseTwoDigitYear(y)});function _4t(y){return r1e.call(this,y,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function v4t(y){return r1e.call(this,y,this.isoWeek(),this.isoWeekday(),1,4)}function w4t(){return DS(this.year(),1,4)}function S4t(){return DS(this.isoWeekYear(),1,4)}function x4t(){var y=this.localeData()._week;return DS(this.year(),y.dow,y.doy)}function C4t(){var y=this.localeData()._week;return DS(this.weekYear(),y.dow,y.doy)}function r1e(y,w,P,A,D){var z;return y==null?tq(this,A,D).year:(z=DS(y,A,D),w>z&&(w=z),O4t.call(this,y,w,P,A,D))}function O4t(y,w,P,A,D){var z=DIe(y,w,P,A,D),se=eq(z.year,0,z.dayOfYear);return this.year(se.getUTCFullYear()),this.month(se.getUTCMonth()),this.date(se.getUTCDate()),this}ne("Q",0,"Qo","quarter"),ur("quarter","Q"),No("quarter",7),De("Q",Lm),Vr("Q",function(y,w){w[RS]=(Xe(y)-1)*3});function E4t(y){return y==null?Math.ceil((this.month()+1)/3):this.month((y-1)*3+this.month()%3)}ne("D",["DD",2],"Do","date"),ur("date","D"),No("date",9),De("D",hn),De("DD",hn,Ia),De("Do",function(y,w){return y?w._dayOfMonthOrdinalParse||w._ordinalParse:w._dayOfMonthOrdinalParseLenient}),Vr(["D","DD"],hy),Vr("Do",function(y,w){w[hy]=Xe(y.match(hn)[0])});var n1e=kn("Date",!0);ne("DDD",["DDDD",3],"DDDo","dayOfYear"),ur("dayOfYear","DDD"),No("dayOfYear",4),De("DDD",LO),De("DDDD",Xp),Vr(["DDD","DDDD"],function(y,w,P){P._dayOfYear=Xe(y)});function P4t(y){var w=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return y==null?w:this.add(y-w,"d")}ne("m",["mm",2],0,"minute"),ur("minute","m"),No("minute",14),De("m",hn),De("mm",hn,Ia),Vr(["m","mm"],Bm);var T4t=kn("Minutes",!1);ne("s",["ss",2],0,"second"),ur("second","s"),No("second",15),De("s",hn),De("ss",hn,Ia),Vr(["s","ss"],IS);var M4t=kn("Seconds",!1);ne("S",0,0,function(){return~~(this.millisecond()/100)}),ne(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ne(0,["SSS",3],0,"millisecond"),ne(0,["SSSS",4],0,function(){return this.millisecond()*10}),ne(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ne(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ne(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ne(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ne(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ur("millisecond","ms"),No("millisecond",16),De("S",LO,Lm),De("SS",LO,Ia),De("SSS",LO,Xp);var BO,o1e;for(BO="SSSS";BO.length<=9;BO+="S")De(BO,na);function A4t(y,w){w[qM]=Xe(("0."+y)*1e3)}for(BO="S";BO.length<=9;BO+="S")Vr(BO,A4t);o1e=kn("Milliseconds",!1),ne("z",0,0,"zoneAbbr"),ne("zz",0,0,"zoneName");function R4t(){return this._isUTC?"UTC":""}function I4t(){return this._isUTC?"Coordinated Universal Time":""}var Pe=O.prototype;Pe.add=C2t,Pe.calendar=R2t,Pe.clone=I2t,Pe.diff=k2t,Pe.endOf=K2t,Pe.format=z2t,Pe.from=H2t,Pe.fromNow=V2t,Pe.to=W2t,Pe.toNow=J2t,Pe.get=Nc,Pe.invalidAt=o4t,Pe.isAfter=D2t,Pe.isBefore=j2t,Pe.isBetween=N2t,Pe.isSame=L2t,Pe.isSameOrAfter=F2t,Pe.isSameOrBefore=B2t,Pe.isValid=r4t,Pe.lang=XIe,Pe.locale=YIe,Pe.localeData=ZIe,Pe.max=r2t,Pe.min=t2t,Pe.parsingFlags=n4t,Pe.set=Nm,Pe.startOf=G2t,Pe.subtract=O2t,Pe.toArray=Q2t,Pe.toObject=e4t,Pe.toDate=Z2t,Pe.toISOString=q2t,Pe.inspect=U2t,typeof Symbol<"u"&&Symbol.for!=null&&(Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Pe.toJSON=t4t,Pe.toString=$2t,Pe.unix=X2t,Pe.valueOf=Y2t,Pe.creationData=i4t,Pe.eraName=l4t,Pe.eraNarrow=c4t,Pe.eraAbbr=d4t,Pe.eraYear=f4t,Pe.year=IIe,Pe.isLeapYear=ezt,Pe.weekYear=_4t,Pe.isoWeekYear=v4t,Pe.quarter=Pe.quarters=E4t,Pe.month=AIe,Pe.daysInMonth=XUt,Pe.week=Pe.weeks=azt,Pe.isoWeek=Pe.isoWeeks=szt,Pe.weeksInYear=x4t,Pe.weeksInWeekYear=C4t,Pe.isoWeeksInYear=w4t,Pe.isoWeeksInISOWeekYear=S4t,Pe.date=n1e,Pe.day=Pe.days=vzt,Pe.weekday=wzt,Pe.isoWeekday=Szt,Pe.dayOfYear=P4t,Pe.hour=Pe.hours=Mzt,Pe.minute=Pe.minutes=T4t,Pe.second=Pe.seconds=M4t,Pe.millisecond=Pe.milliseconds=o1e,Pe.utcOffset=d2t,Pe.utc=p2t,Pe.local=h2t,Pe.parseZone=m2t,Pe.hasAlignedHourOffset=g2t,Pe.isDST=y2t,Pe.isLocal=_2t,Pe.isUtcOffset=v2t,Pe.isUtc=VIe,Pe.isUTC=VIe,Pe.zoneAbbr=R4t,Pe.zoneName=I4t,Pe.dates=M("dates accessor is deprecated. Use date instead.",n1e),Pe.months=M("months accessor is deprecated. Use month instead",AIe),Pe.years=M("years accessor is deprecated. Use year instead",IIe),Pe.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",f2t),Pe.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",b2t);function D4t(y){return mi(y*1e3)}function j4t(){return mi.apply(null,arguments).parseZone()}function i1e(y){return y}var $n=L.prototype;$n.calendar=J,$n.longDateFormat=mt,$n.invalidDate=ae,$n.ordinal=Ue,$n.preparse=i1e,$n.postformat=i1e,$n.relativeTime=Je,$n.pastFuture=sr,$n.set=F,$n.eras=a4t,$n.erasParse=s4t,$n.erasConvertYear=u4t,$n.erasAbbrRegex=h4t,$n.erasNameRegex=p4t,$n.erasNarrowRegex=m4t,$n.months=JUt,$n.monthsShort=GUt,$n.monthsParse=YUt,$n.monthsRegex=QUt,$n.monthsShortRegex=ZUt,$n.week=rzt,$n.firstDayOfYear=izt,$n.firstDayOfWeek=ozt,$n.weekdays=mzt,$n.weekdaysMin=yzt,$n.weekdaysShort=gzt,$n.weekdaysParse=_zt,$n.weekdaysRegex=xzt,$n.weekdaysShortRegex=Czt,$n.weekdaysMinRegex=Ozt,$n.isPM=Pzt,$n.meridiem=Azt;function tV(y,w,P,A){var D=jS(),z=f().set(A,w);return D[P](z,y)}function a1e(y,w,P){if(u(y)&&(w=y,y=void 0),y=y||"",w!=null)return tV(y,w,P,"month");var A,D=[];for(A=0;A<12;A++)D[A]=tV(y,A,P,"month");return D}function vae(y,w,P,A){typeof y=="boolean"?(u(w)&&(P=w,w=void 0),w=w||""):(w=y,P=w,y=!1,u(w)&&(P=w,w=void 0),w=w||"");var D=jS(),z=y?D._week.dow:0,se,At=[];if(P!=null)return tV(w,(P+z)%7,A,"day");for(se=0;se<7;se++)At[se]=tV(w,(se+z)%7,A,"day");return At}function N4t(y,w){return a1e(y,w,"months")}function L4t(y,w){return a1e(y,w,"monthsShort")}function F4t(y,w,P){return vae(y,w,P,"weekdays")}function B4t(y,w,P){return vae(y,w,P,"weekdaysShort")}function k4t(y,w,P){return vae(y,w,P,"weekdaysMin")}FO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(y){var w=y%10,P=Xe(y%100/10)===1?"th":w===1?"st":w===2?"nd":w===3?"rd":"th";return y+P}}),e.lang=M("moment.lang is deprecated. Use moment.locale instead.",FO),e.langData=M("moment.langData is deprecated. Use moment.localeData instead.",jS);var NS=Math.abs;function $4t(){var y=this._data;return this._milliseconds=NS(this._milliseconds),this._days=NS(this._days),this._months=NS(this._months),y.milliseconds=NS(y.milliseconds),y.seconds=NS(y.seconds),y.minutes=NS(y.minutes),y.hours=NS(y.hours),y.months=NS(y.months),y.years=NS(y.years),this}function s1e(y,w,P,A){var D=km(w,P);return y._milliseconds+=A*D._milliseconds,y._days+=A*D._days,y._months+=A*D._months,y._bubble()}function q4t(y,w){return s1e(this,y,w,1)}function U4t(y,w){return s1e(this,y,w,-1)}function u1e(y){return y<0?Math.floor(y):Math.ceil(y)}function z4t(){var y=this._milliseconds,w=this._days,P=this._months,A=this._data,D,z,se,At,Mr;return y>=0&&w>=0&&P>=0||y<=0&&w<=0&&P<=0||(y+=u1e(wae(P)+w)*864e5,w=0,P=0),A.milliseconds=y%1e3,D=dr(y/1e3),A.seconds=D%60,z=dr(D/60),A.minutes=z%60,se=dr(z/60),A.hours=se%24,w+=dr(se/24),Mr=dr(l1e(w)),P+=Mr,w-=u1e(wae(Mr)),At=dr(P/12),P%=12,A.days=w,A.months=P,A.years=At,this}function l1e(y){return y*4800/146097}function wae(y){return y*146097/4800}function H4t(y){if(!this.isValid())return NaN;var w,P,A=this._milliseconds;if(y=Xt(y),y==="month"||y==="quarter"||y==="year")switch(w=this._days+A/864e5,P=this._months+l1e(w),y){case"month":return P;case"quarter":return P/3;case"year":return P/12}else switch(w=this._days+Math.round(wae(this._months)),y){case"week":return w/7+A/6048e5;case"day":return w+A/864e5;case"hour":return w*24+A/36e5;case"minute":return w*1440+A/6e4;case"second":return w*86400+A/1e3;case"millisecond":return Math.floor(w*864e5)+A;default:throw new Error("Unknown unit "+y)}}function V4t(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Xe(this._months/12)*31536e6:NaN}function LS(y){return function(){return this.as(y)}}var W4t=LS("ms"),J4t=LS("s"),G4t=LS("m"),K4t=LS("h"),Y4t=LS("d"),X4t=LS("w"),Z4t=LS("M"),Q4t=LS("Q"),e3t=LS("y");function t3t(){return km(this)}function r3t(y){return y=Xt(y),this.isValid()?this[y+"s"]():NaN}function zM(y){return function(){return this.isValid()?this._data[y]:NaN}}var n3t=zM("milliseconds"),o3t=zM("seconds"),i3t=zM("minutes"),a3t=zM("hours"),s3t=zM("days"),u3t=zM("months"),l3t=zM("years");function c3t(){return dr(this.days()/7)}var FS=Math.round,XD={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function d3t(y,w,P,A,D){return D.relativeTime(w||1,!!P,y,A)}function f3t(y,w,P,A){var D=km(y).abs(),z=FS(D.as("s")),se=FS(D.as("m")),At=FS(D.as("h")),Mr=FS(D.as("d")),$o=FS(D.as("M")),wd=FS(D.as("w")),BS=FS(D.as("y")),kO=z<=P.ss&&["s",z]||z<P.s&&["ss",z]||se<=1&&["m"]||se<P.m&&["mm",se]||At<=1&&["h"]||At<P.h&&["hh",At]||Mr<=1&&["d"]||Mr<P.d&&["dd",Mr];return P.w!=null&&(kO=kO||wd<=1&&["w"]||wd<P.w&&["ww",wd]),kO=kO||$o<=1&&["M"]||$o<P.M&&["MM",$o]||BS<=1&&["y"]||["yy",BS],kO[2]=w,kO[3]=+y>0,kO[4]=A,d3t.apply(null,kO)}function p3t(y){return y===void 0?FS:typeof y=="function"?(FS=y,!0):!1}function h3t(y,w){return XD[y]===void 0?!1:w===void 0?XD[y]:(XD[y]=w,y==="s"&&(XD.ss=w-1),!0)}function m3t(y,w){if(!this.isValid())return this.localeData().invalidDate();var P=!1,A=XD,D,z;return typeof y=="object"&&(w=y,y=!1),typeof y=="boolean"&&(P=y),typeof w=="object"&&(A=Object.assign({},XD,w),w.s!=null&&w.ss==null&&(A.ss=w.s-1)),D=this.localeData(),z=f3t(this,!P,A,D),P&&(z=D.pastFuture(+this,z)),D.postformat(z)}var Sae=Math.abs;function ZD(y){return(y>0)-(y<0)||+y}function rV(){if(!this.isValid())return this.localeData().invalidDate();var y=Sae(this._milliseconds)/1e3,w=Sae(this._days),P=Sae(this._months),A,D,z,se,At=this.asSeconds(),Mr,$o,wd,BS;return At?(A=dr(y/60),D=dr(A/60),y%=60,A%=60,z=dr(P/12),P%=12,se=y?y.toFixed(3).replace(/\.?0+$/,""):"",Mr=At<0?"-":"",$o=ZD(this._months)!==ZD(At)?"-":"",wd=ZD(this._days)!==ZD(At)?"-":"",BS=ZD(this._milliseconds)!==ZD(At)?"-":"",Mr+"P"+(z?$o+z+"Y":"")+(P?$o+P+"M":"")+(w?wd+w+"D":"")+(D||A||y?"T":"")+(D?BS+D+"H":"")+(A?BS+A+"M":"")+(y?BS+se+"S":"")):"P0D"}var wn=K6.prototype;wn.isValid=s2t,wn.abs=$4t,wn.add=q4t,wn.subtract=U4t,wn.as=H4t,wn.asMilliseconds=W4t,wn.asSeconds=J4t,wn.asMinutes=G4t,wn.asHours=K4t,wn.asDays=Y4t,wn.asWeeks=X4t,wn.asMonths=Z4t,wn.asQuarters=Q4t,wn.asYears=e3t,wn.valueOf=V4t,wn._bubble=z4t,wn.clone=t3t,wn.get=r3t,wn.milliseconds=n3t,wn.seconds=o3t,wn.minutes=i3t,wn.hours=a3t,wn.days=s3t,wn.weeks=c3t,wn.months=u3t,wn.years=l3t,wn.humanize=m3t,wn.toISOString=rV,wn.toString=rV,wn.toJSON=rV,wn.locale=YIe,wn.localeData=ZIe,wn.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rV),wn.lang=XIe,ne("X",0,0,"unix"),ne("x",0,0,"valueOf"),De("x",bd),De("X",Zd),Vr("X",function(y,w,P){P._d=new Date(parseFloat(y)*1e3)}),Vr("x",function(y,w,P){P._d=new Date(Xe(y))});return e.version="2.29.4",r(mi),e.fn=Pe,e.min=n2t,e.max=o2t,e.now=i2t,e.utc=f,e.unix=D4t,e.months=N4t,e.isDate=l,e.locale=FO,e.invalid=g,e.duration=km,e.isMoment=T,e.weekdays=F4t,e.parseZone=j4t,e.localeData=jS,e.isDuration=Y6,e.monthsShort=L4t,e.weekdaysMin=k4t,e.defineLocale=lae,e.updateLocale=jzt,e.locales=Nzt,e.weekdaysShort=B4t,e.normalizeUnits=Xt,e.relativeTimeRounding=p3t,e.relativeTimeThreshold=h3t,e.calendarFormat=A2t,e.prototype=Pe,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var fUe=b(SW=>{"use strict";Object.defineProperty(SW,"__esModule",{value:!0});SW.V2ChatStreamRequestCitationMode=void 0;SW.V2ChatStreamRequestCitationMode={Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}});var pUe=b(xW=>{"use strict";Object.defineProperty(xW,"__esModule",{value:!0});xW.V2ChatRequestCitationMode=void 0;xW.V2ChatRequestCitationMode={Fast:"FAST",Accurate:"ACCURATE",Off:"OFF"}});var mUe=b(hUe=>{"use strict";Object.defineProperty(hUe,"__esModule",{value:!0})});var yUe=b(gUe=>{"use strict";Object.defineProperty(gUe,"__esModule",{value:!0})});var _Ue=b(bUe=>{"use strict";Object.defineProperty(bUe,"__esModule",{value:!0})});var wUe=b(vUe=>{"use strict";Object.defineProperty(vUe,"__esModule",{value:!0})});var xUe=b(SUe=>{"use strict";Object.defineProperty(SUe,"__esModule",{value:!0})});var OUe=b(CUe=>{"use strict";Object.defineProperty(CUe,"__esModule",{value:!0})});var PUe=b(EUe=>{"use strict";Object.defineProperty(EUe,"__esModule",{value:!0})});var MUe=b(TUe=>{"use strict";Object.defineProperty(TUe,"__esModule",{value:!0})});var RUe=b(AUe=>{"use strict";Object.defineProperty(AUe,"__esModule",{value:!0})});var DUe=b(IUe=>{"use strict";Object.defineProperty(IUe,"__esModule",{value:!0})});var NUe=b(jUe=>{"use strict";Object.defineProperty(jUe,"__esModule",{value:!0})});var FUe=b(LUe=>{"use strict";Object.defineProperty(LUe,"__esModule",{value:!0})});var kUe=b(BUe=>{"use strict";Object.defineProperty(BUe,"__esModule",{value:!0})});var qUe=b($Ue=>{"use strict";Object.defineProperty($Ue,"__esModule",{value:!0})});var zUe=b(UUe=>{"use strict";Object.defineProperty(UUe,"__esModule",{value:!0})});var VUe=b(HUe=>{"use strict";Object.defineProperty(HUe,"__esModule",{value:!0})});var JUe=b(WUe=>{"use strict";Object.defineProperty(WUe,"__esModule",{value:!0})});var KUe=b(GUe=>{"use strict";Object.defineProperty(GUe,"__esModule",{value:!0})});var XUe=b(YUe=>{"use strict";Object.defineProperty(YUe,"__esModule",{value:!0})});var QUe=b(ZUe=>{"use strict";Object.defineProperty(ZUe,"__esModule",{value:!0})});var tze=b(eze=>{"use strict";Object.defineProperty(eze,"__esModule",{value:!0})});var nze=b(rze=>{"use strict";Object.defineProperty(rze,"__esModule",{value:!0})});var ize=b(oze=>{"use strict";Object.defineProperty(oze,"__esModule",{value:!0})});var aze=b(CW=>{"use strict";Object.defineProperty(CW,"__esModule",{value:!0});CW.ChatFinishReason=void 0;CW.ChatFinishReason={Complete:"complete",StopSequence:"stop_sequence",MaxTokens:"max_tokens",ToolCall:"tool_call",Error:"error",ContentBlocked:"content_blocked",ErrorLimit:"error_limit"}});var uze=b(sze=>{"use strict";Object.defineProperty(sze,"__esModule",{value:!0})});var cze=b(lze=>{"use strict";Object.defineProperty(lze,"__esModule",{value:!0})});var fze=b(dze=>{"use strict";Object.defineProperty(dze,"__esModule",{value:!0})});var hze=b(pze=>{"use strict";Object.defineProperty(pze,"__esModule",{value:!0})});var gze=b(mze=>{"use strict";Object.defineProperty(mze,"__esModule",{value:!0})});var bze=b(yze=>{"use strict";Object.defineProperty(yze,"__esModule",{value:!0})});var vze=b(_ze=>{"use strict";Object.defineProperty(_ze,"__esModule",{value:!0})});var Sze=b(wze=>{"use strict";Object.defineProperty(wze,"__esModule",{value:!0})});var Cze=b(xze=>{"use strict";Object.defineProperty(xze,"__esModule",{value:!0})});var Eze=b(Oze=>{"use strict";Object.defineProperty(Oze,"__esModule",{value:!0})});var Tze=b(Pze=>{"use strict";Object.defineProperty(Pze,"__esModule",{value:!0})});var Aze=b(Mze=>{"use strict";Object.defineProperty(Mze,"__esModule",{value:!0})});var Ize=b(Rze=>{"use strict";Object.defineProperty(Rze,"__esModule",{value:!0})});var jze=b(Dze=>{"use strict";Object.defineProperty(Dze,"__esModule",{value:!0})});var Lze=b(Nze=>{"use strict";Object.defineProperty(Nze,"__esModule",{value:!0})});var Bze=b(Fze=>{"use strict";Object.defineProperty(Fze,"__esModule",{value:!0})});var $ze=b(kze=>{"use strict";Object.defineProperty(kze,"__esModule",{value:!0})});var Uze=b(qze=>{"use strict";Object.defineProperty(qze,"__esModule",{value:!0})});var Hze=b(zze=>{"use strict";Object.defineProperty(zze,"__esModule",{value:!0})});var Wze=b(Vze=>{"use strict";Object.defineProperty(Vze,"__esModule",{value:!0})});var Gze=b(Jze=>{"use strict";Object.defineProperty(Jze,"__esModule",{value:!0})});var Yze=b(Kze=>{"use strict";Object.defineProperty(Kze,"__esModule",{value:!0})});var Zze=b(Xze=>{"use strict";Object.defineProperty(Xze,"__esModule",{value:!0})});var e2e=b(Qze=>{"use strict";Object.defineProperty(Qze,"__esModule",{value:!0})});var r2e=b(t2e=>{"use strict";Object.defineProperty(t2e,"__esModule",{value:!0})});var o2e=b(n2e=>{"use strict";Object.defineProperty(n2e,"__esModule",{value:!0})});var a2e=b(i2e=>{"use strict";Object.defineProperty(i2e,"__esModule",{value:!0})});var u2e=b(s2e=>{"use strict";Object.defineProperty(s2e,"__esModule",{value:!0})});var c2e=b(l2e=>{"use strict";Object.defineProperty(l2e,"__esModule",{value:!0})});var f2e=b(d2e=>{"use strict";Object.defineProperty(d2e,"__esModule",{value:!0})});var h2e=b(p2e=>{"use strict";Object.defineProperty(p2e,"__esModule",{value:!0})});var g2e=b(m2e=>{"use strict";Object.defineProperty(m2e,"__esModule",{value:!0})});var b2e=b(y2e=>{"use strict";Object.defineProperty(y2e,"__esModule",{value:!0})});var $de=b(st=>{"use strict";var BKt=st&&st.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bt=st&&st.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&BKt(e,t,r)};Object.defineProperty(st,"__esModule",{value:!0});bt(fUe(),st);bt(pUe(),st);bt(mUe(),st);bt(yUe(),st);bt(_Ue(),st);bt(wUe(),st);bt(xUe(),st);bt(OUe(),st);bt(PUe(),st);bt(MUe(),st);bt(RUe(),st);bt(DUe(),st);bt(NUe(),st);bt(FUe(),st);bt(kUe(),st);bt(qUe(),st);bt(zUe(),st);bt(VUe(),st);bt(JUe(),st);bt(KUe(),st);bt(XUe(),st);bt(QUe(),st);bt(tze(),st);bt(nze(),st);bt(ize(),st);bt(aze(),st);bt(uze(),st);bt(cze(),st);bt(fze(),st);bt(hze(),st);bt(gze(),st);bt(bze(),st);bt(vze(),st);bt(Sze(),st);bt(Cze(),st);bt(Eze(),st);bt(Tze(),st);bt(Aze(),st);bt(Ize(),st);bt(jze(),st);bt(Lze(),st);bt(Bze(),st);bt($ze(),st);bt(Uze(),st);bt(Hze(),st);bt(Wze(),st);bt(Gze(),st);bt(Yze(),st);bt(Zze(),st);bt(e2e(),st);bt(r2e(),st);bt(o2e(),st);bt(a2e(),st);bt(u2e(),st);bt(c2e(),st);bt(f2e(),st);bt(h2e(),st);bt(g2e(),st);bt(b2e(),st)});var qde=b(_2e=>{"use strict";Object.defineProperty(_2e,"__esModule",{value:!0})});var v2e=b(eR=>{"use strict";var kKt=eR&&eR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$Kt=eR&&eR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kKt(e,t,r)};Object.defineProperty(eR,"__esModule",{value:!0});$Kt(qde(),eR)});var S2e=b($E=>{"use strict";var qKt=$E&&$E.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w2e=$E&&$E.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qKt(e,t,r)};Object.defineProperty($E,"__esModule",{value:!0});w2e($de(),$E);w2e(v2e(),$E)});var x2e=b(OW=>{"use strict";Object.defineProperty(OW,"__esModule",{value:!0});OW.CreateEmbedJobRequestTruncate=void 0;OW.CreateEmbedJobRequestTruncate={Start:"START",End:"END"}});var Ude=b(tR=>{"use strict";var UKt=tR&&tR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zKt=tR&&tR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UKt(e,t,r)};Object.defineProperty(tR,"__esModule",{value:!0});zKt(x2e(),tR)});var zde=b(C2e=>{"use strict";Object.defineProperty(C2e,"__esModule",{value:!0})});var O2e=b(rR=>{"use strict";var HKt=rR&&rR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VKt=rR&&rR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HKt(e,t,r)};Object.defineProperty(rR,"__esModule",{value:!0});VKt(zde(),rR)});var P2e=b(qE=>{"use strict";var WKt=qE&&qE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),E2e=qE&&qE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WKt(e,t,r)};Object.defineProperty(qE,"__esModule",{value:!0});E2e(Ude(),qE);E2e(O2e(),qE)});var M2e=b(T2e=>{"use strict";Object.defineProperty(T2e,"__esModule",{value:!0})});var R2e=b(A2e=>{"use strict";Object.defineProperty(A2e,"__esModule",{value:!0})});var D2e=b(I2e=>{"use strict";Object.defineProperty(I2e,"__esModule",{value:!0})});var N2e=b(j2e=>{"use strict";Object.defineProperty(j2e,"__esModule",{value:!0})});var F2e=b(L2e=>{"use strict";Object.defineProperty(L2e,"__esModule",{value:!0})});var Hde=b(sg=>{"use strict";var JKt=sg&&sg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vz=sg&&sg.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JKt(e,t,r)};Object.defineProperty(sg,"__esModule",{value:!0});vz(M2e(),sg);vz(R2e(),sg);vz(D2e(),sg);vz(N2e(),sg);vz(F2e(),sg)});var Vde=b(B2e=>{"use strict";Object.defineProperty(B2e,"__esModule",{value:!0})});var k2e=b(nR=>{"use strict";var GKt=nR&&nR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KKt=nR&&nR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&GKt(e,t,r)};Object.defineProperty(nR,"__esModule",{value:!0});KKt(Vde(),nR)});var q2e=b(UE=>{"use strict";var YKt=UE&&UE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$2e=UE&&UE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YKt(e,t,r)};Object.defineProperty(UE,"__esModule",{value:!0});$2e(Hde(),UE);$2e(k2e(),UE)});var U2e=b(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0});EW.BaseType=void 0;EW.BaseType={BaseTypeUnspecified:"BASE_TYPE_UNSPECIFIED",BaseTypeGenerative:"BASE_TYPE_GENERATIVE",BaseTypeClassification:"BASE_TYPE_CLASSIFICATION",BaseTypeRerank:"BASE_TYPE_RERANK",BaseTypeChat:"BASE_TYPE_CHAT"}});var z2e=b(PW=>{"use strict";Object.defineProperty(PW,"__esModule",{value:!0});PW.Strategy=void 0;PW.Strategy={StrategyUnspecified:"STRATEGY_UNSPECIFIED",StrategyVanilla:"STRATEGY_VANILLA",StrategyTfew:"STRATEGY_TFEW"}});var V2e=b(H2e=>{"use strict";Object.defineProperty(H2e,"__esModule",{value:!0})});var J2e=b(W2e=>{"use strict";Object.defineProperty(W2e,"__esModule",{value:!0})});var K2e=b(G2e=>{"use strict";Object.defineProperty(G2e,"__esModule",{value:!0})});var X2e=b(Y2e=>{"use strict";Object.defineProperty(Y2e,"__esModule",{value:!0})});var Z2e=b(TW=>{"use strict";Object.defineProperty(TW,"__esModule",{value:!0});TW.Status=void 0;TW.Status={StatusUnspecified:"STATUS_UNSPECIFIED",StatusFinetuning:"STATUS_FINETUNING",StatusDeployingApi:"STATUS_DEPLOYING_API",StatusReady:"STATUS_READY",StatusFailed:"STATUS_FAILED",StatusDeleted:"STATUS_DELETED",StatusTemporarilyOffline:"STATUS_TEMPORARILY_OFFLINE",StatusPaused:"STATUS_PAUSED",StatusQueued:"STATUS_QUEUED"}});var e4e=b(Q2e=>{"use strict";Object.defineProperty(Q2e,"__esModule",{value:!0})});var r4e=b(t4e=>{"use strict";Object.defineProperty(t4e,"__esModule",{value:!0})});var o4e=b(n4e=>{"use strict";Object.defineProperty(n4e,"__esModule",{value:!0})});var a4e=b(i4e=>{"use strict";Object.defineProperty(i4e,"__esModule",{value:!0})});var u4e=b(s4e=>{"use strict";Object.defineProperty(s4e,"__esModule",{value:!0})});var c4e=b(l4e=>{"use strict";Object.defineProperty(l4e,"__esModule",{value:!0})});var f4e=b(d4e=>{"use strict";Object.defineProperty(d4e,"__esModule",{value:!0})});var h4e=b(p4e=>{"use strict";Object.defineProperty(p4e,"__esModule",{value:!0})});var g4e=b(m4e=>{"use strict";Object.defineProperty(m4e,"__esModule",{value:!0})});var b4e=b(y4e=>{"use strict";Object.defineProperty(y4e,"__esModule",{value:!0})});var Wde=b(ua=>{"use strict";var XKt=ua&&ua.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ql=ua&&ua.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XKt(e,t,r)};Object.defineProperty(ua,"__esModule",{value:!0});Ql(U2e(),ua);Ql(z2e(),ua);Ql(V2e(),ua);Ql(J2e(),ua);Ql(K2e(),ua);Ql(X2e(),ua);Ql(Z2e(),ua);Ql(e4e(),ua);Ql(r4e(),ua);Ql(o4e(),ua);Ql(a4e(),ua);Ql(u4e(),ua);Ql(c4e(),ua);Ql(f4e(),ua);Ql(h4e(),ua);Ql(g4e(),ua);Ql(b4e(),ua)});var _4e=b(oR=>{"use strict";var ZKt=oR&&oR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QKt=oR&&oR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZKt(e,t,r)};Object.defineProperty(oR,"__esModule",{value:!0});QKt(Wde(),oR)});var w4e=b(gp=>{"use strict";var v4e=gp&&gp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e7t=gp&&gp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t7t=gp&&gp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&v4e(e,t,r);return e7t(e,t),e},r7t=gp&&gp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&v4e(e,t,r)};Object.defineProperty(gp,"__esModule",{value:!0});gp.finetuning=void 0;gp.finetuning=t7t(_4e());r7t(Wde(),gp)});var Jde=b(S4e=>{"use strict";Object.defineProperty(S4e,"__esModule",{value:!0})});var x4e=b(iR=>{"use strict";var n7t=iR&&iR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o7t=iR&&iR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&n7t(e,t,r)};Object.defineProperty(iR,"__esModule",{value:!0});o7t(Jde(),iR)});var O4e=b(zE=>{"use strict";var i7t=zE&&zE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C4e=zE&&zE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&i7t(e,t,r)};Object.defineProperty(zE,"__esModule",{value:!0});C4e(w4e(),zE);C4e(x4e(),zE)});var Gde=b(E4e=>{"use strict";Object.defineProperty(E4e,"__esModule",{value:!0})});var P4e=b(aR=>{"use strict";var a7t=aR&&aR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s7t=aR&&aR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&a7t(e,t,r)};Object.defineProperty(aR,"__esModule",{value:!0});s7t(Gde(),aR)});var T4e=b(sR=>{"use strict";var u7t=sR&&sR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l7t=sR&&sR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&u7t(e,t,r)};Object.defineProperty(sR,"__esModule",{value:!0});l7t(P4e(),sR)});var Kde=b(M4e=>{"use strict";Object.defineProperty(M4e,"__esModule",{value:!0})});var A4e=b(uR=>{"use strict";var c7t=uR&&uR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),d7t=uR&&uR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&c7t(e,t,r)};Object.defineProperty(uR,"__esModule",{value:!0});d7t(Kde(),uR)});var R4e=b(lR=>{"use strict";var f7t=lR&&lR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),p7t=lR&&lR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&f7t(e,t,r)};Object.defineProperty(lR,"__esModule",{value:!0});p7t(A4e(),lR)});var D4e=b(yo=>{"use strict";var I4e=yo&&yo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h7t=yo&&yo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CN=yo&&yo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I4e(e,t,r);return h7t(e,t),e},vx=yo&&yo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&I4e(e,t,r)};Object.defineProperty(yo,"__esModule",{value:!0});yo.models=yo.connectors=yo.finetuning=yo.datasets=yo.embedJobs=yo.v2=void 0;yo.v2=CN(S2e());vx($de(),yo);yo.embedJobs=CN(P2e());vx(Ude(),yo);yo.datasets=CN(q2e());vx(Hde(),yo);yo.finetuning=CN(O4e());yo.connectors=CN(T4e());yo.models=CN(R4e());vx(qde(),yo);vx(zde(),yo);vx(Vde(),yo);vx(Gde(),yo);vx(Kde(),yo);vx(Jde(),yo)});var j4e=b(MW=>{"use strict";Object.defineProperty(MW,"__esModule",{value:!0});MW.ChatStreamRequestPromptTruncation=void 0;MW.ChatStreamRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}});var N4e=b(AW=>{"use strict";Object.defineProperty(AW,"__esModule",{value:!0});AW.ChatStreamRequestCitationQuality=void 0;AW.ChatStreamRequestCitationQuality={Fast:"fast",Accurate:"accurate",Off:"off"}});var F4e=b(L4e=>{"use strict";Object.defineProperty(L4e,"__esModule",{value:!0})});var B4e=b(RW=>{"use strict";Object.defineProperty(RW,"__esModule",{value:!0});RW.ChatStreamRequestSafetyMode=void 0;RW.ChatStreamRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}});var $4e=b(k4e=>{"use strict";Object.defineProperty(k4e,"__esModule",{value:!0})});var U4e=b(q4e=>{"use strict";Object.defineProperty(q4e,"__esModule",{value:!0})});var H4e=b(z4e=>{"use strict";Object.defineProperty(z4e,"__esModule",{value:!0})});var W4e=b(V4e=>{"use strict";Object.defineProperty(V4e,"__esModule",{value:!0})});var G4e=b(J4e=>{"use strict";Object.defineProperty(J4e,"__esModule",{value:!0})});var K4e=b(IW=>{"use strict";Object.defineProperty(IW,"__esModule",{value:!0});IW.ChatRequestPromptTruncation=void 0;IW.ChatRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"}});var Y4e=b(DW=>{"use strict";Object.defineProperty(DW,"__esModule",{value:!0});DW.ChatRequestCitationQuality=void 0;DW.ChatRequestCitationQuality={Fast:"fast",Accurate:"accurate",Off:"off"}});var Z4e=b(X4e=>{"use strict";Object.defineProperty(X4e,"__esModule",{value:!0})});var Q4e=b(jW=>{"use strict";Object.defineProperty(jW,"__esModule",{value:!0});jW.ChatRequestSafetyMode=void 0;jW.ChatRequestSafetyMode={Contextual:"CONTEXTUAL",Strict:"STRICT",None:"NONE"}});var e3e=b(NW=>{"use strict";Object.defineProperty(NW,"__esModule",{value:!0});NW.GenerateStreamRequestTruncate=void 0;NW.GenerateStreamRequestTruncate={None:"NONE",Start:"START",End:"END"}});var t3e=b(LW=>{"use strict";Object.defineProperty(LW,"__esModule",{value:!0});LW.GenerateStreamRequestReturnLikelihoods=void 0;LW.GenerateStreamRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}});var r3e=b(FW=>{"use strict";Object.defineProperty(FW,"__esModule",{value:!0});FW.GenerateRequestTruncate=void 0;FW.GenerateRequestTruncate={None:"NONE",Start:"START",End:"END"}});var n3e=b(BW=>{"use strict";Object.defineProperty(BW,"__esModule",{value:!0});BW.GenerateRequestReturnLikelihoods=void 0;BW.GenerateRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"}});var o3e=b(kW=>{"use strict";Object.defineProperty(kW,"__esModule",{value:!0});kW.EmbedRequestTruncate=void 0;kW.EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"}});var a3e=b(i3e=>{"use strict";Object.defineProperty(i3e,"__esModule",{value:!0})});var u3e=b(s3e=>{"use strict";Object.defineProperty(s3e,"__esModule",{value:!0})});var c3e=b(l3e=>{"use strict";Object.defineProperty(l3e,"__esModule",{value:!0})});var f3e=b(d3e=>{"use strict";Object.defineProperty(d3e,"__esModule",{value:!0})});var h3e=b(p3e=>{"use strict";Object.defineProperty(p3e,"__esModule",{value:!0})});var m3e=b($W=>{"use strict";Object.defineProperty($W,"__esModule",{value:!0});$W.ClassifyRequestTruncate=void 0;$W.ClassifyRequestTruncate={None:"NONE",Start:"START",End:"END"}});var y3e=b(g3e=>{"use strict";Object.defineProperty(g3e,"__esModule",{value:!0})});var b3e=b(qW=>{"use strict";Object.defineProperty(qW,"__esModule",{value:!0});qW.ClassifyResponseClassificationsItemClassificationType=void 0;qW.ClassifyResponseClassificationsItemClassificationType={SingleLabel:"single-label",MultiLabel:"multi-label"}});var v3e=b(_3e=>{"use strict";Object.defineProperty(_3e,"__esModule",{value:!0})});var S3e=b(w3e=>{"use strict";Object.defineProperty(w3e,"__esModule",{value:!0})});var x3e=b(UW=>{"use strict";Object.defineProperty(UW,"__esModule",{value:!0});UW.SummarizeRequestLength=void 0;UW.SummarizeRequestLength={Short:"short",Medium:"medium",Long:"long"}});var C3e=b(zW=>{"use strict";Object.defineProperty(zW,"__esModule",{value:!0});zW.SummarizeRequestFormat=void 0;zW.SummarizeRequestFormat={Paragraph:"paragraph",Bullets:"bullets"}});var O3e=b(HW=>{"use strict";Object.defineProperty(HW,"__esModule",{value:!0});HW.SummarizeRequestExtractiveness=void 0;HW.SummarizeRequestExtractiveness={Low:"low",Medium:"medium",High:"high"}});var P3e=b(E3e=>{"use strict";Object.defineProperty(E3e,"__esModule",{value:!0})});var M3e=b(T3e=>{"use strict";Object.defineProperty(T3e,"__esModule",{value:!0})});var R3e=b(A3e=>{"use strict";Object.defineProperty(A3e,"__esModule",{value:!0})});var D3e=b(I3e=>{"use strict";Object.defineProperty(I3e,"__esModule",{value:!0})});var N3e=b(j3e=>{"use strict";Object.defineProperty(j3e,"__esModule",{value:!0})});var F3e=b(L3e=>{"use strict";Object.defineProperty(L3e,"__esModule",{value:!0})});var k3e=b(B3e=>{"use strict";Object.defineProperty(B3e,"__esModule",{value:!0})});var q3e=b($3e=>{"use strict";Object.defineProperty($3e,"__esModule",{value:!0})});var z3e=b(U3e=>{"use strict";Object.defineProperty(U3e,"__esModule",{value:!0})});var V3e=b(H3e=>{"use strict";Object.defineProperty(H3e,"__esModule",{value:!0})});var J3e=b(W3e=>{"use strict";Object.defineProperty(W3e,"__esModule",{value:!0})});var K3e=b(G3e=>{"use strict";Object.defineProperty(G3e,"__esModule",{value:!0})});var X3e=b(Y3e=>{"use strict";Object.defineProperty(Y3e,"__esModule",{value:!0})});var Q3e=b(Z3e=>{"use strict";Object.defineProperty(Z3e,"__esModule",{value:!0})});var t8e=b(e8e=>{"use strict";Object.defineProperty(e8e,"__esModule",{value:!0})});var n8e=b(r8e=>{"use strict";Object.defineProperty(r8e,"__esModule",{value:!0})});var i8e=b(o8e=>{"use strict";Object.defineProperty(o8e,"__esModule",{value:!0})});var s8e=b(a8e=>{"use strict";Object.defineProperty(a8e,"__esModule",{value:!0})});var l8e=b(u8e=>{"use strict";Object.defineProperty(u8e,"__esModule",{value:!0})});var d8e=b(c8e=>{"use strict";Object.defineProperty(c8e,"__esModule",{value:!0})});var f8e=b(VW=>{"use strict";Object.defineProperty(VW,"__esModule",{value:!0});VW.FinishReason=void 0;VW.FinishReason={Complete:"COMPLETE",StopSequence:"STOP_SEQUENCE",Error:"ERROR",ErrorToxic:"ERROR_TOXIC",ErrorLimit:"ERROR_LIMIT",UserCancel:"USER_CANCEL",MaxTokens:"MAX_TOKENS"}});var h8e=b(p8e=>{"use strict";Object.defineProperty(p8e,"__esModule",{value:!0})});var g8e=b(m8e=>{"use strict";Object.defineProperty(m8e,"__esModule",{value:!0})});var b8e=b(y8e=>{"use strict";Object.defineProperty(y8e,"__esModule",{value:!0})});var v8e=b(_8e=>{"use strict";Object.defineProperty(_8e,"__esModule",{value:!0})});var S8e=b(w8e=>{"use strict";Object.defineProperty(w8e,"__esModule",{value:!0})});var C8e=b(x8e=>{"use strict";Object.defineProperty(x8e,"__esModule",{value:!0})});var E8e=b(O8e=>{"use strict";Object.defineProperty(O8e,"__esModule",{value:!0})});var T8e=b(P8e=>{"use strict";Object.defineProperty(P8e,"__esModule",{value:!0})});var A8e=b(M8e=>{"use strict";Object.defineProperty(M8e,"__esModule",{value:!0})});var I8e=b(R8e=>{"use strict";Object.defineProperty(R8e,"__esModule",{value:!0})});var j8e=b(D8e=>{"use strict";Object.defineProperty(D8e,"__esModule",{value:!0})});var L8e=b(N8e=>{"use strict";Object.defineProperty(N8e,"__esModule",{value:!0})});var F8e=b(WW=>{"use strict";Object.defineProperty(WW,"__esModule",{value:!0});WW.ChatStreamEndEventFinishReason=void 0;WW.ChatStreamEndEventFinishReason={Complete:"COMPLETE",ErrorLimit:"ERROR_LIMIT",MaxTokens:"MAX_TOKENS",Error:"ERROR",ErrorToxic:"ERROR_TOXIC"}});var k8e=b(B8e=>{"use strict";Object.defineProperty(B8e,"__esModule",{value:!0})});var q8e=b($8e=>{"use strict";Object.defineProperty($8e,"__esModule",{value:!0})});var z8e=b(U8e=>{"use strict";Object.defineProperty(U8e,"__esModule",{value:!0})});var V8e=b(H8e=>{"use strict";Object.defineProperty(H8e,"__esModule",{value:!0})});var J8e=b(W8e=>{"use strict";Object.defineProperty(W8e,"__esModule",{value:!0})});var K8e=b(G8e=>{"use strict";Object.defineProperty(G8e,"__esModule",{value:!0})});var X8e=b(Y8e=>{"use strict";Object.defineProperty(Y8e,"__esModule",{value:!0})});var Q8e=b(Z8e=>{"use strict";Object.defineProperty(Z8e,"__esModule",{value:!0})});var tHe=b(eHe=>{"use strict";Object.defineProperty(eHe,"__esModule",{value:!0})});var nHe=b(rHe=>{"use strict";Object.defineProperty(rHe,"__esModule",{value:!0})});var iHe=b(oHe=>{"use strict";Object.defineProperty(oHe,"__esModule",{value:!0})});var sHe=b(aHe=>{"use strict";Object.defineProperty(aHe,"__esModule",{value:!0})});var lHe=b(uHe=>{"use strict";Object.defineProperty(uHe,"__esModule",{value:!0})});var dHe=b(cHe=>{"use strict";Object.defineProperty(cHe,"__esModule",{value:!0})});var pHe=b(fHe=>{"use strict";Object.defineProperty(fHe,"__esModule",{value:!0})});var mHe=b(hHe=>{"use strict";Object.defineProperty(hHe,"__esModule",{value:!0})});var yHe=b(gHe=>{"use strict";Object.defineProperty(gHe,"__esModule",{value:!0})});var _He=b(bHe=>{"use strict";Object.defineProperty(bHe,"__esModule",{value:!0})});var wHe=b(vHe=>{"use strict";Object.defineProperty(vHe,"__esModule",{value:!0})});var xHe=b(SHe=>{"use strict";Object.defineProperty(SHe,"__esModule",{value:!0})});var CHe=b(JW=>{"use strict";Object.defineProperty(JW,"__esModule",{value:!0});JW.EmbedInputType=void 0;JW.EmbedInputType={SearchDocument:"search_document",SearchQuery:"search_query",Classification:"classification",Clustering:"clustering"}});var OHe=b(GW=>{"use strict";Object.defineProperty(GW,"__esModule",{value:!0});GW.EmbeddingType=void 0;GW.EmbeddingType={Float:"float",Int8:"int8",Uint8:"uint8",Binary:"binary",Ubinary:"ubinary"}});var PHe=b(EHe=>{"use strict";Object.defineProperty(EHe,"__esModule",{value:!0})});var MHe=b(THe=>{"use strict";Object.defineProperty(THe,"__esModule",{value:!0})});var RHe=b(AHe=>{"use strict";Object.defineProperty(AHe,"__esModule",{value:!0})});var IHe=b(KW=>{"use strict";Object.defineProperty(KW,"__esModule",{value:!0});KW.EmbedJobStatus=void 0;KW.EmbedJobStatus={Processing:"processing",Complete:"complete",Cancelling:"cancelling",Cancelled:"cancelled",Failed:"failed"}});var DHe=b(YW=>{"use strict";Object.defineProperty(YW,"__esModule",{value:!0});YW.EmbedJobTruncate=void 0;YW.EmbedJobTruncate={Start:"START",End:"END"}});var NHe=b(jHe=>{"use strict";Object.defineProperty(jHe,"__esModule",{value:!0})});var FHe=b(LHe=>{"use strict";Object.defineProperty(LHe,"__esModule",{value:!0})});var kHe=b(BHe=>{"use strict";Object.defineProperty(BHe,"__esModule",{value:!0})});var qHe=b($He=>{"use strict";Object.defineProperty($He,"__esModule",{value:!0})});var zHe=b(UHe=>{"use strict";Object.defineProperty(UHe,"__esModule",{value:!0})});var HHe=b(XW=>{"use strict";Object.defineProperty(XW,"__esModule",{value:!0});XW.DatasetValidationStatus=void 0;XW.DatasetValidationStatus={Unknown:"unknown",Queued:"queued",Processing:"processing",Failed:"failed",Validated:"validated",Skipped:"skipped"}});var VHe=b(ZW=>{"use strict";Object.defineProperty(ZW,"__esModule",{value:!0});ZW.DatasetType=void 0;ZW.DatasetType={EmbedInput:"embed-input",EmbedResult:"embed-result",ClusterResult:"cluster-result",ClusterOutliers:"cluster-outliers",RerankerFinetuneInput:"reranker-finetune-input",SingleLabelClassificationFinetuneInput:"single-label-classification-finetune-input",ChatFinetuneInput:"chat-finetune-input",MultiLabelClassificationFinetuneInput:"multi-label-classification-finetune-input"}});var JHe=b(WHe=>{"use strict";Object.defineProperty(WHe,"__esModule",{value:!0})});var KHe=b(GHe=>{"use strict";Object.defineProperty(GHe,"__esModule",{value:!0})});var XHe=b(YHe=>{"use strict";Object.defineProperty(YHe,"__esModule",{value:!0})});var QHe=b(ZHe=>{"use strict";Object.defineProperty(ZHe,"__esModule",{value:!0})});var t6e=b(e6e=>{"use strict";Object.defineProperty(e6e,"__esModule",{value:!0})});var n6e=b(r6e=>{"use strict";Object.defineProperty(r6e,"__esModule",{value:!0})});var i6e=b(o6e=>{"use strict";Object.defineProperty(o6e,"__esModule",{value:!0})});var s6e=b(a6e=>{"use strict";Object.defineProperty(a6e,"__esModule",{value:!0})});var l6e=b(u6e=>{"use strict";Object.defineProperty(u6e,"__esModule",{value:!0})});var d6e=b(c6e=>{"use strict";Object.defineProperty(c6e,"__esModule",{value:!0})});var p6e=b(f6e=>{"use strict";Object.defineProperty(f6e,"__esModule",{value:!0})});var m6e=b(h6e=>{"use strict";Object.defineProperty(h6e,"__esModule",{value:!0})});var g6e=b(QW=>{"use strict";Object.defineProperty(QW,"__esModule",{value:!0});QW.ConnectorAuthStatus=void 0;QW.ConnectorAuthStatus={Valid:"valid",Expired:"expired"}});var b6e=b(y6e=>{"use strict";Object.defineProperty(y6e,"__esModule",{value:!0})});var v6e=b(_6e=>{"use strict";Object.defineProperty(_6e,"__esModule",{value:!0})});var S6e=b(w6e=>{"use strict";Object.defineProperty(w6e,"__esModule",{value:!0})});var x6e=b(eJ=>{"use strict";Object.defineProperty(eJ,"__esModule",{value:!0});eJ.AuthTokenType=void 0;eJ.AuthTokenType={Bearer:"bearer",Basic:"basic",Noscheme:"noscheme"}});var O6e=b(C6e=>{"use strict";Object.defineProperty(C6e,"__esModule",{value:!0})});var P6e=b(E6e=>{"use strict";Object.defineProperty(E6e,"__esModule",{value:!0})});var M6e=b(T6e=>{"use strict";Object.defineProperty(T6e,"__esModule",{value:!0})});var R6e=b(A6e=>{"use strict";Object.defineProperty(A6e,"__esModule",{value:!0})});var D6e=b(I6e=>{"use strict";Object.defineProperty(I6e,"__esModule",{value:!0})});var N6e=b(j6e=>{"use strict";Object.defineProperty(j6e,"__esModule",{value:!0})});var L6e=b(tJ=>{"use strict";Object.defineProperty(tJ,"__esModule",{value:!0});tJ.CompatibleEndpoint=void 0;tJ.CompatibleEndpoint={Chat:"chat",Embed:"embed",Classify:"classify",Summarize:"summarize",Rerank:"rerank",Rate:"rate",Generate:"generate"}});var B6e=b(F6e=>{"use strict";Object.defineProperty(F6e,"__esModule",{value:!0})});var $6e=b(k6e=>{"use strict";Object.defineProperty(k6e,"__esModule",{value:!0})});var q6e=b(oe=>{"use strict";var m7t=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pe=oe&&oe.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&m7t(e,t,r)};Object.defineProperty(oe,"__esModule",{value:!0});pe(j4e(),oe);pe(N4e(),oe);pe(F4e(),oe);pe(B4e(),oe);pe($4e(),oe);pe(U4e(),oe);pe(H4e(),oe);pe(W4e(),oe);pe(G4e(),oe);pe(K4e(),oe);pe(Y4e(),oe);pe(Z4e(),oe);pe(Q4e(),oe);pe(e3e(),oe);pe(t3e(),oe);pe(r3e(),oe);pe(n3e(),oe);pe(o3e(),oe);pe(a3e(),oe);pe(u3e(),oe);pe(c3e(),oe);pe(f3e(),oe);pe(h3e(),oe);pe(m3e(),oe);pe(y3e(),oe);pe(b3e(),oe);pe(v3e(),oe);pe(S3e(),oe);pe(x3e(),oe);pe(C3e(),oe);pe(O3e(),oe);pe(P3e(),oe);pe(M3e(),oe);pe(R3e(),oe);pe(D3e(),oe);pe(N3e(),oe);pe(F3e(),oe);pe(k3e(),oe);pe(q3e(),oe);pe(z3e(),oe);pe(V3e(),oe);pe(J3e(),oe);pe(K3e(),oe);pe(X3e(),oe);pe(Q3e(),oe);pe(t8e(),oe);pe(n8e(),oe);pe(i8e(),oe);pe(s8e(),oe);pe(l8e(),oe);pe(d8e(),oe);pe(f8e(),oe);pe(h8e(),oe);pe(g8e(),oe);pe(b8e(),oe);pe(v8e(),oe);pe(S8e(),oe);pe(C8e(),oe);pe(E8e(),oe);pe(T8e(),oe);pe(A8e(),oe);pe(I8e(),oe);pe(j8e(),oe);pe(L8e(),oe);pe(F8e(),oe);pe(k8e(),oe);pe(q8e(),oe);pe(z8e(),oe);pe(V8e(),oe);pe(J8e(),oe);pe(K8e(),oe);pe(X8e(),oe);pe(Q8e(),oe);pe(tHe(),oe);pe(nHe(),oe);pe(iHe(),oe);pe(sHe(),oe);pe(lHe(),oe);pe(dHe(),oe);pe(pHe(),oe);pe(mHe(),oe);pe(yHe(),oe);pe(_He(),oe);pe(wHe(),oe);pe(xHe(),oe);pe(CHe(),oe);pe(OHe(),oe);pe(PHe(),oe);pe(MHe(),oe);pe(RHe(),oe);pe(IHe(),oe);pe(DHe(),oe);pe(NHe(),oe);pe(FHe(),oe);pe(kHe(),oe);pe(qHe(),oe);pe(zHe(),oe);pe(HHe(),oe);pe(VHe(),oe);pe(JHe(),oe);pe(KHe(),oe);pe(XHe(),oe);pe(QHe(),oe);pe(t6e(),oe);pe(n6e(),oe);pe(i6e(),oe);pe(s6e(),oe);pe(l6e(),oe);pe(d6e(),oe);pe(p6e(),oe);pe(m6e(),oe);pe(g6e(),oe);pe(b6e(),oe);pe(v6e(),oe);pe(S6e(),oe);pe(x6e(),oe);pe(O6e(),oe);pe(P6e(),oe);pe(M6e(),oe);pe(R6e(),oe);pe(D6e(),oe);pe(N6e(),oe);pe(L6e(),oe);pe(B6e(),oe);pe($6e(),oe)});var U6e=b(rJ=>{"use strict";Object.defineProperty(rJ,"__esModule",{value:!0});rJ.CohereError=void 0;var wz=class extends Error{constructor({message:e,statusCode:r,body:n}){super(g7t({message:e,statusCode:r,body:n})),Object.setPrototypeOf(this,wz.prototype),r!=null&&(this.statusCode=r),n!==void 0&&(this.body=n)}};rJ.CohereError=wz;function g7t({message:t,statusCode:e,body:r}){let n=[];return t!=null&&n.push(t),e!=null&&n.push(`Status code: ${e.toString()}`),r!=null&&n.push(`Body: ${JSON.stringify(r,void 0,2)}`),n.join(`
`)}});var z6e=b(nJ=>{"use strict";Object.defineProperty(nJ,"__esModule",{value:!0});nJ.CohereTimeoutError=void 0;var Sz=class extends Error{constructor(){super("Timeout"),Object.setPrototypeOf(this,Sz.prototype)}};nJ.CohereTimeoutError=Sz});var es=b(ON=>{"use strict";Object.defineProperty(ON,"__esModule",{value:!0});ON.CohereTimeoutError=ON.CohereError=void 0;var y7t=U6e();Object.defineProperty(ON,"CohereError",{enumerable:!0,get:function(){return y7t.CohereError}});var b7t=z6e();Object.defineProperty(ON,"CohereTimeoutError",{enumerable:!0,get:function(){return b7t.CohereTimeoutError}})});var H6e=b(qy=>{"use strict";var _7t=qy&&qy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v7t=qy&&qy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w7t=qy&&qy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_7t(e,t,r);return v7t(e,t),e};Object.defineProperty(qy,"__esModule",{value:!0});qy.BadRequestError=void 0;var S7t=w7t(es()),xz=class extends S7t.CohereError{constructor(e){super({message:"BadRequestError",statusCode:400,body:e}),Object.setPrototypeOf(this,xz.prototype)}};qy.BadRequestError=xz});var V6e=b(Uy=>{"use strict";var x7t=Uy&&Uy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C7t=Uy&&Uy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),O7t=Uy&&Uy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x7t(e,t,r);return C7t(e,t),e};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.UnauthorizedError=void 0;var E7t=O7t(es()),Cz=class extends E7t.CohereError{constructor(e){super({message:"UnauthorizedError",statusCode:401,body:e}),Object.setPrototypeOf(this,Cz.prototype)}};Uy.UnauthorizedError=Cz});var W6e=b(zy=>{"use strict";var P7t=zy&&zy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T7t=zy&&zy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M7t=zy&&zy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&P7t(e,t,r);return T7t(e,t),e};Object.defineProperty(zy,"__esModule",{value:!0});zy.ForbiddenError=void 0;var A7t=M7t(es()),Oz=class extends A7t.CohereError{constructor(e){super({message:"ForbiddenError",statusCode:403,body:e}),Object.setPrototypeOf(this,Oz.prototype)}};zy.ForbiddenError=Oz});var J6e=b(Hy=>{"use strict";var R7t=Hy&&Hy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I7t=Hy&&Hy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),D7t=Hy&&Hy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R7t(e,t,r);return I7t(e,t),e};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.NotFoundError=void 0;var j7t=D7t(es()),Ez=class extends j7t.CohereError{constructor(e){super({message:"NotFoundError",statusCode:404,body:e}),Object.setPrototypeOf(this,Ez.prototype)}};Hy.NotFoundError=Ez});var G6e=b(Vy=>{"use strict";var N7t=Vy&&Vy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),L7t=Vy&&Vy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F7t=Vy&&Vy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N7t(e,t,r);return L7t(e,t),e};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.UnprocessableEntityError=void 0;var B7t=F7t(es()),Pz=class extends B7t.CohereError{constructor(e){super({message:"UnprocessableEntityError",statusCode:422,body:e}),Object.setPrototypeOf(this,Pz.prototype)}};Vy.UnprocessableEntityError=Pz});var K6e=b(Wy=>{"use strict";var k7t=Wy&&Wy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$7t=Wy&&Wy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),q7t=Wy&&Wy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k7t(e,t,r);return $7t(e,t),e};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.TooManyRequestsError=void 0;var U7t=q7t(es()),Tz=class extends U7t.CohereError{constructor(e){super({message:"TooManyRequestsError",statusCode:429,body:e}),Object.setPrototypeOf(this,Tz.prototype)}};Wy.TooManyRequestsError=Tz});var Y6e=b(Jy=>{"use strict";var z7t=Jy&&Jy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H7t=Jy&&Jy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V7t=Jy&&Jy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z7t(e,t,r);return H7t(e,t),e};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.ClientClosedRequestError=void 0;var W7t=V7t(es()),Mz=class extends W7t.CohereError{constructor(e){super({message:"ClientClosedRequestError",statusCode:499,body:e}),Object.setPrototypeOf(this,Mz.prototype)}};Jy.ClientClosedRequestError=Mz});var X6e=b(Gy=>{"use strict";var J7t=Gy&&Gy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G7t=Gy&&Gy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),K7t=Gy&&Gy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J7t(e,t,r);return G7t(e,t),e};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.InternalServerError=void 0;var Y7t=K7t(es()),Az=class extends Y7t.CohereError{constructor(e){super({message:"InternalServerError",statusCode:500,body:e}),Object.setPrototypeOf(this,Az.prototype)}};Gy.InternalServerError=Az});var Z6e=b(Ky=>{"use strict";var X7t=Ky&&Ky.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Z7t=Ky&&Ky.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Q7t=Ky&&Ky.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X7t(e,t,r);return Z7t(e,t),e};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.NotImplementedError=void 0;var eYt=Q7t(es()),Rz=class extends eYt.CohereError{constructor(e){super({message:"NotImplementedError",statusCode:501,body:e}),Object.setPrototypeOf(this,Rz.prototype)}};Ky.NotImplementedError=Rz});var Q6e=b(Yy=>{"use strict";var tYt=Yy&&Yy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rYt=Yy&&Yy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nYt=Yy&&Yy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tYt(e,t,r);return rYt(e,t),e};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.ServiceUnavailableError=void 0;var oYt=nYt(es()),Iz=class extends oYt.CohereError{constructor(e){super({message:"ServiceUnavailableError",statusCode:503,body:e}),Object.setPrototypeOf(this,Iz.prototype)}};Yy.ServiceUnavailableError=Iz});var eVe=b(Xy=>{"use strict";var iYt=Xy&&Xy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aYt=Xy&&Xy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sYt=Xy&&Xy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iYt(e,t,r);return aYt(e,t),e};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.GatewayTimeoutError=void 0;var uYt=sYt(es()),Dz=class extends uYt.CohereError{constructor(e){super({message:"GatewayTimeoutError",statusCode:504,body:e}),Object.setPrototypeOf(this,Dz.prototype)}};Xy.GatewayTimeoutError=Dz});var tVe=b(ec=>{"use strict";var lYt=ec&&ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ug=ec&&ec.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lYt(e,t,r)};Object.defineProperty(ec,"__esModule",{value:!0});ug(H6e(),ec);ug(V6e(),ec);ug(W6e(),ec);ug(J6e(),ec);ug(G6e(),ec);ug(K6e(),ec);ug(Y6e(),ec);ug(X6e(),ec);ug(Z6e(),ec);ug(Q6e(),ec);ug(eVe(),ec)});var nVe=b(rVe=>{"use strict";Object.defineProperty(rVe,"__esModule",{value:!0})});var oVe=b(cR=>{"use strict";var cYt=cR&&cR.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dYt=cR&&cR.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cYt(e,t,r)};Object.defineProperty(cR,"__esModule",{value:!0});dYt(nVe(),cR)});var wx=b(Zy=>{"use strict";var fYt=Zy&&Zy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oJ=Zy&&Zy.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fYt(e,t,r)};Object.defineProperty(Zy,"__esModule",{value:!0});oJ(D4e(),Zy);oJ(q6e(),Zy);oJ(tVe(),Zy);oJ(oVe(),Zy)});var Zde={};Qd(Zde,{__addDisposableResource:()=>OVe,__assign:()=>iJ,__asyncDelegator:()=>yVe,__asyncGenerator:()=>gVe,__asyncValues:()=>bVe,__await:()=>EN,__awaiter:()=>cVe,__classPrivateFieldGet:()=>SVe,__classPrivateFieldIn:()=>CVe,__classPrivateFieldSet:()=>xVe,__createBinding:()=>sJ,__decorate:()=>sVe,__disposeResources:()=>EVe,__esDecorate:()=>pYt,__exportStar:()=>fVe,__extends:()=>iVe,__generator:()=>dVe,__importDefault:()=>wVe,__importStar:()=>vVe,__makeTemplateObject:()=>_Ve,__metadata:()=>lVe,__param:()=>uVe,__propKey:()=>mYt,__read:()=>Xde,__rest:()=>aVe,__runInitializers:()=>hYt,__setFunctionName:()=>gYt,__spread:()=>pVe,__spreadArray:()=>mVe,__spreadArrays:()=>hVe,__values:()=>aJ,default:()=>_Yt});function iVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yde(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function aVe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function sVe(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function uVe(t,e){return function(r,n){e(r,n,t)}}function pYt(t,e,r,n,o,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var m={};for(var h in n)m[h]=h==="access"?{}:n[h];for(var h in n.access)m.access[h]=n.access[h];m.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var v=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],m);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=a(v.get))&&(c.get=d),(d=a(v.set))&&(c.set=d),(d=a(v.init))&&o.unshift(d)}else(d=a(v))&&(s==="field"?o.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function hYt(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function mYt(t){return typeof t=="symbol"?t:"".concat(t)}function gYt(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function lVe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function cVe(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function dVe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fVe(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sJ(e,t,r)}function aJ(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xde(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function pVe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xde(arguments[e]));return t}function hVe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function mVe(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function EN(t){return this instanceof EN?(this.v=t,this):new EN(t)}function gVe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(p){return function(m){return Promise.resolve(m).then(p,d)}}function s(p,m){n[p]&&(o[p]=function(h){return new Promise(function(v,g){i.push([p,h,v,g])>1||u(p,h)})},m&&(o[p]=m(o[p])))}function u(p,m){try{l(n[p](m))}catch(h){f(i[0][3],h)}}function l(p){p.value instanceof EN?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,m){p(m),i.shift(),i.length&&u(i[0][0],i[0][1])}}function yVe(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,i){e[o]=t[o]?function(a){return(r=!r)?{value:EN(t[o](a)),done:!1}:i?i(a):a}:i}}function bVe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof aJ=="function"?aJ(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function _Ve(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function vVe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sJ(e,t,r);return yYt(e,t),e}function wVe(t){return t&&t.__esModule?t:{default:t}}function SVe(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function xVe(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function CVe(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function OVe(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function EVe(t){function e(i){t.error=t.hasError?new bYt(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}var Yde,iJ,sJ,yYt,bYt,_Yt,Qde=C(()=>{Yde=function(t,e){return Yde=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Yde(t,e)};iJ=function(){return iJ=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},iJ.apply(this,arguments)};sJ=Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};yYt=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};bYt=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};_Yt={__extends:iVe,__assign:iJ,__rest:aVe,__decorate:sVe,__param:uVe,__metadata:lVe,__awaiter:cVe,__generator:dVe,__createBinding:sJ,__exportStar:fVe,__values:aJ,__read:Xde,__spread:pVe,__spreadArrays:hVe,__spreadArray:mVe,__await:EN,__asyncGenerator:gVe,__asyncDelegator:yVe,__asyncValues:bVe,__makeTemplateObject:_Ve,__importStar:vVe,__importDefault:wVe,__classPrivateFieldGet:SVe,__classPrivateFieldSet:xVe,__classPrivateFieldIn:CVe,__addDisposableResource:OVe,__disposeResources:EVe}});var efe=b(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.MAX_HASHABLE_LENGTH=Sh.INIT=Sh.KEY=Sh.DIGEST_LENGTH=Sh.BLOCK_SIZE=void 0;Sh.BLOCK_SIZE=64;Sh.DIGEST_LENGTH=32;Sh.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Sh.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Sh.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var PVe=b(uJ=>{"use strict";Object.defineProperty(uJ,"__esModule",{value:!0});uJ.RawSha256=void 0;var xh=efe(),vYt=function(){function t(){this.state=Int32Array.from(xh.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>xh.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[r++],n--,this.bufferLength===xh.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%xh.BLOCK_SIZE>=xh.BLOCK_SIZE-8){for(var o=this.bufferLength;o<xh.BLOCK_SIZE;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<xh.BLOCK_SIZE-8;o++)r.setUint8(o,0);r.setUint32(xh.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),r.setUint32(xh.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(xh.DIGEST_LENGTH),o=0;o<8;o++)i[o*4]=this.state[o]>>>24&255,i[o*4+1]=this.state[o]>>>16&255,i[o*4+2]=this.state[o]>>>8&255,i[o*4+3]=this.state[o]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,r=e.buffer,n=e.state,o=n[0],i=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7],f=0;f<xh.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(r[f*4]&255)<<24|(r[f*4+1]&255)<<16|(r[f*4+2]&255)<<8|r[f*4+3]&255;else{var p=this.temp[f-2],m=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[f-15];var h=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[f]=(m+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var v=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&c)|0)+(d+(xh.KEY[f]+this.temp[f]|0)|0)|0,g=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&i^o&a^i&a)|0;d=c,c=l,l=u,u=s+v|0,s=a,a=i,i=o,o=v+g|0}n[0]+=o,n[1]+=i,n[2]+=a,n[3]+=s,n[4]+=u,n[5]+=l,n[6]+=c,n[7]+=d},t}();uJ.RawSha256=vYt});var AVe=b((E1n,MVe)=>{var lJ=Object.defineProperty,wYt=Object.getOwnPropertyDescriptor,SYt=Object.getOwnPropertyNames,xYt=Object.prototype.hasOwnProperty,CYt=(t,e)=>lJ(t,"name",{value:e,configurable:!0}),OYt=(t,e)=>{for(var r in e)lJ(t,r,{get:e[r],enumerable:!0})},EYt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of SYt(e))!xYt.call(t,o)&&o!==r&&lJ(t,o,{get:()=>e[o],enumerable:!(n=wYt(e,o))||n.enumerable});return t},PYt=t=>EYt(lJ({},"__esModule",{value:!0}),t),TVe={};OYt(TVe,{isArrayBuffer:()=>TYt});MVe.exports=PYt(TVe);var TYt=CYt(t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]","isArrayBuffer")});var rfe=b(cJ=>{"use strict";cJ.byteLength=AYt;cJ.toByteArray=IYt;cJ.fromByteArray=NYt;var Qy=[],Ch=[],MYt=typeof Uint8Array<"u"?Uint8Array:Array,tfe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(dR=0,RVe=tfe.length;dR<RVe;++dR)Qy[dR]=tfe[dR],Ch[tfe.charCodeAt(dR)]=dR;var dR,RVe;Ch["-".charCodeAt(0)]=62;Ch["_".charCodeAt(0)]=63;function IVe(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function AYt(t){var e=IVe(t),r=e[0],n=e[1];return(r+n)*3/4-n}function RYt(t,e,r){return(e+r)*3/4-r}function IYt(t){var e,r=IVe(t),n=r[0],o=r[1],i=new MYt(RYt(t,n,o)),a=0,s=o>0?n-4:n,u;for(u=0;u<s;u+=4)e=Ch[t.charCodeAt(u)]<<18|Ch[t.charCodeAt(u+1)]<<12|Ch[t.charCodeAt(u+2)]<<6|Ch[t.charCodeAt(u+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return o===2&&(e=Ch[t.charCodeAt(u)]<<2|Ch[t.charCodeAt(u+1)]>>4,i[a++]=e&255),o===1&&(e=Ch[t.charCodeAt(u)]<<10|Ch[t.charCodeAt(u+1)]<<4|Ch[t.charCodeAt(u+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function DYt(t){return Qy[t>>18&63]+Qy[t>>12&63]+Qy[t>>6&63]+Qy[t&63]}function jYt(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(DYt(n));return o.join("")}function NYt(t){for(var e,r=t.length,n=r%3,o=[],i=16383,a=0,s=r-n;a<s;a+=i)o.push(jYt(t,a,a+i>s?s:a+i));return n===1?(e=t[r-1],o.push(Qy[e>>2]+Qy[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(Qy[e>>10]+Qy[e>>4&63]+Qy[e<<2&63]+"=")),o.join("")}});var DVe=b(nfe=>{nfe.read=function(t,e,r,n,o){var i,a,s=o*8-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?o-1:0,f=r?-1:1,p=t[e+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=i*256+t[e+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=a*256+t[e+d],d+=f,c-=8);if(i===0)i=1-l;else{if(i===u)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-l}return(p?-1:1)*a*Math.pow(2,i-n)};nfe.write=function(t,e,r,n,o,i){var a,s,u,l=i*8-o-1,c=(1<<l)-1,d=c>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,m=n?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?e+=f/u:e+=f*Math.pow(2,1-d),e*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*u-1)*Math.pow(2,o),a=a+d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=s&255,p+=m,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[r+p]=a&255,p+=m,a/=256,l-=8);t[r+p-m]|=h*128}});var lg=b(AN=>{"use strict";var ofe=rfe(),TN=DVe(),jVe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;AN.Buffer=ce;AN.SlowBuffer=qYt;AN.INSPECT_MAX_BYTES=50;var dJ=2147483647;AN.kMaxLength=dJ;ce.TYPED_ARRAY_SUPPORT=LYt();!ce.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function LYt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ce.prototype,"parent",{enumerable:!0,get:function(){if(ce.isBuffer(this))return this.buffer}});Object.defineProperty(ce.prototype,"offset",{enumerable:!0,get:function(){if(ce.isBuffer(this))return this.byteOffset}});function Sx(t){if(t>dJ)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ce.prototype),e}function ce(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ufe(t)}return BVe(t,e,r)}ce.poolSize=8192;function BVe(t,e,r){if(typeof t=="string")return BYt(t,e);if(ArrayBuffer.isView(t))return kYt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(eb(t,ArrayBuffer)||t&&eb(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(eb(t,SharedArrayBuffer)||t&&eb(t.buffer,SharedArrayBuffer)))return afe(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ce.from(n,e,r);let o=$Yt(t);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ce.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ce.from=function(t,e,r){return BVe(t,e,r)};Object.setPrototypeOf(ce.prototype,Uint8Array.prototype);Object.setPrototypeOf(ce,Uint8Array);function kVe(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function FYt(t,e,r){return kVe(t),t<=0?Sx(t):e!==void 0?typeof r=="string"?Sx(t).fill(e,r):Sx(t).fill(e):Sx(t)}ce.alloc=function(t,e,r){return FYt(t,e,r)};function ufe(t){return kVe(t),Sx(t<0?0:lfe(t)|0)}ce.allocUnsafe=function(t){return ufe(t)};ce.allocUnsafeSlow=function(t){return ufe(t)};function BYt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ce.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=$Ve(t,e)|0,n=Sx(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function ife(t){let e=t.length<0?0:lfe(t.length)|0,r=Sx(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function kYt(t){if(eb(t,Uint8Array)){let e=new Uint8Array(t);return afe(e.buffer,e.byteOffset,e.byteLength)}return ife(t)}function afe(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ce.prototype),n}function $Yt(t){if(ce.isBuffer(t)){let e=lfe(t.length)|0,r=Sx(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||dfe(t.length)?Sx(0):ife(t);if(t.type==="Buffer"&&Array.isArray(t.data))return ife(t.data)}function lfe(t){if(t>=dJ)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+dJ.toString(16)+" bytes");return t|0}function qYt(t){return+t!=t&&(t=0),ce.alloc(+t)}ce.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ce.prototype};ce.compare=function(e,r){if(eb(e,Uint8Array)&&(e=ce.from(e,e.offset,e.byteLength)),eb(r,Uint8Array)&&(r=ce.from(r,r.offset,r.byteLength)),!ce.isBuffer(e)||!ce.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,o=r.length;for(let i=0,a=Math.min(n,o);i<a;++i)if(e[i]!==r[i]){n=e[i],o=r[i];break}return n<o?-1:o<n?1:0};ce.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ce.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ce.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let o=ce.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){let a=e[n];if(eb(a,Uint8Array))i+a.length>o.length?(ce.isBuffer(a)||(a=ce.from(a)),a.copy(o,i)):Uint8Array.prototype.set.call(o,a,i);else if(ce.isBuffer(a))a.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=a.length}return o};function $Ve(t,e){if(ce.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||eb(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return sfe(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return KVe(t).length;default:if(o)return n?-1:sfe(t).length;e=(""+e).toLowerCase(),o=!0}}ce.byteLength=$Ve;function UYt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return ZYt(this,e,r);case"utf8":case"utf-8":return UVe(this,e,r);case"ascii":return YYt(this,e,r);case"latin1":case"binary":return XYt(this,e,r);case"base64":return GYt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return QYt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ce.prototype._isBuffer=!0;function fR(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ce.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)fR(this,r,r+1);return this};ce.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)fR(this,r,r+3),fR(this,r+1,r+2);return this};ce.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)fR(this,r,r+7),fR(this,r+1,r+6),fR(this,r+2,r+5),fR(this,r+3,r+4);return this};ce.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?UVe(this,0,e):UYt.apply(this,arguments)};ce.prototype.toLocaleString=ce.prototype.toString;ce.prototype.equals=function(e){if(!ce.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ce.compare(this,e)===0};ce.prototype.inspect=function(){let e="",r=AN.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};jVe&&(ce.prototype[jVe]=ce.prototype.inspect);ce.prototype.compare=function(e,r,n,o,i){if(eb(e,Uint8Array)&&(e=ce.from(e,e.offset,e.byteLength)),!ce.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;let a=i-o,s=n-r,u=Math.min(a,s),l=this.slice(o,i),c=e.slice(r,n);for(let d=0;d<u;++d)if(l[d]!==c[d]){a=l[d],s=c[d];break}return a<s?-1:s<a?1:0};function qVe(t,e,r,n,o){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,dfe(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof e=="string"&&(e=ce.from(e,n)),ce.isBuffer(e))return e.length===0?-1:NVe(t,e,r,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):NVe(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function NVe(t,e,r,n,o){let i=1,a=t.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;i=2,a/=2,s/=2,r/=2}function u(c,d){return i===1?c[d]:c.readUInt16BE(d*i)}let l;if(o){let c=-1;for(l=r;l<a;l++)if(u(t,l)===u(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===s)return c*i}else c!==-1&&(l-=l-c),c=-1}else for(r+s>a&&(r=a-s),l=r;l>=0;l--){let c=!0;for(let d=0;d<s;d++)if(u(t,l+d)!==u(e,d)){c=!1;break}if(c)return l}return-1}ce.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ce.prototype.indexOf=function(e,r,n){return qVe(this,e,r,n,!0)};ce.prototype.lastIndexOf=function(e,r,n){return qVe(this,e,r,n,!1)};function zYt(t,e,r,n){r=Number(r)||0;let o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;let i=e.length;n>i/2&&(n=i/2);let a;for(a=0;a<n;++a){let s=parseInt(e.substr(a*2,2),16);if(dfe(s))return a;t[r+a]=s}return a}function HYt(t,e,r,n){return fJ(sfe(e,t.length-r),t,r,n)}function VYt(t,e,r,n){return fJ(nXt(e),t,r,n)}function WYt(t,e,r,n){return fJ(KVe(e),t,r,n)}function JYt(t,e,r,n){return fJ(oXt(e,t.length-r),t,r,n)}ce.prototype.write=function(e,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let a=!1;for(;;)switch(o){case"hex":return zYt(this,e,r,n);case"utf8":case"utf-8":return HYt(this,e,r,n);case"ascii":case"latin1":case"binary":return VYt(this,e,r,n);case"base64":return WYt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return JYt(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}};ce.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function GYt(t,e,r){return e===0&&r===t.length?ofe.fromByteArray(t):ofe.fromByteArray(t.slice(e,r))}function UVe(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=r){let u,l,c,d;switch(s){case 1:i<128&&(a=i);break;case 2:u=t[o+1],(u&192)===128&&(d=(i&31)<<6|u&63,d>127&&(a=d));break;case 3:u=t[o+1],l=t[o+2],(u&192)===128&&(l&192)===128&&(d=(i&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:u=t[o+1],l=t[o+2],c=t[o+3],(u&192)===128&&(l&192)===128&&(c&192)===128&&(d=(i&15)<<18|(u&63)<<12|(l&63)<<6|c&63,d>65535&&d<1114112&&(a=d))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),o+=s}return KYt(n)}var LVe=4096;function KYt(t){let e=t.length;if(e<=LVe)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=LVe));return r}function YYt(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]&127);return n}function XYt(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function ZYt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=e;i<r;++i)o+=iXt[t[i]];return o}function QYt(t,e,r){let n=t.slice(e,r),o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}ce.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let o=this.subarray(e,r);return Object.setPrototypeOf(o,ce.prototype),o};function Cl(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ce.prototype.readUintLE=ce.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Cl(e,r,this.length);let o=this[e],i=1,a=0;for(;++a<r&&(i*=256);)o+=this[e+a]*i;return o};ce.prototype.readUintBE=ce.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Cl(e,r,this.length);let o=this[e+--r],i=1;for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o};ce.prototype.readUint8=ce.prototype.readUInt8=function(e,r){return e=e>>>0,r||Cl(e,1,this.length),this[e]};ce.prototype.readUint16LE=ce.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Cl(e,2,this.length),this[e]|this[e+1]<<8};ce.prototype.readUint16BE=ce.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Cl(e,2,this.length),this[e]<<8|this[e+1]};ce.prototype.readUint32LE=ce.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Cl(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ce.prototype.readUint32BE=ce.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Cl(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ce.prototype.readBigUInt64LE=HE(function(e){e=e>>>0,MN(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&jz(e,this.length-8);let o=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});ce.prototype.readBigUInt64BE=HE(function(e){e=e>>>0,MN(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&jz(e,this.length-8);let o=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(i)});ce.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Cl(e,r,this.length);let o=this[e],i=1,a=0;for(;++a<r&&(i*=256);)o+=this[e+a]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};ce.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Cl(e,r,this.length);let o=r,i=1,a=this[e+--o];for(;o>0&&(i*=256);)a+=this[e+--o]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*r)),a};ce.prototype.readInt8=function(e,r){return e=e>>>0,r||Cl(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ce.prototype.readInt16LE=function(e,r){e=e>>>0,r||Cl(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ce.prototype.readInt16BE=function(e,r){e=e>>>0,r||Cl(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ce.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Cl(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ce.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Cl(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ce.prototype.readBigInt64LE=HE(function(e){e=e>>>0,MN(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&jz(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ce.prototype.readBigInt64BE=HE(function(e){e=e>>>0,MN(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&jz(e,this.length-8);let o=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ce.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Cl(e,4,this.length),TN.read(this,e,!0,23,4)};ce.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Cl(e,4,this.length),TN.read(this,e,!1,23,4)};ce.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Cl(e,8,this.length),TN.read(this,e,!0,52,8)};ce.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Cl(e,8,this.length),TN.read(this,e,!1,52,8)};function vf(t,e,r,n,o,i){if(!ce.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ce.prototype.writeUintLE=ce.prototype.writeUIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let s=Math.pow(2,8*n)-1;vf(this,e,r,n,s,0)}let i=1,a=0;for(this[r]=e&255;++a<n&&(i*=256);)this[r+a]=e/i&255;return r+n};ce.prototype.writeUintBE=ce.prototype.writeUIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let s=Math.pow(2,8*n)-1;vf(this,e,r,n,s,0)}let i=n-1,a=1;for(this[r+i]=e&255;--i>=0&&(a*=256);)this[r+i]=e/a&255;return r+n};ce.prototype.writeUint8=ce.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,1,255,0),this[r]=e&255,r+1};ce.prototype.writeUint16LE=ce.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ce.prototype.writeUint16BE=ce.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ce.prototype.writeUint32LE=ce.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ce.prototype.writeUint32BE=ce.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function zVe(t,e,r,n,o){GVe(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function HVe(t,e,r,n,o){GVe(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i=i>>8,t[r+6]=i,i=i>>8,t[r+5]=i,i=i>>8,t[r+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}ce.prototype.writeBigUInt64LE=HE(function(e,r=0){return zVe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ce.prototype.writeBigUInt64BE=HE(function(e,r=0){return HVe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ce.prototype.writeIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let u=Math.pow(2,8*n-1);vf(this,e,r,n,u-1,-u)}let i=0,a=1,s=0;for(this[r]=e&255;++i<n&&(a*=256);)e<0&&s===0&&this[r+i-1]!==0&&(s=1),this[r+i]=(e/a>>0)-s&255;return r+n};ce.prototype.writeIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let u=Math.pow(2,8*n-1);vf(this,e,r,n,u-1,-u)}let i=n-1,a=1,s=0;for(this[r+i]=e&255;--i>=0&&(a*=256);)e<0&&s===0&&this[r+i+1]!==0&&(s=1),this[r+i]=(e/a>>0)-s&255;return r+n};ce.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ce.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ce.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ce.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ce.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||vf(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ce.prototype.writeBigInt64LE=HE(function(e,r=0){return zVe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ce.prototype.writeBigInt64BE=HE(function(e,r=0){return HVe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function VVe(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function WVe(t,e,r,n,o){return e=+e,r=r>>>0,o||VVe(t,e,r,4,34028234663852886e22,-34028234663852886e22),TN.write(t,e,r,n,23,4),r+4}ce.prototype.writeFloatLE=function(e,r,n){return WVe(this,e,r,!0,n)};ce.prototype.writeFloatBE=function(e,r,n){return WVe(this,e,r,!1,n)};function JVe(t,e,r,n,o){return e=+e,r=r>>>0,o||VVe(t,e,r,8,17976931348623157e292,-17976931348623157e292),TN.write(t,e,r,n,52,8),r+8}ce.prototype.writeDoubleLE=function(e,r,n){return JVe(this,e,r,!0,n)};ce.prototype.writeDoubleBE=function(e,r,n){return JVe(this,e,r,!1,n)};ce.prototype.copy=function(e,r,n,o){if(!ce.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);let i=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),r),i};ce.prototype.fill=function(e,r,n,o){if(typeof e=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!ce.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let a=e.charCodeAt(0);(o==="utf8"&&a<128||o==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{let a=ce.isBuffer(e)?e:ce.from(e,o),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=a[i%s]}return this};var PN={};function cfe(t,e,r){PN[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}cfe("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);cfe("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);cfe("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=FVe(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=FVe(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function FVe(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function eXt(t,e,r){MN(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&jz(e,t.length-(r+1))}function GVe(t,e,r,n,o,i){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",s;throw i>3?e===0||e===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(i+1)*8}${a}`:s=`>= -(2${a} ** ${(i+1)*8-1}${a}) and < 2 ** ${(i+1)*8-1}${a}`:s=`>= ${e}${a} and <= ${r}${a}`,new PN.ERR_OUT_OF_RANGE("value",s,t)}eXt(n,o,i)}function MN(t,e){if(typeof t!="number")throw new PN.ERR_INVALID_ARG_TYPE(e,"number",t)}function jz(t,e,r){throw Math.floor(t)!==t?(MN(t,r),new PN.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new PN.ERR_BUFFER_OUT_OF_BOUNDS:new PN.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var tXt=/[^+/0-9A-Za-z-_]/g;function rXt(t){if(t=t.split("=")[0],t=t.trim().replace(tXt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function sfe(t,e){e=e||1/0;let r,n=t.length,o=null,i=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function nXt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function oXt(t,e){let r,n,o,i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function KVe(t){return ofe.toByteArray(rXt(t))}function fJ(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function eb(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function dfe(t){return t!==t}var iXt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function HE(t){return typeof BigInt>"u"?aXt:t}function aXt(){throw new Error("BigInt not supported")}});var QVe=b((R1n,ZVe)=>{var pJ=Object.defineProperty,sXt=Object.getOwnPropertyDescriptor,uXt=Object.getOwnPropertyNames,lXt=Object.prototype.hasOwnProperty,YVe=(t,e)=>pJ(t,"name",{value:e,configurable:!0}),cXt=(t,e)=>{for(var r in e)pJ(t,r,{get:e[r],enumerable:!0})},dXt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of uXt(e))!lXt.call(t,o)&&o!==r&&pJ(t,o,{get:()=>e[o],enumerable:!(n=sXt(e,o))||n.enumerable});return t},fXt=t=>dXt(pJ({},"__esModule",{value:!0}),t),XVe={};cXt(XVe,{fromArrayBuffer:()=>hXt,fromString:()=>mXt});ZVe.exports=fXt(XVe);var pXt=AVe(),ffe=lg(),hXt=YVe((t,e=0,r=t.byteLength-e)=>{if(!(0,pXt.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return ffe.Buffer.from(t,e,r)},"fromArrayBuffer"),mXt=YVe((t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?ffe.Buffer.from(t,e):ffe.Buffer.from(t)},"fromString")});var o5e=b((I1n,n5e)=>{var hJ=Object.defineProperty,gXt=Object.getOwnPropertyDescriptor,yXt=Object.getOwnPropertyNames,bXt=Object.prototype.hasOwnProperty,pfe=(t,e)=>hJ(t,"name",{value:e,configurable:!0}),_Xt=(t,e)=>{for(var r in e)hJ(t,r,{get:e[r],enumerable:!0})},vXt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of yXt(e))!bXt.call(t,o)&&o!==r&&hJ(t,o,{get:()=>e[o],enumerable:!(n=gXt(e,o))||n.enumerable});return t},wXt=t=>vXt(hJ({},"__esModule",{value:!0}),t),e5e={};_Xt(e5e,{fromUtf8:()=>r5e,toUint8Array:()=>SXt,toUtf8:()=>xXt});n5e.exports=wXt(e5e);var t5e=QVe(),r5e=pfe(t=>{let e=(0,t5e.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),SXt=pfe(t=>typeof t=="string"?r5e(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),"toUint8Array"),xXt=pfe(t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,t5e.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8")},"toUtf8")});var i5e=b(mJ=>{"use strict";Object.defineProperty(mJ,"__esModule",{value:!0});mJ.convertToBuffer=void 0;var CXt=o5e(),OXt=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:CXt.fromUtf8;function EXt(t){return t instanceof Uint8Array?t:typeof t=="string"?OXt(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}mJ.convertToBuffer=EXt});var a5e=b(gJ=>{"use strict";Object.defineProperty(gJ,"__esModule",{value:!0});gJ.isEmptyData=void 0;function PXt(t){return typeof t=="string"?t.length===0:t.byteLength===0}gJ.isEmptyData=PXt});var s5e=b(yJ=>{"use strict";Object.defineProperty(yJ,"__esModule",{value:!0});yJ.numToUint8=void 0;function TXt(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}yJ.numToUint8=TXt});var u5e=b(bJ=>{"use strict";Object.defineProperty(bJ,"__esModule",{value:!0});bJ.uint32ArrayFrom=void 0;function MXt(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}bJ.uint32ArrayFrom=MXt});var _J=b(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.uint32ArrayFrom=tb.numToUint8=tb.isEmptyData=tb.convertToBuffer=void 0;var AXt=i5e();Object.defineProperty(tb,"convertToBuffer",{enumerable:!0,get:function(){return AXt.convertToBuffer}});var RXt=a5e();Object.defineProperty(tb,"isEmptyData",{enumerable:!0,get:function(){return RXt.isEmptyData}});var IXt=s5e();Object.defineProperty(tb,"numToUint8",{enumerable:!0,get:function(){return IXt.numToUint8}});var DXt=u5e();Object.defineProperty(tb,"uint32ArrayFrom",{enumerable:!0,get:function(){return DXt.uint32ArrayFrom}})});var c5e=b(SJ=>{"use strict";Object.defineProperty(SJ,"__esModule",{value:!0});SJ.Sha256=void 0;var l5e=(Qde(),ml(Zde)),wJ=efe(),vJ=PVe(),hfe=_J(),jXt=function(){function t(e){this.secret=e,this.hash=new vJ.RawSha256,this.reset()}return t.prototype.update=function(e){if(!((0,hfe.isEmptyData)(e)||this.error))try{this.hash.update((0,hfe.convertToBuffer)(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return l5e.__awaiter(this,void 0,void 0,function(){return l5e.__generator(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new vJ.RawSha256,this.secret){this.outer=new vJ.RawSha256;var e=NXt(this.secret),r=new Uint8Array(wJ.BLOCK_SIZE);r.set(e);for(var n=0;n<wJ.BLOCK_SIZE;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(var n=0;n<e.byteLength;n++)e[n]=0}},t}();SJ.Sha256=jXt;function NXt(t){var e=(0,hfe.convertToBuffer)(t);if(e.byteLength>wJ.BLOCK_SIZE){var r=new vJ.RawSha256;r.update(e),e=r.digest()}var n=new Uint8Array(wJ.BLOCK_SIZE);return n.set(e),n}});var gfe=b(mfe=>{"use strict";Object.defineProperty(mfe,"__esModule",{value:!0});var LXt=(Qde(),ml(Zde));LXt.__exportStar(c5e(),mfe)});var d5e=C(()=>{});var f5e=C(()=>{});var p5e=C(()=>{});var xx,Nz=C(()=>{xx=class extends Error{constructor(e,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,xx.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}});var ts,h5e=C(()=>{Nz();ts=class extends xx{constructor(e,r=!0){super(e,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,ts.prototype)}}});var m5e=C(()=>{Nz()});var g5e=C(()=>{Nz()});var y5e=C(()=>{});var b5e,_5e=C(()=>{b5e=(t,e,r)=>{let n,o,i,a=!1,s=async()=>{o||(o=t());try{n=await o,i=!0,a=!1}finally{o=void 0}return n};return e===void 0?async u=>((!i||u?.forceRefresh)&&(n=await s()),n):async u=>((!i||u?.forceRefresh)&&(n=await s()),a?n:r&&!r(n)?(a=!0,n):(e(n)&&await s(),n))}});var Cx=C(()=>{h5e();Nz();m5e();g5e();y5e();_5e()});function xJ(t){return Promise.all(Object.keys(t).reduce((e,r)=>{let n=t[r];return typeof n=="string"?e.push([r,n]):e.push(n().then(o=>[r,o])),e},[])).then(e=>e.reduce((r,[n,o])=>(r[n]=o,r),{}))}var yfe=C(()=>{});var v5e=C(()=>{});var w5e=C(()=>{v5e()});var S5e=C(()=>{});var x5e,C5e=C(()=>{(function(t){t.HEADER="header",t.QUERY="query"})(x5e||(x5e={}))});var bfe,O5e=C(()=>{(function(t){t.HEADER="header",t.QUERY="query"})(bfe||(bfe={}))});var E5e=C(()=>{});var P5e=C(()=>{});var T5e=C(()=>{});var M5e=C(()=>{});var A5e=C(()=>{C5e();O5e();E5e();P5e();T5e();M5e()});var R5e=C(()=>{});var I5e=C(()=>{});var D5e=C(()=>{});var j5e=C(()=>{});var N5e=C(()=>{});var L5e=C(()=>{});var F5e=C(()=>{});var B5e=C(()=>{N5e();L5e();F5e()});var k5e=C(()=>{});var $5e=C(()=>{});var RN,q5e=C(()=>{(function(t){t.HTTP="http",t.HTTPS="https"})(RN||(RN={}))});var U5e=C(()=>{});var z5e=C(()=>{});var H5e=C(()=>{});var V5e=C(()=>{});var W5e=C(()=>{});var J5e=C(()=>{U5e();z5e();H5e();V5e();W5e()});var G5e=C(()=>{});var IN,_fe=C(()=>{(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(IN||(IN={}))});var K5e=C(()=>{_fe()});var Y5e=C(()=>{});var X5e=C(()=>{K5e();Y5e();_fe()});var yp,Z5e=C(()=>{(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(yp||(yp={}))});var Q5e=C(()=>{});var e9e=C(()=>{});var t9e=C(()=>{});var r9e=C(()=>{});var n9e=C(()=>{});var o9e=C(()=>{e9e();t9e();r9e();n9e()});var i9e=C(()=>{});var DN,a9e=C(()=>{DN="__smithy_context"});var s9e=C(()=>{});var u9e,l9e=C(()=>{(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(u9e||(u9e={}))});var c9e=C(()=>{});var d9e=C(()=>{});var f9e=C(()=>{});var p9e=C(()=>{});var h9e=C(()=>{});var m9e=C(()=>{});var g9e=C(()=>{});var y9e=C(()=>{});var b9e=C(()=>{});var _9e,v9e=C(()=>{(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(_9e||(_9e={}))});var w9e=C(()=>{});var S9e=C(()=>{});var x9e=C(()=>{});var C9e=C(()=>{});var O9e=C(()=>{});var E9e=C(()=>{});var _s=C(()=>{S5e();A5e();R5e();I5e();D5e();j5e();B5e();k5e();$5e();q5e();J5e();G5e();X5e();Z5e();Q5e();o9e();i9e();a9e();s9e();l9e();c9e();d9e();f9e();p9e();h9e();m9e();g9e();y9e();b9e();v9e();w9e();S9e();x9e();C9e();O9e();E9e()});var P9e=C(()=>{_s()});var T9e=C(()=>{});var M9e=C(()=>{});function FXt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var pR,A9e=C(()=>{pR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new pR({...e,headers:{...e.headers}});return r.query&&(r.query=FXt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return pR.clone(this)}}});var R9e=C(()=>{});var I9e=C(()=>{});var D9e=C(()=>{});var j9e=C(()=>{w5e();P9e();T9e();M9e();A9e();R9e();I9e();D9e()});var BXt,kXt,CJ,vfe=C(()=>{j9e();BXt=t=>e=>async r=>{if(!pR.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:o=""}=t.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},kXt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},CJ=t=>({applyToStack:e=>{e.add(BXt(t),kXt)}})});var $Xt,qXt,OJ,N9e=C(()=>{$Xt=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:o,commandName:i,logger:a,dynamoDbDocumentClientOptions:s={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:l}=s,c=u??e.inputFilterSensitiveLog,d=l??e.outputFilterSensitiveLog,{$metadata:f,...p}=n.output;return a?.info?.({clientName:o,commandName:i,input:c(r.input),output:d(p),metadata:f}),n}catch(n){let{clientName:o,commandName:i,logger:a,dynamoDbDocumentClientOptions:s={}}=e,{overrideInputFilterSensitiveLog:u}=s,l=u??e.inputFilterSensitiveLog;throw a?.error?.({clientName:o,commandName:i,input:l(r.input),error:n,metadata:n.$metadata}),n}},qXt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},OJ=t=>({applyToStack:e=>{e.add($Xt(),qXt)}})});var wfe=C(()=>{N9e()});var L9e=C(()=>{});var F9e=C(()=>{L9e()});var B9e=C(()=>{_s()});var k9e=C(()=>{});var $9e=C(()=>{});function UXt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var hR,q9e=C(()=>{hR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new hR({...e,headers:{...e.headers}});return r.query&&(r.query=UXt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return hR.clone(this)}}});var U9e=C(()=>{});var z9e=C(()=>{});var H9e=C(()=>{});var V9e=C(()=>{F9e();B9e();k9e();$9e();q9e();U9e();z9e();H9e()});var W9e,zXt,HXt,VXt,WXt,EJ,Sfe=C(()=>{V9e();W9e="X-Amzn-Trace-Id",zXt="AWS_LAMBDA_FUNCTION_NAME",HXt="_X_AMZN_TRACE_ID",VXt=t=>e=>async r=>{let{request:n}=r;if(!hR.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(W9e))return e(r);let o=process.env[zXt],i=process.env[HXt],a=s=>typeof s=="string"&&s.length>0;return a(o)&&a(i)&&(n.headers[W9e]=i),e({...r,request:n})},WXt={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},EJ=t=>({applyToStack:e=>{e.add(VXt(t),WXt)}})});function PJ(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}var J9e=C(()=>{});var JXt,Lz,xfe=C(()=>{JXt=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Lz=t=>JXt.test(t)||t.startsWith("[")&&t.endsWith("]")});var GXt,Fz,Cfe=C(()=>{GXt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Fz=(t,e=!1)=>{if(!e)return GXt.test(t);let r=t.split(".");for(let n of r)if(!Fz(n))return!1;return!0}});var Ox,TJ=C(()=>{Ox={}});var Ex,G9e=C(()=>{Ex="endpoints"});function Oh(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Oh(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Oh).join(", ")})`:JSON.stringify(t,null,2)}var K9e=C(()=>{});var Bz=C(()=>{G9e();K9e()});var si,Y9e=C(()=>{si=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var X9e=C(()=>{});var Z9e=C(()=>{});var Q9e=C(()=>{});var eWe=C(()=>{});var tWe=C(()=>{});var rWe=C(()=>{});var Eh=C(()=>{Y9e();X9e();Z9e();Q9e();eWe();tWe();rWe()});var nWe,oWe=C(()=>{nWe=(t,e)=>t===e});var iWe,aWe=C(()=>{Eh();iWe=t=>{let e=t.split("."),r=[];for(let n of e){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new si(`Path: '${t}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new si(`Invalid array index: '${i}' in path: '${t}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r}});var MJ,sWe=C(()=>{Eh();aWe();MJ=(t,e)=>iWe(e).reduce((r,n)=>{if(typeof r!="object")throw new si(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t)});var uWe,lWe=C(()=>{uWe=t=>t!=null});var cWe,dWe=C(()=>{cWe=t=>!t});var Ofe,fWe,pWe=C(()=>{_s();xfe();Ofe={[RN.HTTP]:80,[RN.HTTPS]:443},fWe=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:f,port:p,protocol:m="",path:h="",query:v={}}=t,g=new URL(`${m}//${f}${p?`:${p}`:""}${h}`);return g.search=Object.entries(v).map(([_,S])=>`${_}=${S}`).join("&"),g}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:o,pathname:i,protocol:a,search:s}=e;if(s)return null;let u=a.slice(0,-1);if(!Object.values(RN).includes(u))return null;let l=Lz(o),c=r.includes(`${n}:${Ofe[u]}`)||typeof t=="string"&&t.includes(`${n}:${Ofe[u]}`),d=`${n}${c?`:${Ofe[u]}`:""}`;return{scheme:u,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}}});var hWe,mWe=C(()=>{hWe=(t,e)=>t===e});var gWe,yWe=C(()=>{gWe=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r)});var bWe,_We=C(()=>{bWe=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var Efe=C(()=>{oWe();sWe();lWe();Cfe();dWe();pWe();mWe();yWe();_We()});var vWe,wWe=C(()=>{Efe();vWe={booleanEquals:nWe,getAttr:MJ,isSet:uWe,isValidHostLabel:Fz,not:cWe,parseURL:fWe,stringEquals:hWe,substring:gWe,uriEncode:bWe}});var AJ,Pfe=C(()=>{Efe();AJ=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},o=0;for(;o<t.length;){let i=t.indexOf("{",o);if(i===-1){r.push(t.slice(o));break}r.push(t.slice(o,i));let a=t.indexOf("}",i);if(a===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[a+1]==="}"&&(r.push(t.slice(i+1,a)),o=a+2);let s=t.substring(i+1,a);if(s.includes("#")){let[u,l]=s.split("#");r.push(MJ(n[u],l))}else r.push(n[s]);o=a+1}return r.join("")}});var SWe,xWe=C(()=>{SWe=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var VE,kz=C(()=>{Eh();Tfe();Pfe();xWe();VE=(t,e,r)=>{if(typeof t=="string")return AJ(t,r);if(t.fn)return RJ(t,r);if(t.ref)return SWe(t,r);throw new si(`'${e}': ${String(t)} is not a string, function or reference.`)}});var RJ,Tfe=C(()=>{TJ();wWe();kz();RJ=({fn:t,argv:e},r)=>{let n=e.map(i=>["boolean","number"].includes(typeof i)?i:VE(i,"arg",r)),o=t.split(".");return o[0]in Ox&&o[1]!=null?Ox[o[0]][o[1]](...n):vWe[t](...n)}});var CWe,OWe=C(()=>{Bz();Eh();Tfe();CWe=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new si(`'${t}' is already defined in Reference Record.`);let n=RJ(e,r);return r.logger?.debug?.(`${Ex} evaluateCondition: ${Oh(e)} = ${Oh(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}}});var jN,IJ=C(()=>{Bz();OWe();jN=(t=[],e)=>{let r={};for(let n of t){let{result:o,toAssign:i}=CWe(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};i&&(r[i.name]=i.value,e.logger?.debug?.(`${Ex} assign: ${i.name} := ${Oh(i.value)}`))}return{result:!0,referenceRecord:r}}});var EWe,PWe=C(()=>{Eh();kz();EWe=(t,e)=>Object.entries(t).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let a=VE(i,"Header value entry",e);if(typeof a!="string")throw new si(`Header '${n}' value '${a}' is not a string`);return a})}),{})});var Mfe,TWe=C(()=>{Eh();Pfe();Afe();Mfe=(t,e)=>{if(Array.isArray(t))return t.map(r=>Mfe(r,e));switch(typeof t){case"string":return AJ(t,e);case"object":if(t===null)throw new si(`Unexpected endpoint property: ${t}`);return DJ(t,e);case"boolean":return t;default:throw new si(`Unexpected endpoint property type: ${typeof t}`)}}});var DJ,Afe=C(()=>{TWe();DJ=(t,e)=>Object.entries(t).reduce((r,[n,o])=>({...r,[n]:Mfe(o,e)}),{})});var MWe,AWe=C(()=>{Eh();kz();MWe=(t,e)=>{let r=VE(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new si(`Endpoint URL must be a string, got ${typeof r}`)}});var RWe,IWe=C(()=>{Bz();IJ();PWe();Afe();AWe();RWe=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:o,referenceRecord:i}=jN(r,e);if(!o)return;let a={...e,referenceRecord:{...e.referenceRecord,...i}},{url:s,properties:u,headers:l}=n;return e.logger?.debug?.(`${Ex} Resolving endpoint from template: ${Oh(n)}`),{...l!=null&&{headers:EWe(l,a)},...u!=null&&{properties:DJ(u,a)},url:MWe(s,a)}}});var DWe,jWe=C(()=>{Eh();IJ();kz();DWe=(t,e)=>{let{conditions:r,error:n}=t,{result:o,referenceRecord:i}=jN(r,e);if(o)throw new si(VE(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))}});var NWe,LWe=C(()=>{IJ();Rfe();NWe=(t,e)=>{let{conditions:r,rules:n}=t,{result:o,referenceRecord:i}=jN(r,e);if(o)return jJ(n,{...e,referenceRecord:{...e.referenceRecord,...i}})}});var jJ,Rfe=C(()=>{Eh();IWe();jWe();LWe();jJ=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=RWe(r,e);if(n)return n}else if(r.type==="error")DWe(r,e);else if(r.type==="tree"){let n=NWe(r,e);if(n)return n}else throw new si(`Unknown endpoint rule: ${r}`);throw new si("Rules evaluation failed")}});var FWe=C(()=>{TJ();Rfe()});var $z,BWe=C(()=>{Bz();Eh();FWe();$z=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:o,rules:i}=t;e.logger?.debug?.(`${Ex} Initial EndpointParams: ${Oh(r)}`);let a=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,c])=>[l,c.default]);if(a.length>0)for(let[l,c]of a)r[l]=r[l]??c;let s=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of s)if(r[l]==null)throw new si(`Missing required parameter: '${l}'`);let u=jJ(i,{endpointParams:r,logger:n,referenceRecord:{}});if(e.endpointParams?.Endpoint)try{let l=new URL(e.endpointParams.Endpoint),{protocol:c,port:d}=l;u.url.protocol=c,u.url.port=d}catch{}return e.logger?.debug?.(`${Ex} Resolved endpoint: ${Oh(u)}`),u}});var WE=C(()=>{xfe();Cfe();TJ();BWe();Eh()});var Ife=C(()=>{WE()});var Dfe,kWe=C(()=>{WE();Ife();Dfe=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!Dfe(r))return!1;return!0}return!(!Fz(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Lz(t))}});var $We,KXt,qWe,UWe=C(()=>{$We=":",KXt="/",qWe=t=>{let e=t.split($We);if(e.length<6)return null;let[r,n,o,i,a,...s]=e;if(r!=="arn"||n===""||o===""||s.join($We)==="")return null;let u=s.map(l=>l.split(KXt)).flat();return{partition:n,service:o,region:i,accountId:a,resourceId:u}}});var HWe,zWe=C(()=>{HWe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var XXt,ZXt,VWe,WWe,jfe=C(()=>{zWe();XXt=HWe,ZXt="",VWe=t=>{let{partitions:e}=XXt;for(let n of e){let{regions:o,outputs:i}=n;for(let[a,s]of Object.entries(o))if(a===t)return{...i,...s}}for(let n of e){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(t))return{...i}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},WWe=()=>ZXt});var qz,JWe=C(()=>{WE();kWe();UWe();jfe();qz={isVirtualHostableS3Bucket:Dfe,parseArn:qWe,partition:VWe};Ox.aws=qz});var GWe=C(()=>{WE()});var KWe=C(()=>{WE()});var YWe=C(()=>{});var XWe=C(()=>{});var ZWe=C(()=>{});var QWe=C(()=>{});var eJe=C(()=>{});var tJe=C(()=>{KWe();YWe();XWe();ZWe();QWe();eJe()});var NJ=C(()=>{JWe();jfe();Ife();GWe();tJe()});var rJe=C(()=>{});var nJe=C(()=>{rJe()});var oJe=C(()=>{_s()});var iJe=C(()=>{});var aJe=C(()=>{});function QXt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var mR,sJe=C(()=>{mR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new mR({...e,headers:{...e.headers}});return r.query&&(r.query=QXt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return mR.clone(this)}}});var uJe=C(()=>{});var lJe=C(()=>{});var cJe=C(()=>{});var dJe=C(()=>{nJe();oJe();iJe();aJe();sJe();uJe();lJe();cJe()});var Nfe,LJ,Lfe,FJ,fJe,pJe,Ffe,hJe=C(()=>{Nfe="user-agent",LJ="x-amz-user-agent",Lfe=" ",FJ="/",fJe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,pJe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Ffe="-"});var eZt,Bfe,tZt,BJ,mJe=C(()=>{NJ();dJe();hJe();eZt=t=>(e,r)=>async n=>{let{request:o}=n;if(!mR.isInstance(o))return e(n);let{headers:i}=o,a=r?.userAgent?.map(Bfe)||[],s=(await t.defaultUserAgentProvider()).map(Bfe),u=t?.customUserAgent?.map(Bfe)||[],l=WWe(),c=(l?[l]:[]).concat([...s,...a,...u]).join(Lfe),d=[...s.filter(f=>f.startsWith("aws-sdk-")),...u].join(Lfe);return t.runtime!=="browser"?(d&&(i[LJ]=i[LJ]?`${i[Nfe]} ${d}`:d),i[Nfe]=c):i[LJ]=c,e({...n,request:o})},Bfe=t=>{let e=t[0].split(FJ).map(a=>a.replace(fJe,Ffe)).join(FJ),r=t[1]?.replace(pJe,Ffe),n=e.indexOf(FJ),o=e.substring(0,n),i=e.substring(n+1);return o==="api"&&(i=i.toLowerCase()),[o,i,r].filter(a=>a&&a.length>0).reduce((a,s,u)=>{switch(u){case 0:return s;case 1:return`${a}/${s}`;default:return`${a}#${s}`}},"")},tZt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},BJ=t=>({applyToStack:e=>{e.add(eZt(t),tZt)}})});var kfe=C(()=>{J9e();mJe()});var gJe=C(()=>{});var yJe=C(()=>{});var kJ,bJe=C(()=>{(function(t){t.ENV="env",t.CONFIG="shared config entry"})(kJ||(kJ={}))});var $fe=C(()=>{gJe();yJe();bJe()});var $J,_Je=C(()=>{$fe();$J=!1});var qJ,vJe=C(()=>{$fe();qJ=!1});var rb,wJe=C(()=>{_s();rb=t=>t[DN]||(t[DN]={})});var Yc,SJe=C(()=>{Yc=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var cg=C(()=>{wJe();SJe()});var xJe=C(()=>{cg()});var CJe=C(()=>{});var OJe=C(()=>{cg();CJe()});var EJe=C(()=>{_Je();vJe();xJe();OJe()});var PJe=C(()=>{});var UJ,qfe=C(()=>{UJ=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var Ufe,TJe=C(()=>{qfe();Ufe=t=>UJ(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var zJ,MJe=C(()=>{TJe();qfe();zJ=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return Ufe(e);let n=await e();return Ufe(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return UJ(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}}});var AJe=C(()=>{PJe();MJe()});var RJe=C(()=>{});var IJe=C(()=>{});var DJe=C(()=>{});var jJe=C(()=>{});var NJe=C(()=>{});var LJe=C(()=>{});var FJe=C(()=>{DJe();jJe();NJe();LJe()});var BJe=C(()=>{RJe();IJe();FJe()});var Uz=C(()=>{EJe();AJe();BJe()});function nZt(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var zfe,HJ=C(()=>{_s();cg();zfe=(t,e)=>(r,n)=>async o=>{let i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,o.input)),a=nZt(t.httpAuthSchemes),s=rb(n),u=[];for(let l of i){let c=a.get(l.schemeId);if(!c){u.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let d=c.identityProvider(await e.identityProviderConfigProvider(t));if(!d){u.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:p={}}=l.propertiesExtractor?.(t,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},f),l.signingProperties=Object.assign(l.signingProperties||{},p),s.selectedHttpAuthScheme={httpAuthOption:l,identity:await d(l.identityProperties),signer:c.signer};break}if(!s.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(o)}});var kJe,oZt,iZt,aZt,sZt,uZt,$Je=C(()=>{kJe=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),uZt(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!sZt(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},oZt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,iZt=/(\d+\.){3}\d+/,aZt=/\.\./,sZt=t=>oZt.test(t)&&!iZt.test(t)&&!aZt.test(t),uZt=t=>{let[e,r,n,,,o]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,a=Boolean(i&&r&&n&&o);if(i&&!a)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return a}});var qJe=C(()=>{$Je()});var UJe,zJe=C(()=>{UJe=(t,e,r)=>{let n=async()=>{let o=r[t]??r[e];return typeof o=="function"?o():o};return t==="credentialScope"||e==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:s,path:u}=o;return`${i}//${a}${s?":"+s:""}${u}`}}return o}:n}});var HJe,VJe=C(()=>{HJe=async t=>{}});function WJe(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in e?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o}return e}var JJe=C(()=>{});var JE,VJ=C(()=>{JJe();JE=t=>{if(typeof t=="string")return JE(new URL(t));let{hostname:e,pathname:r,port:n,protocol:o,search:i}=t,a;return i&&(a=WJe(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:o,path:r,query:a}}});var WJ,JJ=C(()=>{VJ();WJ=t=>typeof t=="object"?"url"in t?JE(t.url):t:JE(t)});var GJe,lZt,Hfe=C(()=>{qJe();zJe();VJe();JJ();GJe=async(t,e,r,n)=>{if(!r.endpoint){let a=await HJe(r.serviceId||"");a&&(r.endpoint=()=>Promise.resolve(WJ(a)))}let o=await lZt(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},lZt=async(t,e,r)=>{let n={},o=e?.getEndpointParameterInstructions?.()||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=t[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await UJe(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await kJe(n),n}});var KJe=C(()=>{Hfe();JJ()});var YJe,Vfe=C(()=>{cg();Hfe();YJe=({config:t,instructions:e})=>(r,n)=>async o=>{let i=await GJe(o.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let u=rb(n)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return r({...o})}});var XJe,Wfe=C(()=>{XJe=(t,e)=>r=>async n=>{let{response:o}=await r(n);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}}});var ZJe,Jfe=C(()=>{ZJe=(t,e)=>(r,n)=>async o=>{let i=n.endpointV2?.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await e(o.input,{...t,endpoint:i});return r({...o,request:a})}});function ft(t,e,r){return{applyToStack:n=>{n.add(XJe(t,r),cZt),n.add(ZJe(t,e),zz)}}}var cZt,zz,QJe=C(()=>{Wfe();Jfe();cZt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zz={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var xn=C(()=>{Wfe();QJe();Jfe()});var Gfe,pt,eGe=C(()=>{xn();Vfe();Gfe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:zz.name},pt=(t,e)=>({applyToStack:r=>{r.addRelativeTo(YJe({config:t,instructions:e}),Gfe)}})});var GJ,tGe=C(()=>{cg();JJ();GJ=t=>{let e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>WJ(await Yc(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Yc(t.useDualstackEndpoint??!1),useFipsEndpoint:Yc(t.useFipsEndpoint??!1)}}});var rGe=C(()=>{});var gn=C(()=>{KJe();Vfe();eGe();tGe();rGe()});var dZt,KJ,nGe=C(()=>{gn();HJ();dZt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Gfe.name},KJ=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(zfe(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),dZt)}})});var h$n,oGe=C(()=>{xn();HJ();h$n={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:zz.name}});var iGe=C(()=>{HJ();nGe();oGe()});var aGe=C(()=>{});var sGe=C(()=>{aGe()});var uGe=C(()=>{_s()});var lGe=C(()=>{});var cGe=C(()=>{});function fZt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var nb,dGe=C(()=>{nb=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new nb({...e,headers:{...e.headers}});return r.query&&(r.query=fZt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return nb.clone(this)}}});var fGe=C(()=>{});var pGe=C(()=>{});var hGe=C(()=>{});var Hz=C(()=>{sGe();uGe();lGe();cGe();dGe();fGe();pGe();hGe()});var pZt,hZt,mGe,Kfe=C(()=>{Hz();_s();cg();pZt=t=>e=>{throw e},hZt=(t,e)=>{},mGe=t=>(e,r)=>async n=>{if(!nb.isInstance(n.request))return e(n);let i=rb(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:s,signer:u}=i,l=await e({...n,request:await u.sign(n.request,s,a)}).catch((u.errorHandler||pZt)(a));return(u.successHandler||hZt)(l.response,a),l}});var dg,ob,Vz,YJ=C(()=>{(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(dg||(dg={}));ob=3,Vz=dg.STANDARD});var gGe,yGe,bGe,_Ge,vGe=C(()=>{gGe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],yGe=["TimeoutError","RequestTimeout","RequestTimeoutException"],bGe=[500,502,503,504],_Ge=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var mZt,NN,XJ,wGe,Wz=C(()=>{vGe();mZt=t=>t.$metadata?.clockSkewCorrected,NN=t=>t.$metadata?.httpStatusCode===429||gGe.includes(t.name)||t.$retryable?.throttling==!0,XJ=t=>mZt(t)||yGe.includes(t.name)||_Ge.includes(t?.code||"")||bGe.includes(t.$metadata?.httpStatusCode||0),wGe=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!XJ(t)}return!1}});var Jz,Yfe=C(()=>{Wz();Jz=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),NN(e)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var ZJ,QJ,LN=C(()=>{ZJ="amz-sdk-invocation-id",QJ="amz-sdk-request"});var SGe,xGe=C(()=>{LN();SGe=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}}});var Xfe,CGe=C(()=>{LN();Xfe=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r})});var gR,tG=C(()=>{YJ();LN();xGe();CGe();gR=class{constructor(e){this.maxAttempts=e,this.mode=dg.STANDARD,this.capacity=500,this.retryBackoffStrategy=SGe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return Xfe({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?500:100);let i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,s=this.getCapacityCost(o);return this.capacity-=s,Xfe({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:s})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ob}`),ob}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var rG,MGe=C(()=>{YJ();Yfe();tG();rG=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=dg.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Jz,this.standardRetryStrategy=new gR(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var AGe=C(()=>{LN();tG()});var RGe=C(()=>{});var ib=C(()=>{MGe();AGe();Yfe();tG();YJ();LN();RGe()});var IGe=C(()=>{});var DGe=C(()=>{IGe()});var jGe=C(()=>{_s()});var NGe=C(()=>{});var LGe=C(()=>{});function gZt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var Px,FGe=C(()=>{Px=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new Px({...e,headers:{...e.headers}});return r.query&&(r.query=gZt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Px.clone(this)}}});var Gz,BGe=C(()=>{Gz=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var kGe=C(()=>{});var $Ge=C(()=>{});var nG=C(()=>{DGe();jGe();NGe();LGe();FGe();BGe();kGe();$Ge()});function Qfe(){if(!oG&&(oG=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oG))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oG(yZt)}var oG,yZt,qGe=C(()=>{yZt=new Uint8Array(16)});function UGe(t,e=0){return tc[t[e+0]]+tc[t[e+1]]+tc[t[e+2]]+tc[t[e+3]]+"-"+tc[t[e+4]]+tc[t[e+5]]+"-"+tc[t[e+6]]+tc[t[e+7]]+"-"+tc[t[e+8]]+tc[t[e+9]]+"-"+tc[t[e+10]]+tc[t[e+11]]+tc[t[e+12]]+tc[t[e+13]]+tc[t[e+14]]+tc[t[e+15]]}var tc,zGe=C(()=>{tc=[];for(let t=0;t<256;++t)tc.push((t+256).toString(16).slice(1))});var bZt,epe,HGe=C(()=>{bZt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),epe={randomUUID:bZt}});function _Zt(t,e,r){if(epe.randomUUID&&!e&&!t)return epe.randomUUID();t=t||{};let n=t.random||(t.rng||Qfe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return UGe(n)}var tpe,VGe=C(()=>{HGe();qGe();zGe();tpe=_Zt});var WGe=C(()=>{VGe()});var JGe=C(()=>{ib()});var rpe=C(()=>{ib()});var npe=C(()=>{Wz()});var ope,ipe=C(()=>{ope=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var ape=C(()=>{nG();Wz();ib();JGe();rpe();npe();ipe()});var GGe=C(()=>{ib();ape()});var iG,KGe=C(()=>{cg();ib();iG=t=>{let{retryStrategy:e}=t,r=Yc(t.maxAttempts??ob);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await Yc(t.retryMode)()===dg.ADAPTIVE?new rG(r):new gR(r))}}});var YGe=C(()=>{nG();ib()});var GE,XGe=C(()=>{GE=class{trace(){}debug(){}info(){}warn(){}error(){}}});var yR,KE,BN,ZGe,QGe,eKe=C(()=>{yR=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},KE=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,BN=()=>{let t=[],e=[],r=!1,n=new Set,o=d=>d.sort((f,p)=>ZGe[p.step]-ZGe[f.step]||QGe[p.priority||"normal"]-QGe[f.priority||"normal"]),i=d=>{let f=!1,p=m=>{let h=yR(m.name,m.aliases);if(h.includes(d)){f=!0;for(let v of h)n.delete(v);return!1}return!0};return t=t.filter(p),e=e.filter(p),f},a=d=>{let f=!1,p=m=>{if(m.middleware===d){f=!0;for(let h of yR(m.name,m.aliases))n.delete(h);return!1}return!0};return t=t.filter(p),e=e.filter(p),f},s=d=>(t.forEach(f=>{d.add(f.middleware,{...f})}),e.forEach(f=>{d.addRelativeTo(f.middleware,{...f})}),d.identifyOnResolve?.(c.identifyOnResolve()),d),u=d=>{let f=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...u(p))}),f.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...u(p))}),f},l=(d=!1)=>{let f=[],p=[],m={};return t.forEach(v=>{let g={...v,before:[],after:[]};for(let _ of yR(g.name,g.aliases))m[_]=g;f.push(g)}),e.forEach(v=>{let g={...v,before:[],after:[]};for(let _ of yR(g.name,g.aliases))m[_]=g;p.push(g)}),p.forEach(v=>{if(v.toMiddleware){let g=m[v.toMiddleware];if(g===void 0){if(d)return;throw new Error(`${v.toMiddleware} is not found when adding ${KE(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&g.after.push(v),v.relation==="before"&&g.before.push(v)}}),o(f).map(u).reduce((v,g)=>(v.push(...g),v),[])},c={add:(d,f={})=>{let{name:p,override:m,aliases:h}=f,v={step:"initialize",priority:"normal",middleware:d,...f},g=yR(p,h);if(g.length>0){if(g.some(_=>n.has(_))){if(!m)throw new Error(`Duplicate middleware name '${KE(p,h)}'`);for(let _ of g){let S=t.findIndex(O=>O.name===_||O.aliases?.some(T=>T===_));if(S===-1)continue;let x=t[S];if(x.step!==v.step||v.priority!==x.priority)throw new Error(`"${KE(x.name,x.aliases)}" middleware with ${x.priority} priority in ${x.step} step cannot be overridden by "${KE(p,h)}" middleware with ${v.priority} priority in ${v.step} step.`);t.splice(S,1)}}for(let _ of g)n.add(_)}t.push(v)},addRelativeTo:(d,f)=>{let{name:p,override:m,aliases:h}=f,v={middleware:d,...f},g=yR(p,h);if(g.length>0){if(g.some(_=>n.has(_))){if(!m)throw new Error(`Duplicate middleware name '${KE(p,h)}'`);for(let _ of g){let S=e.findIndex(O=>O.name===_||O.aliases?.some(T=>T===_));if(S===-1)continue;let x=e[S];if(x.toMiddleware!==v.toMiddleware||x.relation!==v.relation)throw new Error(`"${KE(x.name,x.aliases)}" middleware ${x.relation} "${x.toMiddleware}" middleware cannot be overridden by "${KE(p,h)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);e.splice(S,1)}}for(let _ of g)n.add(_)}e.push(v)},clone:()=>s(BN()),use:d=>{d.applyToStack(c)},remove:d=>typeof d=="string"?i(d):a(d),removeByTag:d=>{let f=!1,p=m=>{let{tags:h,name:v,aliases:g}=m;if(h&&h.includes(d)){let _=yR(v,g);for(let S of _)n.delete(S);return f=!0,!1}return!0};return t=t.filter(p),e=e.filter(p),f},concat:d=>{let f=s(BN());return f.use(d),f.identifyOnResolve(r||f.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),f},applyToStack:s,identify:()=>l(!0).map(d=>{let f=d.step??d.relation+" "+d.toMiddleware;return KE(d.name,d.aliases)+" - "+f}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,f)=>{for(let p of l().map(m=>m.middleware).reverse())d=p(d,f);return r&&console.log(c.identify()),d}};return c},ZGe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},QGe={high:3,normal:2,low:1}});var spe=C(()=>{eKe()});var bR,tKe=C(()=>{spe();bR=class{constructor(e){this.middlewareStack=BN(),this.config=e}send(e,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,a=e.resolveMiddleware(this.middlewareStack,this.config,o);if(i)a(e).then(s=>i(null,s.output),s=>i(s)).catch(()=>{});else return a(e).then(s=>s.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}});var Tx,_R,YE,vR,rKe,upe=C(()=>{Tx={},_R=new Array(64);for(let t=0,e="A".charCodeAt(0),r="Z".charCodeAt(0);t+e<=r;t++){let n=String.fromCharCode(t+e);Tx[n]=t,_R[t]=n}for(let t=0,e="a".charCodeAt(0),r="z".charCodeAt(0);t+e<=r;t++){let n=String.fromCharCode(t+e),o=t+26;Tx[n]=o,_R[o]=n}for(let t=0;t<10;t++){Tx[t.toString(10)]=t+52;let e=t.toString(10),r=t+52;Tx[e]=r,_R[r]=e}Tx["+"]=62;_R[62]="+";Tx["/"]=63;_R[63]="/";YE=6,vR=8,rKe=63});var XE,nKe=C(()=>{upe();XE=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let r=new ArrayBuffer(e),n=new DataView(r);for(let o=0;o<t.length;o+=4){let i=0,a=0;for(let l=o,c=o+3;l<=c;l++)if(t[l]!=="="){if(!(t[l]in Tx))throw new TypeError(`Invalid character ${t[l]} in base64 string.`);i|=Tx[t[l]]<<(c-l)*YE,a+=YE}else i>>=YE;let s=o/4*3;i>>=a%vR;let u=Math.floor(a/vR);for(let l=0;l<u;l++){let c=(u-l-1)*vR;n.setUint8(s+l,(i&255<<c)>>c)}}return new Uint8Array(r)}});var lpe,cpe=C(()=>{lpe=t=>new TextEncoder().encode(t)});var oKe=C(()=>{cpe()});var iKe=C(()=>{});var aKe=C(()=>{cpe();oKe();iKe()});function ZE(t){let e;typeof t=="string"?e=lpe(t):e=t;let r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let i=0;i<e.length;i+=3){let a=0,s=0;for(let l=i,c=Math.min(i+3,e.length);l<c;l++)a|=e[l]<<(c-l-1)*vR,s+=vR;let u=Math.ceil(s/YE);a<<=u*YE-s;for(let l=1;l<=u;l++){let c=(u-l)*YE;o+=_R[(a&rKe<<c)>>c]}o+="==".slice(0,4-u)}return o}var sKe=C(()=>{aKe();upe()});var kN=C(()=>{nKe();sKe()});var dpe,fpe=C(()=>{dpe=t=>new TextEncoder().encode(t)});var uKe=C(()=>{fpe()});var aG,lKe=C(()=>{aG=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)}});var ppe=C(()=>{fpe();uKe();lKe()});function cKe(t,e="utf-8"){return e==="base64"?ZE(t):aG(t)}function dKe(t,e){return e==="base64"?fg.mutate(XE(t)):fg.mutate(dpe(t))}var fKe=C(()=>{kN();ppe();hpe()});var fg,hpe=C(()=>{fKe();fg=class extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return dKe(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,fg.prototype),e}transformToString(e="utf-8"){return cKe(this,e)}}});var pKe=C(()=>{});var hKe=C(()=>{});var mKe=C(()=>{hKe()});var gKe=C(()=>{_s()});var yKe=C(()=>{});var bKe=C(()=>{});var _Ke=C(()=>{});var Kz,vKe=C(()=>{Kz=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var wKe=C(()=>{});var SKe=C(()=>{});var xKe=C(()=>{mKe();gKe();yKe();bKe();_Ke();vKe();wKe();SKe()});var Ph,vZt,mpe=C(()=>{Ph=t=>encodeURIComponent(t).replace(/[!'()*]/g,vZt),vZt=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var CKe=C(()=>{mpe()});var sG=C(()=>{mpe();CKe()});function OKe(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=Ph(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)e.push(`${r}=${Ph(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${Ph(n)}`),e.push(o)}}return e.join("&")}var EKe=C(()=>{sG()});function PKe(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}var TKe=C(()=>{});var gpe,ab,MKe=C(()=>{xKe();EKe();TKe();gpe={supported:void 0},ab=class{static create(e){return typeof e?.handle=="function"?e:new ab(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),gpe.supported===void 0&&(gpe.supported=Boolean(typeof Request<"u"&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let g=new Error("Request aborted");return g.name="AbortError",Promise.reject(g)}let a=e.path,s=OKe(e.query||{});s&&(a+=`?${s}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){let g=e.username??"",_=e.password??"";u=`${g}:${_}@`}let{port:l,method:c}=e,d=`${e.protocol}//${u}${e.hostname}${l?`:${l}`:""}${a}`,f=c==="GET"||c==="HEAD"?void 0:e.body,p={body:f,headers:new Headers(e.headers),method:c,credentials:i};f&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=r),gpe.supported&&(p.keepalive=o);let m=()=>{},h=new Request(d,p),v=[fetch(h).then(g=>{let _=g.headers,S={};for(let O of _.entries())S[O[0]]=O[1];return g.body!=null?{response:new Kz({headers:S,reason:g.statusText,statusCode:g.status,body:g.body})}:g.blob().then(O=>({response:new Kz({headers:S,reason:g.statusText,statusCode:g.status,body:O})}))}),PKe(n)];return r&&v.push(new Promise((g,_)=>{let S=()=>{let x=new Error("Request aborted");x.name="AbortError",_(x)};if(typeof r.addEventListener=="function"){let x=r;x.addEventListener("abort",S,{once:!0}),m=()=>x.removeEventListener("abort",S)}else r.onabort=S})),Promise.race(v).finally(m)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}});async function wZt(t){let e=await xZt(t),r=XE(e);return new Uint8Array(r)}async function SZt(t){let e=[],r=t.getReader(),n=!1,o=0;for(;!n;){let{done:s,value:u}=await r.read();u&&(e.push(u),o+=u.length),n=s}let i=new Uint8Array(o),a=0;for(let s of e)i.set(s,a),a+=s.length;return i}function xZt(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",i=o.indexOf(","),a=i>-1?i+1:o.length;e(o.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}var $N,AKe=C(()=>{kN();$N=t=>typeof Blob=="function"&&t instanceof Blob?wZt(t):SZt(t)});var Yz=C(()=>{MKe();AKe()});function IKe(t){let e="";for(let r=0;r<t.byteLength;r++)e+=RKe[t[r]];return e}var RKe,CZt,DKe=C(()=>{RKe={},CZt={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),RKe[t]=e,CZt[e]=t}});var ype,bpe=C(()=>{ype=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream)});var jKe,LKe,NKe,FKe=C(()=>{Yz();kN();DKe();ppe();bpe();jKe="The stream has already been transformed.",LKe=t=>{if(!NKe(t)&&!ype(t)){let o=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1,r=async()=>{if(e)throw new Error(jKe);return e=!0,await $N(t)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{let i=await r();if(o==="base64")return ZE(i);if(o==="hex")return IKe(i);if(o===void 0||o==="utf8"||o==="utf-8")return aG(i);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(jKe);if(e=!0,NKe(t))return n(t);if(ype(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},NKe=t=>typeof Blob=="function"&&t instanceof Blob});var BKe=C(()=>{});var kKe=C(()=>{});var _pe=C(()=>{hpe();pKe();FKe();BKe();kKe();bpe()});var QE,$Ke=C(()=>{_pe();QE=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return fg.mutate(t);if(!t)return fg.mutate(new Uint8Array);let r=e.streamCollector(t);return fg.mutate(await r)}});var ot,vpe,qKe=C(()=>{spe();_s();ot=class{constructor(){this.middlewareStack=BN()}static classBuilder(){return new vpe}resolveMiddlewareWithContext(e,r,n,{middlewareFn:o,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:u,smithyContext:l,additionalContext:c,CommandCtor:d}){for(let v of o.bind(this)(d,e,r,n))this.middlewareStack.use(v);let f=e.concat(this.middlewareStack),{logger:p}=r,m={logger:p,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:u,[DN]:{commandInstance:this,...l},...c},{requestHandler:h}=r;return f.resolve(v=>h.handle(v.request,n||{}),m)}},vpe=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){let e=this,r;return r=class extends ot{static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=n??{},e._init(this)}resolveMiddleware(n,o,i){return this.resolveMiddlewareWithContext(n,o,i,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}});var uG,UKe=C(()=>{uG="***SensitiveInformation***"});var lG,zKe=C(()=>{lG=(t,e)=>{for(let r of Object.keys(t)){let n=t[r],o=async function(a,s,u){let l=new n(a);if(typeof s=="function")this.send(l,s);else if(typeof u=="function"){if(typeof s!="object")throw new Error(`Expected http options but got ${typeof s}`);this.send(l,s||{},u)}else return this.send(l,s)},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[i]=o}}});var wR,OZt,HKe,EZt,VKe,WKe,JKe,wpe,PZt,qN,Ir,GKe,KKe,TZt,Xz,Zz,Spe,YKe,XKe,ZKe,xpe=C(()=>{wR=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&ZKe.warn(XKe(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},OZt=Math.ceil(34028234663852886e22),HKe=t=>{let e=wR(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>OZt)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},EZt=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},VKe=t=>wpe(t,32),WKe=t=>wpe(t,16),JKe=t=>wpe(t,8),wpe=(t,e)=>{let r=EZt(t);if(r!==void 0&&PZt(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},PZt=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},qN=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},Ir=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return ZKe.warn(XKe(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},GKe=t=>wR(typeof t=="string"?Xz(t):t),KKe=t=>HKe(typeof t=="string"?Xz(t):t),TZt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Xz=t=>{let e=t.match(TZt);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Zz=t=>VKe(typeof t=="string"?Xz(t):t),Spe=t=>WKe(typeof t=="string"?Xz(t):t),YKe=t=>JKe(typeof t=="string"?Xz(t):t),XKe=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),ZKe={warn:console.warn}});var MZt,AZt,QKe,RZt,e7e,y2n,b2n,_2n,cG,t7e,v2n,IZt,DZt,jZt,SR,NZt,LZt,Cpe,r7e=C(()=>{xpe();MZt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AZt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),QKe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=AZt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,u,l]=e,c=Spe(Cpe(n)),d=SR(o,"month",1,12),f=SR(i,"day",1,31);return t7e(c,d,f,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:l})},RZt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),e7e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=RZt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,u,l,c]=e,d=Spe(Cpe(n)),f=SR(o,"month",1,12),p=SR(i,"day",1,31),m=t7e(d,f,p,{hours:a,minutes:s,seconds:u,fractionalMilliseconds:l});return c.toUpperCase()!="Z"&&m.setTime(m.getTime()-LZt(c)),m},y2n=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),b2n=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),_2n=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),cG=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=GKe(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},t7e=(t,e,r,n)=>{let o=e-1;return DZt(t,o,r),new Date(Date.UTC(t,o,r,SR(n.hours,"hour",0,23),SR(n.minutes,"minute",0,59),SR(n.seconds,"seconds",0,60),NZt(n.fractionalMilliseconds)))},v2n=50*365*24*60*60*1e3,IZt=[31,28,31,30,31,30,31,31,30,31,30,31],DZt=(t,e,r)=>{let n=IZt[e];if(e===1&&jZt(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${MZt[e]} in ${t}: ${r}`)},jZt=t=>t%4===0&&(t%100!==0||t%400===0),SR=(t,e,r,n)=>{let o=YKe(Cpe(t));if(o<r||o>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return o},NZt=t=>t==null?0:KKe("0."+t)*1e3,LZt=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),o=Number(t.substring(4,6));return r*(n*60+o)*60*1e3},Cpe=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var eP,la,Ope=C(()=>{eP=class extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,eP.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},la=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(t[n]==null||t[n]==="")&&(t[n]=o)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t}});var FZt,dG,BZt,n7e=C(()=>{Ope();FZt=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let o=BZt(t),i=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new r({name:e?.code||e?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw la(a,e)},dG=t=>({output:e,parsedBody:r,errorCode:n})=>{FZt({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},BZt=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]})});var fG,o7e=C(()=>{fG=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var i7e=C(()=>{});var a7e,s7e,u7e=C(()=>{_s();a7e=t=>{let e=[];for(let r in IN){let n=IN[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},s7e=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e}});var l7e,c7e,d7e=C(()=>{l7e=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},c7e=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var pG,hG,f7e=C(()=>{u7e();d7e();pG=t=>({...a7e(t),...l7e(t)}),hG=t=>({...s7e(t),...c7e(t)})});var p7e=C(()=>{f7e()});function mG(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var Epe=C(()=>{});var h7e=C(()=>{});var Ppe,m7e=C(()=>{Ppe=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=Ppe(t[r]));return t}});var Tpe,g7e=C(()=>{Tpe=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};Tpe.prototype=Object.create(String.prototype,{constructor:{value:Tpe,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Tpe,String)});var Qz,kZt,$Zt,qZt,y7e=C(()=>{Qz=(t,e)=>{let r={};for(let n in e)kZt(r,t,e,n);return r},kZt=(t,e,r,n)=>{if(e!==null){let a=r[n];typeof a=="function"&&(a=[,a]);let[s=$Zt,u=qZt,l=n]=a;(typeof s=="function"&&s(e[l])||typeof s!="function"&&s)&&(t[n]=u(e[l]));return}let[o,i]=r[n];if(typeof i=="function"){let a,s=o===void 0&&(a=i())!=null,u=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;s?t[n]=a:u&&(t[n]=i())}else{let a=o===void 0&&i!=null,s=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(a||s)&&(t[n]=i)}},$Zt=t=>t!=null,qZt=t=>t});var b7e=C(()=>{Epe()});var _7e=C(()=>{});var It,v7e=C(()=>{It=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(It);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=It(t[r]));return e}return t}});var w7e=C(()=>{});var Dt=C(()=>{XGe();tKe();$Ke();qKe();UKe();zKe();r7e();n7e();o7e();i7e();p7e();Ope();Epe();h7e();m7e();g7e();y7e();xpe();b7e();_7e();v7e();w7e()});var S7e,x7e=C(()=>{S7e=t=>t?.body instanceof ReadableStream});var UZt,zZt,HZt,VZt,Mpe,gG,WZt,C7e=C(()=>{nG();Wz();Dt();ib();WGe();x7e();ipe();UZt=t=>(e,r)=>async n=>{let o=await t.retryStrategy(),i=await t.maxAttempts();if(zZt(o)){o=o;let a=await o.acquireInitialRetryToken(r.partition_id),s=new Error,u=0,l=0,{request:c}=n,d=Px.isInstance(c);for(d&&(c.headers[ZJ]=tpe());;)try{d&&(c.headers[QJ]=`attempt=${u+1}; max=${i}`);let{response:f,output:p}=await e(n);return o.recordSuccess(a),p.$metadata.attempts=u+1,p.$metadata.totalRetryDelay=l,{response:f,output:p}}catch(f){let p=HZt(f);if(s=ope(f),d&&S7e(c))throw(r.logger instanceof GE?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),s;try{a=await o.refreshRetryTokenForRetry(a,p)}catch{throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=l,s}u=a.getRetryCount();let m=a.getRetryDelay();l+=m,await new Promise(h=>setTimeout(h,m))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(e,n)},zZt=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",HZt=t=>{let e={error:t,errorType:VZt(t)},r=WZt(t.$response);return r&&(e.retryAfterHint=r),e},VZt=t=>NN(t)?"THROTTLING":XJ(t)?"TRANSIENT":wGe(t)?"SERVER_ERROR":"CLIENT_ERROR",Mpe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},gG=t=>({applyToStack:e=>{e.add(UZt(t),Mpe)}}),WZt=t=>{if(!Gz.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)}});var yG=C(()=>{GGe();ape();KGe();rpe();YGe();npe();C7e()});var JZt,bG,O7e=C(()=>{yG();Kfe();JZt={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Mpe.name},bG=t=>({applyToStack:e=>{e.addRelativeTo(mGe(t),JZt)}})});var E7e=C(()=>{Kfe();O7e()});var UN,P7e=C(()=>{UN=class{constructor(e){this.authSchemes=new Map;for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var T7e=C(()=>{Hz();_s()});var M7e=C(()=>{Hz()});var zN,A7e=C(()=>{zN=class{async sign(e,r,n){return e}}});var R7e=C(()=>{T7e();M7e();A7e()});var GZt,I7e,Ape,D7e,j7e=C(()=>{GZt=t=>e=>Ape(e)&&e.expiration.getTime()-Date.now()<t,I7e=GZt(3e5),Ape=t=>t.expiration!==void 0,D7e=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,o,i,a,s=!1,u=async l=>{i||(i=n(l));try{o=await i,a=!0,s=!1}finally{i=void 0}return o};return e===void 0?async l=>((!a||l?.forceRefresh)&&(o=await u(l)),o):async l=>((!a||l?.forceRefresh)&&(o=await u(l)),s?o:r(o)?(e(o)&&await u(l),o):(s=!0,o))}});var N7e=C(()=>{P7e();R7e();j7e()});var L7e=C(()=>{_s()});var HN,F7e=C(()=>{HN=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var B7e=C(()=>{Hz();Dt()});function Rpe(t,e,r,n,o){return async function*(a,s,...u){let l=a.startingToken||void 0,c=!0,d;for(;c;){if(s[r]=l,o&&(s[o]=s[o]??a.pageSize),a.client instanceof t)d=await KZt(e,a.client,s,...u);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield d;let f=l;l=YZt(d,n),c=!!(l&&(!a.stopOnSameToken||l!==f))}return void 0}}var KZt,YZt,k7e=C(()=>{KZt=async(t,e,r,...n)=>await e.send(new t(r),...n);YZt=(t,e)=>{let r=t,n=e.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var tP=C(()=>{iGe();E7e();N7e();L7e();F7e();B7e();k7e()});var $7e=C(()=>{});var q7e=C(()=>{$7e()});var U7e=C(()=>{_s()});var z7e=C(()=>{});var H7e=C(()=>{});function XZt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var xR,V7e=C(()=>{xR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new xR({...e,headers:{...e.headers}});return r.query&&(r.query=XZt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return xR.clone(this)}}});var W7e=C(()=>{});var J7e=C(()=>{});var G7e=C(()=>{});var K7e=C(()=>{q7e();U7e();z7e();H7e();V7e();W7e();J7e();G7e()});function ZZt(t){return e=>async r=>{let n=r.request;if(xR.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(Y7e)===-1)try{let a=t(o);n.headers={...n.headers,[Y7e]:String(a)}}catch{}}return e({...r,request:n})}}var Y7e,QZt,_G,Ipe=C(()=>{K7e();Y7e="content-length";QZt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},_G=t=>({applyToStack:e=>{e.add(ZZt(t.bodyLengthChecker),QZt)}})});var X7e=C(()=>{});var Z7e=C(()=>{X7e()});var Q7e=C(()=>{});var eYe=C(()=>{Q7e()});var tYe=C(()=>{_s()});var rYe=C(()=>{});var nYe=C(()=>{});function eQt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var pg,oYe=C(()=>{pg=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new pg({...e,headers:{...e.headers}});return r.query&&(r.query=eQt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return pg.clone(this)}}});var vG,iYe=C(()=>{vG=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var aYe=C(()=>{});var sYe=C(()=>{});var e2=C(()=>{eYe();tYe();rYe();nYe();oYe();iYe();aYe();sYe()});var Dpe,uYe=C(()=>{e2();Dpe=t=>vG.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var wG,jpe=C(()=>{wG=t=>new Date(Date.now()+t)});var lYe,cYe=C(()=>{jpe();lYe=(t,e)=>Math.abs(wG(e).getTime()-t)>=3e5});var Npe,dYe=C(()=>{cYe();Npe=(t,e)=>{let r=Date.parse(t);return lYe(r,e)?r-Date.now():e}});var fYe=C(()=>{uYe();jpe();dYe()});var t2,pYe,CR,hYe=C(()=>{e2();fYe();t2=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},pYe=async t=>{let e=t2("context",t.context),r=t2("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],i=await t2("signer",r.signer)(n),a=t?.signingRegion,s=t?.signingRegionSet,u=t?.signingName;return{config:r,signer:i,signingRegion:a,signingRegionSet:s,signingName:u}},CR=class{async sign(e,r,n){if(!pg.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await pYe(n),{config:i,signer:a}=o,{signingRegion:s,signingName:u}=o,l=n.context;if(l?.authSchemes?.length??0>1){let[d,f]=l.authSchemes;d?.name==="sigv4a"&&f?.name==="sigv4"&&(s=f?.signingRegion??s,u=f?.signingName??u)}return await a.sign(e,{signingDate:wG(i.systemClockOffset),signingRegion:s,signingService:u})}errorHandler(e){return r=>{let n=r.ServerTime??Dpe(r.$response);if(n){let o=t2("config",e.config),i=o.systemClockOffset;o.systemClockOffset=Npe(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=Dpe(e);if(n){let o=t2("config",r.config);o.systemClockOffset=Npe(n,o.systemClockOffset)}}}});var mYe=C(()=>{tP();Cx()});function yYe(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in Lpe)e[r/2]=Lpe[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function hg(t){let e="";for(let r=0;r<t.byteLength;r++)e+=gYe[t[r]];return e}var gYe,Lpe,r2=C(()=>{gYe={},Lpe={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),gYe[t]=e,Lpe[e]=t}});var n2,Fpe=C(()=>{n2=t=>new TextEncoder().encode(t)});var rP,bYe=C(()=>{Fpe();rP=t=>typeof t=="string"?n2(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var _Ye=C(()=>{});var o2=C(()=>{Fpe();bYe();_Ye()});var vYe,wYe,Bpe,SYe,xYe,kpe,$pe,qpe,Upe,tQt,CYe,OYe,i2,EYe,PYe,TYe,MYe,SG,AYe,RYe,IYe,zpe,DYe,OR=C(()=>{vYe="X-Amz-Algorithm",wYe="X-Amz-Credential",Bpe="X-Amz-Date",SYe="X-Amz-SignedHeaders",xYe="X-Amz-Expires",kpe="X-Amz-Signature",$pe="X-Amz-Security-Token",qpe="authorization",Upe=Bpe.toLowerCase(),tQt="date",CYe=[qpe,Upe,tQt],OYe=kpe.toLowerCase(),i2="x-amz-content-sha256",EYe=$pe.toLowerCase(),PYe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},TYe=/^proxy-/,MYe=/^sec-/,SG="AWS4-HMAC-SHA256",AYe="AWS4-HMAC-SHA256-PAYLOAD",RYe="UNSIGNED-PAYLOAD",IYe=50,zpe="aws4_request",DYe=60*60*24*7});var xG,Hpe,CG,NYe,jYe,Vpe=C(()=>{r2();o2();OR();xG={},Hpe=[],CG=(t,e,r)=>`${t}/${e}/${r}/${zpe}`,NYe=async(t,e,r,n,o)=>{let i=await jYe(t,e.secretAccessKey,e.accessKeyId),a=`${r}:${n}:${o}:${hg(i)}:${e.sessionToken}`;if(a in xG)return xG[a];for(Hpe.push(a);Hpe.length>IYe;)delete xG[Hpe.shift()];let s=`AWS4${e.secretAccessKey}`;for(let u of[r,n,o,zpe])s=await jYe(t,s,u);return xG[a]=s},jYe=(t,e,r)=>{let n=new t(e);return n.update(rP(r)),n.digest()}});var OG,Wpe=C(()=>{OR();OG=({headers:t},e,r)=>{let n={};for(let o of Object.keys(t).sort()){if(t[o]==null)continue;let i=o.toLowerCase();(i in PYe||e?.has(i)||TYe.test(i)||MYe.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[o].trim().replace(/\s+/g," "))}return n}});var Jpe,Gpe=C(()=>{sG();OR();Jpe=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===OYe)continue;e.push(n);let o=t[n];typeof o=="string"?r[n]=`${Ph(n)}=${Ph(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,a)=>i.concat([`${Ph(n)}=${Ph(a)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")}});var LYe,FYe=C(()=>{LYe=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});var a2,Kpe=C(()=>{FYe();r2();o2();OR();a2=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===i2)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||LYe(e)){let n=new r;return n.update(rP(e)),hg(await n.digest())}return RYe}});function kYe(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var EG,BYe,rQt,s2,$Ye=C(()=>{r2();o2();EG=class{format(e){let r=[];for(let i of Object.keys(e)){let a=n2(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case"string":let s=n2(e.value),u=new DataView(new ArrayBuffer(3+s.byteLength));u.setUint8(0,7),u.setUint16(1,s.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(s,3),l;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set(s2.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!rQt.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(yYe(e.value.replace(/\-/g,"")),1),d}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(BYe||(BYe={}));rQt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,s2=class{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)r[n]=o;return e<0&&kYe(r),new s2(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&kYe(e),parseInt(hg(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var qYe,UYe=C(()=>{qYe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1}});var Ype,Xpe=C(()=>{e2();Ype=(t,e={})=>{let{headers:r,query:n={}}=pg.clone(t);for(let o of Object.keys(r)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(i)&&(n[o]=r[o],delete r[o])}return{...t,headers:r,query:n}}});var PG,Zpe=C(()=>{e2();OR();PG=t=>{t=pg.clone(t);for(let e of Object.keys(t.headers))CYe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var zYe,nQt,HYe=C(()=>{zYe=t=>nQt(t).toISOString().replace(/\.\d{3}Z$/,"Z"),nQt=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var u2,TG,VYe,WYe=C(()=>{r2();cg();sG();o2();OR();Vpe();Wpe();Gpe();Kpe();$Ye();UYe();Xpe();Zpe();HYe();u2=class{constructor({applyChecksum:e,credentials:r,region:n,service:o,sha256:i,uriEscapePath:a=!0}){this.headerFormatter=new EG,this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Yc(n),this.credentialProvider=Yc(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:s,signingRegion:u,signingService:l}=r,c=await this.credentialProvider();this.validateResolvedCredentials(c);let d=u??await this.regionProvider(),{longDate:f,shortDate:p}=TG(n);if(o>DYe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=CG(p,d,l??this.service),h=Ype(PG(e),{unhoistableHeaders:a});c.sessionToken&&(h.query[$pe]=c.sessionToken),h.query[vYe]=SG,h.query[wYe]=`${c.accessKeyId}/${m}`,h.query[Bpe]=f,h.query[xYe]=o.toString(10);let v=OG(h,i,s);return h.query[SYe]=VYe(v),h.query[kpe]=await this.getSignature(f,m,this.getSigningKey(c,d,p,l),this.createCanonicalRequest(h,v,await a2(e,this.sha256))),h}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:a}){let s=i??await this.regionProvider(),{shortDate:u,longDate:l}=TG(n),c=CG(u,s,a??this.service),d=await a2({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);let p=hg(await f.digest()),m=[AYe,l,c,o,p,d].join(`
`);return this.signString(m,{signingDate:n,signingRegion:s,signingService:a})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:e.priorSignature}).then(a=>({message:e.message,signature:a}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:s}=TG(r),u=new this.sha256(await this.getSigningKey(i,a,s,o));return u.update(rP(e)),hg(await u.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let u=i??await this.regionProvider(),l=PG(e),{longDate:c,shortDate:d}=TG(r),f=CG(d,u,a??this.service);l.headers[Upe]=c,s.sessionToken&&(l.headers[EYe]=s.sessionToken);let p=await a2(l,this.sha256);!qYe(i2,l.headers)&&this.applyChecksum&&(l.headers[i2]=p);let m=OG(l,o,n),h=await this.getSignature(c,f,this.getSigningKey(s,u,d,a),this.createCanonicalRequest(l,m,p));return l.headers[qpe]=`${SG} Credential=${s.accessKeyId}/${f}, SignedHeaders=${VYe(m)}, Signature=${h}`,l}createCanonicalRequest(e,r,n){let o=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Jpe(e)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(e,r,n){let o=new this.sha256;o.update(rP(n));let i=await o.digest();return`${SG}
${e}
${r}
${hg(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return Ph(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,o){let i=await this.createStringToSign(e,r,o),a=new this.sha256(await n);return a.update(rP(i)),hg(await a.digest())}getSigningKey(e,r,n,o){return NYe(this.sha256,e,n,r,o||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},TG=t=>{let e=zYe(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},VYe=t=>Object.keys(t).sort().join(";")});var JYe=C(()=>{WYe();Wpe();Gpe();Kpe();Xpe();Zpe();Vpe()});var MG,GYe=C(()=>{tP();JYe();MG=t=>{let e;t.credentials&&(e=D7e(t.credentials,I7e,Ape)),e||(t.credentialDefaultProvider?e=HN(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):e=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:o}=t,i;return t.signer?i=HN(t.signer):t.regionInfoProvider?i=()=>HN(t.region)().then(async a=>[await t.regionInfoProvider(a,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},a]).then(([a,s])=>{let{signingRegion:u,signingService:l}=a;t.signingRegion=t.signingRegion||u||s,t.signingName=t.signingName||l||t.serviceId;let c={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r},d=t.signerConstructor||u2;return new d(c)}):i=async a=>{a=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await HN(t.region)(),properties:{}},a);let s=a.signingRegion,u=a.signingName;t.signingRegion=t.signingRegion||s,t.signingName=t.signingName||u||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r},c=t.signerConstructor||u2;return new c(l)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:i}}});var KYe=C(()=>{hYe();mYe();GYe()});var YYe=C(()=>{KYe()});var XYe=C(()=>{});var ZYe=C(()=>{Dt()});var AG,Qpe=C(()=>{Dt();AG=(t,e)=>QE(t,e).then(r=>e.utf8Encoder(r))});var rs,QYe,eXe,tXe=C(()=>{Qpe();rs=(t,e)=>AG(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),QYe=async(t,e)=>{let r=await rs(t,e);return r.message=r.message??r.Message,r},eXe=(t,e)=>{let r=(i,a)=>Object.keys(i).find(s=>s.toLowerCase()===a.toLowerCase()),n=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},o=r(t.headers,"x-amzn-errortype");if(o!==void 0)return n(t.headers[o]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var RG=b(Mx=>{"use strict";var rXe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",oQt=rXe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",nXe="["+rXe+"]["+oQt+"]*",iQt=new RegExp("^"+nXe+"$"),aQt=function(t,e){let r=[],n=e.exec(t);for(;n;){let o=[];o.startIndex=e.lastIndex-n[0].length;let i=n.length;for(let a=0;a<i;a++)o.push(n[a]);r.push(o),n=e.exec(t)}return r},sQt=function(t){let e=iQt.exec(t);return!(e===null||typeof e>"u")};Mx.isExist=function(t){return typeof t<"u"};Mx.isEmptyObject=function(t){return Object.keys(t).length===0};Mx.merge=function(t,e,r){if(e){let n=Object.keys(e),o=n.length;for(let i=0;i<o;i++)r==="strict"?t[n[i]]=[e[n[i]]]:t[n[i]]=e[n[i]]}};Mx.getValue=function(t){return Mx.isExist(t)?t:""};Mx.isName=sQt;Mx.getAllMatches=aQt;Mx.nameRegexp=nXe});var the=b(uXe=>{"use strict";var ehe=RG(),uQt={allowBooleanAttributes:!1,unpairedTags:[]};uXe.validate=function(t,e){e=Object.assign({},uQt,e);let r=[],n=!1,o=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=iXe(t,i),i.err)return i}else if(t[i]==="<"){let a=i;if(i++,t[i]==="!"){i=aXe(t,i);continue}else{let s=!1;t[i]==="/"&&(s=!0,i++);let u="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)u+=t[i];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),i--),!gQt(u)){let d;return u.trim().length===0?d="Invalid space after '<'.":d="Tag '"+u+"' is an invalid name.",ns("InvalidTag",d,jd(t,i))}let l=dQt(t,i);if(l===!1)return ns("InvalidAttr","Attributes for '"+u+"' have open quote.",jd(t,i));let c=l.value;if(i=l.index,c[c.length-1]==="/"){let d=i-c.length;c=c.substring(0,c.length-1);let f=sXe(c,e);if(f===!0)n=!0;else return ns(f.err.code,f.err.msg,jd(t,d+f.err.line))}else if(s)if(l.tagClosed){if(c.trim().length>0)return ns("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",jd(t,a));if(r.length===0)return ns("InvalidTag","Closing tag '"+u+"' has not been opened.",jd(t,a));{let d=r.pop();if(u!==d.tagName){let f=jd(t,d.tagStartPos);return ns("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+u+"'.",jd(t,a))}r.length==0&&(o=!0)}}else return ns("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",jd(t,i));else{let d=sXe(c,e);if(d!==!0)return ns(d.err.code,d.err.msg,jd(t,i-c.length+d.err.line));if(o===!0)return ns("InvalidXml","Multiple possible root nodes found.",jd(t,i));e.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:a}),n=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=aXe(t,i);continue}else if(t[i+1]==="?"){if(i=iXe(t,++i),i.err)return i}else break;else if(t[i]==="&"){let d=hQt(t,i);if(d==-1)return ns("InvalidChar","char '&' is not expected.",jd(t,i));i=d}else if(o===!0&&!oXe(t[i]))return ns("InvalidXml","Extra text at the end",jd(t,i));t[i]==="<"&&i--}}else{if(oXe(t[i]))continue;return ns("InvalidChar","char '"+t[i]+"' is not expected.",jd(t,i))}if(n){if(r.length==1)return ns("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",jd(t,r[0].tagStartPos));if(r.length>0)return ns("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ns("InvalidXml","Start tag expected.",1);return!0};function oXe(t){return t===" "||t==="	"||t===`
`||t==="\r"}function iXe(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return ns("InvalidXml","XML declaration allowed only at the start of the document.",jd(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function aXe(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var lQt='"',cQt="'";function dQt(t,e){let r="",n="",o=!1;for(;e<t.length;e++){if(t[e]===lQt||t[e]===cQt)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){o=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:o}}var fQt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function sXe(t,e){let r=ehe.getAllMatches(t,fQt),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ns("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",l2(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ns("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",l2(r[o]));if(r[o][3]===void 0&&!e.allowBooleanAttributes)return ns("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",l2(r[o]));let i=r[o][2];if(!mQt(i))return ns("InvalidAttr","Attribute '"+i+"' is an invalid name.",l2(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return ns("InvalidAttr","Attribute '"+i+"' is repeated.",l2(r[o]))}return!0}function pQt(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function hQt(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,pQt(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function ns(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function mQt(t){return ehe.isName(t)}function gQt(t){return ehe.isName(t)}function jd(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function l2(t){return t.startIndex+t[1].length}});var cXe=b(rhe=>{var lXe={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},yQt=function(t){return Object.assign({},lXe,t)};rhe.buildOptions=yQt;rhe.defaultOptions=lXe});var fXe=b((HHn,dXe)=>{"use strict";var nhe=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}};dXe.exports=nhe});var hXe=b((VHn,pXe)=>{var bQt=RG();function _Qt(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,o=!1,i=!1,a="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(o&&SQt(t,e))e+=7,[entityName,val,e]=vQt(t,e+1),val.indexOf("&")===-1&&(r[EQt(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&xQt(t,e))e+=8;else if(o&&CQt(t,e))e+=8;else if(o&&OQt(t,e))e+=9;else if(wQt)i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):n--,n===0)break}else t[e]==="["?o=!0:a+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function vQt(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=t[e++],o="";for(;e<t.length&&t[e]!==n;e++)o+=t[e];return[r,o,e]}function wQt(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function SQt(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function xQt(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function CQt(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function OQt(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function EQt(t){if(bQt.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}pXe.exports=_Qt});var gXe=b((WHn,mXe)=>{var PQt=/^[-+]?0x[a-fA-F0-9]+$/,TQt=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var MQt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function AQt(t,e={}){if(e=Object.assign({},MQt,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&PQt.test(r))return Number.parseInt(r,16);{let n=TQt.exec(r);if(n){let o=n[1],i=n[2],a=RQt(n[3]),s=n[4]||n[6];if(!e.leadingZeros&&i.length>0&&o&&r[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!o&&r[1]!==".")return t;{let u=Number(r),l=""+u;return l.search(/[eE]/)!==-1||s?e.eNotation?u:t:r.indexOf(".")!==-1?l==="0"&&a===""||l===a||o&&l==="-"+a?u:t:i?a===l||o+a===l?u:t:r===l||r===o+l?u:t}}else return t}}function RQt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}mXe.exports=AQt});var _Xe=b((JHn,bXe)=>{"use strict";var yXe=RG(),c2=fXe(),IQt=hXe(),DQt=gXe(),ohe=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=jQt,this.parseXml=kQt,this.parseTextData=NQt,this.resolveNameSpace=LQt,this.buildAttributesMap=BQt,this.isItStopNode=zQt,this.replaceEntitiesValue=qQt,this.readStopNodeData=VQt,this.saveTextToParentTag=UQt,this.addChild=$Qt}};function jQt(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function NQt(t,e,r,n,o,i,a){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){a||(t=this.replaceEntitiesValue(t));let s=this.options.tagValueProcessor(e,t,r,o,i);return s==null?t:typeof s!=typeof t||s!==t?s:this.options.trimValues?ahe(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?ahe(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function LQt(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var FQt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function BQt(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){let n=yXe.getAllMatches(t,FQt),o=n.length,i={};for(let a=0;a<o;a++){let s=this.resolveNameSpace(n[a][1]),u=n[a][4],l=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);let c=this.options.attributeValueProcessor(s,u,e);c==null?i[l]=u:typeof c!=typeof u||c!==u?i[l]=c:i[l]=ahe(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=i,a}return i}}var kQt=function(t){t=t.replace(/\r\n?/g,`
`);let e=new c2("!xml"),r=e,n="",o="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let s=ER(t,">",i,"Closing Tag is not closed."),u=t.substring(i+2,s).trim();if(this.options.removeNSPrefix){let d=u.indexOf(":");d!==-1&&(u=u.substr(d+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let c=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),r=this.tagsNodeStack.pop(),n="",i=s}else if(t[i+1]==="?"){let s=ihe(t,i,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){let u=new c2(s.tagName);u.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(u[":@"]=this.buildAttributesMap(s.tagExp,o,s.tagName)),this.addChild(r,u,o)}i=s.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let s=ER(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let u=t.substring(i+4,s-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}i=s}else if(t.substr(i+1,2)==="!D"){let s=IQt(t,i);this.docTypeEntities=s.entities,i=s.i}else if(t.substr(i+1,2)==="!["){let s=ER(t,"]]>",i,"CDATA is not closed.")-2,u=t.substring(i+9,s);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(u,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]):r.add(this.options.textNodeName,l),i=s+2}else{let s=ihe(t,i,this.options.removeNSPrefix),u=s.tagName,l=s.rawTagName,c=s.tagExp,d=s.attrExpPresent,f=s.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),u!==e.tagname&&(o+=o?"."+u:u),this.isItStopNode(this.options.stopNodes,o,u)){let m="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)u[u.length-1]==="/"?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),c=u):c=c.substr(0,c.length-1),i=s.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)i=s.closeIndex;else{let v=this.readStopNodeData(t,l,f+1);if(!v)throw new Error(`Unexpected end of ${l}`);i=v.i,m=v.tagContent}let h=new c2(u);u!==c&&d&&(h[":@"]=this.buildAttributesMap(c,o,u)),m&&(m=this.parseTextData(m,u,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),h.add(this.options.textNodeName,m),this.addChild(r,h,o)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));let m=new c2(u);u!==c&&d&&(m[":@"]=this.buildAttributesMap(c,o,u)),this.addChild(r,m,o),o=o.substr(0,o.lastIndexOf("."))}else{let m=new c2(u);this.tagsNodeStack.push(r),u!==c&&d&&(m[":@"]=this.buildAttributesMap(c,o,u)),this.addChild(r,m,o),r=m}n="",i=f}}else n+=t[i];return e.child};function $Qt(t,e,r){let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}var qQt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function UQt(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function zQt(t,e,r){let n="*."+r;for(let o in t){let i=t[o];if(n===i||e===i)return!0}return!1}function HQt(t,e,r=">"){let n,o="";for(let i=e;i<t.length;i++){let a=t[i];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(t[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else a==="	"&&(a=" ");o+=a}}function ER(t,e,r,n){let o=t.indexOf(e,r);if(o===-1)throw new Error(n);return o+e.length-1}function ihe(t,e,r,n=">"){let o=HQt(t,e+1,n);if(!o)return;let i=o.data,a=o.index,s=i.search(/\s/),u=i,l=!0;s!==-1&&(u=i.substring(0,s),i=i.substring(s+1).trimStart());let c=u;if(r){let d=u.indexOf(":");d!==-1&&(u=u.substr(d+1),l=u!==o.data.substr(d+1))}return{tagName:u,tagExp:i,closeIndex:a,attrExpPresent:l,rawTagName:c}}function VQt(t,e,r){let n=r,o=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let i=ER(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(o--,o===0))return{tagContent:t.substring(n,r),i};r=i}else if(t[r+1]==="?")r=ER(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=ER(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=ER(t,"]]>",r,"StopNode is not closed.")-2;else{let i=ihe(t,r,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function ahe(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:DQt(t,r)}else return yXe.isExist(t)?t:""}bXe.exports=ohe});var SXe=b(wXe=>{"use strict";function WQt(t,e){return vXe(t,e)}function vXe(t,e,r){let n,o={};for(let i=0;i<t.length;i++){let a=t[i],s=JQt(a),u="";if(r===void 0?u=s:u=r+"."+s,s===e.textNodeName)n===void 0?n=a[s]:n+=""+a[s];else{if(s===void 0)continue;if(a[s]){let l=vXe(a[s],e,u),c=KQt(l,e);a[":@"]?GQt(l,a[":@"],u,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),o[s]!==void 0&&o.hasOwnProperty(s)?(Array.isArray(o[s])||(o[s]=[o[s]]),o[s].push(l)):e.isArray(s,u,c)?o[s]=[l]:o[s]=l}}}return typeof n=="string"?n.length>0&&(o[e.textNodeName]=n):n!==void 0&&(o[e.textNodeName]=n),o}function JQt(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function GQt(t,e,r,n){if(e){let o=Object.keys(e),i=o.length;for(let a=0;a<i;a++){let s=o[a];n.isArray(s,r+"."+s,!0,!0)?t[s]=[e[s]]:t[s]=e[s]}}}function KQt(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}wXe.prettify=WQt});var CXe=b((KHn,xXe)=>{var{buildOptions:YQt}=cXe(),XQt=_Xe(),{prettify:ZQt}=SXe(),QQt=the(),she=class{constructor(e){this.externalEntities={},this.options=YQt(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=QQt.validate(e,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new XQt(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(e);return this.options.preserveOrder||o===void 0?o:ZQt(o,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};xXe.exports=she});var MXe=b((YHn,TXe)=>{var eer=`
`;function ter(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=eer),EXe(t,e,"",r)}function EXe(t,e,r,n){let o="",i=!1;for(let a=0;a<t.length;a++){let s=t[a],u=rer(s);if(u===void 0)continue;let l="";if(r.length===0?l=u:l=`${r}.${u}`,u===e.textNodeName){let m=s[u];ner(l,e)||(m=e.tagValueProcessor(u,m),m=PXe(m,e)),i&&(o+=n),o+=m,i=!1;continue}else if(u===e.cdataPropName){i&&(o+=n),o+=`<![CDATA[${s[u][0][e.textNodeName]}]]>`,i=!1;continue}else if(u===e.commentPropName){o+=n+`<!--${s[u][0][e.textNodeName]}-->`,i=!0;continue}else if(u[0]==="?"){let m=OXe(s[":@"],e),h=u==="?xml"?"":n,v=s[u][0][e.textNodeName];v=v.length!==0?" "+v:"",o+=h+`<${u}${v}${m}?>`,i=!0;continue}let c=n;c!==""&&(c+=e.indentBy);let d=OXe(s[":@"],e),f=n+`<${u}${d}`,p=EXe(s[u],e,l,c);e.unpairedTags.indexOf(u)!==-1?e.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!p||p.length===0)&&e.suppressEmptyNode?o+=f+"/>":p&&p.endsWith(">")?o+=f+`>${p}${n}</${u}>`:(o+=f+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?o+=n+e.indentBy+p+n:o+=p,o+=`</${u}>`),i=!0}return o}function rer(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(t.hasOwnProperty(n)&&n!==":@")return n}}function OXe(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){if(!t.hasOwnProperty(n))continue;let o=e.attributeValueProcessor(n,t[n]);o=PXe(o,e),o===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${o}"`}return r}function ner(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function PXe(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}TXe.exports=ter});var RXe=b((XHn,AXe)=>{"use strict";var oer=MXe(),ier={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function nP(t){this.options=Object.assign({},ier,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=uer),this.processTextOrObjNode=aer,this.options.format?(this.indentate=ser,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}nP.prototype.build=function(t){return this.options.preserveOrder?oer(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};nP.prototype.j2x=function(t,e){let r="",n="";for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(typeof t[o]>"u")this.isAttribute(o)&&(n+="");else if(t[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)n+=this.buildTextValNode(t[o],o,"",e);else if(typeof t[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+t[o]);else if(o===this.options.textNodeName){let a=this.options.tagValueProcessor(o,""+t[o]);n+=this.replaceEntitiesValue(a)}else n+=this.buildTextValNode(t[o],o,"",e)}else if(Array.isArray(t[o])){let i=t[o].length,a="",s="";for(let u=0;u<i;u++){let l=t[o][u];if(!(typeof l>"u"))if(l===null)o[0]==="?"?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let c=this.j2x(l,e+1);a+=c.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(s+=c.attrStr)}else a+=this.processTextOrObjNode(l,o,e);else if(this.options.oneListGroup){let c=this.options.tagValueProcessor(o,l);c=this.replaceEntitiesValue(c),a+=c}else a+=this.buildTextValNode(l,o,"",e)}this.options.oneListGroup&&(a=this.buildObjectNode(a,o,s,e)),n+=a}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(t[o]),a=i.length;for(let s=0;s<a;s++)r+=this.buildAttrPairStr(i[s],""+t[o][i[s]])}else n+=this.processTextOrObjNode(t[o],o,e);return{attrStr:r,val:n}};nP.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function aer(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}nP.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let o="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",o=""),(r||r==="")&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+i+">"+t+o:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+i+this.tagEndChar+t+this.indentate(n)+o}};nP.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};nP.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(e,t);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+o+"</"+e+this.tagEndChar}};nP.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function ser(t){return this.options.indentBy.repeat(t)}function uer(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}AXe.exports=nP});var DXe=b((ZHn,IXe)=>{"use strict";var ler=the(),cer=CXe(),der=RXe();IXe.exports={XMLParser:cer,XMLValidator:ler,XMLBuilder:der}});var jXe,sb,NXe,LXe=C(()=>{Dt();jXe=k(DXe());Qpe();sb=(t,e)=>AG(t,e).then(r=>{if(r.length){let n=new jXe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(u){throw u&&typeof u=="object"&&Object.defineProperty(u,"$responseBodyText",{value:r}),u}let i="#text",a=Object.keys(o)[0],s=o[a];return s[i]&&(s[a]=s[i],delete s[i]),Ppe(s)}return{}}),NXe=async(t,e)=>{let r=await sb(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r}});var FXe=C(()=>{XYe();ZYe();tXe();LXe()});var PR=C(()=>{Z7e();YYe();FXe()});function fer(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function IG(t){return{schemeId:"smithy.api#noAuth"}}var BXe,kXe,$Xe,uhe=C(()=>{PR();cg();BXe=async(t,e,r)=>({operation:rb(e).operation,region:await Yc(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kXe=t=>{let e=[];switch(t.operation){case"GetCredentialsForIdentity":{e.push(IG(t));break}case"GetId":{e.push(IG(t));break}case"GetOpenIdToken":{e.push(IG(t));break}case"UnlinkIdentity":{e.push(IG(t));break}default:e.push(fer(t))}return e},$Xe=t=>({...MG(t)})});var qXe,Zt,Si=C(()=>{qXe=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),Zt={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var zXe,UXe=C(()=>{zXe={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/client-sts":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/client-iam":"3.645.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var lhe,che,HXe,VXe=C(()=>{lhe={name:"SHA-256"},che={name:"HMAC",hash:lhe},HXe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});function VN(){return typeof window<"u"?window:typeof self<"u"?self:her}var her,dhe=C(()=>{her={}});var WN,fhe,phe=C(()=>{WN=k(_J());VXe();dhe();fhe=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!(0,WN.isEmptyData)(e)){var r=(0,WN.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return VN().crypto.subtle.sign(che,r,e.toHash).then(function(n){return new Uint8Array(n)})}):(0,WN.isEmptyData)(this.toHash)?Promise.resolve(HXe):Promise.resolve().then(function(){return VN().crypto.subtle.digest(lhe,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){VN().crypto.subtle.importKey("raw",(0,WN.convertToBuffer)(e.secret),che,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},t}()});function WXe(t){if(ger(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return yer(e)}return!1}function ger(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function yer(t){return t&&mer.every(function(e){return typeof t[e]=="function"})}var mer,JXe=C(()=>{mer=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"]});var GXe=C(()=>{JXe()});var KXe,YXe,DG,XXe=C(()=>{phe();KXe=k(gfe());GXe();dhe();YXe=k(_J()),DG=function(){function t(e){WXe(VN())?this.hash=new fhe(e):this.hash=new KXe.Sha256(e)}return t.prototype.update=function(e,r){this.hash.update((0,YXe.convertToBuffer)(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}()});var hhe=C(()=>{XXe();phe()});var ghe=b((d2,mhe)=>{(function(t,e){typeof d2=="object"&&typeof mhe=="object"?mhe.exports=e():typeof define=="function"&&define.amd?define([],e):typeof d2=="object"?d2.bowser=e():t.bowser=e()})(d2,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(n,o,i){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)r.d(i,a,function(s){return n[s]}.bind(null,a));return i},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=90)}({17:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=r(18),o=function(){function i(){}return i.getFirstMatch=function(a,s){var u=s.match(a);return u&&u.length>0&&u[1]||""},i.getSecondMatch=function(a,s){var u=s.match(a);return u&&u.length>1&&u[2]||""},i.matchAndReturnConst=function(a,s,u){if(a.test(s))return u},i.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},i.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},i.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},i.getVersionPrecision=function(a){return a.split(".").length},i.compareVersions=function(a,s,u){u===void 0&&(u=!1);var l=i.getVersionPrecision(a),c=i.getVersionPrecision(s),d=Math.max(l,c),f=0,p=i.map([a,s],function(m){var h=d-i.getVersionPrecision(m),v=m+new Array(h+1).join(".0");return i.map(v.split("."),function(g){return new Array(20-g.length).join("0")+g}).reverse()});for(u&&(f=d-Math.min(l,c)),d-=1;d>=f;){if(p[0][d]>p[1][d])return 1;if(p[0][d]===p[1][d]){if(d===f)return 0;d-=1}else if(p[0][d]<p[1][d])return-1}},i.map=function(a,s){var u,l=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(u=0;u<a.length;u+=1)l.push(s(a[u]));return l},i.find=function(a,s){var u,l;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(u=0,l=a.length;u<l;u+=1){var c=a[u];if(s(c,u))return c}},i.assign=function(a){for(var s,u,l=a,c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[a].concat(d));var p=function(){var m=d[s];typeof m=="object"&&m!==null&&Object.keys(m).forEach(function(h){l[h]=m[h]})};for(s=0,u=d.length;s<u;s+=1)p();return a},i.getBrowserAlias=function(a){return n.BROWSER_ALIASES_MAP[a]},i.getBrowserTypeByAlias=function(a){return n.BROWSER_MAP[a]||""},i}();e.default=o,t.exports=e.default},18:function(t,e,r){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function a(u,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var s=function(){function u(){}var l,c,d;return u.getParser=function(f,p){if(p===void 0&&(p=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new o.default(f,p)},u.parse=function(f){return new o.default(f).getResult()},l=u,d=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(c=null)&&a(l.prototype,c),d&&a(l,d),u}();e.default=s,t.exports=e.default},91:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=u(r(92)),o=u(r(93)),i=u(r(94)),a=u(r(95)),s=u(r(17));function u(c){return c&&c.__esModule?c:{default:c}}var l=function(){function c(f,p){if(p===void 0&&(p=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},p!==!0&&this.parse()}var d=c.prototype;return d.getUA=function(){return this._ua},d.test=function(f){return f.test(this._ua)},d.parseBrowser=function(){var f=this;this.parsedResult.browser={};var p=s.default.find(n.default,function(m){if(typeof m.test=="function")return m.test(f);if(m.test instanceof Array)return m.test.some(function(h){return f.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},d.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},d.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},d.getBrowserVersion=function(){return this.getBrowser().version},d.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},d.parseOS=function(){var f=this;this.parsedResult.os={};var p=s.default.find(o.default,function(m){if(typeof m.test=="function")return m.test(f);if(m.test instanceof Array)return m.test.some(function(h){return f.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},d.getOSName=function(f){var p=this.getOS().name;return f?String(p).toLowerCase()||"":p||""},d.getOSVersion=function(){return this.getOS().version},d.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},d.getPlatformType=function(f){f===void 0&&(f=!1);var p=this.getPlatform().type;return f?String(p).toLowerCase()||"":p||""},d.parsePlatform=function(){var f=this;this.parsedResult.platform={};var p=s.default.find(i.default,function(m){if(typeof m.test=="function")return m.test(f);if(m.test instanceof Array)return m.test.some(function(h){return f.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},d.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},d.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},d.parseEngine=function(){var f=this;this.parsedResult.engine={};var p=s.default.find(a.default,function(m){if(typeof m.test=="function")return m.test(f);if(m.test instanceof Array)return m.test.some(function(h){return f.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},d.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},d.getResult=function(){return s.default.assign({},this.parsedResult)},d.satisfies=function(f){var p=this,m={},h=0,v={},g=0;if(Object.keys(f).forEach(function(R){var N=f[R];typeof N=="string"?(v[R]=N,g+=1):typeof N=="object"&&(m[R]=N,h+=1)}),h>0){var _=Object.keys(m),S=s.default.find(_,function(R){return p.isOS(R)});if(S){var x=this.satisfies(m[S]);if(x!==void 0)return x}var O=s.default.find(_,function(R){return p.isPlatform(R)});if(O){var T=this.satisfies(m[O]);if(T!==void 0)return T}}if(g>0){var E=Object.keys(v),M=s.default.find(E,function(R){return p.isBrowser(R,!0)});if(M!==void 0)return this.compareVersion(v[M])}},d.isBrowser=function(f,p){p===void 0&&(p=!1);var m=this.getBrowserName().toLowerCase(),h=f.toLowerCase(),v=s.default.getBrowserTypeByAlias(h);return p&&v&&(h=v.toLowerCase()),h===m},d.compareVersion=function(f){var p=[0],m=f,h=!1,v=this.getBrowserVersion();if(typeof v=="string")return f[0]===">"||f[0]==="<"?(m=f.substr(1),f[1]==="="?(h=!0,m=f.substr(2)):p=[],f[0]===">"?p.push(1):p.push(-1)):f[0]==="="?m=f.substr(1):f[0]==="~"&&(h=!0,m=f.substr(1)),p.indexOf(s.default.compareVersions(v,m,h))>-1},d.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},d.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},d.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},d.is=function(f,p){return p===void 0&&(p=!1),this.isBrowser(f,p)||this.isOS(f)||this.isPlatform(f)},d.some=function(f){var p=this;return f===void 0&&(f=[]),f.some(function(m){return p.is(m)})},c}();e.default=l,t.exports=e.default},92:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var u={name:"Googlebot"},l=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/opera/i],describe:function(s){var u={name:"Opera"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/opr\/|opios/i],describe:function(s){var u={name:"Opera"},l=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/SamsungBrowser/i],describe:function(s){var u={name:"Samsung Internet for Android"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/Whale/i],describe:function(s){var u={name:"NAVER Whale Browser"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/MZBrowser/i],describe:function(s){var u={name:"MZ Browser"},l=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/focus/i],describe:function(s){var u={name:"Focus"},l=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/swing/i],describe:function(s){var u={name:"Swing"},l=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/coast/i],describe:function(s){var u={name:"Opera Coast"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var u={name:"Opera Touch"},l=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/yabrowser/i],describe:function(s){var u={name:"Yandex Browser"},l=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/ucbrowser/i],describe:function(s){var u={name:"UC Browser"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/Maxthon|mxios/i],describe:function(s){var u={name:"Maxthon"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/epiphany/i],describe:function(s){var u={name:"Epiphany"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/puffin/i],describe:function(s){var u={name:"Puffin"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/sleipnir/i],describe:function(s){var u={name:"Sleipnir"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/k-meleon/i],describe:function(s){var u={name:"K-Meleon"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/micromessenger/i],describe:function(s){var u={name:"WeChat"},l=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/qqbrowser/i],describe:function(s){var u={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/msie|trident/i],describe:function(s){var u={name:"Internet Explorer"},l=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/\sedg\//i],describe:function(s){var u={name:"Microsoft Edge"},l=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/edg([ea]|ios)/i],describe:function(s){var u={name:"Microsoft Edge"},l=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/vivaldi/i],describe:function(s){var u={name:"Vivaldi"},l=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/seamonkey/i],describe:function(s){var u={name:"SeaMonkey"},l=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/sailfish/i],describe:function(s){var u={name:"Sailfish"},l=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(u.version=l),u}},{test:[/silk/i],describe:function(s){var u={name:"Amazon Silk"},l=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/phantom/i],describe:function(s){var u={name:"PhantomJS"},l=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/slimerjs/i],describe:function(s){var u={name:"SlimerJS"},l=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var u={name:"BlackBerry"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var u={name:"WebOS Browser"},l=o.default.getFirstMatch(i,s)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/bada/i],describe:function(s){var u={name:"Bada"},l=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/tizen/i],describe:function(s){var u={name:"Tizen"},l=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/qupzilla/i],describe:function(s){var u={name:"QupZilla"},l=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var u={name:"Firefox"},l=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/electron/i],describe:function(s){var u={name:"Electron"},l=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/MiuiBrowser/i],describe:function(s){var u={name:"Miui"},l=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/chromium/i],describe:function(s){var u={name:"Chromium"},l=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/chrome|crios|crmo/i],describe:function(s){var u={name:"Chrome"},l=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/GSA/i],describe:function(s){var u={name:"Google Search"},l=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){var u=!s.test(/like android/i),l=s.test(/android/i);return u&&l},describe:function(s){var u={name:"Android Browser"},l=o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/playstation 4/i],describe:function(s){var u={name:"PlayStation 4"},l=o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/safari|applewebkit/i],describe:function(s){var u={name:"Safari"},l=o.default.getFirstMatch(i,s);return l&&(u.version=l),u}},{test:[/.*/i],describe:function(s){var u=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(u,s),version:o.default.getSecondMatch(u,s)}}}];e.default=a,t.exports=e.default},93:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/Roku\/DVP/],describe:function(s){var u=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:i.OS_MAP.Roku,version:u}}},{test:[/windows phone/i],describe:function(s){var u=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.WindowsPhone,version:u}}},{test:[/windows /i],describe:function(s){var u=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=o.default.getWindowsVersionName(u);return{name:i.OS_MAP.Windows,version:u,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var u={name:i.OS_MAP.iOS},l=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(u.version=l),u}},{test:[/macintosh/i],describe:function(s){var u=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=o.default.getMacOSVersionName(u),c={name:i.OS_MAP.MacOS,version:u};return l&&(c.versionName=l),c}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var u=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:u}}},{test:function(s){var u=!s.test(/like android/i),l=s.test(/android/i);return u&&l},describe:function(s){var u=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=o.default.getAndroidVersionName(u),c={name:i.OS_MAP.Android,version:u};return l&&(c.versionName=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var u=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:i.OS_MAP.WebOS};return u&&u.length&&(l.version=u),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var u=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||o.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:i.OS_MAP.BlackBerry,version:u}}},{test:[/bada/i],describe:function(s){var u=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.Bada,version:u}}},{test:[/tizen/i],describe:function(s){var u=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.Tizen,version:u}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var u=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:i.OS_MAP.PlayStation4,version:u}}}];e.default=a,t.exports=e.default},94:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var u=o.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return u&&(l.model=u),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(s){var u=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return u&&!l},describe:function(s){var u=o.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:u}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var u=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&u>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:i.ENGINE_MAP.Blink};var u=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:i.ENGINE_MAP.EdgeHTML,version:u}}},{test:[/trident/i],describe:function(s){var u={name:i.ENGINE_MAP.Trident},l=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){return s.test(/presto/i)},describe:function(s){var u={name:i.ENGINE_MAP.Presto},l=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){var u=s.test(/gecko/i),l=s.test(/like gecko/i);return u&&!l},describe:function(s){var u={name:i.ENGINE_MAP.Gecko},l=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var u={name:i.ENGINE_MAP.WebKit},l=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}}];e.default=a,t.exports=e.default}})})});var ZXe,jG,yhe=C(()=>{ZXe=k(ghe()),jG=({serviceId:t,clientVersion:e})=>async()=>{let r=typeof window<"u"&&window?.navigator?.userAgent?ZXe.default.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",e],["ua","2.0"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];return t&&n.push([`api/${t}`,e]),n}});var QXe=C(()=>{});var NG,eZe=C(()=>{NG=t=>()=>Promise.reject(t)});var bhe=C(()=>{QXe();eZe()});var tZe,LG,rZe=C(()=>{tZe=typeof TextEncoder=="function"?new TextEncoder:null,LG=t=>{if(typeof t=="string"){if(tZe)return tZe.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){let n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)}});var _he=C(()=>{rZe()});var vhe,whe=C(()=>{vhe=t=>new TextEncoder().encode(t)});var nZe=C(()=>{whe()});var oZe,iZe=C(()=>{oZe=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)}});var aZe=C(()=>{whe();nZe();iZe()});var gZe,lb,cb,GN,sZe,p2,JN,f2,Ax,She,uZe,lZe,cZe,yZe,bZe,ub,dZe,fZe,pZe,hZe,mZe,ber,_Ze,vZe=C(()=>{gZe="required",lb="fn",cb="argv",GN="ref",sZe="isSet",p2="booleanEquals",JN="error",f2="endpoint",Ax="tree",She="PartitionResult",uZe={[gZe]:!1,type:"String"},lZe={[gZe]:!0,default:!1,type:"Boolean"},cZe={[GN]:"Endpoint"},yZe={[lb]:p2,[cb]:[{[GN]:"UseFIPS"},!0]},bZe={[lb]:p2,[cb]:[{[GN]:"UseDualStack"},!0]},ub={},dZe={[lb]:"getAttr",[cb]:[{[GN]:She},"supportsFIPS"]},fZe={[lb]:p2,[cb]:[!0,{[lb]:"getAttr",[cb]:[{[GN]:She},"supportsDualStack"]}]},pZe=[yZe],hZe=[bZe],mZe=[{[GN]:"Region"}],ber={version:"1.0",parameters:{Region:uZe,UseDualStack:lZe,UseFIPS:lZe,Endpoint:uZe},rules:[{conditions:[{[lb]:sZe,[cb]:[cZe]}],rules:[{conditions:pZe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:JN},{conditions:hZe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:JN},{endpoint:{url:cZe,properties:ub,headers:ub},type:f2}],type:Ax},{conditions:[{[lb]:sZe,[cb]:mZe}],rules:[{conditions:[{[lb]:"aws.partition",[cb]:mZe,assign:She}],rules:[{conditions:[yZe,bZe],rules:[{conditions:[{[lb]:p2,[cb]:[!0,dZe]},fZe],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ub,headers:ub},type:f2}],type:Ax},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:JN}],type:Ax},{conditions:pZe,rules:[{conditions:[{[lb]:p2,[cb]:[dZe,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ub,headers:ub},type:f2}],type:Ax},{error:"FIPS is enabled but this partition does not support FIPS",type:JN}],type:Ax},{conditions:hZe,rules:[{conditions:[fZe],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ub,headers:ub},type:f2}],type:Ax},{error:"DualStack is enabled but this partition does not support DualStack",type:JN}],type:Ax},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:ub,headers:ub},type:f2}],type:Ax}],type:Ax},{error:"Invalid Configuration: Missing Region",type:JN}]},_Ze=ber});var wZe,SZe=C(()=>{NJ();WE();vZe();wZe=(t,e={})=>$z(_Ze,{endpointParams:t,logger:e.logger});Ox.aws=qz});var xZe,CZe=C(()=>{PR();tP();Dt();VJ();kN();aZe();uhe();SZe();xZe=t=>({apiVersion:"2014-06-30",base64Decoder:t?.base64Decoder??XE,base64Encoder:t?.base64Encoder??ZE,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??wZe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??kXe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new CR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zN}],logger:t?.logger??new GE,serviceId:t?.serviceId??"Cognito Identity",urlParser:t?.urlParser??JE,utf8Decoder:t?.utf8Decoder??vhe,utf8Encoder:t?.utf8Encoder??oZe})});var OZe,EZe=C(()=>{OZe=["in-region","cross-region","mobile","standard","legacy"]});var PZe,FG,_er,TZe=C(()=>{Cx();PZe=k(ghe());EZe();FG=({defaultsMode:t}={})=>b5e(async()=>{let e=typeof t=="function"?await t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(_er()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${OZe.join(", ")}, got ${e}`)}}),_er=()=>{let e=(typeof window<"u"&&window?.navigator?.userAgent?PZe.default.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"}});var xhe=C(()=>{TZe()});var MZe,AZe=C(()=>{UXe();hhe();yhe();Uz();Yz();bhe();_he();ib();CZe();Dt();xhe();MZe=t=>{let e=FG(t),r=()=>e().then(fG),n=xZe(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??LG,credentialDefaultProvider:t?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??jG({serviceId:n.serviceId,clientVersion:zXe.version}),maxAttempts:t?.maxAttempts??ob,region:t?.region??NG("Region is missing"),requestHandler:ab.create(t?.requestHandler??r),retryMode:t?.retryMode??(async()=>(await r()).retryMode||Vz),sha256:t?.sha256??DG,streamCollector:t?.streamCollector??$N,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve($J)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(qJ))}}});var BG,kG,RZe=C(()=>{BG=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}},kG=t=>({region:t.region()})});var IZe=C(()=>{});var Che=C(()=>{});var DZe=C(()=>{Che()});var jZe=C(()=>{DZe();Che()});var NZe=C(()=>{IZe();jZe()});var Ohe=C(()=>{RZe();NZe()});var LZe,FZe,BZe=C(()=>{LZe=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},FZe=t=>({httpHandler:t.httpHandler()})});var kZe=C(()=>{BZe()});var $Ze=C(()=>{_s()});var qZe=C(()=>{});var UZe=C(()=>{});function wer(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var TR,zZe=C(()=>{TR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new TR({...e,headers:{...e.headers}});return r.query&&(r.query=wer(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return TR.clone(this)}}});var HZe=C(()=>{});var VZe=C(()=>{});var WZe=C(()=>{});var Ehe=C(()=>{kZe();$Ze();qZe();UZe();zZe();HZe();VZe();WZe()});var JZe,GZe,KZe=C(()=>{JZe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(a=>a.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},GZe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var $G,YZe,XZe=C(()=>{Ohe();Ehe();Dt();KZe();$G=t=>t,YZe=(t,e)=>{let r={...$G(BG(t)),...$G(pG(t)),...$G(LZe(t)),...$G(JZe(t))};return e.forEach(n=>n.configure(r)),{...t,...kG(r),...hG(r),...FZe(r),...GZe(r)}}});var oP,qG=C(()=>{vfe();wfe();Sfe();kfe();Uz();tP();Ipe();gn();yG();Dt();uhe();Si();AZe();XZe();oP=class extends bR{constructor(...[e]){let r=MZe(e||{}),n=qXe(r),o=PJ(n),i=iG(o),a=zJ(i),s=a,u=GJ(s),l=$Xe(u),c=YZe(l,e?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(BJ(this.config)),this.middlewareStack.use(gG(this.config)),this.middlewareStack.use(_G(this.config)),this.middlewareStack.use(CJ(this.config)),this.middlewareStack.use(OJ(this.config)),this.middlewareStack.use(EJ(this.config)),this.middlewareStack.use(KJ(this.config,{httpAuthSchemeParametersProvider:BXe,identityProviderConfigProvider:async d=>new UN({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(bG(this.config))}destroy(){super.destroy()}}});var Ol,Phe=C(()=>{Dt();Ol=class extends eP{constructor(e){super(e),Object.setPrototypeOf(this,Ol.prototype)}}});var KN,YN,XN,ZN,QN,eL,tL,rL,nL,oL,iL,The=C(()=>{Phe();KN=class extends Ol{constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,KN.prototype)}},YN=class extends Ol{constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,YN.prototype)}},XN=class extends Ol{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,XN.prototype)}},ZN=class extends Ol{constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,ZN.prototype)}},QN=class extends Ol{constructor(e){super({name:"ResourceConflictException",$fault:"client",...e}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,QN.prototype)}},eL=class extends Ol{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,eL.prototype)}},tL=class extends Ol{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,tL.prototype)}},rL=class extends Ol{constructor(e){super({name:"ExternalServiceException",$fault:"client",...e}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,rL.prototype)}},nL=class extends Ol{constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,nL.prototype)}},oL=class extends Ol{constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,oL.prototype)}},iL=class extends Ol{constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,iL.prototype)}}});function fa(t){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}}var ZZe,QZe,eQe,tQe,rQe,nQe,oQe,iQe,aQe,sQe,uQe,lQe,cQe,dQe,fQe,pQe,hQe,mQe,gQe,yQe,bQe,_Qe,vQe,wQe,SQe,xQe,CQe,OQe,EQe,PQe,TQe,MQe,AQe,RQe,IQe,DQe,jQe,NQe,LQe,FQe,BQe,kQe,$Qe,qQe,UQe,zQe,ca,xer,Cer,Oer,Eer,Per,Ter,Mer,Aer,Rer,Ier,Der,jer,Ner,Ler,HQe,Fer,Cn,Ber,da,qi=C(()=>{PR();Ehe();Dt();Phe();The();ZZe=async(t,e)=>{let r=fa("CreateIdentityPool"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},QZe=async(t,e)=>{let r=fa("DeleteIdentities"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},eQe=async(t,e)=>{let r=fa("DeleteIdentityPool"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},tQe=async(t,e)=>{let r=fa("DescribeIdentity"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},rQe=async(t,e)=>{let r=fa("DescribeIdentityPool"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},nQe=async(t,e)=>{let r=fa("GetCredentialsForIdentity"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},oQe=async(t,e)=>{let r=fa("GetId"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},iQe=async(t,e)=>{let r=fa("GetIdentityPoolRoles"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},aQe=async(t,e)=>{let r=fa("GetOpenIdToken"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},sQe=async(t,e)=>{let r=fa("GetOpenIdTokenForDeveloperIdentity"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},uQe=async(t,e)=>{let r=fa("GetPrincipalTagAttributeMap"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},lQe=async(t,e)=>{let r=fa("ListIdentities"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},cQe=async(t,e)=>{let r=fa("ListIdentityPools"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},dQe=async(t,e)=>{let r=fa("ListTagsForResource"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},fQe=async(t,e)=>{let r=fa("LookupDeveloperIdentity"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},pQe=async(t,e)=>{let r=fa("MergeDeveloperIdentities"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},hQe=async(t,e)=>{let r=fa("SetIdentityPoolRoles"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},mQe=async(t,e)=>{let r=fa("SetPrincipalTagAttributeMap"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},gQe=async(t,e)=>{let r=fa("TagResource"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},yQe=async(t,e)=>{let r=fa("UnlinkDeveloperIdentity"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},bQe=async(t,e)=>{let r=fa("UnlinkIdentity"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},_Qe=async(t,e)=>{let r=fa("UntagResource"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},vQe=async(t,e)=>{let r=fa("UpdateIdentityPool"),n;return n=JSON.stringify(It(t)),da(e,r,"/",void 0,n)},wQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},SQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},xQe=async(t,e)=>t.statusCode>=300?ca(t,e):(await QE(t.body,e),{$metadata:Cn(t)}),CQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=HQe(r,e),{$metadata:Cn(t),...n}},OQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},EQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=Ner(r,e),{$metadata:Cn(t),...n}},PQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},TQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},MQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},AQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},RQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},IQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=Fer(r,e),{$metadata:Cn(t),...n}},DQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},jQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},NQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},LQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},FQe=async(t,e)=>t.statusCode>=300?ca(t,e):(await QE(t.body,e),{$metadata:Cn(t)}),BQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},kQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},$Qe=async(t,e)=>t.statusCode>=300?ca(t,e):(await QE(t.body,e),{$metadata:Cn(t)}),qQe=async(t,e)=>t.statusCode>=300?ca(t,e):(await QE(t.body,e),{$metadata:Cn(t)}),UQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},zQe=async(t,e)=>{if(t.statusCode>=300)return ca(t,e);let r=await rs(t.body,e),n={};return n=It(r),{$metadata:Cn(t),...n}},ca=async(t,e)=>{let r={...t,body:await QYe(t.body,e)},n=eXe(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Eer(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Ter(r,e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Mer(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Aer(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Rer(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Der(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Ier(r,e);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Oer(r,e);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Per(r,e);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Cer(r,e);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await xer(r,e);default:let o=r.body;return Ber({output:t,parsedBody:o,errorCode:n})}},xer=async(t,e)=>{let r=t.body,n=It(r),o=new iL({$metadata:Cn(t),...n});return la(o,r)},Cer=async(t,e)=>{let r=t.body,n=It(r),o=new oL({$metadata:Cn(t),...n});return la(o,r)},Oer=async(t,e)=>{let r=t.body,n=It(r),o=new rL({$metadata:Cn(t),...n});return la(o,r)},Eer=async(t,e)=>{let r=t.body,n=It(r),o=new KN({$metadata:Cn(t),...n});return la(o,r)},Per=async(t,e)=>{let r=t.body,n=It(r),o=new nL({$metadata:Cn(t),...n});return la(o,r)},Ter=async(t,e)=>{let r=t.body,n=It(r),o=new YN({$metadata:Cn(t),...n});return la(o,r)},Mer=async(t,e)=>{let r=t.body,n=It(r),o=new XN({$metadata:Cn(t),...n});return la(o,r)},Aer=async(t,e)=>{let r=t.body,n=It(r),o=new ZN({$metadata:Cn(t),...n});return la(o,r)},Rer=async(t,e)=>{let r=t.body,n=It(r),o=new QN({$metadata:Cn(t),...n});return la(o,r)},Ier=async(t,e)=>{let r=t.body,n=It(r),o=new tL({$metadata:Cn(t),...n});return la(o,r)},Der=async(t,e)=>{let r=t.body,n=It(r),o=new eL({$metadata:Cn(t),...n});return la(o,r)},jer=(t,e)=>Qz(t,{AccessKeyId:Ir,Expiration:r=>qN(cG(wR(r))),SecretKey:Ir,SessionToken:Ir}),Ner=(t,e)=>Qz(t,{Credentials:r=>jer(r,e),IdentityId:Ir}),Ler=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>HQe(n,e)),HQe=(t,e)=>Qz(t,{CreationDate:r=>qN(cG(wR(r))),IdentityId:Ir,LastModifiedDate:r=>qN(cG(wR(r))),Logins:It}),Fer=(t,e)=>Qz(t,{Identities:r=>Ler(r,e),IdentityPoolId:Ir,NextToken:Ir}),Cn=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Ber=dG(Ol),da=async(t,e,r,n,o)=>{let{hostname:i,protocol:a="https",port:s,path:u}=await t.endpoint(),l={protocol:a,hostname:i,port:s,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+r:u+r,headers:e};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new TR(l)}});var UG,Mhe=C(()=>{gn();xn();Dt();Si();qi();UG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","CreateIdentityPool",{}).n("CognitoIdentityClient","CreateIdentityPoolCommand").f(void 0,void 0).ser(ZZe).de(wQe).build(){}});var zG,Ahe=C(()=>{gn();xn();Dt();Si();qi();zG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentities",{}).n("CognitoIdentityClient","DeleteIdentitiesCommand").f(void 0,void 0).ser(QZe).de(SQe).build(){}});var HG,Rhe=C(()=>{gn();xn();Dt();Si();qi();HG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentityPool",{}).n("CognitoIdentityClient","DeleteIdentityPoolCommand").f(void 0,void 0).ser(eQe).de(xQe).build(){}});var VG,Ihe=C(()=>{gn();xn();Dt();Si();qi();VG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentity",{}).n("CognitoIdentityClient","DescribeIdentityCommand").f(void 0,void 0).ser(tQe).de(CQe).build(){}});var WG,Dhe=C(()=>{gn();xn();Dt();Si();qi();WG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentityPool",{}).n("CognitoIdentityClient","DescribeIdentityPoolCommand").f(void 0,void 0).ser(rQe).de(OQe).build(){}});var aL,jhe=C(()=>{gn();xn();Dt();Si();qi();aL=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(nQe).de(EQe).build(){}});var sL,Nhe=C(()=>{gn();xn();Dt();Si();qi();sL=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(oQe).de(PQe).build(){}});var JG,Lhe=C(()=>{gn();xn();Dt();Si();qi();JG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetIdentityPoolRoles",{}).n("CognitoIdentityClient","GetIdentityPoolRolesCommand").f(void 0,void 0).ser(iQe).de(TQe).build(){}});var GG,Fhe=C(()=>{gn();xn();Dt();Si();qi();GG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdToken",{}).n("CognitoIdentityClient","GetOpenIdTokenCommand").f(void 0,void 0).ser(aQe).de(MQe).build(){}});var KG,Bhe=C(()=>{gn();xn();Dt();Si();qi();KG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdTokenForDeveloperIdentity",{}).n("CognitoIdentityClient","GetOpenIdTokenForDeveloperIdentityCommand").f(void 0,void 0).ser(sQe).de(AQe).build(){}});var YG,khe=C(()=>{gn();xn();Dt();Si();qi();YG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","GetPrincipalTagAttributeMapCommand").f(void 0,void 0).ser(uQe).de(RQe).build(){}});var XG,$he=C(()=>{gn();xn();Dt();Si();qi();XG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentities",{}).n("CognitoIdentityClient","ListIdentitiesCommand").f(void 0,void 0).ser(lQe).de(IQe).build(){}});var uL,ZG=C(()=>{gn();xn();Dt();Si();qi();uL=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentityPools",{}).n("CognitoIdentityClient","ListIdentityPoolsCommand").f(void 0,void 0).ser(cQe).de(DQe).build(){}});var QG,qhe=C(()=>{gn();xn();Dt();Si();qi();QG=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListTagsForResource",{}).n("CognitoIdentityClient","ListTagsForResourceCommand").f(void 0,void 0).ser(dQe).de(jQe).build(){}});var eK,Uhe=C(()=>{gn();xn();Dt();Si();qi();eK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","LookupDeveloperIdentity",{}).n("CognitoIdentityClient","LookupDeveloperIdentityCommand").f(void 0,void 0).ser(fQe).de(NQe).build(){}});var tK,zhe=C(()=>{gn();xn();Dt();Si();qi();tK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","MergeDeveloperIdentities",{}).n("CognitoIdentityClient","MergeDeveloperIdentitiesCommand").f(void 0,void 0).ser(pQe).de(LQe).build(){}});var rK,Hhe=C(()=>{gn();xn();Dt();Si();qi();rK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetIdentityPoolRoles",{}).n("CognitoIdentityClient","SetIdentityPoolRolesCommand").f(void 0,void 0).ser(hQe).de(FQe).build(){}});var nK,Vhe=C(()=>{gn();xn();Dt();Si();qi();nK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","SetPrincipalTagAttributeMapCommand").f(void 0,void 0).ser(mQe).de(BQe).build(){}});var oK,Whe=C(()=>{gn();xn();Dt();Si();qi();oK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","TagResource",{}).n("CognitoIdentityClient","TagResourceCommand").f(void 0,void 0).ser(gQe).de(kQe).build(){}});var iK,Jhe=C(()=>{gn();xn();Dt();Si();qi();iK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkDeveloperIdentity",{}).n("CognitoIdentityClient","UnlinkDeveloperIdentityCommand").f(void 0,void 0).ser(yQe).de($Qe).build(){}});var aK,Ghe=C(()=>{gn();xn();Dt();Si();qi();aK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkIdentity",{}).n("CognitoIdentityClient","UnlinkIdentityCommand").f(void 0,void 0).ser(bQe).de(qQe).build(){}});var sK,Khe=C(()=>{gn();xn();Dt();Si();qi();sK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UntagResource",{}).n("CognitoIdentityClient","UntagResourceCommand").f(void 0,void 0).ser(_Qe).de(UQe).build(){}});var uK,Yhe=C(()=>{gn();xn();Dt();Si();qi();uK=class extends ot.classBuilder().ep({...Zt}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UpdateIdentityPool",{}).n("CognitoIdentityClient","UpdateIdentityPoolCommand").f(void 0,void 0).ser(vQe).de(zQe).build(){}});var ker,Xhe,VQe=C(()=>{Dt();qG();Mhe();Ahe();Rhe();Ihe();Dhe();jhe();Nhe();Lhe();Fhe();Bhe();khe();$he();ZG();qhe();Uhe();zhe();Hhe();Vhe();Whe();Jhe();Ghe();Khe();Yhe();ker={CreateIdentityPoolCommand:UG,DeleteIdentitiesCommand:zG,DeleteIdentityPoolCommand:HG,DescribeIdentityCommand:VG,DescribeIdentityPoolCommand:WG,GetCredentialsForIdentityCommand:aL,GetIdCommand:sL,GetIdentityPoolRolesCommand:JG,GetOpenIdTokenCommand:GG,GetOpenIdTokenForDeveloperIdentityCommand:KG,GetPrincipalTagAttributeMapCommand:YG,ListIdentitiesCommand:XG,ListIdentityPoolsCommand:uL,ListTagsForResourceCommand:QG,LookupDeveloperIdentityCommand:eK,MergeDeveloperIdentitiesCommand:tK,SetIdentityPoolRolesCommand:rK,SetPrincipalTagAttributeMapCommand:nK,TagResourceCommand:oK,UnlinkDeveloperIdentityCommand:iK,UnlinkIdentityCommand:aK,UntagResourceCommand:sK,UpdateIdentityPoolCommand:uK},Xhe=class extends oP{};lG(ker,Xhe)});var WQe=C(()=>{Mhe();Ahe();Rhe();Ihe();Dhe();jhe();Nhe();Lhe();Fhe();Bhe();khe();$he();ZG();qhe();Uhe();zhe();Hhe();Vhe();Whe();Jhe();Ghe();Khe();Yhe()});var JQe=C(()=>{});var dGn,GQe=C(()=>{tP();qG();ZG();dGn=Rpe(oP,uL,"NextToken","NextToken","MaxResults")});var KQe=C(()=>{JQe();GQe()});var YQe=C(()=>{The()});var XQe=C(()=>{qG();VQe();WQe();KQe();YQe()});var Zhe={};Qd(Zhe,{CognitoIdentityClient:()=>oP,GetCredentialsForIdentityCommand:()=>aL,GetIdCommand:()=>sL});var Qhe=C(()=>{XQe()});function lK(t){return async()=>{t.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:e,CognitoIdentityClient:r}=await Promise.resolve().then(()=>(Qhe(),Zhe)),{Credentials:{AccessKeyId:n=$er(t.logger),Expiration:o,SecretKey:i=Uer(t.logger),SessionToken:a}=qer(t.logger)}=await(t.client??new r(Object.assign({},t.clientConfig??{},{region:t.clientConfig?.region??t.parentClientConfig?.region}))).send(new e({CustomRoleArn:t.customRoleArn,IdentityId:t.identityId,Logins:t.logins?await xJ(t.logins):void 0}));return{identityId:t.identityId,accessKeyId:n,secretAccessKey:i,sessionToken:a,expiration:o}}}function $er(t){throw new ts("Response from Amazon Cognito contained no access key ID",{logger:t})}function qer(t){throw new ts("Response from Amazon Cognito contained no credentials",{logger:t})}function Uer(t){throw new ts("Response from Amazon Cognito contained no secret key",{logger:t})}var eme=C(()=>{Cx();yfe()});var tme,cK,ZQe=C(()=>{tme="IdentityIds",cK=class{constructor(e="aws:cognito-identity-ids"){this.dbName=e}getItem(e){return this.withObjectStore("readonly",r=>{let n=r.get(e);return new Promise(o=>{n.onerror=()=>o(null),n.onsuccess=()=>o(n.result?n.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",r=>{let n=r.delete(e);return new Promise((o,i)=>{n.onerror=()=>i(n.error),n.onsuccess=()=>o()})})}setItem(e,r){return this.withObjectStore("readwrite",n=>{let o=n.put({id:e,value:r});return new Promise((i,a)=>{o.onerror=()=>a(o.error),o.onsuccess=()=>i()})})}getDb(){let e=self.indexedDB.open(this.dbName,1);return new Promise((r,n)=>{e.onsuccess=()=>{r(e.result)},e.onerror=()=>{n(e.error)},e.onblocked=()=>{n(new Error("Unable to access DB"))},e.onupgradeneeded=()=>{let o=e.result;o.onerror=()=>{n(new Error("Failed to create object store"))},o.createObjectStore(tme,{keyPath:"id"})}})}withObjectStore(e,r){return this.getDb().then(n=>{let o=n.transaction(tme,e);return o.oncomplete=()=>n.close(),new Promise((i,a)=>{o.onerror=()=>a(o.error),i(r(o.objectStore(tme)))}).catch(i=>{throw n.close(),i})})}}});var dK,QQe=C(()=>{dK=class{constructor(e={}){this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,r){this.store[e]=r}}});function eet(){return typeof self=="object"&&self.indexedDB?new cK:typeof window=="object"&&window.localStorage?window.localStorage:zer}var zer,tet=C(()=>{ZQe();QQe();zer=new dK});function ret({accountId:t,cache:e=eet(),client:r,clientConfig:n,customRoleArn:o,identityPoolId:i,logins:a,userIdentifier:s=!a||Object.keys(a).length===0?"ANONYMOUS":void 0,logger:u,parentClientConfig:l}){u?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let c=s?`aws:cognito-identity-credentials:${i}:${s}`:void 0,d=async()=>{let{GetIdCommand:f,CognitoIdentityClient:p}=await Promise.resolve().then(()=>(Qhe(),Zhe)),m=r??new p(Object.assign({},n??{},{region:n?.region??l?.region})),h=c&&await e.getItem(c);if(!h){let{IdentityId:v=Her(u)}=await m.send(new f({AccountId:t,IdentityPoolId:i,Logins:a?await xJ(a):void 0}));h=v,c&&Promise.resolve(e.setItem(c,h)).catch(()=>{})}return d=lK({client:m,customRoleArn:o,logins:a,identityId:h}),d()};return()=>d().catch(async f=>{throw c&&Promise.resolve(e.removeItem(c)).catch(()=>{}),f})}function Her(t){throw new ts("Response from Amazon Cognito contained no identity ID",{logger:t})}var net=C(()=>{Cx();eme();tet();yfe()});var rme=C(()=>{d5e();f5e();p5e();eme();net()});var Ver,oet=C(()=>{rme();Ver=t=>lK({...t})});var Wer,iet=C(()=>{rme();Wer=t=>ret({...t})});var Jer,Ger,Ker,aet,set=C(()=>{Cx();Jer="169.254.170.2",Ger="169.254.170.23",Ker="[fd00:ec2::23]",aet=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===Jer||t.hostname===Ger||t.hostname===Ker)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new ts(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});var uet=C(()=>{});var cet=C(()=>{uet()});var det=C(()=>{_s()});var fet=C(()=>{});var pet=C(()=>{});function Yer(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var MR,het=C(()=>{MR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new MR({...e,headers:{...e.headers}});return r.query&&(r.query=Yer(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return MR.clone(this)}}});var met=C(()=>{});var get=C(()=>{});var yet=C(()=>{});var bet=C(()=>{cet();det();fet();pet();het();met();get();yet()});function _et(t){return new MR({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}async function vet(t,e){let n=await LKe(t.body).transformToString();if(t.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new ts("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:QKe(o.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new ts(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:o.Code,Message:o.Message})}throw new ts(`Server responded with status: ${t.statusCode}`,{logger:e})}var wet=C(()=>{Cx();bet();Dt();_pe()});var xet,Cet=C(()=>{xet=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(i=>setTimeout(i,r))}return await t()}});var nme,Oet=C(()=>{Yz();Cx();set();wet();Cet();nme=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.credentialsFullUri;if(r)e=r;else throw new ts("No HTTP credential provider host provided.",{logger:t.logger});let n=new URL(e);aet(n,t.logger);let o=new ab;return xet(async()=>{let i=_et(n);t.authorizationToken&&(i.headers.Authorization=t.authorizationToken);let a=await o.handle(i);return vet(a.response)},t.maxRetries??3,t.timeout??1e3)}});var Eet=C(()=>{Oet()});function Xer(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Pet(t){return{schemeId:"smithy.api#noAuth"}}var Tet,Met,Zer,Aet,ome=C(()=>{PR();cg();h2();Tet=async(t,e,r)=>({operation:rb(e).operation,region:await Yc(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Met=t=>{let e=[];switch(t.operation){case"AssumeRoleWithSAML":{e.push(Pet(t));break}case"AssumeRoleWithWebIdentity":{e.push(Pet(t));break}default:e.push(Xer(t))}return e},Zer=t=>({...t,stsClientCtor:Th}),Aet=t=>{let e=Zer(t);return{...MG(e)}}});var Ret,Xc,db=C(()=>{Ret=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Xc={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Det,Iet=C(()=>{Det={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var ime,ame=C(()=>{ime=t=>new TextEncoder().encode(t)});var jet=C(()=>{ame()});var Net,Let=C(()=>{Net=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)}});var Fet=C(()=>{ame();jet();Let()});var Get,Er,qn,Un,aP,iP,rc,Ket,Yet,Xet,Ui,Bet,fb,lL,ume,ket,sme,Zet,$et,nc,qet,Qet,ett,Zc,bp,Uet,ttt,rtt,zet,ntt,Het,Vet,Wet,Jet,etr,ott,itt=C(()=>{Get="required",Er="type",qn="fn",Un="argv",aP="ref",iP="booleanEquals",rc="stringEquals",Ket="sigv4",Yet="sts",Xet="us-east-1",Ui="endpoint",Bet="https://sts.{Region}.{PartitionResult#dnsSuffix}",fb="tree",lL="error",ume="getAttr",ket={[Get]:!1,[Er]:"String"},sme={[Get]:!0,default:!1,[Er]:"Boolean"},Zet={[aP]:"Endpoint"},$et={[qn]:"isSet",[Un]:[{[aP]:"Region"}]},nc={[aP]:"Region"},qet={[qn]:"aws.partition",[Un]:[nc],assign:"PartitionResult"},Qet={[aP]:"UseFIPS"},ett={[aP]:"UseDualStack"},Zc={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ket,signingName:Yet,signingRegion:Xet}]},headers:{}},bp={},Uet={conditions:[{[qn]:rc,[Un]:[nc,"aws-global"]}],[Ui]:Zc,[Er]:Ui},ttt={[qn]:iP,[Un]:[Qet,!0]},rtt={[qn]:iP,[Un]:[ett,!0]},zet={[qn]:ume,[Un]:[{[aP]:"PartitionResult"},"supportsFIPS"]},ntt={[aP]:"PartitionResult"},Het={[qn]:iP,[Un]:[!0,{[qn]:ume,[Un]:[ntt,"supportsDualStack"]}]},Vet=[{[qn]:"isSet",[Un]:[Zet]}],Wet=[ttt],Jet=[rtt],etr={version:"1.0",parameters:{Region:ket,UseDualStack:sme,UseFIPS:sme,Endpoint:ket,UseGlobalEndpoint:sme},rules:[{conditions:[{[qn]:iP,[Un]:[{[aP]:"UseGlobalEndpoint"},!0]},{[qn]:"not",[Un]:Vet},$et,qet,{[qn]:iP,[Un]:[Qet,!1]},{[qn]:iP,[Un]:[ett,!1]}],rules:[{conditions:[{[qn]:rc,[Un]:[nc,"ap-northeast-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"ap-south-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"ap-southeast-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"ap-southeast-2"]}],endpoint:Zc,[Er]:Ui},Uet,{conditions:[{[qn]:rc,[Un]:[nc,"ca-central-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"eu-central-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"eu-north-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"eu-west-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"eu-west-2"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"eu-west-3"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"sa-east-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,Xet]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"us-east-2"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"us-west-1"]}],endpoint:Zc,[Er]:Ui},{conditions:[{[qn]:rc,[Un]:[nc,"us-west-2"]}],endpoint:Zc,[Er]:Ui},{endpoint:{url:Bet,properties:{authSchemes:[{name:Ket,signingName:Yet,signingRegion:"{Region}"}]},headers:bp},[Er]:Ui}],[Er]:fb},{conditions:Vet,rules:[{conditions:Wet,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Er]:lL},{conditions:Jet,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Er]:lL},{endpoint:{url:Zet,properties:bp,headers:bp},[Er]:Ui}],[Er]:fb},{conditions:[$et],rules:[{conditions:[qet],rules:[{conditions:[ttt,rtt],rules:[{conditions:[{[qn]:iP,[Un]:[!0,zet]},Het],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bp,headers:bp},[Er]:Ui}],[Er]:fb},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Er]:lL}],[Er]:fb},{conditions:Wet,rules:[{conditions:[{[qn]:iP,[Un]:[zet,!0]}],rules:[{conditions:[{[qn]:rc,[Un]:[{[qn]:ume,[Un]:[ntt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:bp,headers:bp},[Er]:Ui},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bp,headers:bp},[Er]:Ui}],[Er]:fb},{error:"FIPS is enabled but this partition does not support FIPS",[Er]:lL}],[Er]:fb},{conditions:Jet,rules:[{conditions:[Het],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bp,headers:bp},[Er]:Ui}],[Er]:fb},{error:"DualStack is enabled but this partition does not support DualStack",[Er]:lL}],[Er]:fb},Uet,{endpoint:{url:Bet,properties:bp,headers:bp},[Er]:Ui}],[Er]:fb}],[Er]:fb},{error:"Invalid Configuration: Missing Region",[Er]:lL}]},ott=etr});var att,stt=C(()=>{NJ();WE();itt();att=(t,e={})=>$z(ott,{endpointParams:t,logger:e.logger});Ox.aws=qz});var utt,ltt=C(()=>{PR();tP();Dt();VJ();kN();Fet();ome();stt();utt=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??XE,base64Encoder:t?.base64Encoder??ZE,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??att,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Met,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new CR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zN}],logger:t?.logger??new GE,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??JE,utf8Decoder:t?.utf8Decoder??ime,utf8Encoder:t?.utf8Encoder??Net})});var ctt,dtt=C(()=>{Iet();hhe();yhe();Uz();Yz();bhe();_he();ib();ltt();Dt();xhe();ctt=t=>{let e=FG(t),r=()=>e().then(fG),n=utt(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??LG,credentialDefaultProvider:t?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??jG({serviceId:n.serviceId,clientVersion:Det.version}),maxAttempts:t?.maxAttempts??ob,region:t?.region??NG("Region is missing"),requestHandler:ab.create(t?.requestHandler??r),retryMode:t?.retryMode??(async()=>(await r()).retryMode||Vz),sha256:t?.sha256??DG,streamCollector:t?.streamCollector??$N,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve($J)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(qJ))}}});var ftt,ptt,htt=C(()=>{ftt=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},ptt=t=>({httpHandler:t.httpHandler()})});var mtt=C(()=>{htt()});var gtt=C(()=>{_s()});var ytt=C(()=>{});var btt=C(()=>{});function ttr(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var AR,_tt=C(()=>{AR=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new AR({...e,headers:{...e.headers}});return r.query&&(r.query=ttr(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return AR.clone(this)}}});var vtt=C(()=>{});var wtt=C(()=>{});var Stt=C(()=>{});var lme=C(()=>{mtt();gtt();ytt();btt();_tt();vtt();wtt();Stt()});var xtt,Ctt,Ott=C(()=>{xtt=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(a=>a.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Ctt=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var fK,Ett,Ptt=C(()=>{Ohe();lme();Dt();Ott();fK=t=>t,Ett=(t,e)=>{let r={...fK(BG(t)),...fK(pG(t)),...fK(ftt(t)),...fK(xtt(t))};return e.forEach(n=>n.configure(r)),{...t,...kG(r),...hG(r),...ptt(r),...Ctt(r)}}});var Th,h2=C(()=>{vfe();wfe();Sfe();kfe();Uz();tP();Ipe();gn();yG();Dt();ome();db();dtt();Ptt();Th=class extends bR{constructor(...[e]){let r=ctt(e||{}),n=Ret(r),o=PJ(n),i=iG(o),a=zJ(i),s=a,u=GJ(s),l=Aet(u),c=Ett(l,e?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(BJ(this.config)),this.middlewareStack.use(gG(this.config)),this.middlewareStack.use(_G(this.config)),this.middlewareStack.use(CJ(this.config)),this.middlewareStack.use(OJ(this.config)),this.middlewareStack.use(EJ(this.config)),this.middlewareStack.use(KJ(this.config,{httpAuthSchemeParametersProvider:Tet,identityProviderConfigProvider:async d=>new UN({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(bG(this.config))}destroy(){super.destroy()}}});var oc,pK=C(()=>{Dt();oc=class extends eP{constructor(e){super(e),Object.setPrototypeOf(this,oc.prototype)}}});var RR,IR,DR,jR,NR,LR,FR,BR,cL,cme,dme,fme,pme,hme,mme,gme,sP=C(()=>{Dt();pK();RR=class extends oc{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,RR.prototype)}},IR=class extends oc{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,IR.prototype)}},DR=class extends oc{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,DR.prototype)}},jR=class extends oc{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,jR.prototype)}},NR=class extends oc{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,NR.prototype)}},LR=class extends oc{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,LR.prototype)}},FR=class extends oc{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,FR.prototype)}},BR=class extends oc{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,BR.prototype)}},cL=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:uG}}),cme=t=>({...t,...t.Credentials&&{Credentials:cL(t.Credentials)}}),dme=t=>({...t,...t.SAMLAssertion&&{SAMLAssertion:uG}}),fme=t=>({...t,...t.Credentials&&{Credentials:cL(t.Credentials)}}),pme=t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:uG}}),hme=t=>({...t,...t.Credentials&&{Credentials:cL(t.Credentials)}}),mme=t=>({...t,...t.Credentials&&{Credentials:cL(t.Credentials)}}),gme=t=>({...t,...t.Credentials&&{Credentials:cL(t.Credentials)}})});var Ttt,Mtt,Att,Rtt,Itt,Dtt,jtt,Ntt,Ltt,Ftt,Btt,ktt,$tt,qtt,Utt,ztt,uP,rtr,ntr,otr,itr,atr,str,utr,ltr,ctr,dtr,ftr,ptr,htr,mtr,gtr,ytr,hK,btr,_tr,vtr,wtr,Str,Htt,Vme,xtr,Ctr,Otr,m2,Etr,Ptr,Ttr,Mtr,Atr,Rtr,Itr,Dtr,jtr,Ntr,Ltr,Ftr,Btr,ktr,Qc,$tr,lP,cP,dP,fP,dL,qtr,yme,Rx,Utr,ztr,fL,Ix,pL,Nd,bme,Htr,_me,Ld,vme,wme,Sme,xme,Cme,Vtr,Wtr,Jtr,Gtr,Ome,Eme,Pme,Tme,Mh,Ah,Mme,Ame,Rme,Ime,Rh,Dme,Dx,hL,jme,Nme,Lme,Fme,Ih,mL,Bme,kme,gL,yL,$me,qme,pP,Ume,zme,Hme,zi,hP,Ktr,jx=C(()=>{PR();lme();Dt();sP();pK();Ttt=async(t,e)=>{let r=cP,n;return n=hP({...ctr(t,e),[fP]:qtr,[pP]:dP}),lP(e,r,"/",void 0,n)},Mtt=async(t,e)=>{let r=cP,n;return n=hP({...dtr(t,e),[fP]:Utr,[pP]:dP}),lP(e,r,"/",void 0,n)},Att=async(t,e)=>{let r=cP,n;return n=hP({...ftr(t,e),[fP]:ztr,[pP]:dP}),lP(e,r,"/",void 0,n)},Rtt=async(t,e)=>{let r=cP,n;return n=hP({...ptr(t,e),[fP]:Htr,[pP]:dP}),lP(e,r,"/",void 0,n)},Itt=async(t,e)=>{let r=cP,n;return n=hP({...htr(t,e),[fP]:Vtr,[pP]:dP}),lP(e,r,"/",void 0,n)},Dtt=async(t,e)=>{let r=cP,n;return n=hP({...mtr(t,e),[fP]:Wtr,[pP]:dP}),lP(e,r,"/",void 0,n)},jtt=async(t,e)=>{let r=cP,n;return n=hP({...gtr(t,e),[fP]:Jtr,[pP]:dP}),lP(e,r,"/",void 0,n)},Ntt=async(t,e)=>{let r=cP,n;return n=hP({...ytr(t,e),[fP]:Gtr,[pP]:dP}),lP(e,r,"/",void 0,n)},Ltt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=xtr(r.AssumeRoleResult,e),{$metadata:Qc(t),...n}},Ftt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Ctr(r.AssumeRoleWithSAMLResult,e),{$metadata:Qc(t),...n}},Btt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Otr(r.AssumeRoleWithWebIdentityResult,e),{$metadata:Qc(t),...n}},ktt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Etr(r.DecodeAuthorizationMessageResult,e),{$metadata:Qc(t),...n}},$tt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Mtr(r.GetAccessKeyInfoResult,e),{$metadata:Qc(t),...n}},qtt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Atr(r.GetCallerIdentityResult,e),{$metadata:Qc(t),...n}},Utt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Rtr(r.GetFederationTokenResult,e),{$metadata:Qc(t),...n}},ztt=async(t,e)=>{if(t.statusCode>=300)return uP(t,e);let r=await sb(t.body,e),n={};return n=Itr(r.GetSessionTokenResult,e),{$metadata:Qc(t),...n}},uP=async(t,e)=>{let r={...t,body:await NXe(t.body,e)},n=Ktr(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await rtr(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await str(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await utr(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ltr(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await otr(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await atr(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await ntr(r,e);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await itr(r,e);default:let o=r.body;return $tr({output:t,parsedBody:o.Error,errorCode:n})}},rtr=async(t,e)=>{let r=t.body,n=Ptr(r.Error,e),o=new RR({$metadata:Qc(t),...n});return la(o,r)},ntr=async(t,e)=>{let r=t.body,n=Dtr(r.Error,e),o=new FR({$metadata:Qc(t),...n});return la(o,r)},otr=async(t,e)=>{let r=t.body,n=jtr(r.Error,e),o=new NR({$metadata:Qc(t),...n});return la(o,r)},itr=async(t,e)=>{let r=t.body,n=Ntr(r.Error,e),o=new BR({$metadata:Qc(t),...n});return la(o,r)},atr=async(t,e)=>{let r=t.body,n=Ltr(r.Error,e),o=new LR({$metadata:Qc(t),...n});return la(o,r)},str=async(t,e)=>{let r=t.body,n=Ftr(r.Error,e),o=new IR({$metadata:Qc(t),...n});return la(o,r)},utr=async(t,e)=>{let r=t.body,n=Btr(r.Error,e),o=new DR({$metadata:Qc(t),...n});return la(o,r)},ltr=async(t,e)=>{let r=t.body,n=ktr(r.Error,e),o=new jR({$metadata:Qc(t),...n});return la(o,r)},ctr=(t,e)=>{let r={};if(t[Dx]!=null&&(r[Dx]=t[Dx]),t[hL]!=null&&(r[hL]=t[hL]),t[Ah]!=null){let n=hK(t[Ah],e);t[Ah]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}if(t[Mh]!=null&&(r[Mh]=t[Mh]),t[Ld]!=null&&(r[Ld]=t[Ld]),t[gL]!=null){let n=Htt(t[gL],e);t[gL]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,i])=>{let a=`Tags.${o}`;r[a]=i})}if(t[$me]!=null){let n=Str(t[$me],e);t[$me]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,i])=>{let a=`TransitiveTagKeys.${o}`;r[a]=i})}if(t[wme]!=null&&(r[wme]=t[wme]),t[mL]!=null&&(r[mL]=t[mL]),t[yL]!=null&&(r[yL]=t[yL]),t[Ih]!=null&&(r[Ih]=t[Ih]),t[Rme]!=null){let n=vtr(t[Rme],e);t[Rme]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,i])=>{let a=`ProvidedContexts.${o}`;r[a]=i})}return r},dtr=(t,e)=>{let r={};if(t[Dx]!=null&&(r[Dx]=t[Dx]),t[Mme]!=null&&(r[Mme]=t[Mme]),t[Lme]!=null&&(r[Lme]=t[Lme]),t[Ah]!=null){let n=hK(t[Ah],e);t[Ah]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return t[Mh]!=null&&(r[Mh]=t[Mh]),t[Ld]!=null&&(r[Ld]=t[Ld]),r},ftr=(t,e)=>{let r={};if(t[Dx]!=null&&(r[Dx]=t[Dx]),t[hL]!=null&&(r[hL]=t[hL]),t[zme]!=null&&(r[zme]=t[zme]),t[Ime]!=null&&(r[Ime]=t[Ime]),t[Ah]!=null){let n=hK(t[Ah],e);t[Ah]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return t[Mh]!=null&&(r[Mh]=t[Mh]),t[Ld]!=null&&(r[Ld]=t[Ld]),r},ptr=(t,e)=>{let r={};return t[Sme]!=null&&(r[Sme]=t[Sme]),r},htr=(t,e)=>{let r={};return t[dL]!=null&&(r[dL]=t[dL]),r},mtr=(t,e)=>({}),gtr=(t,e)=>{let r={};if(t[Pme]!=null&&(r[Pme]=t[Pme]),t[Mh]!=null&&(r[Mh]=t[Mh]),t[Ah]!=null){let n=hK(t[Ah],e);t[Ah]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}if(t[Ld]!=null&&(r[Ld]=t[Ld]),t[gL]!=null){let n=Htt(t[gL],e);t[gL]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,i])=>{let a=`Tags.${o}`;r[a]=i})}return r},ytr=(t,e)=>{let r={};return t[Ld]!=null&&(r[Ld]=t[Ld]),t[mL]!=null&&(r[mL]=t[mL]),t[yL]!=null&&(r[yL]=t[yL]),r},hK=(t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=btr(o,e);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},btr=(t,e)=>{let r={};return t[Hme]!=null&&(r[Hme]=t[Hme]),r},_tr=(t,e)=>{let r={};return t[Ame]!=null&&(r[Ame]=t[Ame]),t[bme]!=null&&(r[bme]=t[bme]),r},vtr=(t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=_tr(o,e);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},wtr=(t,e)=>{let r={};return t[Eme]!=null&&(r[Eme]=t[Eme]),t[Ume]!=null&&(r[Ume]=t[Ume]),r},Str=(t,e)=>{let r={},n=1;for(let o of t)o!==null&&(r[`member.${n}`]=o,n++);return r},Htt=(t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=wtr(o,e);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},Vme=(t,e)=>{let r={};return t[yme]!=null&&(r[yme]=Ir(t[yme])),t[Ix]!=null&&(r[Ix]=Ir(t[Ix])),r},xtr=(t,e)=>{let r={};return t[Nd]!=null&&(r[Nd]=m2(t[Nd],e)),t[Rx]!=null&&(r[Rx]=Vme(t[Rx],e)),t[Rh]!=null&&(r[Rh]=Zz(t[Rh])),t[Ih]!=null&&(r[Ih]=Ir(t[Ih])),r},Ctr=(t,e)=>{let r={};return t[Nd]!=null&&(r[Nd]=m2(t[Nd],e)),t[Rx]!=null&&(r[Rx]=Vme(t[Rx],e)),t[Rh]!=null&&(r[Rh]=Zz(t[Rh])),t[jme]!=null&&(r[jme]=Ir(t[jme])),t[Bme]!=null&&(r[Bme]=Ir(t[Bme])),t[Ome]!=null&&(r[Ome]=Ir(t[Ome])),t[pL]!=null&&(r[pL]=Ir(t[pL])),t[Tme]!=null&&(r[Tme]=Ir(t[Tme])),t[Ih]!=null&&(r[Ih]=Ir(t[Ih])),r},Otr=(t,e)=>{let r={};return t[Nd]!=null&&(r[Nd]=m2(t[Nd],e)),t[Fme]!=null&&(r[Fme]=Ir(t[Fme])),t[Rx]!=null&&(r[Rx]=Vme(t[Rx],e)),t[Rh]!=null&&(r[Rh]=Zz(t[Rh])),t[Dme]!=null&&(r[Dme]=Ir(t[Dme])),t[pL]!=null&&(r[pL]=Ir(t[pL])),t[Ih]!=null&&(r[Ih]=Ir(t[Ih])),r},m2=(t,e)=>{let r={};return t[dL]!=null&&(r[dL]=Ir(t[dL])),t[Nme]!=null&&(r[Nme]=Ir(t[Nme])),t[kme]!=null&&(r[kme]=Ir(t[kme])),t[vme]!=null&&(r[vme]=qN(e7e(t[vme]))),r},Etr=(t,e)=>{let r={};return t[_me]!=null&&(r[_me]=Ir(t[_me])),r},Ptr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},Ttr=(t,e)=>{let r={};return t[Cme]!=null&&(r[Cme]=Ir(t[Cme])),t[Ix]!=null&&(r[Ix]=Ir(t[Ix])),r},Mtr=(t,e)=>{let r={};return t[fL]!=null&&(r[fL]=Ir(t[fL])),r},Atr=(t,e)=>{let r={};return t[qme]!=null&&(r[qme]=Ir(t[qme])),t[fL]!=null&&(r[fL]=Ir(t[fL])),t[Ix]!=null&&(r[Ix]=Ir(t[Ix])),r},Rtr=(t,e)=>{let r={};return t[Nd]!=null&&(r[Nd]=m2(t[Nd],e)),t[xme]!=null&&(r[xme]=Ttr(t[xme],e)),t[Rh]!=null&&(r[Rh]=Zz(t[Rh])),r},Itr=(t,e)=>{let r={};return t[Nd]!=null&&(r[Nd]=m2(t[Nd],e)),r},Dtr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},jtr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},Ntr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},Ltr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},Ftr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},Btr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},ktr=(t,e)=>{let r={};return t[zi]!=null&&(r[zi]=Ir(t[zi])),r},Qc=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),$tr=dG(oc),lP=async(t,e,r,n,o)=>{let{hostname:i,protocol:a="https",port:s,path:u}=await t.endpoint(),l={protocol:a,hostname:i,port:s,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+r:u+r,headers:e};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new AR(l)},cP={"content-type":"application/x-www-form-urlencoded"},dP="2011-06-15",fP="Action",dL="AccessKeyId",qtr="AssumeRole",yme="AssumedRoleId",Rx="AssumedRoleUser",Utr="AssumeRoleWithSAML",ztr="AssumeRoleWithWebIdentity",fL="Account",Ix="Arn",pL="Audience",Nd="Credentials",bme="ContextAssertion",Htr="DecodeAuthorizationMessage",_me="DecodedMessage",Ld="DurationSeconds",vme="Expiration",wme="ExternalId",Sme="EncodedMessage",xme="FederatedUser",Cme="FederatedUserId",Vtr="GetAccessKeyInfo",Wtr="GetCallerIdentity",Jtr="GetFederationToken",Gtr="GetSessionToken",Ome="Issuer",Eme="Key",Pme="Name",Tme="NameQualifier",Mh="Policy",Ah="PolicyArns",Mme="PrincipalArn",Ame="ProviderArn",Rme="ProvidedContexts",Ime="ProviderId",Rh="PackedPolicySize",Dme="Provider",Dx="RoleArn",hL="RoleSessionName",jme="Subject",Nme="SecretAccessKey",Lme="SAMLAssertion",Fme="SubjectFromWebIdentityToken",Ih="SourceIdentity",mL="SerialNumber",Bme="SubjectType",kme="SessionToken",gL="Tags",yL="TokenCode",$me="TransitiveTagKeys",qme="UserId",pP="Version",Ume="Value",zme="WebIdentityToken",Hme="arn",zi="message",hP=t=>Object.entries(t).map(([e,r])=>mG(e)+"="+mG(r)).join("&"),Ktr=(t,e)=>{if(e.Error?.Code!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"}});var Nx,mK=C(()=>{gn();xn();Dt();db();sP();jx();Nx=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,cme).ser(Ttt).de(Ltt).build(){}});var g2,Wme=C(()=>{gn();xn();Dt();db();sP();jx();g2=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(dme,fme).ser(Mtt).de(Ftt).build(){}});var kR,gK=C(()=>{gn();xn();Dt();db();sP();jx();kR=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(pme,hme).ser(Att).de(Btt).build(){}});var y2,Jme=C(()=>{gn();xn();Dt();db();jx();y2=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(Rtt).de(ktt).build(){}});var b2,Gme=C(()=>{gn();xn();Dt();db();jx();b2=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(Itt).de($tt).build(){}});var _2,Kme=C(()=>{gn();xn();Dt();db();jx();_2=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(Dtt).de(qtt).build(){}});var v2,Yme=C(()=>{gn();xn();Dt();db();sP();jx();v2=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,mme).ser(jtt).de(Utt).build(){}});var w2,Xme=C(()=>{gn();xn();Dt();db();sP();jx();w2=class extends ot.classBuilder().ep({...Xc}).m(function(e,r,n,o){return[ft(n,this.serialize,this.deserialize),pt(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,gme).ser(Ntt).de(ztt).build(){}});var Ytr,yK,Vtt=C(()=>{Dt();mK();Wme();gK();Jme();Gme();Kme();Yme();Xme();h2();Ytr={AssumeRoleCommand:Nx,AssumeRoleWithSAMLCommand:g2,AssumeRoleWithWebIdentityCommand:kR,DecodeAuthorizationMessageCommand:y2,GetAccessKeyInfoCommand:b2,GetCallerIdentityCommand:_2,GetFederationTokenCommand:v2,GetSessionTokenCommand:w2},yK=class extends Th{};lG(Ytr,yK)});var Wtt=C(()=>{mK();Wme();gK();Jme();Gme();Kme();Yme();Xme()});var Jtt=C(()=>{sP()});var Gtt,Ktt,Ytt,Xtt,Ztt,Qtt,ert=C(()=>{mK();gK();Gtt="us-east-1",Ktt=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},Ytt=async(t,e,r)=>{let n=typeof t=="function"?await t():t,o=typeof e=="function"?await e():e;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${Gtt} (STS default)`),n??o??Gtt},Xtt=(t,e)=>{let r,n;return async(o,i)=>{if(n=o,!r){let{logger:l=t?.parentClientConfig?.logger,region:c,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=t,p=await Ytt(c,t?.parentClientConfig?.region,f),m=!Qtt(d);r=new e({credentialDefaultProvider:()=>async()=>n,region:p,requestHandler:m?d:void 0,logger:l})}let{Credentials:a,AssumedRoleUser:s}=await r.send(new Nx(i));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let u=Ktt(s);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...u&&{accountId:u}}}},Ztt=(t,e)=>{let r;return async n=>{if(!r){let{logger:s=t?.parentClientConfig?.logger,region:u,requestHandler:l=t?.parentClientConfig?.requestHandler,credentialProviderLogger:c}=t,d=await Ytt(u,t?.parentClientConfig?.region,c),f=!Qtt(l);r=new e({region:d,requestHandler:f?l:void 0,logger:s})}let{Credentials:o,AssumedRoleUser:i}=await r.send(new kR(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let a=Ktt(i);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...a&&{accountId:a}}}},Qtt=t=>t?.metadata?.handlerProtocol==="h2"});var trt,rrt,nrt,Xtr,ort=C(()=>{ert();h2();trt=(t,e)=>e?class extends t{constructor(n){super(n);for(let o of e)this.middlewareStack.use(o)}}:t,rrt=(t={},e)=>Xtt(t,trt(Th,e)),nrt=(t={},e)=>Ztt(t,trt(Th,e)),Xtr=t=>e=>t({roleAssumer:rrt(e),roleAssumerWithWebIdentity:nrt(e),...e})});var irt={};Qd(irt,{$Command:()=>ot,AssumeRoleCommand:()=>Nx,AssumeRoleResponseFilterSensitiveLog:()=>cme,AssumeRoleWithSAMLCommand:()=>g2,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>dme,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>fme,AssumeRoleWithWebIdentityCommand:()=>kR,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>pme,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>hme,CredentialsFilterSensitiveLog:()=>cL,DecodeAuthorizationMessageCommand:()=>y2,ExpiredTokenException:()=>RR,GetAccessKeyInfoCommand:()=>b2,GetCallerIdentityCommand:()=>_2,GetFederationTokenCommand:()=>v2,GetFederationTokenResponseFilterSensitiveLog:()=>mme,GetSessionTokenCommand:()=>w2,GetSessionTokenResponseFilterSensitiveLog:()=>gme,IDPCommunicationErrorException:()=>FR,IDPRejectedClaimException:()=>NR,InvalidAuthorizationMessageException:()=>BR,InvalidIdentityTokenException:()=>LR,MalformedPolicyDocumentException:()=>IR,PackedPolicyTooLargeException:()=>DR,RegionDisabledException:()=>jR,STS:()=>yK,STSClient:()=>Th,STSServiceException:()=>oc,__Client:()=>bR,decorateDefaultCredentialProvider:()=>Xtr,getDefaultRoleAssumer:()=>rrt,getDefaultRoleAssumerWithWebIdentity:()=>nrt});var Zme=C(()=>{h2();Vtt();Wtt();Jtt();ort();pK()});var art={};Qd(art,{AssumeRoleCommand:()=>Nx,STSClient:()=>Th});var srt=C(()=>{Zme()});var Ztr,urt=C(()=>{Cx();Ztr=t=>{let e;return async()=>{t.logger?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");let r={...t.params,RoleSessionName:t.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(r?.SerialNumber){if(!t.mfaCodeProvider)throw new ts("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:t.logger});r.TokenCode=await t.mfaCodeProvider(r?.SerialNumber)}let{AssumeRoleCommand:n,STSClient:o}=await Promise.resolve().then(()=>(srt(),art));if(e||(e=new o({...t.clientConfig,credentials:t.masterCredentials})),t.clientPlugins)for(let a of t.clientPlugins)e.middlewareStack.use(a);let{Credentials:i}=await e.send(new n(r));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new ts(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`,{logger:t.logger});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,credentialScope:i.CredentialScope}}}});var lrt=C(()=>{});var crt,drt=C(()=>{crt=t=>async()=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:a,durationSeconds:s}=t,{roleAssumerWithWebIdentity:u}=t;if(!u){let{getDefaultRoleAssumerWithWebIdentity:l}=await Promise.resolve().then(()=>(Zme(),irt));u=l({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:t.parentClientConfig},t.clientPlugins)}return u({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:s})}});var frt=C(()=>{lrt();drt()});var Qtr,prt=C(()=>{frt();Qtr=t=>crt({...t})});var hrt={};Qd(hrt,{fromCognitoIdentity:()=>Ver,fromCognitoIdentityPool:()=>Wer,fromHttp:()=>nme,fromTemporaryCredentials:()=>Ztr,fromWebToken:()=>Qtr});var mrt=C(()=>{oet();iet();Eet();urt();prt()});var $R={};Qd($R,{__addDisposableResource:()=>Lrt,__assign:()=>bK,__asyncDelegator:()=>Trt,__asyncGenerator:()=>Prt,__asyncValues:()=>Mrt,__await:()=>bL,__awaiter:()=>wrt,__classPrivateFieldGet:()=>Drt,__classPrivateFieldIn:()=>Nrt,__classPrivateFieldSet:()=>jrt,__createBinding:()=>vK,__decorate:()=>brt,__disposeResources:()=>Frt,__esDecorate:()=>err,__exportStar:()=>xrt,__extends:()=>grt,__generator:()=>Srt,__importDefault:()=>Irt,__importStar:()=>Rrt,__makeTemplateObject:()=>Art,__metadata:()=>vrt,__param:()=>_rt,__propKey:()=>rrr,__read:()=>ege,__rest:()=>yrt,__runInitializers:()=>trr,__setFunctionName:()=>nrr,__spread:()=>Crt,__spreadArray:()=>Ert,__spreadArrays:()=>Ort,__values:()=>_K,default:()=>arr});function grt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qme(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function yrt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function brt(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function _rt(t,e){return function(r,n){e(r,n,t)}}function err(t,e,r,n,o,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var m={};for(var h in n)m[h]=h==="access"?{}:n[h];for(var h in n.access)m.access[h]=n.access[h];m.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var v=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],m);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=a(v.get))&&(c.get=d),(d=a(v.set))&&(c.set=d),(d=a(v.init))&&o.unshift(d)}else(d=a(v))&&(s==="field"?o.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function trr(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function rrr(t){return typeof t=="symbol"?t:"".concat(t)}function nrr(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function vrt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wrt(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function Srt(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function xrt(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vK(e,t,r)}function _K(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ege(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Crt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ege(arguments[e]));return t}function Ort(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function Ert(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function bL(t){return this instanceof bL?(this.v=t,this):new bL(t)}function Prt(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(p){return function(m){return Promise.resolve(m).then(p,d)}}function s(p,m){n[p]&&(o[p]=function(h){return new Promise(function(v,g){i.push([p,h,v,g])>1||u(p,h)})},m&&(o[p]=m(o[p])))}function u(p,m){try{l(n[p](m))}catch(h){f(i[0][3],h)}}function l(p){p.value instanceof bL?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,m){p(m),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Trt(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,i){e[o]=t[o]?function(a){return(r=!r)?{value:bL(t[o](a)),done:!1}:i?i(a):a}:i}}function Mrt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _K=="function"?_K(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function Art(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Rrt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vK(e,t,r);return orr(e,t),e}function Irt(t){return t&&t.__esModule?t:{default:t}}function Drt(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function jrt(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Nrt(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Lrt(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function Frt(t){function e(i){t.error=t.hasError?new irr(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}var Qme,bK,vK,orr,irr,arr,qR=C(()=>{Qme=function(t,e){return Qme=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Qme(t,e)};bK=function(){return bK=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bK.apply(this,arguments)};vK=Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};orr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};irr=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};arr={__extends:grt,__assign:bK,__rest:yrt,__decorate:brt,__param:_rt,__metadata:vrt,__awaiter:wrt,__generator:Srt,__createBinding:vK,__exportStar:xrt,__values:_K,__read:ege,__spread:Crt,__spreadArrays:Ort,__spreadArray:Ert,__await:bL,__asyncGenerator:Prt,__asyncDelegator:Trt,__asyncValues:Mrt,__makeTemplateObject:Art,__importStar:Rrt,__importDefault:Irt,__classPrivateFieldGet:Drt,__classPrivateFieldSet:jrt,__classPrivateFieldIn:Nrt,__addDisposableResource:Lrt,__disposeResources:Frt}});var krt=b(Brt=>{"use strict";Object.defineProperty(Brt,"__esModule",{value:!0})});var $rt=b(S2=>{"use strict";Object.defineProperty(S2,"__esModule",{value:!0});S2.HttpAuthLocation=void 0;var srr;(function(t){t.HEADER="header",t.QUERY="query"})(srr=S2.HttpAuthLocation||(S2.HttpAuthLocation={}))});var Urt=b(qrt=>{"use strict";Object.defineProperty(qrt,"__esModule",{value:!0})});var Hrt=b(zrt=>{"use strict";Object.defineProperty(zrt,"__esModule",{value:!0})});var Wrt=b(Vrt=>{"use strict";Object.defineProperty(Vrt,"__esModule",{value:!0})});var Grt=b(Jrt=>{"use strict";Object.defineProperty(Jrt,"__esModule",{value:!0})});var Yrt=b(Krt=>{"use strict";Object.defineProperty(Krt,"__esModule",{value:!0})});var Zrt=b(Xrt=>{"use strict";Object.defineProperty(Xrt,"__esModule",{value:!0})});var ent=b(Qrt=>{"use strict";Object.defineProperty(Qrt,"__esModule",{value:!0})});var tnt=b(x2=>{"use strict";Object.defineProperty(x2,"__esModule",{value:!0});var tge=(qR(),ml($R));tge.__exportStar(Yrt(),x2);tge.__exportStar(Zrt(),x2);tge.__exportStar(ent(),x2)});var nnt=b(rnt=>{"use strict";Object.defineProperty(rnt,"__esModule",{value:!0})});var int=b(ont=>{"use strict";Object.defineProperty(ont,"__esModule",{value:!0})});var ant=b(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});C2.EndpointURLScheme=void 0;var urr;(function(t){t.HTTP="http",t.HTTPS="https"})(urr=C2.EndpointURLScheme||(C2.EndpointURLScheme={}))});var unt=b(snt=>{"use strict";Object.defineProperty(snt,"__esModule",{value:!0})});var cnt=b(lnt=>{"use strict";Object.defineProperty(lnt,"__esModule",{value:!0})});var fnt=b(dnt=>{"use strict";Object.defineProperty(dnt,"__esModule",{value:!0})});var hnt=b(pnt=>{"use strict";Object.defineProperty(pnt,"__esModule",{value:!0})});var gnt=b(mnt=>{"use strict";Object.defineProperty(mnt,"__esModule",{value:!0})});var ynt=b(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});var O2=(qR(),ml($R));O2.__exportStar(unt(),UR);O2.__exportStar(cnt(),UR);O2.__exportStar(fnt(),UR);O2.__exportStar(hnt(),UR);O2.__exportStar(gnt(),UR)});var _nt=b(bnt=>{"use strict";Object.defineProperty(bnt,"__esModule",{value:!0})});var vnt=b(E2=>{"use strict";Object.defineProperty(E2,"__esModule",{value:!0});E2.FieldPosition=void 0;var lrr;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(lrr=E2.FieldPosition||(E2.FieldPosition={}))});var Snt=b(wnt=>{"use strict";Object.defineProperty(wnt,"__esModule",{value:!0})});var Cnt=b(xnt=>{"use strict";Object.defineProperty(xnt,"__esModule",{value:!0})});var Ent=b(wK=>{"use strict";Object.defineProperty(wK,"__esModule",{value:!0});var Ont=(qR(),ml($R));Ont.__exportStar(Snt(),wK);Ont.__exportStar(Cnt(),wK)});var Tnt=b(Pnt=>{"use strict";Object.defineProperty(Pnt,"__esModule",{value:!0})});var Ant=b(Mnt=>{"use strict";Object.defineProperty(Mnt,"__esModule",{value:!0})});var Int=b(Rnt=>{"use strict";Object.defineProperty(Rnt,"__esModule",{value:!0})});var jnt=b(Dnt=>{"use strict";Object.defineProperty(Dnt,"__esModule",{value:!0})});var Lnt=b(Nnt=>{"use strict";Object.defineProperty(Nnt,"__esModule",{value:!0})});var Bnt=b(Fnt=>{"use strict";Object.defineProperty(Fnt,"__esModule",{value:!0})});var $nt=b(knt=>{"use strict";Object.defineProperty(knt,"__esModule",{value:!0})});var Unt=b(qnt=>{"use strict";Object.defineProperty(qnt,"__esModule",{value:!0})});var Hnt=b(znt=>{"use strict";Object.defineProperty(znt,"__esModule",{value:!0})});var Wnt=b(Vnt=>{"use strict";Object.defineProperty(Vnt,"__esModule",{value:!0})});var Gnt=b(Jnt=>{"use strict";Object.defineProperty(Jnt,"__esModule",{value:!0})});var Ynt=b(Knt=>{"use strict";Object.defineProperty(Knt,"__esModule",{value:!0})});var Znt=b(Xnt=>{"use strict";Object.defineProperty(Xnt,"__esModule",{value:!0})});var Qnt=b(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});P2.RequestHandlerProtocol=void 0;var crr;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(crr=P2.RequestHandlerProtocol||(P2.RequestHandlerProtocol={}))});var tot=b(eot=>{"use strict";Object.defineProperty(eot,"__esModule",{value:!0})});var not=b(rot=>{"use strict";Object.defineProperty(rot,"__esModule",{value:!0})});var iot=b(oot=>{"use strict";Object.defineProperty(oot,"__esModule",{value:!0})});var sot=b(aot=>{"use strict";Object.defineProperty(aot,"__esModule",{value:!0})});var lot=b(uot=>{"use strict";Object.defineProperty(uot,"__esModule",{value:!0})});var cot=b(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var Bn=(qR(),ml($R));Bn.__exportStar(krt(),yn);Bn.__exportStar($rt(),yn);Bn.__exportStar(Urt(),yn);Bn.__exportStar(Hrt(),yn);Bn.__exportStar(Wrt(),yn);Bn.__exportStar(Grt(),yn);Bn.__exportStar(tnt(),yn);Bn.__exportStar(nnt(),yn);Bn.__exportStar(int(),yn);Bn.__exportStar(ant(),yn);Bn.__exportStar(ynt(),yn);Bn.__exportStar(_nt(),yn);Bn.__exportStar(vnt(),yn);Bn.__exportStar(Ent(),yn);Bn.__exportStar(Tnt(),yn);Bn.__exportStar(Ant(),yn);Bn.__exportStar(Int(),yn);Bn.__exportStar(jnt(),yn);Bn.__exportStar(Lnt(),yn);Bn.__exportStar(Bnt(),yn);Bn.__exportStar($nt(),yn);Bn.__exportStar(Unt(),yn);Bn.__exportStar(Hnt(),yn);Bn.__exportStar(Wnt(),yn);Bn.__exportStar(Gnt(),yn);Bn.__exportStar(Ynt(),yn);Bn.__exportStar(Znt(),yn);Bn.__exportStar(Qnt(),yn);Bn.__exportStar(tot(),yn);Bn.__exportStar(not(),yn);Bn.__exportStar(iot(),yn);Bn.__exportStar(sot(),yn);Bn.__exportStar(lot(),yn)});var dot=b(SK=>{"use strict";Object.defineProperty(SK,"__esModule",{value:!0});SK.Field=void 0;var drr=cot(),rge=class{constructor({name:e,kind:r=drr.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}};SK.Field=rge});var fot=b(xK=>{"use strict";Object.defineProperty(xK,"__esModule",{value:!0});xK.Fields=void 0;var nge=class{constructor({fields:e=[],encoding:r="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}};xK.Fields=nge});var hot=b(pot=>{"use strict";Object.defineProperty(pot,"__esModule",{value:!0})});var mot=b(CK=>{"use strict";Object.defineProperty(CK,"__esModule",{value:!0});CK.HttpRequest=void 0;var T2=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new T2({...this,headers:{...this.headers}});return e.query&&(e.query=frr(e.query)),e}};CK.HttpRequest=T2;function frr(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}});var got=b(OK=>{"use strict";Object.defineProperty(OK,"__esModule",{value:!0});OK.HttpResponse=void 0;var oge=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};OK.HttpResponse=oge});var yot=b(EK=>{"use strict";Object.defineProperty(EK,"__esModule",{value:!0});EK.isValidHostname=void 0;function prr(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}EK.isValidHostname=prr});var _ot=b(bot=>{"use strict";Object.defineProperty(bot,"__esModule",{value:!0})});var vot=b(Lx=>{"use strict";Object.defineProperty(Lx,"__esModule",{value:!0});var zR=(qR(),ml($R));zR.__exportStar(dot(),Lx);zR.__exportStar(fot(),Lx);zR.__exportStar(hot(),Lx);zR.__exportStar(mot(),Lx);zR.__exportStar(got(),Lx);zR.__exportStar(yot(),Lx);zR.__exportStar(_ot(),Lx)});var wot=b(ige=>{"use strict";Object.defineProperty(ige,"__esModule",{value:!0});var hrr=(qR(),ml($R));hrr.__exportStar(vot(),ige)});var HR={};Qd(HR,{__addDisposableResource:()=>Uot,__assign:()=>PK,__asyncDelegator:()=>jot,__asyncGenerator:()=>Dot,__asyncValues:()=>Not,__await:()=>_L,__awaiter:()=>Pot,__classPrivateFieldGet:()=>kot,__classPrivateFieldIn:()=>qot,__classPrivateFieldSet:()=>$ot,__createBinding:()=>MK,__decorate:()=>Cot,__disposeResources:()=>zot,__esDecorate:()=>mrr,__exportStar:()=>Mot,__extends:()=>Sot,__generator:()=>Tot,__importDefault:()=>Bot,__importStar:()=>Fot,__makeTemplateObject:()=>Lot,__metadata:()=>Eot,__param:()=>Oot,__propKey:()=>yrr,__read:()=>sge,__rest:()=>xot,__runInitializers:()=>grr,__setFunctionName:()=>brr,__spread:()=>Aot,__spreadArray:()=>Iot,__spreadArrays:()=>Rot,__values:()=>TK,default:()=>wrr});function Sot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");age(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function xot(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function Cot(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Oot(t,e){return function(r,n){e(r,n,t)}}function mrr(t,e,r,n,o,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,u=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var m={};for(var h in n)m[h]=h==="access"?{}:n[h];for(var h in n.access)m.access[h]=n.access[h];m.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var v=(0,r[p])(s==="accessor"?{get:c.get,set:c.set}:c[u],m);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=a(v.get))&&(c.get=d),(d=a(v.set))&&(c.set=d),(d=a(v.init))&&o.unshift(d)}else(d=a(v))&&(s==="field"?o.unshift(d):c[u]=d)}l&&Object.defineProperty(l,n.name,c),f=!0}function grr(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function yrr(t){return typeof t=="symbol"?t:"".concat(t)}function brr(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Eot(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Pot(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function Tot(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Mot(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MK(e,t,r)}function TK(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sge(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Aot(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sge(arguments[e]));return t}function Rot(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function Iot(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function _L(t){return this instanceof _L?(this.v=t,this):new _L(t)}function Dot(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(p){return function(m){return Promise.resolve(m).then(p,d)}}function s(p,m){n[p]&&(o[p]=function(h){return new Promise(function(v,g){i.push([p,h,v,g])>1||u(p,h)})},m&&(o[p]=m(o[p])))}function u(p,m){try{l(n[p](m))}catch(h){f(i[0][3],h)}}function l(p){p.value instanceof _L?Promise.resolve(p.value.v).then(c,d):f(i[0][2],p)}function c(p){u("next",p)}function d(p){u("throw",p)}function f(p,m){p(m),i.shift(),i.length&&u(i[0][0],i[0][1])}}function jot(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,i){e[o]=t[o]?function(a){return(r=!r)?{value:_L(t[o](a)),done:!1}:i?i(a):a}:i}}function Not(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof TK=="function"?TK(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function Lot(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Fot(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MK(e,t,r);return _rr(e,t),e}function Bot(t){return t&&t.__esModule?t:{default:t}}function kot(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $ot(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function qot(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Uot(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function zot(t){function e(i){t.error=t.hasError?new vrr(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}var age,PK,MK,_rr,vrr,wrr,VR=C(()=>{age=function(t,e){return age=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},age(t,e)};PK=function(){return PK=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},PK.apply(this,arguments)};MK=Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};_rr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};vrr=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};wrr={__extends:Sot,__assign:PK,__rest:xot,__decorate:Cot,__param:Oot,__metadata:Eot,__awaiter:Pot,__generator:Tot,__createBinding:MK,__exportStar:Mot,__values:TK,__read:sge,__spread:Aot,__spreadArrays:Rot,__spreadArray:Iot,__await:_L,__asyncGenerator:Dot,__asyncDelegator:jot,__asyncValues:Not,__makeTemplateObject:Lot,__importStar:Fot,__importDefault:Bot,__classPrivateFieldGet:kot,__classPrivateFieldSet:$ot,__classPrivateFieldIn:qot,__addDisposableResource:Uot,__disposeResources:zot}});var dge={};Qd(dge,{__assign:()=>lge,__asyncDelegator:()=>jrr,__asyncGenerator:()=>Drr,__asyncValues:()=>Nrr,__await:()=>M2,__awaiter:()=>Prr,__classPrivateFieldGet:()=>krr,__classPrivateFieldSet:()=>$rr,__createBinding:()=>Mrr,__decorate:()=>Crr,__exportStar:()=>Arr,__extends:()=>Srr,__generator:()=>Trr,__importDefault:()=>Brr,__importStar:()=>Frr,__makeTemplateObject:()=>Lrr,__metadata:()=>Err,__param:()=>Orr,__read:()=>Hot,__rest:()=>xrr,__spread:()=>Rrr,__spreadArrays:()=>Irr,__values:()=>cge});function Srr(t,e){uge(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function xrr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function Crr(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function Orr(t,e){return function(r,n){e(r,n,t)}}function Err(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Prr(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function Trr(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Mrr(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Arr(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function cge(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hot(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Rrr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hot(arguments[e]));return t}function Irr(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function M2(t){return this instanceof M2?(this.v=t,this):new M2(t)}function Drr(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(m,h){i.push([f,p,m,h])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(m){d(i[0][3],m)}}function u(f){f.value instanceof M2?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}function jrr(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,i){e[o]=t[o]?function(a){return(r=!r)?{value:M2(t[o](a)),done:o==="return"}:i?i(a):a}:i}}function Nrr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof cge=="function"?cge(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}}function Lrr(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Frr(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Brr(t){return t&&t.__esModule?t:{default:t}}function krr(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function $rr(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var uge,lge,fge=C(()=>{uge=function(t,e){return uge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},uge(t,e)};lge=function(){return lge=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},lge.apply(this,arguments)}});var Vot=b(vL=>{"use strict";Object.defineProperty(vL,"__esModule",{value:!0});vL.toUtf8=vL.fromUtf8=void 0;var qrr=t=>{let e=[];for(let r=0,n=t.length;r<n;r++){let o=t.charCodeAt(r);if(o<128)e.push(o);else if(o<2048)e.push(o>>6|192,o&63|128);else if(r+1<t.length&&(o&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){let i=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else e.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(e)};vL.fromUtf8=qrr;var Urr=t=>{let e="";for(let r=0,n=t.length;r<n;r++){let o=t[r];if(o<128)e+=String.fromCharCode(o);else if(192<=o&&o<224){let i=t[++r];e+=String.fromCharCode((o&31)<<6|i&63)}else if(240<=o&&o<365){let a="%"+[o,t[++r],t[++r],t[++r]].map(s=>s.toString(16)).join("%");e+=decodeURIComponent(a)}else e+=String.fromCharCode((o&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};vL.toUtf8=Urr});var Wot=b(wL=>{"use strict";Object.defineProperty(wL,"__esModule",{value:!0});wL.toUtf8=wL.fromUtf8=void 0;function zrr(t){return new TextEncoder().encode(t)}wL.fromUtf8=zrr;function Hrr(t){return new TextDecoder("utf-8").decode(t)}wL.toUtf8=Hrr});var Kot=b(SL=>{"use strict";Object.defineProperty(SL,"__esModule",{value:!0});SL.toUtf8=SL.fromUtf8=void 0;var Jot=Vot(),Got=Wot(),Vrr=t=>typeof TextEncoder=="function"?(0,Got.fromUtf8)(t):(0,Jot.fromUtf8)(t);SL.fromUtf8=Vrr;var Wrr=t=>typeof TextDecoder=="function"?(0,Got.toUtf8)(t):(0,Jot.toUtf8)(t);SL.toUtf8=Wrr});var Yot=b(AK=>{"use strict";Object.defineProperty(AK,"__esModule",{value:!0});AK.convertToBuffer=void 0;var Jrr=Kot(),Grr=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:Jrr.fromUtf8;function Krr(t){return t instanceof Uint8Array?t:typeof t=="string"?Grr(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}AK.convertToBuffer=Krr});var Xot=b(RK=>{"use strict";Object.defineProperty(RK,"__esModule",{value:!0});RK.isEmptyData=void 0;function Yrr(t){return typeof t=="string"?t.length===0:t.byteLength===0}RK.isEmptyData=Yrr});var Zot=b(IK=>{"use strict";Object.defineProperty(IK,"__esModule",{value:!0});IK.numToUint8=void 0;function Xrr(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}IK.numToUint8=Xrr});var Qot=b(DK=>{"use strict";Object.defineProperty(DK,"__esModule",{value:!0});DK.uint32ArrayFrom=void 0;function Zrr(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}DK.uint32ArrayFrom=Zrr});var pge=b(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.uint32ArrayFrom=pb.numToUint8=pb.isEmptyData=pb.convertToBuffer=void 0;var Qrr=Yot();Object.defineProperty(pb,"convertToBuffer",{enumerable:!0,get:function(){return Qrr.convertToBuffer}});var enr=Xot();Object.defineProperty(pb,"isEmptyData",{enumerable:!0,get:function(){return enr.isEmptyData}});var tnr=Zot();Object.defineProperty(pb,"numToUint8",{enumerable:!0,get:function(){return tnr.numToUint8}});var rnr=Qot();Object.defineProperty(pb,"uint32ArrayFrom",{enumerable:!0,get:function(){return rnr.uint32ArrayFrom}})});var rit=b(jK=>{"use strict";Object.defineProperty(jK,"__esModule",{value:!0});jK.AwsCrc32=void 0;var eit=(fge(),ml(dge)),hge=pge(),tit=NK(),nnr=function(){function t(){this.crc32=new tit.Crc32}return t.prototype.update=function(e){(0,hge.isEmptyData)(e)||this.crc32.update((0,hge.convertToBuffer)(e))},t.prototype.digest=function(){return eit.__awaiter(this,void 0,void 0,function(){return eit.__generator(this,function(e){return[2,(0,hge.numToUint8)(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new tit.Crc32},t}();jK.AwsCrc32=nnr});var NK=b(mP=>{"use strict";Object.defineProperty(mP,"__esModule",{value:!0});mP.AwsCrc32=mP.Crc32=mP.crc32=void 0;var onr=(fge(),ml(dge)),inr=pge();function anr(t){return new nit().update(t).digest()}mP.crc32=anr;var nit=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var o=onr.__values(e),i=o.next();!i.done;i=o.next()){var a=i.value;this.checksum=this.checksum>>>8^unr[(this.checksum^a)&255]}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();mP.Crc32=nit;var snr=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],unr=(0,inr.uint32ArrayFrom)(snr),lnr=rit();Object.defineProperty(mP,"AwsCrc32",{enumerable:!0,get:function(){return lnr.AwsCrc32}})});var CL=b(xL=>{"use strict";Object.defineProperty(xL,"__esModule",{value:!0});xL.toHex=xL.fromHex=void 0;var oit={},mge={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),oit[t]=e,mge[e]=t}function cnr(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in mge)e[r/2]=mge[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}xL.fromHex=cnr;function dnr(t){let e="";for(let r=0;r<t.byteLength;r++)e+=oit[t[r]];return e}xL.toHex=dnr});var gge=b(LK=>{"use strict";Object.defineProperty(LK,"__esModule",{value:!0});LK.Int64=void 0;var fnr=CL(),A2=class{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)r[n]=o;return e<0&&iit(r),new A2(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&iit(e),parseInt((0,fnr.toHex)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};LK.Int64=A2;function iit(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}});var _ge=b(FK=>{"use strict";Object.defineProperty(FK,"__esModule",{value:!0});FK.HeaderMarshaller=void 0;var OL=CL(),yge=gge(),bge=class{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let i of Object.keys(e)){let a=this.fromUtf8(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case"string":let s=this.fromUtf8(e.value),u=new DataView(new ArrayBuffer(3+s.byteLength));u.setUint8(0,7),u.setUint16(1,s.byteLength,!1);let l=new Uint8Array(u.buffer);return l.set(s,3),l;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set(yge.Int64.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!wnr.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,OL.fromHex)(e.value.replace(/\-/g,"")),1),d}}parse(e){let r={},n=0;for(;n<e.byteLength;){let o=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o));switch(n+=o,e.getUint8(n++)){case 0:r[i]={type:sit,value:!0};break;case 1:r[i]={type:sit,value:!1};break;case 2:r[i]={type:pnr,value:e.getInt8(n++)};break;case 3:r[i]={type:hnr,value:e.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:mnr,value:e.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:gnr,value:new yge.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:let a=e.getUint16(n,!1);n+=2,r[i]={type:ynr,value:new Uint8Array(e.buffer,e.byteOffset+n,a)},n+=a;break;case 7:let s=e.getUint16(n,!1);n+=2,r[i]={type:bnr,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:r[i]={type:_nr,value:new Date(new yge.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let u=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[i]={type:vnr,value:`${(0,OL.toHex)(u.subarray(0,4))}-${(0,OL.toHex)(u.subarray(4,6))}-${(0,OL.toHex)(u.subarray(6,8))}-${(0,OL.toHex)(u.subarray(8,10))}-${(0,OL.toHex)(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};FK.HeaderMarshaller=bge;var ait;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(ait||(ait={}));var sit="boolean",pnr="byte",hnr="short",mnr="integer",gnr="long",ynr="binary",bnr="string",_nr="timestamp",vnr="uuid",wnr=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/});var lit=b(BK=>{"use strict";Object.defineProperty(BK,"__esModule",{value:!0});BK.splitMessage=void 0;var Snr=NK(),uit=4,gP=uit*2,WR=4,xnr=gP+WR*2;function Cnr({byteLength:t,byteOffset:e,buffer:r}){if(t<xnr)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,e,t),o=n.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");let i=n.getUint32(uit,!1),a=n.getUint32(gP,!1),s=n.getUint32(t-WR,!1),u=new Snr.Crc32().update(new Uint8Array(r,e,gP));if(a!==u.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,e+gP,t-(gP+WR))),s!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${s}`);return{headers:new DataView(r,e+gP+WR,i),body:new Uint8Array(r,e+gP+WR+i,o-i-(gP+WR+WR))}}BK.splitMessage=Cnr});var cit=b(kK=>{"use strict";Object.defineProperty(kK,"__esModule",{value:!0});kK.EventStreamCodec=void 0;var Onr=NK(),Enr=_ge(),Pnr=lit(),vge=class{constructor(e,r){this.headerMarshaller=new Enr.HeaderMarshaller(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){let n=this.headerMarshaller.format(e),o=n.byteLength+r.byteLength+16,i=new Uint8Array(o),a=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new Onr.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),a.setUint32(o-4,s.update(i.subarray(8,o-4)).digest(),!1),i}decode(e){let{headers:r,body:n}=(0,Pnr.splitMessage)(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}};kK.EventStreamCodec=vge});var fit=b(dit=>{"use strict";Object.defineProperty(dit,"__esModule",{value:!0})});var pit=b($K=>{"use strict";Object.defineProperty($K,"__esModule",{value:!0});$K.MessageDecoderStream=void 0;var wge=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}};$K.MessageDecoderStream=wge});var hit=b(qK=>{"use strict";Object.defineProperty(qK,"__esModule",{value:!0});qK.MessageEncoderStream=void 0;var Sge=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}};qK.MessageEncoderStream=Sge});var mit=b(UK=>{"use strict";Object.defineProperty(UK,"__esModule",{value:!0});UK.SmithyMessageDecoderStream=void 0;var xge=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let r=await this.options.deserializer(e);r!==void 0&&(yield r)}}};UK.SmithyMessageDecoderStream=xge});var git=b(zK=>{"use strict";Object.defineProperty(zK,"__esModule",{value:!0});zK.SmithyMessageEncoderStream=void 0;var Cge=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}};zK.SmithyMessageEncoderStream=Cge});var yit=b(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});var yP=(VR(),ml(HR));yP.__exportStar(cit(),hb);yP.__exportStar(_ge(),hb);yP.__exportStar(gge(),hb);yP.__exportStar(fit(),hb);yP.__exportStar(pit(),hb);yP.__exportStar(hit(),hb);yP.__exportStar(mit(),hb);yP.__exportStar(git(),hb)});var bit=b(HK=>{"use strict";Object.defineProperty(HK,"__esModule",{value:!0});HK.normalizeProvider=void 0;var Tnr=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};HK.normalizeProvider=Tnr});var _it=b(Oge=>{"use strict";Object.defineProperty(Oge,"__esModule",{value:!0});var Mnr=(VR(),ml(HR));Mnr.__exportStar(bit(),Oge)});var Ege=b(VK=>{"use strict";Object.defineProperty(VK,"__esModule",{value:!0});VK.isArrayBuffer=void 0;var Anr=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";VK.isArrayBuffer=Anr});var Tge=b(EL=>{"use strict";Object.defineProperty(EL,"__esModule",{value:!0});EL.fromString=EL.fromArrayBuffer=void 0;var Rnr=Ege(),Pge=lg(),Inr=(t,e=0,r=t.byteLength-e)=>{if(!(0,Rnr.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return Pge.Buffer.from(t,e,r)};EL.fromArrayBuffer=Inr;var Dnr=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?Pge.Buffer.from(t,e):Pge.Buffer.from(t)};EL.fromString=Dnr});var Mge=b(WK=>{"use strict";Object.defineProperty(WK,"__esModule",{value:!0});WK.fromUtf8=void 0;var jnr=Tge(),Nnr=t=>{let e=(0,jnr.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};WK.fromUtf8=Nnr});var vit=b(JK=>{"use strict";Object.defineProperty(JK,"__esModule",{value:!0});JK.toUint8Array=void 0;var Lnr=Mge(),Fnr=t=>typeof t=="string"?(0,Lnr.fromUtf8)(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);JK.toUint8Array=Fnr});var wit=b(GK=>{"use strict";Object.defineProperty(GK,"__esModule",{value:!0});GK.toUtf8=void 0;var Bnr=Tge(),knr=t=>(0,Bnr.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8");GK.toUtf8=knr});var KK=b(R2=>{"use strict";Object.defineProperty(R2,"__esModule",{value:!0});var Age=(VR(),ml(HR));Age.__exportStar(Mge(),R2);Age.__exportStar(vit(),R2);Age.__exportStar(wit(),R2)});var JR=b(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.MAX_PRESIGNED_TTL=ht.KEY_TYPE_IDENTIFIER=ht.MAX_CACHE_SIZE=ht.UNSIGNED_PAYLOAD=ht.EVENT_ALGORITHM_IDENTIFIER=ht.ALGORITHM_IDENTIFIER_V4A=ht.ALGORITHM_IDENTIFIER=ht.UNSIGNABLE_PATTERNS=ht.SEC_HEADER_PATTERN=ht.PROXY_HEADER_PATTERN=ht.ALWAYS_UNSIGNABLE_HEADERS=ht.HOST_HEADER=ht.TOKEN_HEADER=ht.SHA256_HEADER=ht.SIGNATURE_HEADER=ht.GENERATED_HEADERS=ht.DATE_HEADER=ht.AMZ_DATE_HEADER=ht.AUTH_HEADER=ht.REGION_SET_PARAM=ht.TOKEN_QUERY_PARAM=ht.SIGNATURE_QUERY_PARAM=ht.EXPIRES_QUERY_PARAM=ht.SIGNED_HEADERS_QUERY_PARAM=ht.AMZ_DATE_QUERY_PARAM=ht.CREDENTIAL_QUERY_PARAM=ht.ALGORITHM_QUERY_PARAM=void 0;ht.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";ht.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";ht.AMZ_DATE_QUERY_PARAM="X-Amz-Date";ht.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";ht.EXPIRES_QUERY_PARAM="X-Amz-Expires";ht.SIGNATURE_QUERY_PARAM="X-Amz-Signature";ht.TOKEN_QUERY_PARAM="X-Amz-Security-Token";ht.REGION_SET_PARAM="X-Amz-Region-Set";ht.AUTH_HEADER="authorization";ht.AMZ_DATE_HEADER=ht.AMZ_DATE_QUERY_PARAM.toLowerCase();ht.DATE_HEADER="date";ht.GENERATED_HEADERS=[ht.AUTH_HEADER,ht.AMZ_DATE_HEADER,ht.DATE_HEADER];ht.SIGNATURE_HEADER=ht.SIGNATURE_QUERY_PARAM.toLowerCase();ht.SHA256_HEADER="x-amz-content-sha256";ht.TOKEN_HEADER=ht.TOKEN_QUERY_PARAM.toLowerCase();ht.HOST_HEADER="host";ht.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};ht.PROXY_HEADER_PATTERN=/^proxy-/;ht.SEC_HEADER_PATTERN=/^sec-/;ht.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];ht.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";ht.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";ht.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";ht.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";ht.MAX_CACHE_SIZE=50;ht.KEY_TYPE_IDENTIFIER="aws4_request";ht.MAX_PRESIGNED_TTL=60*60*24*7});var Ige=b(bP=>{"use strict";Object.defineProperty(bP,"__esModule",{value:!0});bP.clearCredentialCache=bP.getSigningKey=bP.createScope=void 0;var $nr=CL(),qnr=KK(),Rge=JR(),PL={},YK=[],Unr=(t,e,r)=>`${t}/${e}/${r}/${Rge.KEY_TYPE_IDENTIFIER}`;bP.createScope=Unr;var znr=async(t,e,r,n,o)=>{let i=await Sit(t,e.secretAccessKey,e.accessKeyId),a=`${r}:${n}:${o}:${(0,$nr.toHex)(i)}:${e.sessionToken}`;if(a in PL)return PL[a];for(YK.push(a);YK.length>Rge.MAX_CACHE_SIZE;)delete PL[YK.shift()];let s=`AWS4${e.secretAccessKey}`;for(let u of[r,n,o,Rge.KEY_TYPE_IDENTIFIER])s=await Sit(t,s,u);return PL[a]=s};bP.getSigningKey=znr;var Hnr=()=>{YK.length=0,Object.keys(PL).forEach(t=>{delete PL[t]})};bP.clearCredentialCache=Hnr;var Sit=(t,e,r)=>{let n=new t(e);return n.update((0,qnr.toUint8Array)(r)),n.digest()}});var jge=b(XK=>{"use strict";Object.defineProperty(XK,"__esModule",{value:!0});XK.getCanonicalHeaders=void 0;var Dge=JR(),Vnr=({headers:t},e,r)=>{let n={};for(let o of Object.keys(t).sort()){if(t[o]==null)continue;let i=o.toLowerCase();(i in Dge.ALWAYS_UNSIGNABLE_HEADERS||e?.has(i)||Dge.PROXY_HEADER_PATTERN.test(i)||Dge.SEC_HEADER_PATTERN.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[o].trim().replace(/\s+/g," "))}return n};XK.getCanonicalHeaders=Vnr});var Nge=b(ZK=>{"use strict";Object.defineProperty(ZK,"__esModule",{value:!0});ZK.escapeUri=void 0;var Wnr=t=>encodeURIComponent(t).replace(/[!'()*]/g,Jnr);ZK.escapeUri=Wnr;var Jnr=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var xit=b(QK=>{"use strict";Object.defineProperty(QK,"__esModule",{value:!0});QK.escapeUriPath=void 0;var Gnr=Nge(),Knr=t=>t.split("/").map(Gnr.escapeUri).join("/");QK.escapeUriPath=Knr});var Oit=b(e7=>{"use strict";Object.defineProperty(e7,"__esModule",{value:!0});var Cit=(VR(),ml(HR));Cit.__exportStar(Nge(),e7);Cit.__exportStar(xit(),e7)});var Lge=b(r7=>{"use strict";Object.defineProperty(r7,"__esModule",{value:!0});r7.getCanonicalQuery=void 0;var t7=Oit(),Ynr=JR(),Xnr=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===Ynr.SIGNATURE_HEADER)continue;e.push(n);let o=t[n];typeof o=="string"?r[n]=`${(0,t7.escapeUri)(n)}=${(0,t7.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((i,a)=>i.concat([`${(0,t7.escapeUri)(n)}=${(0,t7.escapeUri)(a)}`]),[]).join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};r7.getCanonicalQuery=Xnr});var Fge=b(n7=>{"use strict";Object.defineProperty(n7,"__esModule",{value:!0});n7.getPayloadHash=void 0;var Znr=Ege(),Qnr=CL(),eor=KK(),Eit=JR(),tor=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===Eit.SHA256_HEADER)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,Znr.isArrayBuffer)(e)){let n=new r;return n.update((0,eor.toUint8Array)(e)),(0,Qnr.toHex)(await n.digest())}return Eit.UNSIGNED_PAYLOAD};n7.getPayloadHash=tor});var Pit=b(_P=>{"use strict";Object.defineProperty(_P,"__esModule",{value:!0});_P.deleteHeader=_P.getHeaderValue=_P.hasHeader=void 0;var ror=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};_P.hasHeader=ror;var nor=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return e[r]};_P.getHeaderValue=nor;var oor=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))t===r.toLowerCase()&&delete e[r]};_P.deleteHeader=oor});var Bge=b(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});GR.cloneQuery=GR.cloneRequest=void 0;var ior=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?(0,GR.cloneQuery)(e):void 0});GR.cloneRequest=ior;var aor=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});GR.cloneQuery=aor});var kge=b(o7=>{"use strict";Object.defineProperty(o7,"__esModule",{value:!0});o7.moveHeadersToQuery=void 0;var sor=Bge(),uor=(t,e={})=>{var r;let{headers:n,query:o={}}=typeof t.clone=="function"?t.clone():(0,sor.cloneRequest)(t);for(let i of Object.keys(n)){let a=i.toLowerCase();a.slice(0,6)==="x-amz-"&&!(!((r=e.unhoistableHeaders)===null||r===void 0)&&r.has(a))&&(o[i]=n[i],delete n[i])}return{...t,headers:n,query:o}};o7.moveHeadersToQuery=uor});var $ge=b(i7=>{"use strict";Object.defineProperty(i7,"__esModule",{value:!0});i7.prepareRequest=void 0;var lor=Bge(),cor=JR(),dor=t=>{t=typeof t.clone=="function"?t.clone():(0,lor.cloneRequest)(t);for(let e of Object.keys(t.headers))cor.GENERATED_HEADERS.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};i7.prepareRequest=dor});var Tit=b(KR=>{"use strict";Object.defineProperty(KR,"__esModule",{value:!0});KR.toDate=KR.iso8601=void 0;var por=t=>(0,KR.toDate)(t).toISOString().replace(/\.\d{3}Z$/,"Z");KR.iso8601=por;var hor=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;KR.toDate=hor});var Dit=b(l7=>{"use strict";Object.defineProperty(l7,"__esModule",{value:!0});l7.SignatureV4=void 0;var mor=yit(),a7=CL(),Mit=_it(),I2=KK(),ic=JR(),s7=Ige(),Ait=jge(),gor=Lge(),qge=Fge(),yor=Pit(),bor=kge(),Rit=$ge(),_or=Tit(),Uge=class{constructor({applyChecksum:e,credentials:r,region:n,service:o,sha256:i,uriEscapePath:a=!0}){this.headerMarshaller=new mor.HeaderMarshaller(I2.toUtf8,I2.fromUtf8),this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,Mit.normalizeProvider)(n),this.credentialProvider=(0,Mit.normalizeProvider)(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:s,signingRegion:u,signingService:l}=r,c=await this.credentialProvider();this.validateResolvedCredentials(c);let d=u??await this.regionProvider(),{longDate:f,shortDate:p}=u7(n);if(o>ic.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=(0,s7.createScope)(p,d,l??this.service),h=(0,bor.moveHeadersToQuery)((0,Rit.prepareRequest)(e),{unhoistableHeaders:a});c.sessionToken&&(h.query[ic.TOKEN_QUERY_PARAM]=c.sessionToken),h.query[ic.ALGORITHM_QUERY_PARAM]=ic.ALGORITHM_IDENTIFIER,h.query[ic.CREDENTIAL_QUERY_PARAM]=`${c.accessKeyId}/${m}`,h.query[ic.AMZ_DATE_QUERY_PARAM]=f,h.query[ic.EXPIRES_QUERY_PARAM]=o.toString(10);let v=(0,Ait.getCanonicalHeaders)(h,i,s);return h.query[ic.SIGNED_HEADERS_QUERY_PARAM]=Iit(v),h.query[ic.SIGNATURE_QUERY_PARAM]=await this.getSignature(f,m,this.getSigningKey(c,d,p,l),this.createCanonicalRequest(h,v,await(0,qge.getPayloadHash)(e,this.sha256))),h}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:a}){let s=i??await this.regionProvider(),{shortDate:u,longDate:l}=u7(n),c=(0,s7.createScope)(u,s,a??this.service),d=await(0,qge.getPayloadHash)({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);let p=(0,a7.toHex)(await f.digest()),m=[ic.EVENT_ALGORITHM_IDENTIFIER,l,c,o,p,d].join(`
`);return this.signString(m,{signingDate:n,signingRegion:s,signingService:a})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:e.priorSignature}).then(a=>({message:e.message,signature:a}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:s}=u7(r),u=new this.sha256(await this.getSigningKey(i,a,s,o));return u.update((0,I2.toUint8Array)(e)),(0,a7.toHex)(await u.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let u=i??await this.regionProvider(),l=(0,Rit.prepareRequest)(e),{longDate:c,shortDate:d}=u7(r),f=(0,s7.createScope)(d,u,a??this.service);l.headers[ic.AMZ_DATE_HEADER]=c,s.sessionToken&&(l.headers[ic.TOKEN_HEADER]=s.sessionToken);let p=await(0,qge.getPayloadHash)(l,this.sha256);!(0,yor.hasHeader)(ic.SHA256_HEADER,l.headers)&&this.applyChecksum&&(l.headers[ic.SHA256_HEADER]=p);let m=(0,Ait.getCanonicalHeaders)(l,o,n),h=await this.getSignature(c,f,this.getSigningKey(s,u,d,a),this.createCanonicalRequest(l,m,p));return l.headers[ic.AUTH_HEADER]=`${ic.ALGORITHM_IDENTIFIER} Credential=${s.accessKeyId}/${f}, SignedHeaders=${Iit(m)}, Signature=${h}`,l}createCanonicalRequest(e,r,n){let o=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${(0,gor.getCanonicalQuery)(e)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(e,r,n){let o=new this.sha256;o.update((0,I2.toUint8Array)(n));let i=await o.digest();return`${ic.ALGORITHM_IDENTIFIER}
${e}
${r}
${(0,a7.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,o){let i=await this.createStringToSign(e,r,o),a=new this.sha256(await n);return a.update((0,I2.toUint8Array)(i)),(0,a7.toHex)(await a.digest())}getSigningKey(e,r,n,o){return(0,s7.getSigningKey)(this.sha256,e,n,r,o||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};l7.SignatureV4=Uge;var u7=t=>{let e=(0,_or.iso8601)(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},Iit=t=>Object.keys(t).sort().join(";")});var Nit=b(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.prepareRequest=wf.moveHeadersToQuery=wf.getPayloadHash=wf.getCanonicalQuery=wf.getCanonicalHeaders=void 0;var jit=(VR(),ml(HR));jit.__exportStar(Dit(),wf);var vor=jge();Object.defineProperty(wf,"getCanonicalHeaders",{enumerable:!0,get:function(){return vor.getCanonicalHeaders}});var wor=Lge();Object.defineProperty(wf,"getCanonicalQuery",{enumerable:!0,get:function(){return wor.getCanonicalQuery}});var Sor=Fge();Object.defineProperty(wf,"getPayloadHash",{enumerable:!0,get:function(){return Sor.getPayloadHash}});var xor=kge();Object.defineProperty(wf,"moveHeadersToQuery",{enumerable:!0,get:function(){return xor.moveHeadersToQuery}});var Cor=$ge();Object.defineProperty(wf,"prepareRequest",{enumerable:!0,get:function(){return Cor.prepareRequest}});jit.__exportStar(Ige(),wf)});var Lit=b(zge=>{"use strict";Object.defineProperty(zge,"__esModule",{value:!0});var Oor=(VR(),ml(HR));Oor.__exportStar(Nit(),zge)});var pa=b((GQn,Fit)=>{"use strict";Fit.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var TL=b((KQn,c7)=>{"use strict";var{AbortController:Bit,AbortSignal:Eor}=typeof self<"u"?self:typeof window<"u"?window:void 0;c7.exports=Bit;c7.exports.AbortSignal=Eor;c7.exports.default=Bit});var D2=b((YQn,Hge)=>{"use strict";var ML=typeof Reflect=="object"?Reflect:null,kit=ML&&typeof ML.apply=="function"?ML.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},d7;ML&&typeof ML.ownKeys=="function"?d7=ML.ownKeys:Object.getOwnPropertySymbols?d7=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:d7=function(e){return Object.getOwnPropertyNames(e)};function Por(t){console&&console.warn&&console.warn(t)}var qit=Number.isNaN||function(e){return e!==e};function zo(){zo.init.call(this)}Hge.exports=zo;Hge.exports.once=Ror;zo.EventEmitter=zo;zo.prototype._events=void 0;zo.prototype._eventsCount=0;zo.prototype._maxListeners=void 0;var $it=10;function f7(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(zo,"defaultMaxListeners",{enumerable:!0,get:function(){return $it},set:function(t){if(typeof t!="number"||t<0||qit(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$it=t}});zo.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};zo.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||qit(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Uit(t){return t._maxListeners===void 0?zo.defaultMaxListeners:t._maxListeners}zo.prototype.getMaxListeners=function(){return Uit(this)};zo.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=e==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(u===void 0)return!1;if(typeof u=="function")kit(u,this,r);else for(var l=u.length,c=Jit(u,l),n=0;n<l;++n)kit(c[n],this,r);return!0};function zit(t,e,r,n){var o,i,a;if(f7(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),o=Uit(t),o>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,Por(s)}return t}zo.prototype.addListener=function(e,r){return zit(this,e,r,!1)};zo.prototype.on=zo.prototype.addListener;zo.prototype.prependListener=function(e,r){return zit(this,e,r,!0)};function Tor(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Hit(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=Tor.bind(n);return o.listener=r,n.wrapFn=o,o}zo.prototype.once=function(e,r){return f7(r),this.on(e,Hit(this,e,r)),this};zo.prototype.prependOnceListener=function(e,r){return f7(r),this.prependListener(e,Hit(this,e,r)),this};zo.prototype.removeListener=function(e,r){var n,o,i,a,s;if(f7(r),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():Mor(n,i),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,s||r)}return this};zo.prototype.off=zo.prototype.removeListener;zo.prototype.removeAllListeners=function(e){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),a;for(o=0;o<i.length;++o)a=i[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(e,r[o]);return this};function Vit(t,e,r){var n=t._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?Aor(o):Jit(o,o.length)}zo.prototype.listeners=function(e){return Vit(this,e,!0)};zo.prototype.rawListeners=function(e){return Vit(this,e,!1)};zo.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Wit.call(t,e)};zo.prototype.listenerCount=Wit;function Wit(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}zo.prototype.eventNames=function(){return this._eventsCount>0?d7(this._events):[]};function Jit(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Mor(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Aor(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Ror(t,e){return new Promise(function(r,n){function o(a){t.removeListener(e,i),n(a)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",o),r([].slice.call(arguments))}Git(t,e,i,{once:!0}),e!=="error"&&Ior(t,o,{once:!0})})}function Ior(t,e,r){typeof t.on=="function"&&Git(t,"error",e,r)}function Git(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(i){n.once&&t.removeEventListener(e,o),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var ed=b((XQn,Wge)=>{"use strict";var Dor=lg(),{kResistStopPropagation:jor,SymbolDispose:Nor}=pa(),Lor=globalThis.AbortSignal||TL().AbortSignal,For=globalThis.AbortController||TL().AbortController,Bor=Object.getPrototypeOf(async function(){}).constructor,Kit=globalThis.Blob||Dor.Blob,kor=typeof Kit<"u"?function(e){return e instanceof Kit}:function(e){return!1},Yit=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)},$or=(t,e)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(e,"Function",t)},Vge=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Wge.exports={AggregateError:Vge,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,o)=>{t=n,e=o}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...o)=>n?r(n):e(...o))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let o=e.shift();return n==="f"?o.toFixed(6):n==="j"?JSON.stringify(o):n==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof Bor},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:kor,deprecate(t,e){return t},addAbortListener:D2().addAbortListener||function(e,r){if(e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);Yit(e,"signal"),$or(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[jor]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Nor](){var o;(o=n)===null||o===void 0||o()}}},AbortSignalAny:Lor.any||function(e){if(e.length===1)return e[0];let r=new For,n=()=>r.abort();return e.forEach(o=>{Yit(o,"signals"),o.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(o=>o.removeEventListener("abort",n))},{once:!0}),r.signal}};Wge.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Fd=b((ZQn,Qit)=>{"use strict";var{format:qor,inspect:p7,AggregateError:Uor}=ed(),zor=globalThis.AggregateError||Uor,Hor=Symbol("kIsNodeError"),Vor=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Wor=/^([A-Z][a-z0-9]*)+$/,Jor="__node_internal_",h7={};function YR(t,e){if(!t)throw new h7.ERR_INTERNAL_ASSERTION(e)}function Xit(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Gor(t,e,r){if(typeof e=="function")return YR(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return YR(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:qor(e,...r)}function ac(t,e,r){r||(r=Error);class n extends r{constructor(...i){super(Gor(t,e,i))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Hor]=!0,h7[t]=n}function Zit(t){let e=Jor+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Kor(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new zor([e,t],e.message);return r.code=e.code,r}return t||e}var Jge=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new h7.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ac("ERR_ASSERTION","%s",Error);ac("ERR_INVALID_ARG_TYPE",(t,e,r)=>{YR(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let o=[],i=[],a=[];for(let u of e)YR(typeof u=="string","All expected entries have to be of type string"),Vor.includes(u)?o.push(u.toLowerCase()):Wor.test(u)?i.push(u):(YR(u!=="object",'The value "object" should be written as "Object"'),a.push(u));if(i.length>0){let u=o.indexOf("object");u!==-1&&(o.splice(o,u,1),i.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let u=o.pop();n+=`one of type ${o.join(", ")}, or ${u}`}}(i.length>0||a.length>0)&&(n+=" or ")}if(i.length>0){switch(i.length){case 1:n+=`an instance of ${i[0]}`;break;case 2:n+=`an instance of ${i[0]} or ${i[1]}`;break;default:{let u=i.pop();n+=`an instance of ${i.join(", ")}, or ${u}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let u=a.pop();n+=`one of ${a.join(", ")}, or ${u}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var s;if((s=r.constructor)!==null&&s!==void 0&&s.name)n+=`. Received an instance of ${r.constructor.name}`;else{let u=p7(r,{depth:-1});n+=`. Received ${u}`}}else{let u=p7(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),n+=`. Received type ${typeof r} (${u})`}return n},TypeError);ac("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=p7(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ac("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${o}.`},TypeError);ac("ERR_MISSING_ARGS",(...t)=>{YR(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ac("ERR_OUT_OF_RANGE",(t,e,r)=>{YR(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Xit(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Xit(n)),n+="n"):n=p7(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ac("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ac("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ac("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ac("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ac("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ac("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ac("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ac("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ac("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ac("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ac("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Qit.exports={AbortError:Jge,aggregateTwoErrors:Zit(Kor),hideStackFrames:Zit,codes:h7}});var RL=b((QQn,lat)=>{"use strict";var{ArrayIsArray:Kge,ArrayPrototypeIncludes:nat,ArrayPrototypeJoin:oat,ArrayPrototypeMap:Yor,NumberIsInteger:Yge,NumberIsNaN:Xor,NumberMAX_SAFE_INTEGER:Zor,NumberMIN_SAFE_INTEGER:Qor,NumberParseInt:eir,ObjectPrototypeHasOwnProperty:tir,RegExpPrototypeExec:iat,String:rir,StringPrototypeToUpperCase:nir,StringPrototypeTrim:oir}=pa(),{hideStackFrames:Dh,codes:{ERR_SOCKET_BAD_PORT:iir,ERR_INVALID_ARG_TYPE:td,ERR_INVALID_ARG_VALUE:AL,ERR_OUT_OF_RANGE:XR,ERR_UNKNOWN_SIGNAL:eat}}=Fd(),{normalizeEncoding:air}=ed(),{isAsyncFunction:sir,isArrayBufferView:uir}=ed().types,tat={};function lir(t){return t===(t|0)}function cir(t){return t===t>>>0}var dir=/^[0-7]+$/,fir="must be a 32-bit unsigned integer or an octal string";function pir(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(iat(dir,t)===null)throw new AL(e,t,fir);t=eir(t,8)}return aat(t,e),t}var hir=Dh((t,e,r=Qor,n=Zor)=>{if(typeof t!="number")throw new td(e,"number",t);if(!Yge(t))throw new XR(e,"an integer",t);if(t<r||t>n)throw new XR(e,`>= ${r} && <= ${n}`,t)}),mir=Dh((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new td(e,"number",t);if(!Yge(t))throw new XR(e,"an integer",t);if(t<r||t>n)throw new XR(e,`>= ${r} && <= ${n}`,t)}),aat=Dh((t,e,r=!1)=>{if(typeof t!="number")throw new td(e,"number",t);if(!Yge(t))throw new XR(e,"an integer",t);let n=r?1:0,o=4294967295;if(t<n||t>o)throw new XR(e,`>= ${n} && <= ${o}`,t)});function Xge(t,e){if(typeof t!="string")throw new td(e,"string",t)}function gir(t,e,r=void 0,n){if(typeof t!="number")throw new td(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Xor(t))throw new XR(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var yir=Dh((t,e,r)=>{if(!nat(r,t)){let o="must be one of: "+oat(Yor(r,i=>typeof i=="string"?`'${i}'`:rir(i)),", ");throw new AL(e,t,o)}});function sat(t,e){if(typeof t!="boolean")throw new td(e,"boolean",t)}function Gge(t,e,r){return t==null||!tir(t,e)?r:t[e]}var bir=Dh((t,e,r=null)=>{let n=Gge(r,"allowArray",!1),o=Gge(r,"allowFunction",!1);if(!Gge(r,"nullable",!1)&&t===null||!n&&Kge(t)||typeof t!="object"&&(!o||typeof t!="function"))throw new td(e,"Object",t)}),_ir=Dh((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new td(e,"a dictionary",t)}),m7=Dh((t,e,r=0)=>{if(!Kge(t))throw new td(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new AL(e,t,n)}});function vir(t,e){m7(t,e);for(let r=0;r<t.length;r++)Xge(t[r],`${e}[${r}]`)}function wir(t,e){m7(t,e);for(let r=0;r<t.length;r++)sat(t[r],`${e}[${r}]`)}function Sir(t,e){m7(t,e);for(let r=0;r<t.length;r++){let n=t[r],o=`${e}[${r}]`;if(n==null)throw new td(o,"AbortSignal",n);uat(n,o)}}function xir(t,e="signal"){if(Xge(t,e),tat[t]===void 0)throw tat[nir(t)]!==void 0?new eat(t+" (signals must use all capital letters)"):new eat(t)}var Cir=Dh((t,e="buffer")=>{if(!uir(t))throw new td(e,["Buffer","TypedArray","DataView"],t)});function Oir(t,e){let r=air(e),n=t.length;if(r==="hex"&&n%2!==0)throw new AL("encoding",e,`is invalid for data of length ${n}`)}function Eir(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&oir(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new iir(e,t,r);return t|0}var uat=Dh((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new td(e,"AbortSignal",t)}),Pir=Dh((t,e)=>{if(typeof t!="function")throw new td(e,"Function",t)}),Tir=Dh((t,e)=>{if(typeof t!="function"||sir(t))throw new td(e,"Function",t)}),Mir=Dh((t,e)=>{if(t!==void 0)throw new td(e,"undefined",t)});function Air(t,e,r){if(!nat(r,t))throw new td(e,`('${oat(r,"|")}')`,t)}var Rir=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function rat(t,e){if(typeof t>"u"||!iat(Rir,t))throw new AL(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Iir(t){if(typeof t=="string")return rat(t,"hints"),t;if(Kge(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let o=t[n];rat(o,"hints"),r+=o,n!==e-1&&(r+=", ")}return r}throw new AL("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}lat.exports={isInt32:lir,isUint32:cir,parseFileMode:pir,validateArray:m7,validateStringArray:vir,validateBooleanArray:wir,validateAbortSignalArray:Sir,validateBoolean:sat,validateBuffer:Cir,validateDictionary:_ir,validateEncoding:Oir,validateFunction:Pir,validateInt32:mir,validateInteger:hir,validateNumber:gir,validateObject:bir,validateOneOf:yir,validatePlainFunction:Tir,validatePort:Eir,validateSignalName:xir,validateString:Xge,validateUint32:aat,validateUndefined:Mir,validateUnion:Air,validateAbortSignal:uat,validateLinkHeaderValue:Iir}});var vP=b((eeo,pat)=>{var os=pat.exports={},mb,gb;function Zge(){throw new Error("setTimeout has not been defined")}function Qge(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?mb=setTimeout:mb=Zge}catch{mb=Zge}try{typeof clearTimeout=="function"?gb=clearTimeout:gb=Qge}catch{gb=Qge}})();function cat(t){if(mb===setTimeout)return setTimeout(t,0);if((mb===Zge||!mb)&&setTimeout)return mb=setTimeout,setTimeout(t,0);try{return mb(t,0)}catch{try{return mb.call(null,t,0)}catch{return mb.call(this,t,0)}}}function Dir(t){if(gb===clearTimeout)return clearTimeout(t);if((gb===Qge||!gb)&&clearTimeout)return gb=clearTimeout,clearTimeout(t);try{return gb(t)}catch{try{return gb.call(null,t)}catch{return gb.call(this,t)}}}var Fx=[],IL=!1,ZR,g7=-1;function jir(){!IL||!ZR||(IL=!1,ZR.length?Fx=ZR.concat(Fx):g7=-1,Fx.length&&dat())}function dat(){if(!IL){var t=cat(jir);IL=!0;for(var e=Fx.length;e;){for(ZR=Fx,Fx=[];++g7<e;)ZR&&ZR[g7].run();g7=-1,e=Fx.length}ZR=null,IL=!1,Dir(t)}}os.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Fx.push(new fat(t,e)),Fx.length===1&&!IL&&cat(dat)};function fat(t,e){this.fun=t,this.array=e}fat.prototype.run=function(){this.fun.apply(null,this.array)};os.title="browser";os.browser=!0;os.env={};os.argv=[];os.version="";os.versions={};function Bx(){}os.on=Bx;os.addListener=Bx;os.once=Bx;os.off=Bx;os.removeListener=Bx;os.removeAllListeners=Bx;os.emit=Bx;os.prependListener=Bx;os.prependOnceListener=Bx;os.listeners=function(t){return[]};os.binding=function(t){throw new Error("process.binding is not supported")};os.cwd=function(){return"/"};os.chdir=function(t){throw new Error("process.chdir is not supported")};os.umask=function(){return 0}});var bb=b((teo,Tat)=>{"use strict";var{SymbolAsyncIterator:hat,SymbolIterator:mat,SymbolFor:QR}=pa(),gat=QR("nodejs.stream.destroyed"),yat=QR("nodejs.stream.errored"),eye=QR("nodejs.stream.readable"),tye=QR("nodejs.stream.writable"),bat=QR("nodejs.stream.disturbed"),Nir=QR("nodejs.webstream.isClosedPromise"),Lir=QR("nodejs.webstream.controllerErrorFunction");function y7(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function b7(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Fir(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function yb(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function _at(t){return!!(t&&!yb(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function vat(t){return!!(t&&!yb(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function wat(t){return!!(t&&!yb(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Bir(t){return _at(t)||vat(t)||wat(t)}function kir(t,e){return t==null?!1:e===!0?typeof t[hat]=="function":e===!1?typeof t[mat]=="function":typeof t[hat]=="function"||typeof t[mat]=="function"}function _7(t){if(!yb(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[gat]||n!=null&&n.destroyed)}function Sat(t){if(!b7(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function $ir(t,e){if(!b7(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function qir(t){if(!y7(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function xat(t,e){if(!y7(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Cat(t){return t&&t[eye]!=null?t[eye]:typeof t?.readable!="boolean"?null:_7(t)?!1:y7(t)&&t.readable&&!xat(t)}function Oat(t){return t&&t[tye]!=null?t[tye]:typeof t?.writable!="boolean"?null:_7(t)?!1:b7(t)&&t.writable&&!Sat(t)}function Uir(t,e){return yb(t)?_7(t)?!0:!(e?.readable!==!1&&Cat(t)||e?.writable!==!1&&Oat(t)):null}function zir(t){var e,r;return yb(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Hir(t){var e,r;return yb(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Vir(t){if(!yb(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Eat(t)?t._closed:null}function Eat(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Pat(t){return typeof t._sent100=="boolean"&&Eat(t)}function Wir(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Jir(t){if(!yb(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&Pat(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Gir(t){var e;return!!(t&&((e=t[bat])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Kir(t){var e,r,n,o,i,a,s,u,l,c;return!!(t&&((e=(r=(n=(o=(i=(a=t[yat])!==null&&a!==void 0?a:t.readableErrored)!==null&&i!==void 0?i:t.writableErrored)!==null&&o!==void 0?o:(s=t._readableState)===null||s===void 0?void 0:s.errorEmitted)!==null&&n!==void 0?n:(u=t._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((c=t._writableState)===null||c===void 0)&&c.errored))}Tat.exports={isDestroyed:_7,kIsDestroyed:gat,isDisturbed:Gir,kIsDisturbed:bat,isErrored:Kir,kIsErrored:yat,isReadable:Cat,kIsReadable:eye,kIsClosedPromise:Nir,kControllerErrorFunction:Lir,kIsWritable:tye,isClosed:Vir,isDuplexNodeStream:Fir,isFinished:Uir,isIterable:kir,isReadableNodeStream:y7,isReadableStream:_at,isReadableEnded:qir,isReadableFinished:xat,isReadableErrored:Hir,isNodeStream:yb,isWebStream:Bir,isWritable:Oat,isWritableNodeStream:b7,isWritableStream:vat,isWritableEnded:Sat,isWritableFinished:$ir,isWritableErrored:zir,isServerRequest:Wir,isServerResponse:Pat,willEmitClose:Jir,isTransformStream:wat}});var kx=b((reo,aye)=>{var wP=vP(),{AbortError:Fat,codes:Yir}=Fd(),{ERR_INVALID_ARG_TYPE:Xir,ERR_STREAM_PREMATURE_CLOSE:Mat}=Yir,{kEmptyObject:nye,once:oye}=ed(),{validateAbortSignal:Zir,validateFunction:Qir,validateObject:ear,validateBoolean:tar}=RL(),{Promise:rar,PromisePrototypeThen:nar,SymbolDispose:Bat}=pa(),{isClosed:oar,isReadable:Aat,isReadableNodeStream:rye,isReadableStream:iar,isReadableFinished:Rat,isReadableErrored:Iat,isWritable:Dat,isWritableNodeStream:jat,isWritableStream:aar,isWritableFinished:Nat,isWritableErrored:Lat,isNodeStream:sar,willEmitClose:uar,kIsClosedPromise:lar}=bb(),DL;function car(t){return t.setHeader&&typeof t.abort=="function"}var iye=()=>{};function kat(t,e,r){var n,o;if(arguments.length===2?(r=e,e=nye):e==null?e=nye:ear(e,"options"),Qir(r,"callback"),Zir(e.signal,"options.signal"),r=oye(r),iar(t)||aar(t))return dar(t,e,r);if(!sar(t))throw new Xir("stream",["ReadableStream","WritableStream","Stream"],t);let i=(n=e.readable)!==null&&n!==void 0?n:rye(t),a=(o=e.writable)!==null&&o!==void 0?o:jat(t),s=t._writableState,u=t._readableState,l=()=>{t.writable||f()},c=uar(t)&&rye(t)===i&&jat(t)===a,d=Nat(t,!1),f=()=>{d=!0,t.destroyed&&(c=!1),!(c&&(!t.readable||i))&&(!i||p)&&r.call(t)},p=Rat(t,!1),m=()=>{p=!0,t.destroyed&&(c=!1),!(c&&(!t.writable||a))&&(!a||d)&&r.call(t)},h=O=>{r.call(t,O)},v=oar(t),g=()=>{v=!0;let O=Lat(t)||Iat(t);if(O&&typeof O!="boolean")return r.call(t,O);if(i&&!p&&rye(t,!0)&&!Rat(t,!1))return r.call(t,new Mat);if(a&&!d&&!Nat(t,!1))return r.call(t,new Mat);r.call(t)},_=()=>{v=!0;let O=Lat(t)||Iat(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},S=()=>{t.req.on("finish",f)};car(t)?(t.on("complete",f),c||t.on("abort",g),t.req?S():t.on("request",S)):a&&!s&&(t.on("end",l),t.on("close",l)),!c&&typeof t.aborted=="boolean"&&t.on("aborted",g),t.on("end",m),t.on("finish",f),e.error!==!1&&t.on("error",h),t.on("close",g),v?wP.nextTick(g):s!=null&&s.errorEmitted||u!=null&&u.errorEmitted?c||wP.nextTick(_):(!i&&(!c||Aat(t))&&(d||Dat(t)===!1)||!a&&(!c||Dat(t))&&(p||Aat(t)===!1)||u&&t.req&&t.aborted)&&wP.nextTick(_);let x=()=>{r=iye,t.removeListener("aborted",g),t.removeListener("complete",f),t.removeListener("abort",g),t.removeListener("request",S),t.req&&t.req.removeListener("finish",f),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",f),t.removeListener("end",m),t.removeListener("error",h),t.removeListener("close",g)};if(e.signal&&!v){let O=()=>{let T=r;x(),T.call(t,new Fat(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)wP.nextTick(O);else{DL=DL||ed().addAbortListener;let T=DL(e.signal,O),E=r;r=oye((...M)=>{T[Bat](),E.apply(t,M)})}}return x}function dar(t,e,r){let n=!1,o=iye;if(e.signal)if(o=()=>{n=!0,r.call(t,new Fat(void 0,{cause:e.signal.reason}))},e.signal.aborted)wP.nextTick(o);else{DL=DL||ed().addAbortListener;let a=DL(e.signal,o),s=r;r=oye((...u)=>{a[Bat](),s.apply(t,u)})}let i=(...a)=>{n||wP.nextTick(()=>r.apply(t,a))};return nar(t[lar].promise,i,i),iye}function far(t,e){var r;let n=!1;return e===null&&(e=nye),(r=e)!==null&&r!==void 0&&r.cleanup&&(tar(e.cleanup,"cleanup"),n=e.cleanup),new rar((o,i)=>{let a=kat(t,e,s=>{n&&a(),s?i(s):o()})})}aye.exports=kat;aye.exports.finished=far});var eI=b((neo,Jat)=>{"use strict";var _b=vP(),{aggregateTwoErrors:par,codes:{ERR_MULTIPLE_CALLBACK:har},AbortError:mar}=Fd(),{Symbol:Uat}=pa(),{kIsDestroyed:gar,isDestroyed:yar,isFinished:bar,isServerRequest:_ar}=bb(),zat=Uat("kDestroy"),sye=Uat("kConstruct");function Hat(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function war(t,e){let r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Hat(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?$at(this,t,e):this.once(zat,function(i){$at(this,par(i,t),e)}),this)}function $at(t,e,r){let n=!1;function o(i){if(n)return;n=!0;let a=t._readableState,s=t._writableState;Hat(i,s,a),s&&(s.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(i),i?_b.nextTick(Sar,t,i):_b.nextTick(Vat,t)}try{t._destroy(e||null,o)}catch(i){o(i)}}function Sar(t,e){uye(t,e),Vat(t)}function Vat(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function uye(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function xar(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function lye(t,e,r){let n=t._readableState,o=t._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?t.destroy(e):e&&(e.stack,o&&!o.errored&&(o.errored=e),n&&!n.errored&&(n.errored=e),r?_b.nextTick(uye,t,e):uye(t,e))}function Car(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(sye,e),!(t.listenerCount(sye)>1)&&_b.nextTick(Oar,t)}function Oar(t){let e=!1;function r(n){if(e){lye(t,n??new har);return}e=!0;let o=t._readableState,i=t._writableState,a=i||o;o&&(o.constructed=!0),i&&(i.constructed=!0),a.destroyed?t.emit(zat,n):n?lye(t,n,!0):_b.nextTick(Ear,t)}try{t._construct(n=>{_b.nextTick(r,n)})}catch(n){_b.nextTick(r,n)}}function Ear(t){t.emit(sye)}function qat(t){return t?.setHeader&&typeof t.abort=="function"}function Wat(t){t.emit("close")}function Par(t,e){t.emit("error",e),_b.nextTick(Wat,t)}function Tar(t,e){!t||yar(t)||(!e&&!bar(t)&&(e=new mar),_ar(t)?(t.socket=null,t.destroy(e)):qat(t)?t.abort():qat(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?_b.nextTick(Par,t,e):_b.nextTick(Wat,t),t.destroyed||(t[gar]=!0))}Jat.exports={construct:Car,destroyer:Tar,destroy:war,undestroy:xar,errorOrDestroy:lye}});var S7=b((oeo,Kat)=>{"use strict";var{ArrayIsArray:Mar,ObjectSetPrototypeOf:Gat}=pa(),{EventEmitter:v7}=D2();function w7(t){v7.call(this,t)}Gat(w7.prototype,v7.prototype);Gat(w7,v7);w7.prototype.pipe=function(t,e){let r=this;function n(c){t.writable&&t.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}t.on("drain",o),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",s));let i=!1;function a(){i||(i=!0,t.end())}function s(){i||(i=!0,typeof t.destroy=="function"&&t.destroy())}function u(c){l(),v7.listenerCount(this,"error")===0&&this.emit("error",c)}cye(r,"error",u),cye(t,"error",u);function l(){r.removeListener("data",n),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function cye(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Mar(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}Kat.exports={Stream:w7,prependListener:cye}});var j2=b((ieo,x7)=>{"use strict";var{SymbolDispose:Aar}=pa(),{AbortError:Yat,codes:Rar}=Fd(),{isNodeStream:Xat,isWebStream:Iar,kControllerErrorFunction:Dar}=bb(),jar=kx(),{ERR_INVALID_ARG_TYPE:Zat}=Rar,dye,Nar=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new Zat(e,"AbortSignal",t)};x7.exports.addAbortSignal=function(e,r){if(Nar(e,"signal"),!Xat(r)&&!Iar(r))throw new Zat("stream",["ReadableStream","WritableStream","Stream"],r);return x7.exports.addAbortSignalNoValidate(e,r)};x7.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=Xat(e)?()=>{e.destroy(new Yat(void 0,{cause:t.reason}))}:()=>{e[Dar](new Yat(void 0,{cause:t.reason}))};if(t.aborted)r();else{dye=dye||ed().addAbortListener;let n=dye(t,r);jar(e,n[Aar])}return e}});var tst=b((seo,est)=>{"use strict";var{StringPrototypeSlice:Qat,SymbolIterator:Lar,TypedArrayPrototypeSet:C7,Uint8Array:Far}=pa(),{Buffer:fye}=lg(),{inspect:Bar}=ed();est.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return fye.alloc(0);let r=fye.allocUnsafe(e>>>0),n=this.head,o=0;for(;n;)C7(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let o=n.slice(0,e);return this.head.data=n.slice(e),o}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Lar](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,o=0;do{let i=n.data;if(e>i.length)r+=i,e-=i.length;else{e===i.length?(r+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=Qat(i,0,e),this.head=n,n.data=Qat(i,e));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(e){let r=fye.allocUnsafe(e),n=e,o=this.head,i=0;do{let a=o.data;if(e>a.length)C7(r,a,n-e),e-=a.length;else{e===a.length?(C7(r,a,n-e),++i,o.next?this.head=o.next:this.head=this.tail=null):(C7(r,new Far(a.buffer,a.byteOffset,e),n-e),this.head=o,o.data=a.slice(e));break}++i}while((o=o.next)!==null);return this.length-=i,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Bar(this,{...r,depth:0,customInspect:!1})}}});var N2=b((ueo,ist)=>{"use strict";var{MathFloor:kar,NumberIsInteger:$ar}=pa(),{validateInteger:qar}=RL(),{ERR_INVALID_ARG_VALUE:Uar}=Fd().codes,rst=16*1024,nst=16;function zar(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ost(t){return t?nst:rst}function Har(t,e){qar(e,"value",0),t?nst=e:rst=e}function Var(t,e,r,n){let o=zar(e,n,r);if(o!=null){if(!$ar(o)||o<0){let i=n?`options.${r}`:"options.highWaterMark";throw new Uar(i,o)}return kar(o)}return ost(t.objectMode)}ist.exports={getHighWaterMark:Var,getDefaultHighWaterMark:ost,setDefaultHighWaterMark:Har}});var ust=b((pye,sst)=>{var O7=lg(),vb=O7.Buffer;function ast(t,e){for(var r in t)e[r]=t[r]}vb.from&&vb.alloc&&vb.allocUnsafe&&vb.allocUnsafeSlow?sst.exports=O7:(ast(O7,pye),pye.Buffer=tI);function tI(t,e,r){return vb(t,e,r)}tI.prototype=Object.create(vb.prototype);ast(vb,tI);tI.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return vb(t,e,r)};tI.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=vb(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};tI.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return vb(t)};tI.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return O7.SlowBuffer(t)}});var dst=b(cst=>{"use strict";var mye=ust().Buffer,lst=mye.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function War(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Jar(t){var e=War(t);if(typeof e!="string"&&(mye.isEncoding===lst||!lst(t)))throw new Error("Unknown encoding: "+t);return e||t}cst.StringDecoder=L2;function L2(t){this.encoding=Jar(t);var e;switch(this.encoding){case"utf16le":this.text=Qar,this.end=esr,e=4;break;case"utf8":this.fillLast=Yar,e=4;break;case"base64":this.text=tsr,this.end=rsr,e=3;break;default:this.write=nsr,this.end=osr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mye.allocUnsafe(e)}L2.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};L2.prototype.end=Zar;L2.prototype.text=Xar;L2.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function hye(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Gar(t,e,r){var n=e.length-1;if(n<r)return 0;var o=hye(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||o===-2?0:(o=hye(e[n]),o>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||o===-2?0:(o=hye(e[n]),o>=0?(o>0&&(o===2?o=0:t.lastNeed=o-3),o):0))}function Kar(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Yar(t){var e=this.lastTotal-this.lastNeed,r=Kar(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Xar(t,e){var r=Gar(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Zar(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Qar(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function esr(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function tsr(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function rsr(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function nsr(t){return t.toString(this.encoding)}function osr(t){return t&&t.length?this.write(t):""}});var gye=b((ceo,mst)=>{"use strict";var fst=vP(),{PromisePrototypeThen:isr,SymbolAsyncIterator:pst,SymbolIterator:hst}=pa(),{Buffer:asr}=lg(),{ERR_INVALID_ARG_TYPE:ssr,ERR_STREAM_NULL_VALUES:usr}=Fd().codes;function lsr(t,e,r){let n;if(typeof e=="string"||e instanceof asr)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let o;if(e&&e[pst])o=!0,n=e[pst]();else if(e&&e[hst])o=!1,n=e[hst]();else throw new ssr("iterable",["Iterable"],e);let i=new t({objectMode:!0,highWaterMark:1,...r}),a=!1;i._read=function(){a||(a=!0,u())},i._destroy=function(l,c){isr(s(l),()=>fst.nextTick(c,l),d=>fst.nextTick(c,d||l))};async function s(l){let c=l!=null,d=typeof n.throw=="function";if(c&&d){let{value:f,done:p}=await n.throw(l);if(await f,p)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function u(){for(;;){try{let{value:l,done:c}=o?await n.next():n.next();if(c)i.push(null);else{let d=l&&typeof l.then=="function"?await l:l;if(d===null)throw a=!1,new usr;if(i.push(d))continue;a=!1}}catch(l){i.destroy(l)}break}}return i}mst.exports=lsr});var B2=b((deo,Dst)=>{var mg=vP(),{ArrayPrototypeIndexOf:csr,NumberIsInteger:dsr,NumberIsNaN:fsr,NumberParseInt:psr,ObjectDefineProperties:Cye,ObjectKeys:hsr,ObjectSetPrototypeOf:bst,Promise:_st,SafeSet:msr,SymbolAsyncDispose:gsr,SymbolAsyncIterator:ysr,Symbol:bsr}=pa();Dst.exports=Dr;Dr.ReadableState=M7;var{EventEmitter:_sr}=D2(),{Stream:SP,prependListener:vsr}=S7(),{Buffer:yye}=lg(),{addAbortSignal:wsr}=j2(),vst=kx(),rn=ed().debuglog("stream",t=>{rn=t}),Ssr=tst(),LL=eI(),{getHighWaterMark:xsr,getDefaultHighWaterMark:Csr}=N2(),{aggregateTwoErrors:gst,codes:{ERR_INVALID_ARG_TYPE:Osr,ERR_METHOD_NOT_IMPLEMENTED:Esr,ERR_OUT_OF_RANGE:Psr,ERR_STREAM_PUSH_AFTER_EOF:Tsr,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Msr},AbortError:Asr}=Fd(),{validateObject:Rsr}=RL(),rI=bsr("kPaused"),{StringDecoder:wst}=dst(),Isr=gye();bst(Dr.prototype,SP.prototype);bst(Dr,SP);var bye=()=>{},{errorOrDestroy:jL}=LL,NL=1<<0,Dsr=1<<1,Sst=1<<2,F2=1<<3,xst=1<<4,E7=1<<5,P7=1<<6,Cst=1<<7,jsr=1<<8,Nsr=1<<9,Lsr=1<<10,Sye=1<<11,xye=1<<12,Fsr=1<<13,Bsr=1<<14,ksr=1<<15,Ost=1<<16,$sr=1<<17,qsr=1<<18;function Qu(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Cye(M7.prototype,{objectMode:Qu(NL),ended:Qu(Dsr),endEmitted:Qu(Sst),reading:Qu(F2),constructed:Qu(xst),sync:Qu(E7),needReadable:Qu(P7),emittedReadable:Qu(Cst),readableListening:Qu(jsr),resumeScheduled:Qu(Nsr),errorEmitted:Qu(Lsr),emitClose:Qu(Sye),autoDestroy:Qu(xye),destroyed:Qu(Fsr),closed:Qu(Bsr),closeEmitted:Qu(ksr),multiAwaitDrain:Qu(Ost),readingMore:Qu($sr),dataEmitted:Qu(qsr)});function M7(t,e,r){typeof r!="boolean"&&(r=e instanceof wb()),this.state=Sye|xye|xst|E7,t&&t.objectMode&&(this.state|=NL),r&&t&&t.readableObjectMode&&(this.state|=NL),this.highWaterMark=t?xsr(this,t,"readableHighWaterMark",r):Csr(!1),this.buffer=new Ssr,this.length=0,this.pipes=[],this.flowing=null,this[rI]=null,t&&t.emitClose===!1&&(this.state&=~Sye),t&&t.autoDestroy===!1&&(this.state&=~xye),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new wst(t.encoding),this.encoding=t.encoding)}function Dr(t){if(!(this instanceof Dr))return new Dr(t);let e=this instanceof wb();this._readableState=new M7(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&wsr(t.signal,this)),SP.call(this,t),LL.construct(this,()=>{this._readableState.needReadable&&T7(this,this._readableState)})}Dr.prototype.destroy=LL.destroy;Dr.prototype._undestroy=LL.undestroy;Dr.prototype._destroy=function(t,e){e(t)};Dr.prototype[_sr.captureRejectionSymbol]=function(t){this.destroy(t)};Dr.prototype[gsr]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Asr,this.destroy(t)),new _st((e,r)=>vst(this,n=>n&&n!==t?r(n):e(null)))};Dr.prototype.push=function(t,e){return Est(this,t,e,!1)};Dr.prototype.unshift=function(t,e){return Est(this,t,e,!0)};function Est(t,e,r,n){rn("readableAddChunk",e);let o=t._readableState,i;if(o.state&NL||(typeof e=="string"?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?e=yye.from(e,r).toString(o.encoding):(e=yye.from(e,r),r=""))):e instanceof yye?r="":SP._isUint8Array(e)?(e=SP._uint8ArrayToBuffer(e),r=""):e!=null&&(i=new Osr("chunk",["string","Buffer","Uint8Array"],e))),i)jL(t,i);else if(e===null)o.state&=~F2,Hsr(t,o);else if(o.state&NL||e&&e.length>0)if(n)if(o.state&Sst)jL(t,new Msr);else{if(o.destroyed||o.errored)return!1;_ye(t,o,e,!0)}else if(o.ended)jL(t,new Tsr);else{if(o.destroyed||o.errored)return!1;o.state&=~F2,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?_ye(t,o,e,!1):T7(t,o)):_ye(t,o,e,!1)}else n||(o.state&=~F2,T7(t,o));return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function _ye(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.state&Ost?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.state&P7&&A7(t)),T7(t,e)}Dr.prototype.isPaused=function(){let t=this._readableState;return t[rI]===!0||t.flowing===!1};Dr.prototype.setEncoding=function(t){let e=new wst(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let o of r)n+=e.write(o);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Usr=1073741824;function zsr(t){if(t>Usr)throw new Psr("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function yst(t,e){return t<=0||e.length===0&&e.ended?0:e.state&NL?1:fsr(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Dr.prototype.read=function(t){rn("read",t),t===void 0?t=NaN:dsr(t)||(t=psr(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=zsr(t)),t!==0&&(e.state&=~Cst),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return rn("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vye(this):A7(this),null;if(t=yst(t,e),t===0&&e.ended)return e.length===0&&vye(this),null;let n=(e.state&P7)!==0;if(rn("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,rn("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,rn("reading, ended or constructing",n);else if(n){rn("do read"),e.state|=F2|E7,e.length===0&&(e.state|=P7);try{this._read(e.highWaterMark)}catch(i){jL(this,i)}e.state&=~E7,e.reading||(t=yst(r,e))}let o;return t>0?o=Rst(t,e):o=null,o===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vye(this)),o!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",o)),o};function Hsr(t,e){if(rn("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?A7(t):(e.needReadable=!1,e.emittedReadable=!0,Pst(t))}}function A7(t){let e=t._readableState;rn("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(rn("emitReadable",e.flowing),e.emittedReadable=!0,mg.nextTick(Pst,t))}function Pst(t){let e=t._readableState;rn("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Mst(t)}function T7(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,mg.nextTick(Vsr,t,e))}function Vsr(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(rn("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Dr.prototype._read=function(t){throw new Esr("_read()")};Dr.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new msr(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),rn("pipe count=%d opts=%j",n.pipes.length,e);let i=(!e||e.end!==!1)&&t!==mg.stdout&&t!==mg.stderr?s:v;n.endEmitted?mg.nextTick(i):r.once("end",i),t.on("unpipe",a);function a(g,_){rn("onunpipe"),g===r&&_&&_.hasUnpiped===!1&&(_.hasUnpiped=!0,c())}function s(){rn("onend"),t.end()}let u,l=!1;function c(){rn("cleanup"),t.removeListener("close",m),t.removeListener("finish",h),u&&t.removeListener("drain",u),t.removeListener("error",p),t.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",v),r.removeListener("data",f),l=!0,u&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u()}function d(){l||(n.pipes.length===1&&n.pipes[0]===t?(rn("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(rn("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),u||(u=Wsr(r,t),t.on("drain",u))}r.on("data",f);function f(g){rn("ondata");let _=t.write(g);rn("dest.write",_),_===!1&&d()}function p(g){if(rn("onerror",g),v(),t.removeListener("error",p),t.listenerCount("error")===0){let _=t._writableState||t._readableState;_&&!_.errorEmitted?jL(t,g):t.emit("error",g)}}vsr(t,"error",p);function m(){t.removeListener("finish",h),v()}t.once("close",m);function h(){rn("onfinish"),t.removeListener("close",m),v()}t.once("finish",h);function v(){rn("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(rn("pipe resume"),r.resume()),t};function Wsr(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(rn("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(rn("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Dr.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let o=e.pipes;e.pipes=[],this.pause();for(let i=0;i<o.length;i++)o[i].emit("unpipe",this,{hasUnpiped:!1});return this}let n=csr(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Dr.prototype.on=function(t,e){let r=SP.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,rn("on readable",n.length,n.reading),n.length?A7(this):n.reading||mg.nextTick(Jsr,this)),r};Dr.prototype.addListener=Dr.prototype.on;Dr.prototype.removeListener=function(t,e){let r=SP.prototype.removeListener.call(this,t,e);return t==="readable"&&mg.nextTick(Tst,this),r};Dr.prototype.off=Dr.prototype.removeListener;Dr.prototype.removeAllListeners=function(t){let e=SP.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&mg.nextTick(Tst,this),e};function Tst(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[rI]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Jsr(t){rn("readable nexttick read 0"),t.read(0)}Dr.prototype.resume=function(){let t=this._readableState;return t.flowing||(rn("resume"),t.flowing=!t.readableListening,Gsr(this,t)),t[rI]=!1,this};function Gsr(t,e){e.resumeScheduled||(e.resumeScheduled=!0,mg.nextTick(Ksr,t,e))}function Ksr(t,e){rn("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Mst(t),e.flowing&&!e.reading&&t.read(0)}Dr.prototype.pause=function(){return rn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(rn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[rI]=!0,this};function Mst(t){let e=t._readableState;for(rn("flow",e.flowing);e.flowing&&t.read()!==null;);}Dr.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{jL(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=hsr(t);for(let n=1;n<r.length;n++){let o=r[n];this[o]===void 0&&typeof t[o]=="function"&&(this[o]=t[o].bind(t))}return this};Dr.prototype[ysr]=function(){return Ast(this)};Dr.prototype.iterator=function(t){return t!==void 0&&Rsr(t,"options"),Ast(this,t)};function Ast(t,e){typeof t.read!="function"&&(t=Dr.wrap(t,{objectMode:!0}));let r=Ysr(t,e);return r.stream=t,r}async function*Ysr(t,e){let r=bye;function n(a){this===t?(r(),r=bye):r=a}t.on("readable",n);let o,i=vst(t,{writable:!1},a=>{o=a?gst(o,a):null,r(),r=bye});try{for(;;){let a=t.destroyed?null:t.read();if(a!==null)yield a;else{if(o)throw o;if(o===null)return;await new _st(n)}}}catch(a){throw o=gst(o,a),o}finally{(o||e?.destroyOnReturn!==!1)&&(o===void 0||t._readableState.autoDestroy)?LL.destroyer(t,null):(t.off("readable",n),i())}}Cye(Dr.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Cye(M7.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[rI]!==!1},set(t){this[rI]=!!t}}});Dr._fromList=Rst;function Rst(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function vye(t){let e=t._readableState;rn("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,mg.nextTick(Xsr,e,t))}function Xsr(t,e){if(rn("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)mg.nextTick(Zsr,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Zsr(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Dr.from=function(t,e){return Isr(Dr,t,e)};var wye;function Ist(){return wye===void 0&&(wye={}),wye}Dr.fromWeb=function(t,e){return Ist().newStreamReadableFromReadableStream(t,e)};Dr.toWeb=function(t,e){return Ist().newReadableStreamFromStreamReadable(t,e)};Dr.wrap=function(t,e){var r,n;return new Dr({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(o,i){LL.destroyer(t,o),i(o)}}).wrap(t)}});var N7=b((feo,Vst)=>{var nI=vP(),{ArrayPrototypeSlice:Lst,Error:Qsr,FunctionPrototypeSymbolHasInstance:Fst,ObjectDefineProperty:Bst,ObjectDefineProperties:eur,ObjectSetPrototypeOf:kst,StringPrototypeToLowerCase:tur,Symbol:rur,SymbolHasInstance:nur}=pa();Vst.exports=ha;ha.WritableState=q2;var{EventEmitter:our}=D2(),k2=S7().Stream,{Buffer:R7}=lg(),j7=eI(),{addAbortSignal:iur}=j2(),{getHighWaterMark:aur,getDefaultHighWaterMark:sur}=N2(),{ERR_INVALID_ARG_TYPE:uur,ERR_METHOD_NOT_IMPLEMENTED:lur,ERR_MULTIPLE_CALLBACK:$st,ERR_STREAM_CANNOT_PIPE:cur,ERR_STREAM_DESTROYED:$2,ERR_STREAM_ALREADY_FINISHED:dur,ERR_STREAM_NULL_VALUES:fur,ERR_STREAM_WRITE_AFTER_END:pur,ERR_UNKNOWN_ENCODING:qst}=Fd().codes,{errorOrDestroy:FL}=j7;kst(ha.prototype,k2.prototype);kst(ha,k2);function Pye(){}var BL=rur("kOnFinished");function q2(t,e,r){typeof r!="boolean"&&(r=e instanceof wb()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?aur(this,t,"writableHighWaterMark",r):sur(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=mur.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D7(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[BL]=[]}function D7(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}q2.prototype.getBuffer=function(){return Lst(this.buffered,this.bufferedIndex)};Bst(q2.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ha(t){let e=this instanceof wb();if(!e&&!Fst(ha,this))return new ha(t);this._writableState=new q2(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&iur(t.signal,this)),k2.call(this,t),j7.construct(this,()=>{let r=this._writableState;r.writing||Mye(this,r),Aye(this,r)})}Bst(ha,nur,{__proto__:null,value:function(t){return Fst(this,t)?!0:this!==ha?!1:t&&t._writableState instanceof q2}});ha.prototype.pipe=function(){FL(this,new cur)};function Ust(t,e,r,n){let o=t._writableState;if(typeof r=="function")n=r,r=o.defaultEncoding;else{if(!r)r=o.defaultEncoding;else if(r!=="buffer"&&!R7.isEncoding(r))throw new qst(r);typeof n!="function"&&(n=Pye)}if(e===null)throw new fur;if(!o.objectMode)if(typeof e=="string")o.decodeStrings!==!1&&(e=R7.from(e,r),r="buffer");else if(e instanceof R7)r="buffer";else if(k2._isUint8Array(e))e=k2._uint8ArrayToBuffer(e),r="buffer";else throw new uur("chunk",["string","Buffer","Uint8Array"],e);let i;return o.ending?i=new pur:o.destroyed&&(i=new $2("write")),i?(nI.nextTick(n,i),FL(t,i,!0),i):(o.pendingcb++,hur(t,o,e,r,n))}ha.prototype.write=function(t,e,r){return Ust(this,t,e,r)===!0};ha.prototype.cork=function(){this._writableState.corked++};ha.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Mye(this,t))};ha.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=tur(e)),!R7.isEncoding(e))throw new qst(e);return this._writableState.defaultEncoding=e,this};function hur(t,e,r,n,o){let i=e.objectMode?1:r.length;e.length+=i;let a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:o}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&o!==Pye&&(e.allNoop=!1)):(e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),a&&!e.errored&&!e.destroyed}function jst(t,e,r,n,o,i,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new $2("write")):r?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function Nst(t,e,r,n){--e.pendingcb,n(r),Tye(e),FL(t,r)}function mur(t,e){let r=t._writableState,n=r.sync,o=r.writecb;if(typeof o!="function"){FL(t,new $st);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?nI.nextTick(Nst,t,r,e,o):Nst(t,r,e,o)):(r.buffered.length>r.bufferedIndex&&Mye(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:t,state:r},nI.nextTick(gur,r.afterWriteTickInfo)):zst(t,r,1,o))}function gur({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,zst(t,e,r,n)}function zst(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Tye(e),Aye(t,e)}function Tye(t){if(t.writing)return;for(let o=t.bufferedIndex;o<t.buffered.length;++o){var e;let{chunk:i,callback:a}=t.buffered[o],s=t.objectMode?1:i.length;t.length-=s,a((e=t.errored)!==null&&e!==void 0?e:new $2("write"))}let r=t[BL].splice(0);for(let o=0;o<r.length;o++){var n;r[o]((n=t.errored)!==null&&n!==void 0?n:new $2("end"))}D7(t)}function Mye(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:o}=e,i=r.length-n;if(!i)return;let a=n;if(e.bufferProcessing=!0,i>1&&t._writev){e.pendingcb-=i-1;let s=e.allNoop?Pye:l=>{for(let c=a;c<r.length;++c)r[c].callback(l)},u=e.allNoop&&a===0?r:Lst(r,a);u.allBuffers=e.allBuffers,jst(t,e,!0,e.length,u,"",s),D7(e)}else{do{let{chunk:s,encoding:u,callback:l}=r[a];r[a++]=null;let c=o?1:s.length;jst(t,e,!1,c,s,u,l)}while(a<r.length&&!e.writing);a===r.length?D7(e):a>256?(r.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}ha.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new lur("_write()")};ha.prototype._writev=null;ha.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let o;if(t!=null){let i=Ust(this,t,e);i instanceof Qsr&&(o=i)}return n.corked&&(n.corked=1,this.uncork()),o||(!n.errored&&!n.ending?(n.ending=!0,Aye(this,n,!0),n.ended=!0):n.finished?o=new dur("end"):n.destroyed&&(o=new $2("end"))),typeof r=="function"&&(o||n.finished?nI.nextTick(r,o):n[BL].push(r)),this};function I7(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function yur(t,e){let r=!1;function n(o){if(r){FL(t,o??$st());return}if(r=!0,e.pendingcb--,o){let i=e[BL].splice(0);for(let a=0;a<i.length;a++)i[a](o);FL(t,o,e.sync)}else I7(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,nI.nextTick(Eye,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(o){n(o)}e.sync=!1}function bur(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,yur(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Aye(t,e,r){I7(e)&&(bur(t,e),e.pendingcb===0&&(r?(e.pendingcb++,nI.nextTick((n,o)=>{I7(o)?Eye(n,o):o.pendingcb--},t,e)):I7(e)&&(e.pendingcb++,Eye(t,e))))}function Eye(t,e){e.pendingcb--,e.finished=!0;let r=e[BL].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}eur(ha.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var _ur=j7.destroy;ha.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[BL].length)&&nI.nextTick(Tye,r),_ur.call(this,t,e),this};ha.prototype._undestroy=j7.undestroy;ha.prototype._destroy=function(t,e){e(t)};ha.prototype[our.captureRejectionSymbol]=function(t){this.destroy(t)};var Oye;function Hst(){return Oye===void 0&&(Oye={}),Oye}ha.fromWeb=function(t,e){return Hst().newStreamWritableFromWritableStream(t,e)};ha.toWeb=function(t){return Hst().newWritableStreamFromStreamWritable(t)}});var aut=b((peo,iut)=>{var Rye=vP(),vur=lg(),{isReadable:wur,isWritable:Sur,isIterable:Wst,isNodeStream:xur,isReadableNodeStream:Jst,isWritableNodeStream:Gst,isDuplexNodeStream:Cur,isReadableStream:Kst,isWritableStream:Yst}=bb(),Xst=kx(),{AbortError:nut,codes:{ERR_INVALID_ARG_TYPE:Our,ERR_INVALID_RETURN_VALUE:Zst}}=Fd(),{destroyer:$L}=eI(),Eur=wb(),out=B2(),Pur=N7(),{createDeferredPromise:Qst}=ed(),eut=gye(),tut=globalThis.Blob||vur.Blob,Tur=typeof tut<"u"?function(e){return e instanceof tut}:function(e){return!1},Mur=globalThis.AbortController||TL().AbortController,{FunctionPrototypeCall:rut}=pa(),xP=class extends Eur{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};iut.exports=function t(e,r){if(Cur(e))return e;if(Jst(e))return kL({readable:e});if(Gst(e))return kL({writable:e});if(xur(e))return kL({writable:!1,readable:!1});if(Kst(e))return kL({readable:out.fromWeb(e)});if(Yst(e))return kL({writable:Pur.fromWeb(e)});if(typeof e=="function"){let{value:o,write:i,final:a,destroy:s}=Aur(e);if(Wst(o))return eut(xP,o,{objectMode:!0,write:i,final:a,destroy:s});let u=o?.then;if(typeof u=="function"){let l,c=rut(u,o,d=>{if(d!=null)throw new Zst("nully","body",d)},d=>{$L(l,d)});return l=new xP({objectMode:!0,readable:!1,write:i,final(d){a(async()=>{try{await c,Rye.nextTick(d,null)}catch(f){Rye.nextTick(d,f)}})},destroy:s})}throw new Zst("Iterable, AsyncIterable or AsyncFunction",r,o)}if(Tur(e))return t(e.arrayBuffer());if(Wst(e))return eut(xP,e,{objectMode:!0,writable:!1});if(Kst(e?.readable)&&Yst(e?.writable))return xP.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let o=e!=null&&e.readable?Jst(e?.readable)?e?.readable:t(e.readable):void 0,i=e!=null&&e.writable?Gst(e?.writable)?e?.writable:t(e.writable):void 0;return kL({readable:o,writable:i})}let n=e?.then;if(typeof n=="function"){let o;return rut(n,e,i=>{i!=null&&o.push(i),o.push(null)},i=>{$L(o,i)}),o=new xP({objectMode:!0,writable:!1,read(){}})}throw new Our(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Aur(t){let{promise:e,resolve:r}=Qst(),n=new Mur,o=n.signal;return{value:t(async function*(){for(;;){let a=e;e=null;let{chunk:s,done:u,cb:l}=await a;if(Rye.nextTick(l),u)return;if(o.aborted)throw new nut(void 0,{cause:o.reason});({promise:e,resolve:r}=Qst()),yield s}}(),{signal:o}),write(a,s,u){let l=r;r=null,l({chunk:a,done:!1,cb:u})},final(a){let s=r;r=null,s({done:!0,cb:a})},destroy(a,s){n.abort(),s(a)}}}function kL(t){let e=t.readable&&typeof t.readable.read!="function"?out.wrap(t.readable):t.readable,r=t.writable,n=!!wur(e),o=!!Sur(r),i,a,s,u,l;function c(d){let f=u;u=null,f?f(d):d&&l.destroy(d)}return l=new xP({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:o}),o&&(Xst(r,d=>{o=!1,d&&$L(e,d),c(d)}),l._write=function(d,f,p){r.write(d,f)?p():i=p},l._final=function(d){r.end(),a=d},r.on("drain",function(){if(i){let d=i;i=null,d()}}),r.on("finish",function(){if(a){let d=a;a=null,d()}})),n&&(Xst(e,d=>{n=!1,d&&$L(e,d),c(d)}),e.on("readable",function(){if(s){let d=s;s=null,d()}}),e.on("end",function(){l.push(null)}),l._read=function(){for(;;){let d=e.read();if(d===null){s=l._read;return}if(!l.push(d))return}}),l._destroy=function(d,f){!d&&u!==null&&(d=new nut),s=null,i=null,a=null,u===null?f(d):(u=f,$L(r,d),$L(e,d))},l}});var wb=b((heo,lut)=>{"use strict";var{ObjectDefineProperties:Rur,ObjectGetOwnPropertyDescriptor:$x,ObjectKeys:Iur,ObjectSetPrototypeOf:sut}=pa();lut.exports=gg;var jye=B2(),jh=N7();sut(gg.prototype,jye.prototype);sut(gg,jye);{let t=Iur(jh.prototype);for(let e=0;e<t.length;e++){let r=t[e];gg.prototype[r]||(gg.prototype[r]=jh.prototype[r])}}function gg(t){if(!(this instanceof gg))return new gg(t);jye.call(this,t),jh.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Rur(gg.prototype,{writable:{__proto__:null,...$x(jh.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$x(jh.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$x(jh.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$x(jh.prototype,"writableBuffer")},writableLength:{__proto__:null,...$x(jh.prototype,"writableLength")},writableFinished:{__proto__:null,...$x(jh.prototype,"writableFinished")},writableCorked:{__proto__:null,...$x(jh.prototype,"writableCorked")},writableEnded:{__proto__:null,...$x(jh.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$x(jh.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Iye;function uut(){return Iye===void 0&&(Iye={}),Iye}gg.fromWeb=function(t,e){return uut().newStreamDuplexFromReadableWritablePair(t,e)};gg.toWeb=function(t){return uut().newReadableWritablePairFromDuplex(t)};var Dye;gg.from=function(t){return Dye||(Dye=aut()),Dye(t,"body")}});var Fye=b((meo,dut)=>{"use strict";var{ObjectSetPrototypeOf:cut,Symbol:Dur}=pa();dut.exports=qx;var{ERR_METHOD_NOT_IMPLEMENTED:jur}=Fd().codes,Lye=wb(),{getHighWaterMark:Nur}=N2();cut(qx.prototype,Lye.prototype);cut(qx,Lye);var U2=Dur("kCallback");function qx(t){if(!(this instanceof qx))return new qx(t);let e=t?Nur(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Lye.call(this,t),this._readableState.sync=!1,this[U2]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Lur)}function Nye(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Lur(){this._final!==Nye&&Nye.call(this)}qx.prototype._final=Nye;qx.prototype._transform=function(t,e,r){throw new jur("_transform()")};qx.prototype._write=function(t,e,r){let n=this._readableState,o=this._writableState,i=n.length;this._transform(t,e,(a,s)=>{if(a){r(a);return}s!=null&&this.push(s),o.ended||i===n.length||n.length<n.highWaterMark?r():this[U2]=r})};qx.prototype._read=function(){if(this[U2]){let t=this[U2];this[U2]=null,t()}}});var kye=b((geo,put)=>{"use strict";var{ObjectSetPrototypeOf:fut}=pa();put.exports=qL;var Bye=Fye();fut(qL.prototype,Bye.prototype);fut(qL,Bye);function qL(t){if(!(this instanceof qL))return new qL(t);Bye.call(this,t)}qL.prototype._transform=function(t,e,r){r(null,t)}});var k7=b((yeo,but)=>{var z2=vP(),{ArrayIsArray:Fur,Promise:Bur,SymbolAsyncIterator:kur,SymbolDispose:$ur}=pa(),B7=kx(),{once:qur}=ed(),Uur=eI(),hut=wb(),{aggregateTwoErrors:zur,codes:{ERR_INVALID_ARG_TYPE:Gye,ERR_INVALID_RETURN_VALUE:$ye,ERR_MISSING_ARGS:Hur,ERR_STREAM_DESTROYED:Vur,ERR_STREAM_PREMATURE_CLOSE:Wur},AbortError:Jur}=Fd(),{validateFunction:Gur,validateAbortSignal:Kur}=RL(),{isIterable:oI,isReadable:qye,isReadableNodeStream:F7,isNodeStream:mut,isTransformStream:UL,isWebStream:Yur,isReadableStream:Uye,isReadableFinished:Xur}=bb(),Zur=globalThis.AbortController||TL().AbortController,zye,Hye,Vye;function gut(t,e,r){let n=!1;t.on("close",()=>{n=!0});let o=B7(t,{readable:e,writable:r},i=>{n=!i});return{destroy:i=>{n||(n=!0,Uur.destroyer(t,i||new Vur("pipe")))},cleanup:o}}function Qur(t){return Gur(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Wye(t){if(oI(t))return t;if(F7(t))return elr(t);throw new Gye("val",["Readable","Iterable","AsyncIterable"],t)}async function*elr(t){Hye||(Hye=B2()),yield*Hye.prototype[kur].call(t)}async function L7(t,e,r,{end:n}){let o,i=null,a=l=>{if(l&&(o=l),i){let c=i;i=null,c()}},s=()=>new Bur((l,c)=>{o?c(o):i=()=>{o?c(o):l()}});e.on("drain",a);let u=B7(e,{readable:!1},a);try{e.writableNeedDrain&&await s();for await(let l of t)e.write(l)||await s();n&&(e.end(),await s()),r()}catch(l){r(o!==l?zur(o,l):l)}finally{u(),e.off("drain",a)}}async function Jye(t,e,r,{end:n}){UL(e)&&(e=e.writable);let o=e.getWriter();try{for await(let i of t)await o.ready,o.write(i).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(i){try{await o.abort(i),r(i)}catch(a){r(a)}}}function tlr(...t){return yut(t,qur(Qur(t)))}function yut(t,e,r){if(t.length===1&&Fur(t[0])&&(t=t[0]),t.length<2)throw new Hur("streams");let n=new Zur,o=n.signal,i=r?.signal,a=[];Kur(i,"options.signal");function s(){m(new Jur)}Vye=Vye||ed().addAbortListener;let u;i&&(u=Vye(i,s));let l,c,d=[],f=0;function p(S){m(S,--f===0)}function m(S,x){var O;if(S&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=S),!(!l&&!x)){for(;d.length;)d.shift()(l);(O=u)===null||O===void 0||O[$ur](),n.abort(),x&&(l||a.forEach(T=>T()),z2.nextTick(e,l,c))}}let h;for(let S=0;S<t.length;S++){let x=t[S],O=S<t.length-1,T=S>0,E=O||r?.end!==!1,M=S===t.length-1;if(mut(x)){let R=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(N)};var _=R;if(E){let{destroy:N,cleanup:j}=gut(x,O,T);d.push(N),qye(x)&&M&&a.push(j)}x.on("error",R),qye(x)&&M&&a.push(()=>{x.removeListener("error",R)})}if(S===0)if(typeof x=="function"){if(h=x({signal:o}),!oI(h))throw new $ye("Iterable, AsyncIterable or Stream","source",h)}else oI(x)||F7(x)||UL(x)?h=x:h=hut.from(x);else if(typeof x=="function"){if(UL(h)){var v;h=Wye((v=h)===null||v===void 0?void 0:v.readable)}else h=Wye(h);if(h=x(h,{signal:o}),O){if(!oI(h,!0))throw new $ye("AsyncIterable",`transform[${S-1}]`,h)}else{var g;zye||(zye=kye());let R=new zye({objectMode:!0}),N=(g=h)===null||g===void 0?void 0:g.then;if(typeof N=="function")f++,N.call(h,B=>{c=B,B!=null&&R.write(B),E&&R.end(),z2.nextTick(p)},B=>{R.destroy(B),z2.nextTick(p,B)});else if(oI(h,!0))f++,L7(h,R,p,{end:E});else if(Uye(h)||UL(h)){let B=h.readable||h;f++,L7(B,R,p,{end:E})}else throw new $ye("AsyncIterable or Promise","destination",h);h=R;let{destroy:j,cleanup:F}=gut(h,!1,!0);d.push(j),M&&a.push(F)}}else if(mut(x)){if(F7(h)){f+=2;let R=rlr(h,x,p,{end:E});qye(x)&&M&&a.push(R)}else if(UL(h)||Uye(h)){let R=h.readable||h;f++,L7(R,x,p,{end:E})}else if(oI(h))f++,L7(h,x,p,{end:E});else throw new Gye("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=x}else if(Yur(x)){if(F7(h))f++,Jye(Wye(h),x,p,{end:E});else if(Uye(h)||oI(h))f++,Jye(h,x,p,{end:E});else if(UL(h))f++,Jye(h.readable,x,p,{end:E});else throw new Gye("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=x}else h=hut.from(x)}return(o!=null&&o.aborted||i!=null&&i.aborted)&&z2.nextTick(s),h}function rlr(t,e,r,{end:n}){let o=!1;if(e.on("close",()=>{o||r(new Wur)}),t.pipe(e,{end:!1}),n){let a=function(){o=!0,e.end()};var i=a;Xur(t)?z2.nextTick(a):t.once("end",a)}else r();return B7(t,{readable:!0,writable:!1},a=>{let s=t._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?t.once("end",r).once("error",r):r(a)}),B7(e,{readable:!1,writable:!0},r)}but.exports={pipelineImpl:yut,pipeline:tlr}});var Yye=b((beo,Cut)=>{"use strict";var{pipeline:nlr}=k7(),$7=wb(),{destroyer:olr}=eI(),{isNodeStream:q7,isReadable:_ut,isWritable:vut,isWebStream:Kye,isTransformStream:iI,isWritableStream:wut,isReadableStream:Sut}=bb(),{AbortError:ilr,codes:{ERR_INVALID_ARG_VALUE:xut,ERR_MISSING_ARGS:alr}}=Fd(),slr=kx();Cut.exports=function(...e){if(e.length===0)throw new alr("streams");if(e.length===1)return $7.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=$7.from(e[0])),typeof e[e.length-1]=="function"){let p=e.length-1;e[p]=$7.from(e[p])}for(let p=0;p<e.length;++p)if(!(!q7(e[p])&&!Kye(e[p]))){if(p<e.length-1&&!(_ut(e[p])||Sut(e[p])||iI(e[p])))throw new xut(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(vut(e[p])||wut(e[p])||iI(e[p])))throw new xut(`streams[${p}]`,r[p],"must be writable")}let n,o,i,a,s;function u(p){let m=a;a=null,m?m(p):p?s.destroy(p):!f&&!d&&s.destroy()}let l=e[0],c=nlr(e,u),d=!!(vut(l)||wut(l)||iI(l)),f=!!(_ut(c)||Sut(c)||iI(c));if(s=new $7({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(c!=null&&c.readableObjectMode),writable:d,readable:f}),d){if(q7(l))s._write=function(m,h,v){l.write(m,h)?v():n=v},s._final=function(m){l.end(),o=m},l.on("drain",function(){if(n){let m=n;n=null,m()}});else if(Kye(l)){let h=(iI(l)?l.writable:l).getWriter();s._write=async function(v,g,_){try{await h.ready,h.write(v).catch(()=>{}),_()}catch(S){_(S)}},s._final=async function(v){try{await h.ready,h.close().catch(()=>{}),o=v}catch(g){v(g)}}}let p=iI(c)?c.readable:c;slr(p,()=>{if(o){let m=o;o=null,m()}})}if(f){if(q7(c))c.on("readable",function(){if(i){let p=i;i=null,p()}}),c.on("end",function(){s.push(null)}),s._read=function(){for(;;){let p=c.read();if(p===null){i=s._read;return}if(!s.push(p))return}};else if(Kye(c)){let m=(iI(c)?c.readable:c).getReader();s._read=async function(){for(;;)try{let{value:h,done:v}=await m.read();if(!s.push(h))return;if(v){s.push(null);return}}catch{return}}}}return s._destroy=function(p,m){!p&&a!==null&&(p=new ilr),i=null,n=null,o=null,a===null?m(p):(a=m,q7(c)&&olr(c,p))},s}});var jut=b((_eo,Qye)=>{"use strict";var ulr=globalThis.AbortController||TL().AbortController,{codes:{ERR_INVALID_ARG_VALUE:llr,ERR_INVALID_ARG_TYPE:H2,ERR_MISSING_ARGS:clr,ERR_OUT_OF_RANGE:dlr},AbortError:Sb}=Fd(),{validateAbortSignal:aI,validateInteger:Out,validateObject:sI}=RL(),flr=pa().Symbol("kWeak"),plr=pa().Symbol("kResistStopPropagation"),{finished:hlr}=kx(),mlr=Yye(),{addAbortSignalNoValidate:glr}=j2(),{isWritable:ylr,isNodeStream:blr}=bb(),{deprecate:_lr}=ed(),{ArrayPrototypePush:vlr,Boolean:wlr,MathFloor:Eut,Number:Slr,NumberIsNaN:xlr,Promise:Put,PromiseReject:Tut,PromiseResolve:Clr,PromisePrototypeThen:Mut,Symbol:Rut}=pa(),U7=Rut("kEmpty"),Aut=Rut("kEof");function Olr(t,e){if(e!=null&&sI(e,"options"),e?.signal!=null&&aI(e.signal,"options.signal"),blr(t)&&!ylr(t))throw new llr("stream",t,"must be writable");let r=mlr(this,t);return e!=null&&e.signal&&glr(e.signal,r),r}function z7(t,e){if(typeof t!="function")throw new H2("fn",["Function","AsyncFunction"],t);e!=null&&sI(e,"options"),e?.signal!=null&&aI(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Eut(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Eut(e.highWaterMark)),Out(r,"options.concurrency",1),Out(n,"options.highWaterMark",0),n+=r,async function*(){let i=ed().AbortSignalAny([e?.signal].filter(wlr)),a=this,s=[],u={signal:i},l,c,d=!1,f=0;function p(){d=!0,m()}function m(){f-=1,h()}function h(){c&&!d&&f<r&&s.length<n&&(c(),c=null)}async function v(){try{for await(let g of a){if(d)return;if(i.aborted)throw new Sb;try{if(g=t(g,u),g===U7)continue;g=Clr(g)}catch(_){g=Tut(_)}f+=1,Mut(g,m,p),s.push(g),l&&(l(),l=null),!d&&(s.length>=n||f>=r)&&await new Put(_=>{c=_})}s.push(Aut)}catch(g){let _=Tut(g);Mut(_,m,p),s.push(_)}finally{d=!0,l&&(l(),l=null)}}v();try{for(;;){for(;s.length>0;){let g=await s[0];if(g===Aut)return;if(i.aborted)throw new Sb;g!==U7&&(yield g),s.shift(),h()}await new Put(g=>{l=g})}}finally{d=!0,c&&(c(),c=null)}}.call(this)}function Elr(t=void 0){return t!=null&&sI(t,"options"),t?.signal!=null&&aI(t.signal,"options.signal"),async function*(){let r=0;for await(let o of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Sb({cause:t.signal.reason});yield[r++,o]}}.call(this)}async function Iut(t,e=void 0){for await(let r of Zye.call(this,t,e))return!0;return!1}async function Plr(t,e=void 0){if(typeof t!="function")throw new H2("fn",["Function","AsyncFunction"],t);return!await Iut.call(this,async(...r)=>!await t(...r),e)}async function Tlr(t,e){for await(let r of Zye.call(this,t,e))return r}async function Mlr(t,e){if(typeof t!="function")throw new H2("fn",["Function","AsyncFunction"],t);async function r(n,o){return await t(n,o),U7}for await(let n of z7.call(this,r,e));}function Zye(t,e){if(typeof t!="function")throw new H2("fn",["Function","AsyncFunction"],t);async function r(n,o){return await t(n,o)?n:U7}return z7.call(this,r,e)}var Xye=class extends clr{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Alr(t,e,r){var n;if(typeof t!="function")throw new H2("reducer",["Function","AsyncFunction"],t);r!=null&&sI(r,"options"),r?.signal!=null&&aI(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let l=new Sb(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await hlr(this.destroy(l)),l}let i=new ulr,a=i.signal;if(r!=null&&r.signal){let l={once:!0,[flr]:this,[plr]:!0};r.signal.addEventListener("abort",()=>i.abort(),l)}let s=!1;try{for await(let l of this){var u;if(s=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new Sb;o?e=await t(e,l,{signal:a}):(e=l,o=!0)}if(!s&&!o)throw new Xye}finally{i.abort()}return e}async function Rlr(t){t!=null&&sI(t,"options"),t?.signal!=null&&aI(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Sb(void 0,{cause:t.signal.reason});vlr(e,n)}return e}function Ilr(t,e){let r=z7.call(this,t,e);return async function*(){for await(let o of r)yield*o}.call(this)}function Dut(t){if(t=Slr(t),xlr(t))return 0;if(t<0)throw new dlr("number",">= 0",t);return t}function Dlr(t,e=void 0){return e!=null&&sI(e,"options"),e?.signal!=null&&aI(e.signal,"options.signal"),t=Dut(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Sb;for await(let i of this){var o;if(e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted)throw new Sb;t--<=0&&(yield i)}}.call(this)}function jlr(t,e=void 0){return e!=null&&sI(e,"options"),e?.signal!=null&&aI(e.signal,"options.signal"),t=Dut(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Sb;for await(let i of this){var o;if(e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted)throw new Sb;if(t-- >0&&(yield i),t<=0)return}}.call(this)}Qye.exports.streamReturningOperators={asIndexedPairs:_lr(Elr,"readable.asIndexedPairs will be removed in a future version."),drop:Dlr,filter:Zye,flatMap:Ilr,map:z7,take:jlr,compose:Olr};Qye.exports.promiseReturningOperators={every:Plr,forEach:Mlr,reduce:Alr,toArray:Rlr,some:Iut,find:Tlr}});var ebe=b((veo,Nut)=>{"use strict";var{ArrayPrototypePop:Nlr,Promise:Llr}=pa(),{isIterable:Flr,isNodeStream:Blr,isWebStream:klr}=bb(),{pipelineImpl:$lr}=k7(),{finished:qlr}=kx();tbe();function Ulr(...t){return new Llr((e,r)=>{let n,o,i=t[t.length-1];if(i&&typeof i=="object"&&!Blr(i)&&!Flr(i)&&!klr(i)){let a=Nlr(t);n=a.signal,o=a.end}$lr(t,(a,s)=>{a?r(a):e(s)},{signal:n,end:o})})}Nut.exports={finished:qlr,pipeline:Ulr}});var tbe=b((weo,Hut)=>{var{Buffer:zlr}=lg(),{ObjectDefineProperty:Ux,ObjectKeys:But,ReflectApply:kut}=pa(),{promisify:{custom:$ut}}=ed(),{streamReturningOperators:Lut,promiseReturningOperators:Fut}=jut(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:qut}}=Fd(),Hlr=Yye(),{setDefaultHighWaterMark:Vlr,getDefaultHighWaterMark:Wlr}=N2(),{pipeline:Uut}=k7(),{destroyer:Jlr}=eI(),zut=kx(),rbe=ebe(),V2=bb(),xi=Hut.exports=S7().Stream;xi.isDestroyed=V2.isDestroyed;xi.isDisturbed=V2.isDisturbed;xi.isErrored=V2.isErrored;xi.isReadable=V2.isReadable;xi.isWritable=V2.isWritable;xi.Readable=B2();for(let t of But(Lut)){let r=function(...n){if(new.target)throw qut();return xi.Readable.from(kut(e,this,n))};Klr=r;let e=Lut[t];Ux(r,"name",{__proto__:null,value:e.name}),Ux(r,"length",{__proto__:null,value:e.length}),Ux(xi.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Klr;for(let t of But(Fut)){let r=function(...o){if(new.target)throw qut();return kut(e,this,o)};Klr=r;let e=Fut[t];Ux(r,"name",{__proto__:null,value:e.name}),Ux(r,"length",{__proto__:null,value:e.length}),Ux(xi.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Klr;xi.Writable=N7();xi.Duplex=wb();xi.Transform=Fye();xi.PassThrough=kye();xi.pipeline=Uut;var{addAbortSignal:Glr}=j2();xi.addAbortSignal=Glr;xi.finished=zut;xi.destroy=Jlr;xi.compose=Hlr;xi.setDefaultHighWaterMark=Vlr;xi.getDefaultHighWaterMark=Wlr;Ux(xi,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return rbe}});Ux(Uut,$ut,{__proto__:null,enumerable:!0,get(){return rbe.pipeline}});Ux(zut,$ut,{__proto__:null,enumerable:!0,get(){return rbe.finished}});xi.Stream=xi;xi._isUint8Array=function(e){return e instanceof Uint8Array};xi._uint8ArrayToBuffer=function(e){return zlr.from(e.buffer,e.byteOffset,e.byteLength)}});var W2=b((Seo,is)=>{"use strict";var el=tbe(),Ylr=ebe(),Xlr=el.Readable.destroy;is.exports=el.Readable;is.exports._uint8ArrayToBuffer=el._uint8ArrayToBuffer;is.exports._isUint8Array=el._isUint8Array;is.exports.isDisturbed=el.isDisturbed;is.exports.isErrored=el.isErrored;is.exports.isReadable=el.isReadable;is.exports.Readable=el.Readable;is.exports.Writable=el.Writable;is.exports.Duplex=el.Duplex;is.exports.Transform=el.Transform;is.exports.PassThrough=el.PassThrough;is.exports.addAbortSignal=el.addAbortSignal;is.exports.finished=el.finished;is.exports.destroy=el.destroy;is.exports.destroy=Xlr;is.exports.pipeline=el.pipeline;is.exports.compose=el.compose;Object.defineProperty(el,"promises",{configurable:!0,enumerable:!0,get(){return Ylr}});is.exports.Stream=el.Stream;is.exports.default=is.exports});var uI=b((xeo,Vut)=>{"use strict";Vut.exports=TypeError});var Wut=b(()=>{});var Y2=b((Eeo,flt)=>{var fbe=typeof Map=="function"&&Map.prototype,nbe=Object.getOwnPropertyDescriptor&&fbe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,V7=fbe&&nbe&&typeof nbe.get=="function"?nbe.get:null,Jut=fbe&&Map.prototype.forEach,pbe=typeof Set=="function"&&Set.prototype,obe=Object.getOwnPropertyDescriptor&&pbe?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,W7=pbe&&obe&&typeof obe.get=="function"?obe.get:null,Gut=pbe&&Set.prototype.forEach,Zlr=typeof WeakMap=="function"&&WeakMap.prototype,G2=Zlr?WeakMap.prototype.has:null,Qlr=typeof WeakSet=="function"&&WeakSet.prototype,K2=Qlr?WeakSet.prototype.has:null,ecr=typeof WeakRef=="function"&&WeakRef.prototype,Kut=ecr?WeakRef.prototype.deref:null,tcr=Boolean.prototype.valueOf,rcr=Object.prototype.toString,ncr=Function.prototype.toString,ocr=String.prototype.match,hbe=String.prototype.slice,CP=String.prototype.replace,icr=String.prototype.toUpperCase,Yut=String.prototype.toLowerCase,ilt=RegExp.prototype.test,Xut=Array.prototype.concat,xb=Array.prototype.join,acr=Array.prototype.slice,Zut=Math.floor,sbe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ibe=Object.getOwnPropertySymbols,ube=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,zL=typeof Symbol=="function"&&typeof Symbol.iterator=="object",rd=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===zL||"symbol")?Symbol.toStringTag:null,alt=Object.prototype.propertyIsEnumerable,Qut=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function elt(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ilt.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Zut(-t):Zut(t);if(n!==t){var o=String(n),i=hbe.call(e,o.length+1);return CP.call(o,r,"$&_")+"."+CP.call(CP.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return CP.call(e,r,"$&_")}var lbe=Wut(),tlt=lbe.custom,rlt=llt(tlt)?tlt:null,slt={__proto__:null,double:'"',single:"'"},scr={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};flt.exports=function t(e,r,n,o){var i=r||{};if(zx(i,"quoteStyle")&&!zx(slt,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zx(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=zx(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zx(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zx(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return dlt(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return s?elt(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return s?elt(e,l):l}var c=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return cbe(e)?"[Array]":"[Object]";var d=Ocr(i,n);if(typeof o>"u")o=[];else if(clt(o,e)>=0)return"[Circular]";function f(B,L,q){if(L&&(o=acr.call(o),o.push(L)),q){var U={depth:i.depth};return zx(i,"quoteStyle")&&(U.quoteStyle=i.quoteStyle),t(B,U,n+1,o)}return t(B,i,n+1,o)}if(typeof e=="function"&&!nlt(e)){var p=gcr(e),m=H7(e,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+xb.call(m,", ")+" }":"")}if(llt(e)){var h=zL?CP.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ube.call(e);return typeof e=="object"&&!zL?J2(h):h}if(Scr(e)){for(var v="<"+Yut.call(String(e.nodeName)),g=e.attributes||[],_=0;_<g.length;_++)v+=" "+g[_].name+"="+ult(ucr(g[_].value),"double",i);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+Yut.call(String(e.nodeName))+">",v}if(cbe(e)){if(e.length===0)return"[]";var S=H7(e,f);return d&&!Ccr(S)?"["+dbe(S,d)+"]":"[ "+xb.call(S,", ")+" ]"}if(ccr(e)){var x=H7(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!alt.call(e,"cause")?"{ ["+String(e)+"] "+xb.call(Xut.call("[cause]: "+f(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+xb.call(x,", ")+" }"}if(typeof e=="object"&&a){if(rlt&&typeof e[rlt]=="function"&&lbe)return lbe(e,{depth:c-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ycr(e)){var O=[];return Jut&&Jut.call(e,function(B,L){O.push(f(L,e,!0)+" => "+f(B,e))}),olt("Map",V7.call(e),O,d)}if(vcr(e)){var T=[];return Gut&&Gut.call(e,function(B){T.push(f(B,e))}),olt("Set",W7.call(e),T,d)}if(bcr(e))return abe("WeakMap");if(wcr(e))return abe("WeakSet");if(_cr(e))return abe("WeakRef");if(fcr(e))return J2(f(Number(e)));if(hcr(e))return J2(f(sbe.call(e)));if(pcr(e))return J2(tcr.call(e));if(dcr(e))return J2(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof window<"u"&&e===window)return"{ [object globalThis] }";if(!lcr(e)&&!nlt(e)){var E=H7(e,f),M=Qut?Qut(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",N=!M&&rd&&Object(e)===e&&rd in e?hbe.call(OP(e),8,-1):R?"Object":"",j=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=j+(N||R?"["+xb.call(Xut.call([],N||[],R||[]),": ")+"] ":"");return E.length===0?F+"{}":d?F+"{"+dbe(E,d)+"}":F+"{ "+xb.call(E,", ")+" }"}return String(e)};function ult(t,e,r){var n=r.quoteStyle||e,o=slt[n];return o+t+o}function ucr(t){return CP.call(String(t),/"/g,"&quot;")}function cbe(t){return OP(t)==="[object Array]"&&(!rd||!(typeof t=="object"&&rd in t))}function lcr(t){return OP(t)==="[object Date]"&&(!rd||!(typeof t=="object"&&rd in t))}function nlt(t){return OP(t)==="[object RegExp]"&&(!rd||!(typeof t=="object"&&rd in t))}function ccr(t){return OP(t)==="[object Error]"&&(!rd||!(typeof t=="object"&&rd in t))}function dcr(t){return OP(t)==="[object String]"&&(!rd||!(typeof t=="object"&&rd in t))}function fcr(t){return OP(t)==="[object Number]"&&(!rd||!(typeof t=="object"&&rd in t))}function pcr(t){return OP(t)==="[object Boolean]"&&(!rd||!(typeof t=="object"&&rd in t))}function llt(t){if(zL)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ube)return!1;try{return ube.call(t),!0}catch{}return!1}function hcr(t){if(!t||typeof t!="object"||!sbe)return!1;try{return sbe.call(t),!0}catch{}return!1}var mcr=Object.prototype.hasOwnProperty||function(t){return t in this};function zx(t,e){return mcr.call(t,e)}function OP(t){return rcr.call(t)}function gcr(t){if(t.name)return t.name;var e=ocr.call(ncr.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function clt(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ycr(t){if(!V7||!t||typeof t!="object")return!1;try{V7.call(t);try{W7.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function bcr(t){if(!G2||!t||typeof t!="object")return!1;try{G2.call(t,G2);try{K2.call(t,K2)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function _cr(t){if(!Kut||!t||typeof t!="object")return!1;try{return Kut.call(t),!0}catch{}return!1}function vcr(t){if(!W7||!t||typeof t!="object")return!1;try{W7.call(t);try{V7.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function wcr(t){if(!K2||!t||typeof t!="object")return!1;try{K2.call(t,K2);try{G2.call(t,G2)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Scr(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function dlt(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return dlt(hbe.call(t,0,e.maxStringLength),e)+n}var o=scr[e.quoteStyle||"single"];o.lastIndex=0;var i=CP.call(CP.call(t,o,"\\$1"),/[\x00-\x1f]/g,xcr);return ult(i,"single",e)}function xcr(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+icr.call(e.toString(16))}function J2(t){return"Object("+t+")"}function abe(t){return t+" { ? }"}function olt(t,e,r,n){var o=n?dbe(r,n):xb.call(r,", ");return t+" ("+e+") {"+o+"}"}function Ccr(t){for(var e=0;e<t.length;e++)if(clt(t[e],`
`)>=0)return!1;return!0}function Ocr(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=xb.call(Array(t.indent+1)," ");else return null;return{base:r,prev:xb.call(Array(e+1),r)}}function dbe(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+xb.call(t,","+r)+`
`+e.prev}function H7(t,e){var r=cbe(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=zx(t,o)?e(t[o],t):""}var i=typeof ibe=="function"?ibe(t):[],a;if(zL){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var u in t)zx(t,u)&&(r&&String(Number(u))===u&&u<t.length||zL&&a["$"+u]instanceof Symbol||(ilt.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof ibe=="function")for(var l=0;l<i.length;l++)alt.call(t,i[l])&&n.push("["+e(i[l])+"]: "+e(t[i[l]],t));return n}});var hlt=b((Peo,plt)=>{"use strict";var Ecr=Y2(),Pcr=uI(),J7=function(t,e,r){for(var n=t,o;(o=n.next)!=null;n=o)if(o.key===e)return n.next=o.next,r||(o.next=t.next,t.next=o),o},Tcr=function(t,e){if(t){var r=J7(t,e);return r&&r.value}},Mcr=function(t,e,r){var n=J7(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Acr=function(t,e){return t?!!J7(t,e):!1},Rcr=function(t,e){if(t)return J7(t,e,!0)};plt.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new Pcr("Side channel does not contain "+Ecr(n))},delete:function(n){var o=e&&e.next,i=Rcr(e,n);return i&&o&&o===i&&(e=void 0),!!i},get:function(n){return Tcr(e,n)},has:function(n){return Acr(e,n)},set:function(n,o){e||(e={next:void 0}),Mcr(e,n,o)}};return r}});var mbe=b((Teo,mlt)=>{"use strict";mlt.exports=Object});var ylt=b((Meo,glt)=>{"use strict";glt.exports=Error});var _lt=b((Aeo,blt)=>{"use strict";blt.exports=EvalError});var wlt=b((Reo,vlt)=>{"use strict";vlt.exports=RangeError});var xlt=b((Ieo,Slt)=>{"use strict";Slt.exports=ReferenceError});var Olt=b((Deo,Clt)=>{"use strict";Clt.exports=SyntaxError});var Plt=b((jeo,Elt)=>{"use strict";Elt.exports=URIError});var Mlt=b((Neo,Tlt)=>{"use strict";Tlt.exports=Math.abs});var Rlt=b((Leo,Alt)=>{"use strict";Alt.exports=Math.floor});var Dlt=b((Feo,Ilt)=>{"use strict";Ilt.exports=Math.max});var Nlt=b((Beo,jlt)=>{"use strict";jlt.exports=Math.min});var Flt=b((keo,Llt)=>{"use strict";Llt.exports=Math.pow});var klt=b(($eo,Blt)=>{"use strict";Blt.exports=Math.round});var qlt=b((qeo,$lt)=>{"use strict";$lt.exports=Number.isNaN||function(e){return e!==e}});var zlt=b((Ueo,Ult)=>{"use strict";var Icr=qlt();Ult.exports=function(e){return Icr(e)||e===0?e:e<0?-1:1}});var Vlt=b((zeo,Hlt)=>{"use strict";Hlt.exports=Object.getOwnPropertyDescriptor});var gbe=b((Heo,Wlt)=>{"use strict";var G7=Vlt();if(G7)try{G7([],"length")}catch{G7=null}Wlt.exports=G7});var Glt=b((Veo,Jlt)=>{"use strict";var K7=Object.defineProperty||!1;if(K7)try{K7({},"a",{value:1})}catch{K7=!1}Jlt.exports=K7});var Ylt=b((Weo,Klt)=>{"use strict";Klt.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==o||s.enumerable!==!0)return!1}return!0}});var Qlt=b((Jeo,Zlt)=>{"use strict";var Xlt=typeof Symbol<"u"&&Symbol,Dcr=Ylt();Zlt.exports=function(){return typeof Xlt!="function"||typeof Symbol!="function"||typeof Xlt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Dcr()}});var ybe=b((Geo,ect)=>{"use strict";ect.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var bbe=b((Keo,tct)=>{"use strict";var jcr=mbe();tct.exports=jcr.getPrototypeOf||null});var oct=b((Yeo,nct)=>{"use strict";var Ncr="Function.prototype.bind called on incompatible ",Lcr=Object.prototype.toString,Fcr=Math.max,Bcr="[object Function]",rct=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},kcr=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},$cr=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};nct.exports=function(e){var r=this;if(typeof r!="function"||Lcr.apply(r)!==Bcr)throw new TypeError(Ncr+r);for(var n=kcr(arguments,1),o,i=function(){if(this instanceof o){var c=r.apply(this,rct(n,arguments));return Object(c)===c?c:this}return r.apply(e,rct(n,arguments))},a=Fcr(0,r.length-n.length),s=[],u=0;u<a;u++)s[u]="$"+u;if(o=Function("binder","return function ("+$cr(s,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var l=function(){};l.prototype=r.prototype,o.prototype=new l,l.prototype=null}return o}});var X2=b((Xeo,ict)=>{"use strict";var qcr=oct();ict.exports=Function.prototype.bind||qcr});var Y7=b((Zeo,act)=>{"use strict";act.exports=Function.prototype.call});var _be=b((Qeo,sct)=>{"use strict";sct.exports=Function.prototype.apply});var lct=b((eto,uct)=>{"use strict";uct.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var dct=b((tto,cct)=>{"use strict";var Ucr=X2(),zcr=_be(),Hcr=Y7(),Vcr=lct();cct.exports=Vcr||Ucr.call(Hcr,zcr)});var vbe=b((rto,fct)=>{"use strict";var Wcr=X2(),Jcr=uI(),Gcr=Y7(),Kcr=dct();fct.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Jcr("a function is required");return Kcr(Wcr,Gcr,e)}});var bct=b((nto,yct)=>{"use strict";var Ycr=vbe(),pct=gbe(),mct;try{mct=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var wbe=!!mct&&pct&&pct(Object.prototype,"__proto__"),gct=Object,hct=gct.getPrototypeOf;yct.exports=wbe&&typeof wbe.get=="function"?Ycr([wbe.get]):typeof hct=="function"?function(e){return hct(e==null?e:gct(e))}:!1});var xct=b((oto,Sct)=>{"use strict";var _ct=ybe(),vct=bbe(),wct=bct();Sct.exports=_ct?function(e){return _ct(e)}:vct?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return vct(e)}:wct?function(e){return wct(e)}:null});var Oct=b((ito,Cct)=>{"use strict";var Xcr=Function.prototype.call,Zcr=Object.prototype.hasOwnProperty,Qcr=X2();Cct.exports=Qcr.call(Xcr,Zcr)});var Q7=b((ato,Rct)=>{"use strict";var nn,edr=mbe(),tdr=ylt(),rdr=_lt(),ndr=wlt(),odr=xlt(),JL=Olt(),WL=uI(),idr=Plt(),adr=Mlt(),sdr=Rlt(),udr=Dlt(),ldr=Nlt(),cdr=Flt(),ddr=klt(),fdr=zlt(),Mct=Function,Sbe=function(t){try{return Mct('"use strict"; return ('+t+").constructor;")()}catch{}},Z2=gbe(),pdr=Glt(),xbe=function(){throw new WL},hdr=Z2?function(){try{return arguments.callee,xbe}catch{try{return Z2(arguments,"callee").get}catch{return xbe}}}():xbe,HL=Qlt()(),El=xct(),mdr=bbe(),gdr=ybe(),Act=_be(),Q2=Y7(),VL={},ydr=typeof Uint8Array>"u"||!El?nn:El(Uint8Array),lI={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?nn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?nn:ArrayBuffer,"%ArrayIteratorPrototype%":HL&&El?El([][Symbol.iterator]()):nn,"%AsyncFromSyncIteratorPrototype%":nn,"%AsyncFunction%":VL,"%AsyncGenerator%":VL,"%AsyncGeneratorFunction%":VL,"%AsyncIteratorPrototype%":VL,"%Atomics%":typeof Atomics>"u"?nn:Atomics,"%BigInt%":typeof BigInt>"u"?nn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?nn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?nn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?nn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":tdr,"%eval%":eval,"%EvalError%":rdr,"%Float32Array%":typeof Float32Array>"u"?nn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?nn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?nn:FinalizationRegistry,"%Function%":Mct,"%GeneratorFunction%":VL,"%Int8Array%":typeof Int8Array>"u"?nn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?nn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?nn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":HL&&El?El(El([][Symbol.iterator]())):nn,"%JSON%":typeof JSON=="object"?JSON:nn,"%Map%":typeof Map>"u"?nn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!HL||!El?nn:El(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":edr,"%Object.getOwnPropertyDescriptor%":Z2,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?nn:Promise,"%Proxy%":typeof Proxy>"u"?nn:Proxy,"%RangeError%":ndr,"%ReferenceError%":odr,"%Reflect%":typeof Reflect>"u"?nn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?nn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!HL||!El?nn:El(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?nn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":HL&&El?El(""[Symbol.iterator]()):nn,"%Symbol%":HL?Symbol:nn,"%SyntaxError%":JL,"%ThrowTypeError%":hdr,"%TypedArray%":ydr,"%TypeError%":WL,"%Uint8Array%":typeof Uint8Array>"u"?nn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?nn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?nn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?nn:Uint32Array,"%URIError%":idr,"%WeakMap%":typeof WeakMap>"u"?nn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?nn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?nn:WeakSet,"%Function.prototype.call%":Q2,"%Function.prototype.apply%":Act,"%Object.defineProperty%":pdr,"%Object.getPrototypeOf%":mdr,"%Math.abs%":adr,"%Math.floor%":sdr,"%Math.max%":udr,"%Math.min%":ldr,"%Math.pow%":cdr,"%Math.round%":ddr,"%Math.sign%":fdr,"%Reflect.getPrototypeOf%":gdr};if(El)try{null.error}catch(t){Ect=El(El(t)),lI["%Error.prototype%"]=Ect}var Ect,bdr=function t(e){var r;if(e==="%AsyncFunction%")r=Sbe("async function () {}");else if(e==="%GeneratorFunction%")r=Sbe("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Sbe("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&El&&(r=El(o.prototype))}return lI[e]=r,r},Pct={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},e4=X2(),X7=Oct(),_dr=e4.call(Q2,Array.prototype.concat),vdr=e4.call(Act,Array.prototype.splice),Tct=e4.call(Q2,String.prototype.replace),Z7=e4.call(Q2,String.prototype.slice),wdr=e4.call(Q2,RegExp.prototype.exec),Sdr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xdr=/\\(\\)?/g,Cdr=function(e){var r=Z7(e,0,1),n=Z7(e,-1);if(r==="%"&&n!=="%")throw new JL("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new JL("invalid intrinsic syntax, expected opening `%`");var o=[];return Tct(e,Sdr,function(i,a,s,u){o[o.length]=s?Tct(u,xdr,"$1"):a||i}),o},Odr=function(e,r){var n=e,o;if(X7(Pct,n)&&(o=Pct[n],n="%"+o[0]+"%"),X7(lI,n)){var i=lI[n];if(i===VL&&(i=bdr(n)),typeof i>"u"&&!r)throw new WL("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new JL("intrinsic "+e+" does not exist!")};Rct.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new WL("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new WL('"allowMissing" argument must be a boolean');if(wdr(/^%?[^%]*%?$/,e)===null)throw new JL("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Cdr(e),o=n.length>0?n[0]:"",i=Odr("%"+o+"%",r),a=i.name,s=i.value,u=!1,l=i.alias;l&&(o=l[0],vdr(n,_dr([0,1],l)));for(var c=1,d=!0;c<n.length;c+=1){var f=n[c],p=Z7(f,0,1),m=Z7(f,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new JL("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(u=!0),o+="."+f,a="%"+o+"%",X7(lI,a))s=lI[a];else if(s!=null){if(!(f in s)){if(!r)throw new WL("base intrinsic for "+e+" exists, but the property is not available.");return}if(Z2&&c+1>=n.length){var h=Z2(s,f);d=!!h,d&&"get"in h&&!("originalValue"in h.get)?s=h.get:s=s[f]}else d=X7(s,f),s=s[f];d&&!u&&(lI[a]=s)}}return s}});var Cbe=b((sto,jct)=>{"use strict";var Ict=Q7(),Dct=vbe(),Edr=Dct([Ict("%String.prototype.indexOf%")]);jct.exports=function(e,r){var n=Ict(e,!!r);return typeof n=="function"&&Edr(e,".prototype.")>-1?Dct([n]):n}});var Obe=b((uto,Lct)=>{"use strict";var Pdr=Q7(),t4=Cbe(),Tdr=Y2(),Mdr=uI(),Nct=Pdr("%Map%",!0),Adr=t4("Map.prototype.get",!0),Rdr=t4("Map.prototype.set",!0),Idr=t4("Map.prototype.has",!0),Ddr=t4("Map.prototype.delete",!0),jdr=t4("Map.prototype.size",!0);Lct.exports=!!Nct&&function(){var e,r={assert:function(n){if(!r.has(n))throw new Mdr("Side channel does not contain "+Tdr(n))},delete:function(n){if(e){var o=Ddr(e,n);return jdr(e)===0&&(e=void 0),o}return!1},get:function(n){if(e)return Adr(e,n)},has:function(n){return e?Idr(e,n):!1},set:function(n,o){e||(e=new Nct),Rdr(e,n,o)}};return r}});var Bct=b((lto,Fct)=>{"use strict";var Ndr=Q7(),tY=Cbe(),Ldr=Y2(),eY=Obe(),Fdr=uI(),GL=Ndr("%WeakMap%",!0),Bdr=tY("WeakMap.prototype.get",!0),kdr=tY("WeakMap.prototype.set",!0),$dr=tY("WeakMap.prototype.has",!0),qdr=tY("WeakMap.prototype.delete",!0);Fct.exports=GL?function(){var e,r,n={assert:function(o){if(!n.has(o))throw new Fdr("Side channel does not contain "+Ldr(o))},delete:function(o){if(GL&&o&&(typeof o=="object"||typeof o=="function")){if(e)return qdr(e,o)}else if(eY&&r)return r.delete(o);return!1},get:function(o){return GL&&o&&(typeof o=="object"||typeof o=="function")&&e?Bdr(e,o):r&&r.get(o)},has:function(o){return GL&&o&&(typeof o=="object"||typeof o=="function")&&e?$dr(e,o):!!r&&r.has(o)},set:function(o,i){GL&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new GL),kdr(e,o,i)):eY&&(r||(r=eY()),r.set(o,i))}};return n}:eY});var $ct=b((cto,kct)=>{"use strict";var Udr=uI(),zdr=Y2(),Hdr=hlt(),Vdr=Obe(),Wdr=Bct(),Jdr=Wdr||Vdr||Hdr;kct.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new Udr("Side channel does not contain "+zdr(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,o){e||(e=Jdr()),e.set(n,o)}};return r}});var rY=b((dto,qct)=>{"use strict";var Gdr=String.prototype.replace,Kdr=/%20/g,Ebe={RFC1738:"RFC1738",RFC3986:"RFC3986"};qct.exports={default:Ebe.RFC3986,formatters:{RFC1738:function(t){return Gdr.call(t,Kdr,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ebe.RFC1738,RFC3986:Ebe.RFC3986}});var Tbe=b((fto,zct)=>{"use strict";var Ydr=rY(),Pbe=Object.prototype.hasOwnProperty,cI=Array.isArray,Cb=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Xdr=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(cI(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},Uct=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]<"u"&&(n[o]=e[o]);return n},Zdr=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(cI(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Pbe.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return cI(e)&&!cI(r)&&(o=Uct(e,n)),cI(e)&&cI(r)?(r.forEach(function(i,a){if(Pbe.call(e,a)){var s=e[a];s&&typeof s=="object"&&i&&typeof i=="object"?e[a]=t(s,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var s=r[a];return Pbe.call(i,a)?i[a]=t(i[a],s,n):i[a]=s,i},o)},Qdr=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},efr=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},tfr=function(e,r,n,o,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",u=0;u<a.length;++u){var l=a.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===Ydr.RFC1738&&(l===40||l===41)){s+=a.charAt(u);continue}if(l<128){s=s+Cb[l];continue}if(l<2048){s=s+(Cb[192|l>>6]+Cb[128|l&63]);continue}if(l<55296||l>=57344){s=s+(Cb[224|l>>12]+Cb[128|l>>6&63]+Cb[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|a.charCodeAt(u)&1023),s+=Cb[240|l>>18]+Cb[128|l>>12&63]+Cb[128|l>>6&63]+Cb[128|l&63]}return s},rfr=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],c=a[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:a,prop:l}),n.push(c))}return Xdr(r),e},nfr=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ofr=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ifr=function(e,r){return[].concat(e,r)},afr=function(e,r){if(cI(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)};zct.exports={arrayToObject:Uct,assign:Qdr,combine:ifr,compact:rfr,decode:efr,encode:tfr,isBuffer:ofr,isRegExp:nfr,maybeMap:afr,merge:Zdr}});var Kct=b((pto,Gct)=>{"use strict";var Wct=$ct(),nY=Tbe(),r4=rY(),sfr=Object.prototype.hasOwnProperty,Hct={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Hx=Array.isArray,ufr=Array.prototype.push,Jct=function(t,e){ufr.apply(t,Hx(e)?e:[e])},lfr=Date.prototype.toISOString,Vct=r4.default,nd={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:nY.encode,encodeValuesOnly:!1,format:Vct,formatter:r4.formatters[Vct],indices:!1,serializeDate:function(e){return lfr.call(e)},skipNulls:!1,strictNullHandling:!1},cfr=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mbe={},dfr=function t(e,r,n,o,i,a,s,u,l,c,d,f,p,m,h,v){for(var g=e,_=v,S=0,x=!1;(_=_.get(Mbe))!==void 0&&!x;){var O=_.get(e);if(S+=1,typeof O<"u"){if(O===S)throw new RangeError("Cyclic object value");x=!0}typeof _.get(Mbe)>"u"&&(S=0)}if(typeof u=="function"?g=u(r,g):g instanceof Date?g=d(g):n==="comma"&&Hx(g)&&(g=nY.maybeMap(g,function(U){return U instanceof Date?d(U):U})),g===null){if(i)return s&&!m?s(r,nd.encoder,h,"key",f):r;g=""}if(cfr(g)||nY.isBuffer(g)){if(s){var T=m?r:s(r,nd.encoder,h,"key",f);return[p(T)+"="+p(s(g,nd.encoder,h,"value",f))]}return[p(r)+"="+p(String(g))]}var E=[];if(typeof g>"u")return E;var M;if(n==="comma"&&Hx(g))m&&s&&(g=nY.maybeMap(g,s)),M=[{value:g.length>0?g.join(",")||null:void 0}];else if(Hx(u))M=u;else{var R=Object.keys(g);M=l?R.sort(l):R}for(var N=o&&Hx(g)&&g.length===1?r+"[]":r,j=0;j<M.length;++j){var F=M[j],B=typeof F=="object"&&typeof F.value<"u"?F.value:g[F];if(!(a&&B===null)){var L=Hx(g)?typeof n=="function"?n(N,F):N:N+(c?"."+F:"["+F+"]");v.set(e,S);var q=Wct();q.set(Mbe,v),Jct(E,t(B,L,n,o,i,a,n==="comma"&&m&&Hx(g)?null:s,u,l,c,d,f,p,m,h,q))}}return E},ffr=function(e){if(!e)return nd;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||nd.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=r4.default;if(typeof e.format<"u"){if(!sfr.call(r4.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=r4.formatters[n],i=nd.filter;return(typeof e.filter=="function"||Hx(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:nd.addQueryPrefix,allowDots:typeof e.allowDots>"u"?nd.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nd.charsetSentinel,delimiter:typeof e.delimiter>"u"?nd.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:nd.encode,encoder:typeof e.encoder=="function"?e.encoder:nd.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:nd.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:nd.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:nd.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nd.strictNullHandling}};Gct.exports=function(t,e){var r=t,n=ffr(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Hx(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var s;e&&e.arrayFormat in Hct?s=e.arrayFormat:e&&"indices"in e?s=e.indices?"indices":"repeat":s="indices";var u=Hct[s];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&e&&e.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var c=Wct(),d=0;d<o.length;++d){var f=o[d];n.skipNulls&&r[f]===null||Jct(a,dfr(r[f],f,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=a.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""}});var Zct=b((hto,Xct)=>{"use strict";var KL=Tbe(),Abe=Object.prototype.hasOwnProperty,pfr=Array.isArray,Pl={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:KL.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},hfr=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Yct=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},mfr="utf8=%26%2310003%3B",gfr="utf8=%E2%9C%93",yfr=function(e,r){var n={__proto__:null},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),s=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===gfr?l="utf-8":a[u]===mfr&&(l="iso-8859-1"),s=u,u=a.length);for(u=0;u<a.length;++u)if(u!==s){var c=a[u],d=c.indexOf("]="),f=d===-1?c.indexOf("="):d+1,p,m;f===-1?(p=r.decoder(c,Pl.decoder,l,"key"),m=r.strictNullHandling?null:""):(p=r.decoder(c.slice(0,f),Pl.decoder,l,"key"),m=KL.maybeMap(Yct(c.slice(f+1),r),function(h){return r.decoder(h,Pl.decoder,l,"value")})),m&&r.interpretNumericEntities&&l==="iso-8859-1"&&(m=hfr(m)),c.indexOf("[]=")>-1&&(m=pfr(m)?[m]:m),Abe.call(n,p)?n[p]=KL.combine(n[p],m):n[p]=m}return n},bfr=function(t,e,r,n){for(var o=n?e:Yct(e,r),i=t.length-1;i>=0;--i){var a,s=t[i];if(s==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=parseInt(u,10);!r.parseArrays&&u===""?a={0:o}:!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[],a[l]=o):u!=="__proto__"&&(a[u]=o)}o=a}return o},_fr=function(e,r,n,o){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(i),l=u?i.slice(0,u.index):i,c=[];if(l){if(!n.plainObjects&&Abe.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var d=0;n.depth>0&&(u=s.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Abe.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+i.slice(u.index)+"]"),bfr(c,r,n,o)}},vfr=function(e){if(!e)return Pl;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Pl.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Pl.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Pl.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Pl.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Pl.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pl.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Pl.comma,decoder:typeof e.decoder=="function"?e.decoder:Pl.decoder,delimiter:typeof e.delimiter=="string"||KL.isRegExp(e.delimiter)?e.delimiter:Pl.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Pl.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Pl.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Pl.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Pl.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pl.strictNullHandling}};Xct.exports=function(t,e){var r=vfr(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?yfr(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var s=i[a],u=_fr(s,n[s],r,typeof t=="string");o=KL.merge(o,u,r)}return r.allowSparse===!0?o:KL.compact(o)}});var edt=b((mto,Qct)=>{"use strict";var wfr=Kct(),Sfr=Zct(),xfr=rY();Qct.exports={formats:xfr,parse:Sfr,stringify:wfr}});var tdt=b(YL=>{"use strict";var Cfr=YL&&YL.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(YL,"__esModule",{value:!0});YL.createRequestUrl=void 0;var Ofr=Cfr(edt());function Efr(t,e){return Object.keys(e??{}).length>0?`${t}?${Ofr.default.stringify(e,{arrayFormat:"repeat"})}`:t}YL.createRequestUrl=Efr});var odt=b(oY=>{"use strict";var Rbe,Ibe,Dbe,jbe,Nbe;Object.defineProperty(oY,"__esModule",{value:!0});oY.RUNTIME=void 0;var Pfr=typeof window<"u"&&typeof window.document<"u",Tfr=typeof self=="object"&&typeof self?.importScripts=="function"&&(((Rbe=self.constructor)===null||Rbe===void 0?void 0:Rbe.name)==="DedicatedWorkerGlobalScope"||((Ibe=self.constructor)===null||Ibe===void 0?void 0:Ibe.name)==="ServiceWorkerGlobalScope"||((Dbe=self.constructor)===null||Dbe===void 0?void 0:Dbe.name)==="SharedWorkerGlobalScope"),rdt=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",ndt=typeof Bun<"u"&&typeof Bun.version<"u",Mfr=typeof process<"u"&&Boolean(process.version)&&Boolean((jbe=process.versions)===null||jbe===void 0?void 0:jbe.node)&&!rdt&&!ndt,Afr=typeof navigator<"u"&&navigator?.product==="ReactNative",Rfr=typeof globalThis<"u"&&((Nbe=globalThis?.navigator)===null||Nbe===void 0?void 0:Nbe.userAgent)==="Cloudflare-Workers";oY.RUNTIME=Ifr();function Ifr(){return Pfr?{type:"browser",version:window.navigator.userAgent}:Rfr?{type:"workerd"}:Tfr?{type:"web-worker"}:rdt?{type:"deno",version:Deno.version.deno}:ndt?{type:"bun",version:Bun.version}:Mfr?{type:"node",version:process.versions.node,parsedVersion:Number(process.versions.node.split(".")[0])}:Afr?{type:"react-native"}:{type:"unknown"}}});var XL=b(iY=>{"use strict";Object.defineProperty(iY,"__esModule",{value:!0});iY.RUNTIME=void 0;var Dfr=odt();Object.defineProperty(iY,"RUNTIME",{enumerable:!0,get:function(){return Dfr.RUNTIME}})});var Lbe=b((ZL,idt)=>{"use strict";var jfr=function(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")},dI=jfr();idt.exports=ZL=dI.fetch;dI.fetch&&(ZL.default=dI.fetch.bind(dI));ZL.Headers=dI.Headers;ZL.Request=dI.Request;ZL.Response=dI.Response});var sdt=b(Nh=>{"use strict";var Nfr=Nh&&Nh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lfr=Nh&&Nh.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),adt=Nh&&Nh.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nfr(e,t,r);return Lfr(e,t),e},Ffr=Nh&&Nh.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.getFetchFn=void 0;var aY=XL();function Bfr(){return Ffr(this,void 0,void 0,function*(){return aY.RUNTIME.type==="node"&&aY.RUNTIME.parsedVersion!=null&&aY.RUNTIME.parsedVersion>=18?fetch:aY.RUNTIME.type==="node"?(yield Promise.resolve().then(()=>adt(Lbe()))).default:typeof fetch=="function"?fetch:(yield Promise.resolve().then(()=>adt(Lbe()))).default})}Nh.getFetchFn=Bfr});var udt=b(QL=>{"use strict";var kfr=QL&&QL.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(QL,"__esModule",{value:!0});QL.getRequestBody=void 0;function $fr({body:t,type:e}){return kfr(this,void 0,void 0,function*(){return e.includes("json")?JSON.stringify(t):t})}QL.getRequestBody=$fr});var ldt=b(eF=>{"use strict";var yg=eF&&eF.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(eF,"__esModule",{value:!0});eF.Node18UniversalStreamWrapper=void 0;var Ob=class{constructor(e){this.readableStream=e,this.reader=this.readableStream.getReader(),this.events={data:[],end:[],error:[],readable:[],close:[],pause:[],resume:[]},this.paused=!1,this.resumeCallback=null,this.encoding=null}on(e,r){var n;(n=this.events[e])===null||n===void 0||n.push(r)}off(e,r){var n;this.events[e]=(n=this.events[e])===null||n===void 0?void 0:n.filter(o=>o!==r)}pipe(e){return this.on("data",r=>yg(this,void 0,void 0,function*(){if(e instanceof Ob)e._write(r);else if(e instanceof WritableStream){let n=e.getWriter();n.write(r).then(()=>n.releaseLock())}else e.write(r)})),this.on("end",()=>yg(this,void 0,void 0,function*(){e instanceof Ob?e._end():e instanceof WritableStream?e.getWriter().close():e.end()})),this.on("error",r=>yg(this,void 0,void 0,function*(){e instanceof Ob?e._error(r):e instanceof WritableStream?e.getWriter().abort(r):e.destroy(r)})),this._startReading(),e}pipeTo(e){return this.pipe(e)}unpipe(e){this.off("data",r=>yg(this,void 0,void 0,function*(){if(e instanceof Ob)e._write(r);else if(e instanceof WritableStream){let n=e.getWriter();n.write(r).then(()=>n.releaseLock())}else e.write(r)})),this.off("end",()=>yg(this,void 0,void 0,function*(){e instanceof Ob?e._end():e instanceof WritableStream?e.getWriter().close():e.end()})),this.off("error",r=>yg(this,void 0,void 0,function*(){e instanceof Ob?e._error(r):e instanceof WritableStream?e.getWriter().abort(r):e.destroy(r)}))}destroy(e){this.reader.cancel(e).then(()=>{this._emit("close")}).catch(r=>{this._emit("error",r)})}pause(){this.paused=!0,this._emit("pause")}resume(){this.paused&&(this.paused=!1,this._emit("resume"),this.resumeCallback&&(this.resumeCallback(),this.resumeCallback=null))}get isPaused(){return this.paused}read(){return yg(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:e,value:r}=yield this.reader.read();if(!e)return r})}setEncoding(e){this.encoding=e}text(){return yg(this,void 0,void 0,function*(){let e=[];for(;;){let{done:n,value:o}=yield this.reader.read();if(n)break;o&&e.push(o)}return new TextDecoder(this.encoding||"utf-8").decode(yield new Blob(e).arrayBuffer())})}json(){return yg(this,void 0,void 0,function*(){let e=yield this.text();return JSON.parse(e)})}_write(e){this._emit("data",e)}_end(){this._emit("end")}_error(e){this._emit("error",e)}_emit(e,r){if(this.events[e])for(let n of this.events[e]||[])n(r)}_startReading(){return yg(this,void 0,void 0,function*(){try{for(this._emit("readable");;){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:e,value:r}=yield this.reader.read();if(e){this._emit("end"),this._emit("close");break}r&&this._emit("data",r)}}catch(e){this._emit("error",e)}})}[Symbol.asyncIterator](){return{next:()=>yg(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:e,value:r}=yield this.reader.read();return e?{done:!0,value:void 0}:{done:!1,value:r}}),[Symbol.asyncIterator](){return this}}}};eF.Node18UniversalStreamWrapper=Ob});var cdt=b(tF=>{"use strict";var n4=tF&&tF.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(tF,"__esModule",{value:!0});tF.UndiciStreamWrapper=void 0;var Eb=class{constructor(e){this.readableStream=e,this.reader=this.readableStream.getReader(),this.events={data:[],end:[],error:[],readable:[],close:[],pause:[],resume:[]},this.paused=!1,this.resumeCallback=null,this.encoding=null}on(e,r){var n;(n=this.events[e])===null||n===void 0||n.push(r)}off(e,r){var n;this.events[e]=(n=this.events[e])===null||n===void 0?void 0:n.filter(o=>o!==r)}pipe(e){return this.on("data",r=>{if(e instanceof Eb)e._write(r);else{let n=e.getWriter();n.write(r).then(()=>n.releaseLock())}}),this.on("end",()=>{e instanceof Eb?e._end():e.getWriter().close()}),this.on("error",r=>{e instanceof Eb?e._error(r):e.getWriter().abort(r)}),this._startReading(),e}pipeTo(e){return this.pipe(e)}unpipe(e){this.off("data",r=>{if(e instanceof Eb)e._write(r);else{let n=e.getWriter();n.write(r).then(()=>n.releaseLock())}}),this.off("end",()=>{e instanceof Eb?e._end():e.getWriter().close()}),this.off("error",r=>{e instanceof Eb?e._error(r):e.getWriter().abort(r)})}destroy(e){this.reader.cancel(e).then(()=>{this._emit("close")}).catch(r=>{this._emit("error",r)})}pause(){this.paused=!0,this._emit("pause")}resume(){this.paused&&(this.paused=!1,this._emit("resume"),this.resumeCallback&&(this.resumeCallback(),this.resumeCallback=null))}get isPaused(){return this.paused}read(){return n4(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:e,value:r}=yield this.reader.read();if(!e)return r})}setEncoding(e){this.encoding=e}text(){return n4(this,void 0,void 0,function*(){let e=[];for(;;){let{done:n,value:o}=yield this.reader.read();if(n)break;o&&e.push(o)}return new TextDecoder(this.encoding||"utf-8").decode(yield new Blob(e).arrayBuffer())})}json(){return n4(this,void 0,void 0,function*(){let e=yield this.text();return JSON.parse(e)})}_write(e){this._emit("data",e)}_end(){this._emit("end")}_error(e){this._emit("error",e)}_emit(e,r){if(this.events[e])for(let n of this.events[e]||[])n(r)}_startReading(){return n4(this,void 0,void 0,function*(){try{for(this._emit("readable");;){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:e,value:r}=yield this.reader.read();if(e){this._emit("end"),this._emit("close");break}r&&this._emit("data",r)}}catch(e){this._emit("error",e)}})}[Symbol.asyncIterator](){return{next:()=>n4(this,void 0,void 0,function*(){this.paused&&(yield new Promise(n=>{this.resumeCallback=n}));let{done:e,value:r}=yield this.reader.read();return e?{done:!0,value:void 0}:{done:!1,value:r}}),[Symbol.asyncIterator](){return this}}}};tF.UndiciStreamWrapper=Eb});var ddt=b(EP=>{"use strict";var sY=EP&&EP.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},qfr=EP&&EP.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}};Object.defineProperty(EP,"__esModule",{value:!0});EP.NodePre18StreamWrapper=void 0;var Fbe=class{constructor(e){this.readableStream=e}on(e,r){this.readableStream.on(e,r)}off(e,r){this.readableStream.off(e,r)}pipe(e){return this.readableStream.pipe(e),e}pipeTo(e){return this.pipe(e)}unpipe(e){e?this.readableStream.unpipe(e):this.readableStream.unpipe()}destroy(e){this.readableStream.destroy(e)}pause(){this.readableStream.pause()}resume(){this.readableStream.resume()}get isPaused(){return this.readableStream.isPaused()}read(){return sY(this,void 0,void 0,function*(){return new Promise((e,r)=>{let n=this.readableStream.read();n?e(n):(this.readableStream.once("readable",()=>{let o=this.readableStream.read();e(o)}),this.readableStream.once("error",r))})})}setEncoding(e){this.readableStream.setEncoding(e),this.encoding=e}text(){var e,r;return sY(this,void 0,void 0,function*(){let n=[],o=new TextEncoder;this.readableStream.setEncoding(this.encoding||"utf-8");try{for(var i=qfr(this.readableStream),a;a=yield i.next(),!a.done;){let u=a.value;n.push(o.encode(u))}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=i.return)&&(yield r.call(i))}finally{if(e)throw e.error}}return new TextDecoder(this.encoding||"utf-8").decode(Buffer.concat(n))})}json(){return sY(this,void 0,void 0,function*(){let e=yield this.text();return JSON.parse(e)})}[Symbol.asyncIterator](){let r=this.readableStream[Symbol.asyncIterator]();return{next(){return sY(this,void 0,void 0,function*(){let{value:n,done:o}=yield r.next();return{value:n,done:o}})},[Symbol.asyncIterator](){return this}}}};EP.NodePre18StreamWrapper=Fbe});var fdt=b(Lh=>{"use strict";var Ufr=Lh&&Lh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zfr=Lh&&Lh.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bbe=Lh&&Lh.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ufr(e,t,r);return zfr(e,t),e},Hfr=Lh&&Lh.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.chooseStreamWrapper=void 0;var uY=XL();function Vfr(t){return Hfr(this,void 0,void 0,function*(){return uY.RUNTIME.type==="node"&&uY.RUNTIME.parsedVersion!=null&&uY.RUNTIME.parsedVersion>=18?new(yield Promise.resolve().then(()=>Bbe(ldt()))).Node18UniversalStreamWrapper(t):uY.RUNTIME.type!=="node"&&typeof fetch=="function"?new(yield Promise.resolve().then(()=>Bbe(cdt()))).UndiciStreamWrapper(t):new(yield Promise.resolve().then(()=>Bbe(ddt()))).NodePre18StreamWrapper(t)})}Lh.chooseStreamWrapper=Vfr});var pdt=b(rF=>{"use strict";var Wfr=rF&&rF.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(rF,"__esModule",{value:!0});rF.getResponseBody=void 0;var Jfr=fdt();function Gfr(t,e){return Wfr(this,void 0,void 0,function*(){if(t.body!=null&&e==="blob")return yield t.blob();if(t.body!=null&&e==="sse")return t.body;if(t.body!=null&&e==="streaming")return(0,Jfr.chooseStreamWrapper)(t.body);if(t.body!=null&&e==="text")return yield t.text();{let r=yield t.text();if(r.length>0)try{return JSON.parse(r)}catch{return{ok:!1,error:{reason:"non-json",statusCode:t.status,rawBody:r}}}else return}})}rF.getResponseBody=Gfr});var hdt=b(nF=>{"use strict";Object.defineProperty(nF,"__esModule",{value:!0});nF.anySignal=nF.getTimeoutSignal=void 0;var Kfr="timeout";function Yfr(t){let e=new AbortController,r=setTimeout(()=>e.abort(Kfr),t);return{signal:e.signal,abortId:r}}nF.getTimeoutSignal=Yfr;function Xfr(...t){let e=t.length===1&&Array.isArray(t[0])?t[0]:t,r=new AbortController;for(let n of e){if(n.aborted){r.abort(n?.reason);break}n.addEventListener("abort",()=>r.abort(n?.reason),{signal:r.signal})}return r.signal}nF.anySignal=Xfr});var gdt=b(oF=>{"use strict";var Zfr=oF&&oF.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(oF,"__esModule",{value:!0});oF.makeRequest=void 0;var mdt=hdt(),Qfr=(t,e,r,n,o,i,a,s,u)=>Zfr(void 0,void 0,void 0,function*(){let l=[],c;if(i!=null){let{signal:p,abortId:m}=(0,mdt.getTimeoutSignal)(i);c=m,l.push(p)}a!=null&&l.push(a);let d=(0,mdt.anySignal)(l),f=yield t(e,{method:r,headers:n,body:o,signal:d,credentials:s?"include":void 0,duplex:u});return c!=null&&clearTimeout(c),f});oF.makeRequest=Qfr});var ydt=b(iF=>{"use strict";var epr=iF&&iF.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(iF,"__esModule",{value:!0});iF.requestWithRetries=void 0;var tpr=1,rpr=60,npr=2;function opr(t,e=npr){return epr(this,void 0,void 0,function*(){let r=yield t();for(let n=0;n<e&&([408,409,429].includes(r.status)||r.status>=500);++n){let o=Math.min(tpr*Math.pow(2,n),rpr);yield new Promise(i=>setTimeout(i,o)),r=yield t()}return r})}iF.requestWithRetries=opr});var vdt=b(PP=>{"use strict";var bdt=PP&&PP.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(PP,"__esModule",{value:!0});PP.fetcher=PP.fetcherImpl=void 0;var ipr=tdt(),apr=sdt(),spr=udt(),upr=pdt(),lpr=gdt(),cpr=ydt();function _dt(t){return bdt(this,void 0,void 0,function*(){let e={};if(t.body!==void 0&&t.contentType!=null&&(e["Content-Type"]=t.contentType),t.headers!=null)for(let[i,a]of Object.entries(t.headers))a!=null&&(e[i]=a);let r=(0,ipr.createRequestUrl)(t.url,t.queryParameters),n=yield(0,spr.getRequestBody)({body:t.body,type:t.requestType==="json"?"json":"other"}),o=yield(0,apr.getFetchFn)();try{let i=yield(0,cpr.requestWithRetries)(()=>bdt(this,void 0,void 0,function*(){return(0,lpr.makeRequest)(o,r,t.method,e,n,t.timeoutMs,t.abortSignal,t.withCredentials,t.duplex)}),t.maxRetries),a=yield(0,upr.getResponseBody)(i,t.responseType);return i.status>=200&&i.status<400?{ok:!0,body:a,headers:i.headers}:{ok:!1,error:{reason:"status-code",statusCode:i.status,body:a}}}catch(i){return t.abortSignal!=null&&t.abortSignal.aborted?{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"}}:i instanceof Error&&i.name==="AbortError"?{ok:!1,error:{reason:"timeout"}}:i instanceof Error?{ok:!1,error:{reason:"unknown",errorMessage:i.message}}:{ok:!1,error:{reason:"unknown",errorMessage:JSON.stringify(i)}}}})}PP.fetcherImpl=_dt;PP.fetcher=_dt});var wdt=b(lY=>{"use strict";Object.defineProperty(lY,"__esModule",{value:!0});lY.getHeader=void 0;function dpr(t,e){for(let[r,n]of Object.entries(t))if(r.toLowerCase()===e.toLowerCase())return n}lY.getHeader=dpr});var Sdt=b(aF=>{"use strict";var fpr=aF&&aF.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(aF,"__esModule",{value:!0});aF.Supplier=void 0;aF.Supplier={get:t=>fpr(void 0,void 0,void 0,function*(){return typeof t=="function"?t():t})}});var xdt=b(TP=>{"use strict";Object.defineProperty(TP,"__esModule",{value:!0});TP.Supplier=TP.getHeader=TP.fetcher=void 0;var ppr=vdt();Object.defineProperty(TP,"fetcher",{enumerable:!0,get:function(){return ppr.fetcher}});var hpr=wdt();Object.defineProperty(TP,"getHeader",{enumerable:!0,get:function(){return hpr.getHeader}});var mpr=Sdt();Object.defineProperty(TP,"Supplier",{enumerable:!0,get:function(){return mpr.Supplier}})});var Cdt=b((kbe,$be)=>{(function(t,e){typeof kbe=="object"&&typeof $be<"u"?$be.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:kbe,function(){"use strict";var t="3.7.2",e=t,r=typeof atob=="function",n=typeof btoa=="function",o=typeof Buffer=="function",i=typeof TextDecoder=="function"?new TextDecoder:void 0,a=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=Array.prototype.slice.call(s),l=function(X){var Q={};return X.forEach(function(le,Ae){return Q[le]=Ae}),Q}(u),c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),f=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(X,Q){return Q===void 0&&(Q=function(le){return le}),new Uint8Array(Array.prototype.slice.call(X,0).map(Q))},p=function(X){return X.replace(/=/g,"").replace(/[+\/]/g,function(Q){return Q=="+"?"-":"_"})},m=function(X){return X.replace(/[^A-Za-z0-9\+\/]/g,"")},h=function(X){for(var Q,le,Ae,mt,we="",ae=X.length%3,ee=0;ee<X.length;){if((le=X.charCodeAt(ee++))>255||(Ae=X.charCodeAt(ee++))>255||(mt=X.charCodeAt(ee++))>255)throw new TypeError("invalid character found");Q=le<<16|Ae<<8|mt,we+=u[Q>>18&63]+u[Q>>12&63]+u[Q>>6&63]+u[Q&63]}return ae?we.slice(0,ae-3)+"===".substring(ae):we},v=n?function(X){return btoa(X)}:o?function(X){return Buffer.from(X,"binary").toString("base64")}:h,g=o?function(X){return Buffer.from(X).toString("base64")}:function(X){for(var Q=4096,le=[],Ae=0,mt=X.length;Ae<mt;Ae+=Q)le.push(d.apply(null,X.subarray(Ae,Ae+Q)));return v(le.join(""))},_=function(X,Q){return Q===void 0&&(Q=!1),Q?p(g(X)):g(X)},S=function(X){if(X.length<2){var Q=X.charCodeAt(0);return Q<128?X:Q<2048?d(192|Q>>>6)+d(128|Q&63):d(224|Q>>>12&15)+d(128|Q>>>6&63)+d(128|Q&63)}else{var Q=65536+(X.charCodeAt(0)-55296)*1024+(X.charCodeAt(1)-56320);return d(240|Q>>>18&7)+d(128|Q>>>12&63)+d(128|Q>>>6&63)+d(128|Q&63)}},x=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,O=function(X){return X.replace(x,S)},T=o?function(X){return Buffer.from(X,"utf8").toString("base64")}:a?function(X){return g(a.encode(X))}:function(X){return v(O(X))},E=function(X,Q){return Q===void 0&&(Q=!1),Q?p(T(X)):T(X)},M=function(X){return E(X,!0)},R=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,N=function(X){switch(X.length){case 4:var Q=(7&X.charCodeAt(0))<<18|(63&X.charCodeAt(1))<<12|(63&X.charCodeAt(2))<<6|63&X.charCodeAt(3),le=Q-65536;return d((le>>>10)+55296)+d((le&1023)+56320);case 3:return d((15&X.charCodeAt(0))<<12|(63&X.charCodeAt(1))<<6|63&X.charCodeAt(2));default:return d((31&X.charCodeAt(0))<<6|63&X.charCodeAt(1))}},j=function(X){return X.replace(R,N)},F=function(X){if(X=X.replace(/\s+/g,""),!c.test(X))throw new TypeError("malformed base64.");X+="==".slice(2-(X.length&3));for(var Q,le="",Ae,mt,we=0;we<X.length;)Q=l[X.charAt(we++)]<<18|l[X.charAt(we++)]<<12|(Ae=l[X.charAt(we++)])<<6|(mt=l[X.charAt(we++)]),le+=Ae===64?d(Q>>16&255):mt===64?d(Q>>16&255,Q>>8&255):d(Q>>16&255,Q>>8&255,Q&255);return le},B=r?function(X){return atob(m(X))}:o?function(X){return Buffer.from(X,"base64").toString("binary")}:F,L=o?function(X){return f(Buffer.from(X,"base64"))}:function(X){return f(B(X),function(Q){return Q.charCodeAt(0)})},q=function(X){return L(J(X))},U=o?function(X){return Buffer.from(X,"base64").toString("utf8")}:i?function(X){return i.decode(L(X))}:function(X){return j(B(X))},J=function(X){return m(X.replace(/[-_]/g,function(Q){return Q=="-"?"+":"/"}))},H=function(X){return U(J(X))},I=function(X){if(typeof X!="string")return!1;var Q=X.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Q)||!/[^\s0-9a-zA-Z\-_]/.test(Q)},V=function(X){return{value:X,enumerable:!1,writable:!0,configurable:!0}},W=function(){var X=function(Q,le){return Object.defineProperty(String.prototype,Q,V(le))};X("fromBase64",function(){return H(this)}),X("toBase64",function(Q){return E(this,Q)}),X("toBase64URI",function(){return E(this,!0)}),X("toBase64URL",function(){return E(this,!0)}),X("toUint8Array",function(){return q(this)})},K=function(){var X=function(Q,le){return Object.defineProperty(Uint8Array.prototype,Q,V(le))};X("toBase64",function(Q){return _(this,Q)}),X("toBase64URI",function(){return _(this,!0)}),X("toBase64URL",function(){return _(this,!0)})},ne=function(){W(),K()},Be={version:t,VERSION:e,atob:B,atobPolyfill:F,btoa:v,btoaPolyfill:h,fromBase64:H,toBase64:E,encode:E,encodeURI:M,encodeURL:M,utob:O,btou:j,decode:H,isValid:I,fromUint8Array:_,toUint8Array:q,extendString:W,extendUint8Array:K,extendBuiltins:ne};return Be.Base64={},Object.keys(Be).forEach(function(X){return Be.Base64[X]=Be[X]}),Be})});var Edt=b(cY=>{"use strict";Object.defineProperty(cY,"__esModule",{value:!0});cY.BasicAuth=void 0;var Odt=Cdt(),gpr=/^Basic /i;cY.BasicAuth={toAuthorizationHeader:t=>t==null?void 0:`Basic ${Odt.Base64.encode(`${t.username}:${t.password}`)}`,fromAuthorizationHeader:t=>{let e=t.replace(gpr,""),r=Odt.Base64.decode(e),[n,o]=r.split(":",2);if(n==null||o==null)throw new Error("Invalid basic auth");return{username:n,password:o}}}});var Pdt=b(dY=>{"use strict";Object.defineProperty(dY,"__esModule",{value:!0});dY.BearerToken=void 0;var ypr=/^Bearer /i;dY.BearerToken={toAuthorizationHeader:t=>{if(t!=null)return`Bearer ${t}`},fromAuthorizationHeader:t=>t.replace(ypr,"").trim()}});var Tdt=b(sF=>{"use strict";Object.defineProperty(sF,"__esModule",{value:!0});sF.BearerToken=sF.BasicAuth=void 0;var bpr=Edt();Object.defineProperty(sF,"BasicAuth",{enumerable:!0,get:function(){return bpr.BasicAuth}});var _pr=Pdt();Object.defineProperty(sF,"BearerToken",{enumerable:!0,get:function(){return _pr.BearerToken}})});var Ube=b(Sf=>{"use strict";var Mdt=Sf&&Sf.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},Adt=Sf&&Sf.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}},bg=Sf&&Sf.__await||function(t){return this instanceof bg?(this.v=t,this):new bg(t)},Rdt=Sf&&Sf.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(m,h){i.push([f,p,m,h])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(m){d(i[0][3],m)}}function u(f){f.value instanceof bg?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.readableStreamAsyncIterable=Sf.Stream=void 0;var vpr=XL(),wpr="data:",qbe=class{constructor({stream:e,parse:r,eventShape:n,signal:o}){this.controller=new AbortController,this.stream=e,this.parse=r,n.type==="sse"?(this.prefix=wpr,this.messageTerminator=`
`,this.streamTerminator=n.streamTerminator):this.messageTerminator=n.messageTerminator,o?.addEventListener("abort",()=>this.controller.abort())}iterMessages(){return Rdt(this,arguments,function*(){var r,n;this.controller.signal;let o=Idt(this.stream),i="",a=!1;try{for(var s=Adt(o),u;u=yield bg(s.next()),!u.done;){let l=u.value;i+=this.decodeChunk(l);let c;for(;(c=i.indexOf(this.messageTerminator))>=0;){let d=i.slice(0,c+1);if(i=i.slice(c+1),d.length===0)continue;if(!a&&this.prefix!=null){let p=d.indexOf(this.prefix);if(p===-1)continue;a=!0,d=d.slice(p+this.prefix.length)}if(this.streamTerminator!=null&&d.includes(this.streamTerminator))return yield bg(void 0);let f=yield bg(this.parse(JSON.parse(d)));yield yield bg(f),a=!1}}}catch(l){r={error:l}}finally{try{u&&!u.done&&(n=s.return)&&(yield bg(n.call(s)))}finally{if(r)throw r.error}}})}[Symbol.asyncIterator](){return Rdt(this,arguments,function*(){var r,n;try{for(var o=Adt(this.iterMessages()),i;i=yield bg(o.next()),!i.done;){let a=i.value;yield yield bg(a)}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&(yield bg(n.call(o)))}finally{if(r)throw r.error}}})}decodeChunk(e){let r="";if(typeof TextDecoder<"u"){let n=new TextDecoder("utf8");r+=n.decode(e)}else vpr.RUNTIME.type==="node"&&typeof e<"u"&&(r+=Buffer.isBuffer(e)?e:Buffer.from(e));return r}};Sf.Stream=qbe;function Idt(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{next(){return Mdt(this,void 0,void 0,function*(){try{let r=yield e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}})},return(){return Mdt(this,void 0,void 0,function*(){let r=e.cancel();return e.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}Sf.readableStreamAsyncIterable=Idt});var Ddt=b(fY=>{"use strict";Object.defineProperty(fY,"__esModule",{value:!0});fY.Stream=void 0;var Spr=Ube();Object.defineProperty(fY,"Stream",{enumerable:!0,get:function(){return Spr.Stream}})});var Ldt=b((Bto,Ndt)=>{"use strict";var zbe=Object.defineProperty,xpr=Object.getOwnPropertyDescriptor,Cpr=Object.getOwnPropertyNames,Opr=Object.prototype.hasOwnProperty,Epr=(t,e)=>{for(var r in e)zbe(t,r,{get:e[r],enumerable:!0})},Ppr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Cpr(e))!Opr.call(t,o)&&o!==r&&zbe(t,o,{get:()=>e[o],enumerable:!(n=xpr(e,o))||n.enumerable});return t},Tpr=t=>Ppr(zbe({},"__esModule",{value:!0}),t),jdt={};Epr(jdt,{Blob:()=>Rpr,File:()=>Ipr,FormData:()=>Apr});Ndt.exports=Tpr(jdt);var Mpr=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:window}(),{FormData:Apr,Blob:Rpr,File:Ipr}=Mpr});var Kdt=b((kto,Gdt)=>{"use strict";var Wbe=Object.defineProperty,Dpr=Object.getOwnPropertyDescriptor,jpr=Object.getOwnPropertyNames,Npr=Object.prototype.hasOwnProperty,Lpr=(t,e)=>{for(var r in e)Wbe(t,r,{get:e[r],enumerable:!0})},Fpr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of jpr(e))!Npr.call(t,o)&&o!==r&&Wbe(t,o,{get:()=>e[o],enumerable:!(n=Dpr(e,o))||n.enumerable});return t},Bpr=t=>Fpr(Wbe({},"__esModule",{value:!0}),t),Jbe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ba=(t,e,r)=>(Jbe(t,e,"read from private field"),r?r.call(t):e.get(t)),Pb=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},o4=(t,e,r,n)=>(Jbe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Hbe=(t,e,r)=>(Jbe(t,e,"access private method"),r),zdt={};Lpr(zdt,{FormDataEncoder:()=>Wpr,isFile:()=>pI,isFormData:()=>Wdt});Gdt.exports=Bpr(zdt);var Vx=t=>typeof t=="function",kpr=t=>Vx(t[Symbol.asyncIterator]),Fdt=65536;function*Hdt(t){if(t.byteLength<=Fdt){yield t;return}let e=0;for(;e<t.byteLength;){let r=Math.min(t.byteLength-e,Fdt),n=t.buffer.slice(e,e+r);e+=n.byteLength,yield new Uint8Array(n)}}async function*$pr(t){let e=t.getReader();for(;;){let{done:r,value:n}=await e.read();if(r)break;yield n}}async function*Bdt(t){for await(let e of t)yield*Hdt(e)}var qpr=t=>{if(kpr(t))return Bdt(t);if(Vx(t.getReader))return Bdt($pr(t));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},kdt="abcdefghijklmnopqrstuvwxyz0123456789";function Upr(){let t=16,e="";for(;t--;)e+=kdt[Math.random()*kdt.length<<0];return e}var Vdt=t=>String(t).replace(/\r|\n/g,(e,r,n)=>e==="\r"&&n[r+1]!==`
`||e===`
`&&n[r-1]!=="\r"?`\r
`:e),zpr=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function $dt(t){if(zpr(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e==null?!0:(e.constructor&&e.constructor.toString())===Object.toString()}function qdt(t,e){if(typeof e=="string"){for(let[r,n]of Object.entries(t))if(e.toLowerCase()===r.toLowerCase())return n}}var Hpr=t=>new Proxy(t,{get:(e,r)=>qdt(e,r),has:(e,r)=>qdt(e,r)!==void 0}),Wdt=t=>Boolean(t&&Vx(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&Vx(t.append)&&Vx(t.getAll)&&Vx(t.entries)&&Vx(t[Symbol.iterator])),Udt=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),pI=t=>Boolean(t&&typeof t=="object"&&Vx(t.constructor)&&t[Symbol.toStringTag]==="File"&&Vx(t.stream)&&t.name!=null),Vpr={enableAdditionalHeaders:!1},pY={writable:!1,configurable:!1},MP,i4,hY,a4,fI,s4,u4,mY,gY,Gbe,Vbe,Jdt,Wpr=class{constructor(t,e,r){if(Pb(this,gY),Pb(this,Vbe),Pb(this,MP,`\r
`),Pb(this,i4,void 0),Pb(this,hY,void 0),Pb(this,a4,"-".repeat(2)),Pb(this,fI,new TextEncoder),Pb(this,s4,void 0),Pb(this,u4,void 0),Pb(this,mY,void 0),!Wdt(t))throw new TypeError("Expected first argument to be a FormData instance.");let n;if($dt(e)?r=e:n=e,n||(n=Upr()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(r&&!$dt(r))throw new TypeError("Expected options argument to be an object.");o4(this,u4,Array.from(t.entries())),o4(this,mY,{...Vpr,...r}),o4(this,i4,Ba(this,fI).encode(Ba(this,MP))),o4(this,hY,Ba(this,i4).byteLength),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,o4(this,s4,Ba(this,fI).encode(`${Ba(this,a4)}${this.boundary}${Ba(this,a4)}${Ba(this,MP).repeat(2)}`));let o={"Content-Type":this.contentType},i=Hbe(this,Vbe,Jdt).call(this);i&&(this.contentLength=i,o["Content-Length"]=i),this.headers=Hpr(Object.freeze(o)),Object.defineProperties(this,{boundary:pY,contentType:pY,contentLength:pY,headers:pY})}*values(){for(let[t,e]of Ba(this,u4)){let r=pI(e)?e:Ba(this,fI).encode(Vdt(e));yield Hbe(this,gY,Gbe).call(this,t,r),yield r,yield Ba(this,i4)}yield Ba(this,s4)}async*encode(){for(let t of this.values())pI(t)?yield*qpr(t.stream()):yield*Hdt(t)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};MP=new WeakMap;i4=new WeakMap;hY=new WeakMap;a4=new WeakMap;fI=new WeakMap;s4=new WeakMap;u4=new WeakMap;mY=new WeakMap;gY=new WeakSet;Gbe=function(t,e){let r="";if(r+=`${Ba(this,a4)}${this.boundary}${Ba(this,MP)}`,r+=`Content-Disposition: form-data; name="${Udt(t)}"`,pI(e)&&(r+=`; filename="${Udt(e.name)}"${Ba(this,MP)}`,r+=`Content-Type: ${e.type||"application/octet-stream"}`),Ba(this,mY).enableAdditionalHeaders===!0){let n=pI(e)?e.size:e.byteLength;n!=null&&!isNaN(n)&&(r+=`${Ba(this,MP)}Content-Length: ${n}`)}return Ba(this,fI).encode(`${r}${Ba(this,MP).repeat(2)}`)};Vbe=new WeakSet;Jdt=function(){let t=0;for(let[e,r]of Ba(this,u4)){let n=pI(r)?r:Ba(this,fI).encode(Vdt(r)),o=pI(n)?n.size:n.byteLength;if(o==null||isNaN(o))return;t+=Hbe(this,gY,Gbe).call(this,e,n).byteLength,t+=o,t+=Ba(this,hY)}return String(t+Ba(this,s4).byteLength)}});var Xdt=b((qto,Ydt)=>{Ydt.exports=typeof self=="object"?self.FormData:window.FormData});var Zdt=b(Tl=>{"use strict";var Jpr=Tl&&Tl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gpr=Tl&&Tl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uF=Tl&&Tl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jpr(e,t,r);return Gpr(e,t),e},AP=Tl&&Tl.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.WebFormData=Tl.Node16FormData=Tl.Node18FormData=Tl.newFormData=void 0;var yY=XL();function Kbe(t){return typeof t=="object"&&t!=null&&"name"in t}function Kpr(){return AP(this,void 0,void 0,function*(){let t;return yY.RUNTIME.type==="node"&&yY.RUNTIME.parsedVersion!=null&&yY.RUNTIME.parsedVersion>=18?t=new bY:yY.RUNTIME.type==="node"?t=new _Y:t=new vY,yield t.setup(),t})}Tl.newFormData=Kpr;var bY=class{setup(){return AP(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>uF(Ldt()))).FormData})}append(e,r){var n;(n=this.fd)===null||n===void 0||n.append(e,r)}appendFile(e,r,n){var o,i;return AP(this,void 0,void 0,function*(){n==null&&Kbe(r)&&(n=r.name),r instanceof(yield Promise.resolve().then(()=>uF(W2()))).Readable?(o=this.fd)===null||o===void 0||o.append(e,{type:void 0,name:n,[Symbol.toStringTag]:"File",stream(){return r}}):(i=this.fd)===null||i===void 0||i.append(e,r,n)})}getRequest(){return AP(this,void 0,void 0,function*(){let e=new(yield Promise.resolve().then(()=>uF(Kdt()))).FormDataEncoder(this.fd);return{body:yield(yield Promise.resolve().then(()=>uF(W2()))).Readable.from(e),headers:e.headers,duplex:"half"}})}};Tl.Node18FormData=bY;var _Y=class{setup(){return AP(this,void 0,void 0,function*(){this.fd=new(yield Promise.resolve().then(()=>uF(Xdt()))).default})}append(e,r){var n;(n=this.fd)===null||n===void 0||n.append(e,r)}appendFile(e,r,n){var o,i;return AP(this,void 0,void 0,function*(){n==null&&Kbe(r)&&(n=r.name);let a;r instanceof(yield Promise.resolve().then(()=>uF(W2()))).Readable?a=r:a=Buffer.from(yield r.arrayBuffer()),n==null?(o=this.fd)===null||o===void 0||o.append(e,a):(i=this.fd)===null||i===void 0||i.append(e,a,{filename:n})})}getRequest(){return{body:this.fd,headers:this.fd?this.fd.getHeaders():{}}}};Tl.Node16FormData=_Y;var vY=class{setup(){return AP(this,void 0,void 0,function*(){this.fd=new FormData})}append(e,r){var n;(n=this.fd)===null||n===void 0||n.append(e,r)}appendFile(e,r,n){var o;return AP(this,void 0,void 0,function*(){n==null&&Kbe(r)&&(n=r.name),(o=this.fd)===null||o===void 0||o.append(e,new Blob([r]),n)})}getRequest(){return{body:this.fd,headers:{}}}};Tl.WebFormData=vY});var Qdt=b(hI=>{"use strict";var Ypr=hI&&hI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xpr=hI&&hI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ypr(e,t,r)};Object.defineProperty(hI,"__esModule",{value:!0});Xpr(Zdt(),hI)});var sc=b(wY=>{"use strict";Object.defineProperty(wY,"__esModule",{value:!0});wY.SchemaType=void 0;wY.SchemaType={DATE:"date",ENUM:"enum",LIST:"list",STRING_LITERAL:"stringLiteral",BOOLEAN_LITERAL:"booleanLiteral",OBJECT:"object",ANY:"any",BOOLEAN:"boolean",NUMBER:"number",STRING:"string",UNKNOWN:"unknown",RECORD:"record",SET:"set",UNION:"union",UNDISCRIMINATED_UNION:"undiscriminatedUnion",OPTIONAL:"optional"}});var xf=b(SY=>{"use strict";Object.defineProperty(SY,"__esModule",{value:!0});SY.getErrorMessageForIncorrectType=void 0;function Zpr(t,e){return`Expected ${e}. Received ${Qpr(t)}.`}SY.getErrorMessageForIncorrectType=Zpr;function Qpr(t){if(Array.isArray(t))return"list";if(t===null)return"null";switch(typeof t){case"string":return`"${t}"`;case"number":case"boolean":case"undefined":return`${t}`}return typeof t}});var Wx=b(xY=>{"use strict";Object.defineProperty(xY,"__esModule",{value:!0});xY.maybeSkipValidation=void 0;function ehr(t){return Object.assign(Object.assign({},t),{json:eft(t.json),parse:eft(t.parse)})}xY.maybeSkipValidation=ehr;function eft(t){return(e,r)=>{let n=t(e,r),{skipValidation:o=!1}=r??{};return!n.ok&&o?(console.warn(["Failed to validate.",...n.errors.map(i=>"  - "+(i.path.length>0?`${i.path.join(".")}: ${i.message}`:i.message))].join(`
`)),{ok:!0,value:e}):n}}});var Ybe=b(CY=>{"use strict";Object.defineProperty(CY,"__esModule",{value:!0});CY.stringifyValidationError=void 0;function thr(t){return t.path.length===0?t.message:`${t.path.join(" -> ")}: ${t.message}`}CY.stringifyValidationError=thr});var Xbe=b(OY=>{"use strict";Object.defineProperty(OY,"__esModule",{value:!0});OY.JsonError=void 0;var rhr=Ybe(),l4=class extends Error{constructor(e){super(e.map(rhr.stringifyValidationError).join("; ")),this.errors=e,Object.setPrototypeOf(this,l4.prototype)}};OY.JsonError=l4});var Zbe=b(EY=>{"use strict";Object.defineProperty(EY,"__esModule",{value:!0});EY.ParseError=void 0;var nhr=Ybe(),c4=class extends Error{constructor(e){super(e.map(nhr.stringifyValidationError).join("; ")),this.errors=e,Object.setPrototypeOf(this,c4.prototype)}};EY.ParseError=c4});var nft=b(RP=>{"use strict";Object.defineProperty(RP,"__esModule",{value:!0});RP.transform=RP.optional=RP.getSchemaUtils=void 0;var ohr=sc(),ihr=Xbe(),ahr=Zbe();function Qbe(t){return{optional:()=>tft(t),transform:e=>rft(t,e),parseOrThrow:(e,r)=>{let n=t.parse(e,r);if(n.ok)return n.value;throw new ahr.ParseError(n.errors)},jsonOrThrow:(e,r)=>{let n=t.json(e,r);if(n.ok)return n.value;throw new ihr.JsonError(n.errors)}}}RP.getSchemaUtils=Qbe;function tft(t){let e={parse:(r,n)=>r==null?{ok:!0,value:void 0}:t.parse(r,n),json:(r,n)=>n?.omitUndefined&&r===void 0?{ok:!0,value:void 0}:r==null?{ok:!0,value:null}:t.json(r,n),getType:()=>ohr.SchemaType.OPTIONAL};return Object.assign(Object.assign({},e),Qbe(e))}RP.optional=tft;function rft(t,e){let r={parse:(n,o)=>{let i=t.parse(n,o);return i.ok?{ok:!0,value:e.transform(i.value)}:i},json:(n,o)=>{let i=e.untransform(n);return t.json(i,o)},getType:()=>t.getType()};return Object.assign(Object.assign({},r),Qbe(r))}RP.transform=rft});var _p=b(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.ParseError=Fh.JsonError=Fh.transform=Fh.optional=Fh.getSchemaUtils=void 0;var e_e=nft();Object.defineProperty(Fh,"getSchemaUtils",{enumerable:!0,get:function(){return e_e.getSchemaUtils}});Object.defineProperty(Fh,"optional",{enumerable:!0,get:function(){return e_e.optional}});Object.defineProperty(Fh,"transform",{enumerable:!0,get:function(){return e_e.transform}});var shr=Xbe();Object.defineProperty(Fh,"JsonError",{enumerable:!0,get:function(){return shr.JsonError}});var uhr=Zbe();Object.defineProperty(Fh,"ParseError",{enumerable:!0,get:function(){return uhr.ParseError}})});var oft=b(PY=>{"use strict";Object.defineProperty(PY,"__esModule",{value:!0});PY.date=void 0;var lhr=sc(),t_e=xf(),chr=Wx(),dhr=_p(),fhr=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function phr(){let t={parse:(e,{breadcrumbsPrefix:r=[]}={})=>typeof e!="string"?{ok:!1,errors:[{path:r,message:(0,t_e.getErrorMessageForIncorrectType)(e,"string")}]}:fhr.test(e)?{ok:!0,value:new Date(e)}:{ok:!1,errors:[{path:r,message:(0,t_e.getErrorMessageForIncorrectType)(e,"ISO 8601 date string")}]},json:(e,{breadcrumbsPrefix:r=[]}={})=>e instanceof Date?{ok:!0,value:e.toISOString()}:{ok:!1,errors:[{path:r,message:(0,t_e.getErrorMessageForIncorrectType)(e,"Date object")}]},getType:()=>lhr.SchemaType.DATE};return Object.assign(Object.assign({},(0,chr.maybeSkipValidation)(t)),(0,dhr.getSchemaUtils)(t))}PY.date=phr});var ift=b(TY=>{"use strict";Object.defineProperty(TY,"__esModule",{value:!0});TY.date=void 0;var hhr=oft();Object.defineProperty(TY,"date",{enumerable:!0,get:function(){return hhr.date}})});var Jx=b(MY=>{"use strict";Object.defineProperty(MY,"__esModule",{value:!0});MY.createIdentitySchemaCreator=void 0;var mhr=_p(),ghr=Wx();function yhr(t,e){return()=>{let r={parse:e,json:e,getType:()=>t};return Object.assign(Object.assign({},(0,ghr.maybeSkipValidation)(r)),(0,mhr.getSchemaUtils)(r))}}MY.createIdentitySchemaCreator=yhr});var sft=b(AY=>{"use strict";Object.defineProperty(AY,"__esModule",{value:!0});AY.enum_=void 0;var bhr=sc(),_hr=Jx(),aft=xf();function vhr(t){let e=new Set(t);return(0,_hr.createIdentitySchemaCreator)(bhr.SchemaType.ENUM,(n,{allowUnrecognizedEnumValues:o,breadcrumbsPrefix:i=[]}={})=>typeof n!="string"?{ok:!1,errors:[{path:i,message:(0,aft.getErrorMessageForIncorrectType)(n,"string")}]}:!e.has(n)&&!o?{ok:!1,errors:[{path:i,message:(0,aft.getErrorMessageForIncorrectType)(n,"enum")}]}:{ok:!0,value:n})()}AY.enum_=vhr});var r_e=b(RY=>{"use strict";Object.defineProperty(RY,"__esModule",{value:!0});RY.enum_=void 0;var whr=sft();Object.defineProperty(RY,"enum_",{enumerable:!0,get:function(){return whr.enum_}})});var n_e=b(IP=>{"use strict";Object.defineProperty(IP,"__esModule",{value:!0});IP.getMemoizedSchema=IP.constructLazyBaseSchema=IP.lazy=void 0;var Shr=_p();function xhr(t){let e=uft(t);return Object.assign(Object.assign({},e),(0,Shr.getSchemaUtils)(e))}IP.lazy=xhr;function uft(t){return{parse:(e,r)=>IY(t).parse(e,r),json:(e,r)=>IY(t).json(e,r),getType:()=>IY(t).getType()}}IP.constructLazyBaseSchema=uft;function IY(t){let e=t;return e.__zurg_memoized==null&&(e.__zurg_memoized=t()),e.__zurg_memoized}IP.getMemoizedSchema=IY});var o_e=b(DY=>{"use strict";Object.defineProperty(DY,"__esModule",{value:!0});DY.entries=void 0;function Chr(t){return Object.entries(t)}DY.entries=Chr});var i_e=b(jY=>{"use strict";Object.defineProperty(jY,"__esModule",{value:!0});jY.filterObject=void 0;function Ohr(t,e){let r=new Set(e);return Object.entries(t).reduce((n,[o,i])=>(r.has(o)&&(n[o]=i),n),{})}jY.filterObject=Ohr});var d4=b(NY=>{"use strict";Object.defineProperty(NY,"__esModule",{value:!0});NY.isPlainObject=void 0;function Ehr(t){if(typeof t!="object"||t===null)return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}NY.isPlainObject=Ehr});var a_e=b(LY=>{"use strict";Object.defineProperty(LY,"__esModule",{value:!0});LY.keys=void 0;function Phr(t){return Object.keys(t)}LY.keys=Phr});var lft=b(FY=>{"use strict";Object.defineProperty(FY,"__esModule",{value:!0});FY.partition=void 0;function Thr(t,e){let r=[],n=[];for(let o of t)e(o)?r.push(o):n.push(o);return[r,n]}FY.partition=Thr});var fft=b(lF=>{"use strict";Object.defineProperty(lF,"__esModule",{value:!0});lF.withParsedProperties=lF.getObjectLikeUtils=void 0;var Mhr=i_e(),Ahr=xf(),Rhr=d4(),Ihr=_p();function cft(t){return{withParsedProperties:e=>dft(t,e)}}lF.getObjectLikeUtils=cft;function dft(t,e){let r={parse:(n,o)=>{let i=t.parse(n,o);if(!i.ok)return i;let a=Object.entries(e).reduce((s,[u,l])=>Object.assign(Object.assign({},s),{[u]:typeof l=="function"?l(i.value):l}),{});return{ok:!0,value:Object.assign(Object.assign({},i.value),a)}},json:(n,o)=>{var i;if(!(0,Rhr.isPlainObject)(n))return{ok:!1,errors:[{path:(i=o?.breadcrumbsPrefix)!==null&&i!==void 0?i:[],message:(0,Ahr.getErrorMessageForIncorrectType)(n,"object")}]};let a=new Set(Object.keys(e)),s=(0,Mhr.filterObject)(n,Object.keys(n).filter(u=>!a.has(u)));return t.json(s,o)},getType:()=>t.getType()};return Object.assign(Object.assign(Object.assign({},r),(0,Ihr.getSchemaUtils)(r)),cft(r))}lF.withParsedProperties=dft});var f4=b(cF=>{"use strict";Object.defineProperty(cF,"__esModule",{value:!0});cF.withParsedProperties=cF.getObjectLikeUtils=void 0;var pft=fft();Object.defineProperty(cF,"getObjectLikeUtils",{enumerable:!0,get:function(){return pft.getObjectLikeUtils}});Object.defineProperty(cF,"withParsedProperties",{enumerable:!0,get:function(){return pft.withParsedProperties}})});var s_e=b(dF=>{"use strict";Object.defineProperty(dF,"__esModule",{value:!0});dF.isProperty=dF.property=void 0;function Dhr(t,e){return{rawKey:t,valueSchema:e,isProperty:!0}}dF.property=Dhr;function jhr(t){return t.isProperty}dF.isProperty=jhr});var l_e=b(fF=>{"use strict";Object.defineProperty(fF,"__esModule",{value:!0});fF.getObjectUtils=fF.object=void 0;var h4=sc(),hft=o_e(),mft=i_e(),Nhr=xf(),Lhr=d4(),_ft=a_e(),Fhr=Wx(),Bhr=lft(),vft=f4(),wft=_p(),p4=s_e();function khr(t){let e={_getRawProperties:()=>Object.entries(t).map(([r,n])=>(0,p4.isProperty)(n)?n.rawKey:r),_getParsedProperties:()=>(0,_ft.keys)(t),parse:(r,n)=>{let o={},i=[];for(let[a,s]of(0,hft.entries)(t)){let u=(0,p4.isProperty)(s)?s.rawKey:a,l=(0,p4.isProperty)(s)?s.valueSchema:s,c={rawKey:u,parsedKey:a,valueSchema:l};o[u]=c,bft(l)&&i.push(u)}return gft({value:r,requiredKeys:i,getProperty:a=>{let s=o[a];if(s!=null)return{transformedKey:s.parsedKey,transform:u=>{var l;return s.valueSchema.parse(u,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(l=n?.breadcrumbsPrefix)!==null&&l!==void 0?l:[],a]}))}}},unrecognizedObjectKeys:n?.unrecognizedObjectKeys,skipValidation:n?.skipValidation,breadcrumbsPrefix:n?.breadcrumbsPrefix,omitUndefined:n?.omitUndefined})},json:(r,n)=>{let o=[];for(let[i,a]of(0,hft.entries)(t)){let s=(0,p4.isProperty)(a)?a.valueSchema:a;bft(s)&&o.push(i)}return gft({value:r,requiredKeys:o,getProperty:i=>{let a=t[i];if(a!=null)return(0,p4.isProperty)(a)?{transformedKey:a.rawKey,transform:s=>{var u;return a.valueSchema.json(s,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(u=n?.breadcrumbsPrefix)!==null&&u!==void 0?u:[],i]}))}}:{transformedKey:i,transform:s=>{var u;return a.json(s,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(u=n?.breadcrumbsPrefix)!==null&&u!==void 0?u:[],i]}))}}},unrecognizedObjectKeys:n?.unrecognizedObjectKeys,skipValidation:n?.skipValidation,breadcrumbsPrefix:n?.breadcrumbsPrefix,omitUndefined:n?.omitUndefined})},getType:()=>h4.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},(0,Fhr.maybeSkipValidation)(e)),(0,wft.getSchemaUtils)(e)),(0,vft.getObjectLikeUtils)(e)),u_e(e))}fF.object=khr;function gft({value:t,requiredKeys:e,getProperty:r,unrecognizedObjectKeys:n="fail",skipValidation:o=!1,breadcrumbsPrefix:i=[]}){if(!(0,Lhr.isPlainObject)(t))return{ok:!1,errors:[{path:i,message:(0,Nhr.getErrorMessageForIncorrectType)(t,"object")}]};let a=new Set(e),s=[],u={};for(let[l,c]of Object.entries(t)){let d=r(l);if(d!=null){a.delete(l);let f=d.transform(c);f.ok?u[d.transformedKey]=f.value:(u[l]=c,s.push(...f.errors))}else switch(n){case"fail":s.push({path:[...i,l],message:`Unexpected key "${l}"`});break;case"strip":break;case"passthrough":u[l]=c;break}}return s.push(...e.filter(l=>a.has(l)).map(l=>({path:i,message:`Missing required key "${l}"`}))),s.length===0||o?{ok:!0,value:u}:{ok:!1,errors:s}}function u_e(t){return{extend:e=>{let r={_getParsedProperties:()=>[...t._getParsedProperties(),...e._getParsedProperties()],_getRawProperties:()=>[...t._getRawProperties(),...e._getRawProperties()],parse:(n,o)=>yft({extensionKeys:e._getRawProperties(),value:n,transformBase:i=>t.parse(i,o),transformExtension:i=>e.parse(i,o)}),json:(n,o)=>yft({extensionKeys:e._getParsedProperties(),value:n,transformBase:i=>t.json(i,o),transformExtension:i=>e.json(i,o)}),getType:()=>h4.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},r),(0,wft.getSchemaUtils)(r)),(0,vft.getObjectLikeUtils)(r)),u_e(r))}}}fF.getObjectUtils=u_e;function yft({extensionKeys:t,value:e,transformBase:r,transformExtension:n}){let o=new Set(t),[i,a]=(0,Bhr.partition)((0,_ft.keys)(e),l=>o.has(l)),s=r((0,mft.filterObject)(e,a)),u=n((0,mft.filterObject)(e,i));return s.ok&&u.ok?{ok:!0,value:Object.assign(Object.assign({},s.value),u.value)}:{ok:!1,errors:[...s.ok?[]:s.errors,...u.ok?[]:u.errors]}}function bft(t){return!$hr(t)}function $hr(t){switch(t.getType()){case h4.SchemaType.ANY:case h4.SchemaType.UNKNOWN:case h4.SchemaType.OPTIONAL:return!0;default:return!1}}});var Sft=b(BY=>{"use strict";Object.defineProperty(BY,"__esModule",{value:!0});BY.objectWithoutOptionalProperties=void 0;var qhr=l_e();function Uhr(t){return(0,qhr.object)(t)}BY.objectWithoutOptionalProperties=Uhr});var c_e=b(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.property=Bh.isProperty=Bh.objectWithoutOptionalProperties=Bh.object=Bh.getObjectUtils=void 0;var xft=l_e();Object.defineProperty(Bh,"getObjectUtils",{enumerable:!0,get:function(){return xft.getObjectUtils}});Object.defineProperty(Bh,"object",{enumerable:!0,get:function(){return xft.object}});var zhr=Sft();Object.defineProperty(Bh,"objectWithoutOptionalProperties",{enumerable:!0,get:function(){return zhr.objectWithoutOptionalProperties}});var Cft=s_e();Object.defineProperty(Bh,"isProperty",{enumerable:!0,get:function(){return Cft.isProperty}});Object.defineProperty(Bh,"property",{enumerable:!0,get:function(){return Cft.property}})});var Oft=b(kY=>{"use strict";Object.defineProperty(kY,"__esModule",{value:!0});kY.lazyObject=void 0;var Hhr=c_e(),Vhr=f4(),Whr=_p(),d_e=n_e();function Jhr(t){let e=Object.assign(Object.assign({},(0,d_e.constructLazyBaseSchema)(t)),{_getRawProperties:()=>(0,d_e.getMemoizedSchema)(t)._getRawProperties(),_getParsedProperties:()=>(0,d_e.getMemoizedSchema)(t)._getParsedProperties()});return Object.assign(Object.assign(Object.assign(Object.assign({},e),(0,Whr.getSchemaUtils)(e)),(0,Vhr.getObjectLikeUtils)(e)),(0,Hhr.getObjectUtils)(e))}kY.lazyObject=Jhr});var Eft=b(pF=>{"use strict";Object.defineProperty(pF,"__esModule",{value:!0});pF.lazyObject=pF.lazy=void 0;var Ghr=n_e();Object.defineProperty(pF,"lazy",{enumerable:!0,get:function(){return Ghr.lazy}});var Khr=Oft();Object.defineProperty(pF,"lazyObject",{enumerable:!0,get:function(){return Khr.lazyObject}})});var Tft=b($Y=>{"use strict";Object.defineProperty($Y,"__esModule",{value:!0});$Y.list=void 0;var Yhr=sc(),Xhr=xf(),Zhr=Wx(),Qhr=_p();function emr(t){let e={parse:(r,n)=>Pft(r,(o,i)=>{var a;return t.parse(o,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(a=n?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`[${i}]`]}))}),json:(r,n)=>Pft(r,(o,i)=>{var a;return t.json(o,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(a=n?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`[${i}]`]}))}),getType:()=>Yhr.SchemaType.LIST};return Object.assign(Object.assign({},(0,Zhr.maybeSkipValidation)(e)),(0,Qhr.getSchemaUtils)(e))}$Y.list=emr;function Pft(t,e){return Array.isArray(t)?t.map((n,o)=>e(n,o)).reduce((n,o)=>{if(n.ok&&o.ok)return{ok:!0,value:[...n.value,o.value]};let i=[];return n.ok||i.push(...n.errors),o.ok||i.push(...o.errors),{ok:!1,errors:i}},{ok:!0,value:[]}):{ok:!1,errors:[{message:(0,Xhr.getErrorMessageForIncorrectType)(t,"list"),path:[]}]}}});var f_e=b(qY=>{"use strict";Object.defineProperty(qY,"__esModule",{value:!0});qY.list=void 0;var tmr=Tft();Object.defineProperty(qY,"list",{enumerable:!0,get:function(){return tmr.list}})});var Mft=b(UY=>{"use strict";Object.defineProperty(UY,"__esModule",{value:!0});UY.stringLiteral=void 0;var rmr=sc(),nmr=Jx(),omr=xf();function imr(t){return(0,nmr.createIdentitySchemaCreator)(rmr.SchemaType.STRING_LITERAL,(r,{breadcrumbsPrefix:n=[]}={})=>r===t?{ok:!0,value:t}:{ok:!1,errors:[{path:n,message:(0,omr.getErrorMessageForIncorrectType)(r,`"${t}"`)}]})()}UY.stringLiteral=imr});var Aft=b(zY=>{"use strict";Object.defineProperty(zY,"__esModule",{value:!0});zY.booleanLiteral=void 0;var amr=sc(),smr=Jx(),umr=xf();function lmr(t){return(0,smr.createIdentitySchemaCreator)(amr.SchemaType.BOOLEAN_LITERAL,(r,{breadcrumbsPrefix:n=[]}={})=>r===t?{ok:!0,value:t}:{ok:!1,errors:[{path:n,message:(0,umr.getErrorMessageForIncorrectType)(r,`${t.toString()}`)}]})()}zY.booleanLiteral=lmr});var Rft=b(hF=>{"use strict";Object.defineProperty(hF,"__esModule",{value:!0});hF.booleanLiteral=hF.stringLiteral=void 0;var cmr=Mft();Object.defineProperty(hF,"stringLiteral",{enumerable:!0,get:function(){return cmr.stringLiteral}});var dmr=Aft();Object.defineProperty(hF,"booleanLiteral",{enumerable:!0,get:function(){return dmr.booleanLiteral}})});var Ift=b(HY=>{"use strict";Object.defineProperty(HY,"__esModule",{value:!0});HY.any=void 0;var fmr=sc(),pmr=Jx();HY.any=(0,pmr.createIdentitySchemaCreator)(fmr.SchemaType.ANY,t=>({ok:!0,value:t}))});var Dft=b(VY=>{"use strict";Object.defineProperty(VY,"__esModule",{value:!0});VY.boolean=void 0;var hmr=sc(),mmr=Jx(),gmr=xf();VY.boolean=(0,mmr.createIdentitySchemaCreator)(hmr.SchemaType.BOOLEAN,(t,{breadcrumbsPrefix:e=[]}={})=>typeof t=="boolean"?{ok:!0,value:t}:{ok:!1,errors:[{path:e,message:(0,gmr.getErrorMessageForIncorrectType)(t,"boolean")}]})});var jft=b(WY=>{"use strict";Object.defineProperty(WY,"__esModule",{value:!0});WY.number=void 0;var ymr=sc(),bmr=Jx(),_mr=xf();WY.number=(0,bmr.createIdentitySchemaCreator)(ymr.SchemaType.NUMBER,(t,{breadcrumbsPrefix:e=[]}={})=>typeof t=="number"?{ok:!0,value:t}:{ok:!1,errors:[{path:e,message:(0,_mr.getErrorMessageForIncorrectType)(t,"number")}]})});var Nft=b(JY=>{"use strict";Object.defineProperty(JY,"__esModule",{value:!0});JY.string=void 0;var vmr=sc(),wmr=Jx(),Smr=xf();JY.string=(0,wmr.createIdentitySchemaCreator)(vmr.SchemaType.STRING,(t,{breadcrumbsPrefix:e=[]}={})=>typeof t=="string"?{ok:!0,value:t}:{ok:!1,errors:[{path:e,message:(0,Smr.getErrorMessageForIncorrectType)(t,"string")}]})});var Lft=b(GY=>{"use strict";Object.defineProperty(GY,"__esModule",{value:!0});GY.unknown=void 0;var xmr=sc(),Cmr=Jx();GY.unknown=(0,Cmr.createIdentitySchemaCreator)(xmr.SchemaType.UNKNOWN,t=>({ok:!0,value:t}))});var Fft=b(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.unknown=kh.string=kh.number=kh.boolean=kh.any=void 0;var Omr=Ift();Object.defineProperty(kh,"any",{enumerable:!0,get:function(){return Omr.any}});var Emr=Dft();Object.defineProperty(kh,"boolean",{enumerable:!0,get:function(){return Emr.boolean}});var Pmr=jft();Object.defineProperty(kh,"number",{enumerable:!0,get:function(){return Pmr.number}});var Tmr=Nft();Object.defineProperty(kh,"string",{enumerable:!0,get:function(){return Tmr.string}});var Mmr=Lft();Object.defineProperty(kh,"unknown",{enumerable:!0,get:function(){return Mmr.unknown}})});var kft=b(KY=>{"use strict";Object.defineProperty(KY,"__esModule",{value:!0});KY.record=void 0;var p_e=sc(),Amr=o_e(),Rmr=xf(),Imr=d4(),Dmr=Wx(),jmr=_p();function Nmr(t,e){let r={parse:(n,o)=>Bft({value:n,isKeyNumeric:t.getType()===p_e.SchemaType.NUMBER,transformKey:i=>{var a;return t.parse(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(a=o?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`${i} (key)`]}))},transformValue:(i,a)=>{var s;return e.parse(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(s=o?.breadcrumbsPrefix)!==null&&s!==void 0?s:[],`${a}`]}))},breadcrumbsPrefix:o?.breadcrumbsPrefix}),json:(n,o)=>Bft({value:n,isKeyNumeric:t.getType()===p_e.SchemaType.NUMBER,transformKey:i=>{var a;return t.json(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(a=o?.breadcrumbsPrefix)!==null&&a!==void 0?a:[],`${i} (key)`]}))},transformValue:(i,a)=>{var s;return e.json(i,Object.assign(Object.assign({},o),{breadcrumbsPrefix:[...(s=o?.breadcrumbsPrefix)!==null&&s!==void 0?s:[],`${a}`]}))},breadcrumbsPrefix:o?.breadcrumbsPrefix}),getType:()=>p_e.SchemaType.RECORD};return Object.assign(Object.assign({},(0,Dmr.maybeSkipValidation)(r)),(0,jmr.getSchemaUtils)(r))}KY.record=Nmr;function Bft({value:t,isKeyNumeric:e,transformKey:r,transformValue:n,breadcrumbsPrefix:o=[]}){return(0,Imr.isPlainObject)(t)?(0,Amr.entries)(t).reduce((i,[a,s])=>{if(s==null)return i;let u=i,l=a;if(e){let p=a.length>0?Number(a):NaN;isNaN(p)||(l=p)}let c=r(l),d=n(s,l);if(u.ok&&c.ok&&d.ok)return{ok:!0,value:Object.assign(Object.assign({},u.value),{[c.value]:d.value})};let f=[];return u.ok||f.push(...u.errors),c.ok||f.push(...c.errors),d.ok||f.push(...d.errors),{ok:!1,errors:f}},{ok:!0,value:{}}):{ok:!1,errors:[{path:o,message:(0,Rmr.getErrorMessageForIncorrectType)(t,"object")}]}}});var $ft=b(YY=>{"use strict";Object.defineProperty(YY,"__esModule",{value:!0});YY.record=void 0;var Lmr=kft();Object.defineProperty(YY,"record",{enumerable:!0,get:function(){return Lmr.record}})});var qft=b(XY=>{"use strict";Object.defineProperty(XY,"__esModule",{value:!0});XY.set=void 0;var Fmr=sc(),Bmr=xf(),kmr=Wx(),$mr=f_e(),qmr=_p();function Umr(t){let e=(0,$mr.list)(t),r={parse:(n,o)=>{let i=e.parse(n,o);return i.ok?{ok:!0,value:new Set(i.value)}:i},json:(n,o)=>{var i;return n instanceof Set?e.json([...n],o):{ok:!1,errors:[{path:(i=o?.breadcrumbsPrefix)!==null&&i!==void 0?i:[],message:(0,Bmr.getErrorMessageForIncorrectType)(n,"Set")}]}},getType:()=>Fmr.SchemaType.SET};return Object.assign(Object.assign({},(0,kmr.maybeSkipValidation)(r)),(0,qmr.getSchemaUtils)(r))}XY.set=Umr});var Uft=b(ZY=>{"use strict";Object.defineProperty(ZY,"__esModule",{value:!0});ZY.set=void 0;var zmr=qft();Object.defineProperty(ZY,"set",{enumerable:!0,get:function(){return zmr.set}})});var Hft=b(QY=>{"use strict";Object.defineProperty(QY,"__esModule",{value:!0});QY.undiscriminatedUnion=void 0;var Hmr=sc(),Vmr=Wx(),Wmr=_p();function Jmr(t){let e={parse:(r,n)=>zft((o,i)=>o.parse(r,i),t,n),json:(r,n)=>zft((o,i)=>o.json(r,i),t,n),getType:()=>Hmr.SchemaType.UNDISCRIMINATED_UNION};return Object.assign(Object.assign({},(0,Vmr.maybeSkipValidation)(e)),(0,Wmr.getSchemaUtils)(e))}QY.undiscriminatedUnion=Jmr;function zft(t,e,r){let n=[];for(let[o,i]of e.entries()){let a=t(i,Object.assign(Object.assign({},r),{skipValidation:!1}));if(a.ok)return a;for(let s of a.errors)n.push({path:s.path,message:`[Variant ${o}] ${s.message}`})}return{ok:!1,errors:n}}});var Vft=b(eX=>{"use strict";Object.defineProperty(eX,"__esModule",{value:!0});eX.undiscriminatedUnion=void 0;var Gmr=Hft();Object.defineProperty(eX,"undiscriminatedUnion",{enumerable:!0,get:function(){return Gmr.undiscriminatedUnion}})});var Wft=b(tX=>{"use strict";Object.defineProperty(tX,"__esModule",{value:!0});tX.discriminant=void 0;function Kmr(t,e){return{parsedDiscriminant:t,rawDiscriminant:e}}tX.discriminant=Kmr});var Gft=b(mF=>{"use strict";var Ymr=mF&&mF.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};Object.defineProperty(mF,"__esModule",{value:!0});mF.union=void 0;var Xmr=sc(),Zmr=xf(),Qmr=d4(),egr=a_e(),tgr=Wx(),rgr=r_e(),ngr=f4(),ogr=_p();function igr(t,e){let r=typeof t=="string"?t:t.rawDiscriminant,n=typeof t=="string"?t:t.parsedDiscriminant,o=(0,rgr.enum_)((0,egr.keys)(e)),i={parse:(a,s)=>Jft({value:a,discriminant:r,transformedDiscriminant:n,transformDiscriminantValue:u=>{var l;return o.parse(u,{allowUnrecognizedEnumValues:s?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(l=s?.breadcrumbsPrefix)!==null&&l!==void 0?l:[],r]})},getAdditionalPropertiesSchema:u=>e[u],allowUnrecognizedUnionMembers:s?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(u,l)=>l.parse(u,s),breadcrumbsPrefix:s?.breadcrumbsPrefix}),json:(a,s)=>Jft({value:a,discriminant:n,transformedDiscriminant:r,transformDiscriminantValue:u=>{var l;return o.json(u,{allowUnrecognizedEnumValues:s?.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(l=s?.breadcrumbsPrefix)!==null&&l!==void 0?l:[],n]})},getAdditionalPropertiesSchema:u=>e[u],allowUnrecognizedUnionMembers:s?.allowUnrecognizedUnionMembers,transformAdditionalProperties:(u,l)=>l.json(u,s),breadcrumbsPrefix:s?.breadcrumbsPrefix}),getType:()=>Xmr.SchemaType.UNION};return Object.assign(Object.assign(Object.assign({},(0,tgr.maybeSkipValidation)(i)),(0,ogr.getSchemaUtils)(i)),(0,ngr.getObjectLikeUtils)(i))}mF.union=igr;function Jft({value:t,discriminant:e,transformedDiscriminant:r,transformDiscriminantValue:n,getAdditionalPropertiesSchema:o,allowUnrecognizedUnionMembers:i=!1,transformAdditionalProperties:a,breadcrumbsPrefix:s=[]}){if(!(0,Qmr.isPlainObject)(t))return{ok:!1,errors:[{path:s,message:(0,Zmr.getErrorMessageForIncorrectType)(t,"object")}]};let u=t,l=e,c=u[l],d=Ymr(u,[typeof l=="symbol"?l:l+""]);if(c==null)return{ok:!1,errors:[{path:s,message:`Missing discriminant ("${e}")`}]};let f=n(c);if(!f.ok)return{ok:!1,errors:f.errors};let p=o(f.value);if(p==null)return i?{ok:!0,value:Object.assign({[r]:f.value},d)}:{ok:!1,errors:[{path:[...s,e],message:"Unexpected discriminant value"}]};let m=a(d,p);return m.ok?{ok:!0,value:Object.assign({[r]:c},m.value)}:m}});var Kft=b(gF=>{"use strict";Object.defineProperty(gF,"__esModule",{value:!0});gF.union=gF.discriminant=void 0;var agr=Wft();Object.defineProperty(gF,"discriminant",{enumerable:!0,get:function(){return agr.discriminant}});var sgr=Gft();Object.defineProperty(gF,"union",{enumerable:!0,get:function(){return sgr.union}})});var Yft=b(tl=>{"use strict";var ugr=tl&&tl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vp=tl&&tl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ugr(e,t,r)};Object.defineProperty(tl,"__esModule",{value:!0});vp(ift(),tl);vp(r_e(),tl);vp(Eft(),tl);vp(f_e(),tl);vp(Rft(),tl);vp(c_e(),tl);vp(f4(),tl);vp(Fft(),tl);vp($ft(),tl);vp(_p(),tl);vp(Uft(),tl);vp(Vft(),tl);vp(Kft(),tl)});var Xft=b(mI=>{"use strict";var lgr=mI&&mI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cgr=mI&&mI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lgr(e,t,r)};Object.defineProperty(mI,"__esModule",{value:!0});cgr(Yft(),mI)});var $=b(uc=>{"use strict";var Zft=uc&&uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dgr=uc&&uc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m4=uc&&uc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zft(e,t,r)},fgr=uc&&uc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zft(e,t,r);return dgr(e,t),e};Object.defineProperty(uc,"__esModule",{value:!0});uc.serialization=void 0;m4(xdt(),uc);m4(Tdt(),uc);m4(Ddt(),uc);m4(XL(),uc);m4(Qdt(),uc);uc.serialization=fgr(Xft())});var ept=b(vs=>{"use strict";var g4=vs&&vs.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},y4=vs&&vs.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}},Hi=vs&&vs.__await||function(t){return this instanceof Hi?(this.v=t,this):new Hi(t)},b4=vs&&vs.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(m,h){i.push([f,p,m,h])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(m){d(i[0][3],m)}}function u(f){f.value instanceof Hi?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(vs,"__esModule",{value:!0});vs.readableStreamAsyncIterable=vs._decodeChunks=vs.LineDecoder=vs._iterSSEMessages=vs.StreamUtils=void 0;var yF=es(),DP=class{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;function o(){return b4(this,arguments,function*(){var a,s;if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let u=!1;try{try{for(var l=y4(Qft(e,r)),c;c=yield Hi(l.next()),!c.done;){let d=c.value;if(!u){if(d.data.startsWith("[DONE]")){u=!0;continue}if(d.event===null){let f;try{f=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(f&&f.error)throw new yF.CohereError({message:`Error: ${f.error}`});yield yield Hi(f)}else{let f;try{f=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(d.event=="error")throw new yF.CohereError({message:`Error: ${f.message}, ${f.error}`});yield yield Hi({event:d.event,data:f})}}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=l.return)&&(yield Hi(s.call(l)))}finally{if(a)throw a.error}}u=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return yield Hi(void 0);throw d}finally{u||r?.abort()}})}return new DP(o,r)}static fromReadableStream(e,r){let n=!1;function o(){return b4(this,arguments,function*(){var s,u;let l=new _g,c=m_e(e);try{for(var d=y4(c),f;f=yield Hi(d.next()),!f.done;){let p=f.value;for(let m of l.decode(p))yield yield Hi(m)}}catch(p){s={error:p}}finally{try{f&&!f.done&&(u=d.return)&&(yield Hi(u.call(d)))}finally{if(s)throw s.error}}for(let p of l.flush())yield yield Hi(p)})}function i(){return b4(this,arguments,function*(){var s,u;if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let l=!1;try{try{for(var c=y4(o()),d;d=yield Hi(c.next()),!d.done;){let f=d.value;l||f&&(yield yield Hi(JSON.parse(f)))}}catch(f){s={error:f}}finally{try{d&&!d.done&&(u=c.return)&&(yield Hi(u.call(c)))}finally{if(s)throw s.error}}l=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return yield Hi(void 0);throw f}finally{l||r?.abort()}})}return new DP(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();e.push(a),r.push(a)}return i.shift()}});return[new DP(()=>o(e),this.controller),new DP(()=>o(r),this.controller)]}toReadableStream(){let e=this,r,n=new TextEncoder;return new ReadableStream({start(){return g4(this,void 0,void 0,function*(){r=e[Symbol.asyncIterator]()})},pull(o){return g4(this,void 0,void 0,function*(){try{let{value:i,done:a}=yield r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}})},cancel(){var o;return g4(this,void 0,void 0,function*(){yield(o=r.return)===null||o===void 0?void 0:o.call(r)})}})}};vs.StreamUtils=DP;function Qft(t,e){return b4(this,arguments,function*(){var n,o;if(!t.body)throw e?.abort(),new yF.CohereError({message:"Attempted to iterate over a response with no body"});let i=new h_e,a=new _g,s=m_e(t.body);try{for(var u=y4(pgr(s)),l;l=yield Hi(u.next()),!l.done;){let c=l.value;for(let d of a.decode(c)){let f=i.decode(d);f&&(yield yield Hi(f))}}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=u.return)&&(yield Hi(o.call(u)))}finally{if(n)throw n.error}}for(let c of a.flush()){let d=i.decode(c);d&&(yield yield Hi(d))}})}vs._iterSSEMessages=Qft;function pgr(t){return b4(this,arguments,function*(){var r,n;let o=new Uint8Array;try{for(var i=y4(t),a;a=yield Hi(i.next()),!a.done;){let s=a.value;if(s==null)continue;let u=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?new TextEncoder().encode(s):s,l=new Uint8Array(o.length+u.length);l.set(o),l.set(u,o.length),o=l;let c;for(;(c=hgr(o))!==-1;)yield yield Hi(o.slice(0,c)),o=o.slice(c)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&(yield Hi(n.call(i)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Hi(o))})}function hgr(t){for(let n=0;n<t.length-2;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var h_e=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,o]=ggr(e,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}},_g=class{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let r=this.decodeText(e);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=_g.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(_g.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(e){var r;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new yF.CohereError({message:`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`})}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(r=this.textDecoder)!==null&&r!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new yF.CohereError({message:`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`})}throw new yF.CohereError({message:"Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error."})}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}};vs.LineDecoder=_g;_g.NEWLINE_CHARS=new Set([`
`,"\r"]);_g.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function mgr(t){let e=new _g,r=[];for(let n of t)r.push(...e.decode(n));return r}vs._decodeChunks=mgr;function ggr(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}function m_e(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{next(){return g4(this,void 0,void 0,function*(){try{let r=yield e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}})},return(){return g4(this,void 0,void 0,function*(){let r=e.cancel();return e.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}vs.readableStreamAsyncIterable=m_e});var g_e=b(Tb=>{"use strict";var ygr=Tb&&Tb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bgr=Tb&&Tb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_gr=Tb&&Tb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ygr(e,t,r);return bgr(e,t),e};Object.defineProperty(Tb,"__esModule",{value:!0});Tb.V2ChatStreamRequestCitationMode=void 0;var vgr=_gr($());Tb.V2ChatStreamRequestCitationMode=vgr.serialization.enum_(["FAST","ACCURATE","OFF"])});var y_e=b(Mb=>{"use strict";var wgr=Mb&&Mb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sgr=Mb&&Mb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xgr=Mb&&Mb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wgr(e,t,r);return Sgr(e,t),e};Object.defineProperty(Mb,"__esModule",{value:!0});Mb.V2ChatRequestCitationMode=void 0;var Cgr=xgr($());Mb.V2ChatRequestCitationMode=Cgr.serialization.enum_(["FAST","ACCURATE","OFF"])});var bF=b(Ab=>{"use strict";var Ogr=Ab&&Ab.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Egr=Ab&&Ab.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pgr=Ab&&Ab.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ogr(e,t,r);return Egr(e,t),e};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.TextContent=void 0;var tpt=Pgr($());Ab.TextContent=tpt.serialization.object({text:tpt.serialization.string()})});var b_e=b(Rb=>{"use strict";var Tgr=Rb&&Rb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mgr=Rb&&Rb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Agr=Rb&&Rb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tgr(e,t,r);return Mgr(e,t),e};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.Content=void 0;var Rgr=Agr($()),Igr=bF();Rb.Content=Rgr.serialization.union("type",{text:Igr.TextContent}).transform({transform:t=>t,untransform:t=>t})});var v_e=b(Ib=>{"use strict";var Dgr=Ib&&Ib.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jgr=Ib&&Ib.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ngr=Ib&&Ib.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dgr(e,t,r);return jgr(e,t),e};Object.defineProperty(Ib,"__esModule",{value:!0});Ib.UserMessageContent=void 0;var __e=Ngr($()),Lgr=b_e();Ib.UserMessageContent=__e.serialization.undiscriminatedUnion([__e.serialization.string(),__e.serialization.list(Lgr.Content)])});var gI=b(Db=>{"use strict";var Fgr=Db&&Db.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bgr=Db&&Db.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kgr=Db&&Db.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fgr(e,t,r);return Bgr(e,t),e};Object.defineProperty(Db,"__esModule",{value:!0});Db.ChatDocument=void 0;var w_e=kgr($());Db.ChatDocument=w_e.serialization.record(w_e.serialization.string(),w_e.serialization.string())});var S_e=b(jb=>{"use strict";var $gr=jb&&jb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qgr=jb&&jb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ugr=jb&&jb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$gr(e,t,r);return qgr(e,t),e};Object.defineProperty(jb,"__esModule",{value:!0});jb.UserMessage=void 0;var rpt=Ugr($()),zgr=v_e(),Hgr=gI();jb.UserMessage=rpt.serialization.object({content:zgr.UserMessageContent,documents:rpt.serialization.list(Hgr.ChatDocument).optional()})});var C_e=b(Nb=>{"use strict";var Vgr=Nb&&Nb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wgr=Nb&&Nb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jgr=Nb&&Nb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vgr(e,t,r);return Wgr(e,t),e};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.ToolCall2Function=void 0;var x_e=Jgr($());Nb.ToolCall2Function=x_e.serialization.object({name:x_e.serialization.string().optional(),arguments:x_e.serialization.string().optional()})});var rX=b(Lb=>{"use strict";var Ggr=Lb&&Lb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kgr=Lb&&Lb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ygr=Lb&&Lb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ggr(e,t,r);return Kgr(e,t),e};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.ToolCall2=void 0;var O_e=Ygr($()),Xgr=C_e();Lb.ToolCall2=O_e.serialization.object({id:O_e.serialization.string().optional(),type:O_e.serialization.stringLiteral("function").optional(),function:Xgr.ToolCall2Function.optional()})});var E_e=b(Fb=>{"use strict";var Zgr=Fb&&Fb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qgr=Fb&&Fb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eyr=Fb&&Fb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zgr(e,t,r);return Qgr(e,t),e};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.ToolSource=void 0;var _F=eyr($());Fb.ToolSource=_F.serialization.object({id:_F.serialization.string().optional(),toolOutput:_F.serialization.property("tool_output",_F.serialization.record(_F.serialization.string(),_F.serialization.unknown()).optional())})});var P_e=b(Bb=>{"use strict";var tyr=Bb&&Bb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ryr=Bb&&Bb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nyr=Bb&&Bb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tyr(e,t,r);return ryr(e,t),e};Object.defineProperty(Bb,"__esModule",{value:!0});Bb.DocumentSource=void 0;var _4=nyr($());Bb.DocumentSource=_4.serialization.object({id:_4.serialization.string().optional(),document:_4.serialization.record(_4.serialization.string(),_4.serialization.unknown()).optional()})});var T_e=b(kb=>{"use strict";var oyr=kb&&kb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iyr=kb&&kb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ayr=kb&&kb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oyr(e,t,r);return iyr(e,t),e};Object.defineProperty(kb,"__esModule",{value:!0});kb.Source=void 0;var syr=ayr($()),uyr=E_e(),lyr=P_e();kb.Source=syr.serialization.union("type",{tool:uyr.ToolSource,document:lyr.DocumentSource}).transform({transform:t=>t,untransform:t=>t})});var w4=b($b=>{"use strict";var cyr=$b&&$b.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dyr=$b&&$b.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fyr=$b&&$b.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cyr(e,t,r);return dyr(e,t),e};Object.defineProperty($b,"__esModule",{value:!0});$b.Citation=void 0;var v4=fyr($()),pyr=T_e();$b.Citation=v4.serialization.object({start:v4.serialization.number().optional(),end:v4.serialization.number().optional(),text:v4.serialization.string().optional(),sources:v4.serialization.list(pyr.Source).optional()})});var M_e=b(qb=>{"use strict";var hyr=qb&&qb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),myr=qb&&qb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gyr=qb&&qb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hyr(e,t,r);return myr(e,t),e};Object.defineProperty(qb,"__esModule",{value:!0});qb.AssistantMessageContentItem=void 0;var yyr=gyr($()),byr=bF();qb.AssistantMessageContentItem=yyr.serialization.union("type",{text:byr.TextContent}).transform({transform:t=>t,untransform:t=>t})});var R_e=b(Ub=>{"use strict";var _yr=Ub&&Ub.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vyr=Ub&&Ub.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wyr=Ub&&Ub.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_yr(e,t,r);return vyr(e,t),e};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.AssistantMessageContent=void 0;var A_e=wyr($()),Syr=M_e();Ub.AssistantMessageContent=A_e.serialization.undiscriminatedUnion([A_e.serialization.string(),A_e.serialization.list(Syr.AssistantMessageContentItem)])});var I_e=b(zb=>{"use strict";var xyr=zb&&zb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cyr=zb&&zb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oyr=zb&&zb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xyr(e,t,r);return Cyr(e,t),e};Object.defineProperty(zb,"__esModule",{value:!0});zb.AssistantMessage=void 0;var vF=Oyr($()),Eyr=rX(),Pyr=R_e(),Tyr=w4();zb.AssistantMessage=vF.serialization.object({toolCalls:vF.serialization.property("tool_calls",vF.serialization.list(Eyr.ToolCall2).optional()),toolPlan:vF.serialization.property("tool_plan",vF.serialization.string().optional()),content:Pyr.AssistantMessageContent.optional(),citations:vF.serialization.list(Tyr.Citation).optional()})});var D_e=b(Hb=>{"use strict";var Myr=Hb&&Hb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ayr=Hb&&Hb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ryr=Hb&&Hb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Myr(e,t,r);return Ayr(e,t),e};Object.defineProperty(Hb,"__esModule",{value:!0});Hb.SystemMessageContentItem=void 0;var Iyr=Ryr($()),Dyr=bF();Hb.SystemMessageContentItem=Iyr.serialization.union("type",{text:Dyr.TextContent}).transform({transform:t=>t,untransform:t=>t})});var N_e=b(Vb=>{"use strict";var jyr=Vb&&Vb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nyr=Vb&&Vb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lyr=Vb&&Vb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jyr(e,t,r);return Nyr(e,t),e};Object.defineProperty(Vb,"__esModule",{value:!0});Vb.SystemMessageContent=void 0;var j_e=Lyr($()),Fyr=D_e();Vb.SystemMessageContent=j_e.serialization.undiscriminatedUnion([j_e.serialization.string(),j_e.serialization.list(Fyr.SystemMessageContentItem)])});var L_e=b(Wb=>{"use strict";var Byr=Wb&&Wb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kyr=Wb&&Wb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$yr=Wb&&Wb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Byr(e,t,r);return kyr(e,t),e};Object.defineProperty(Wb,"__esModule",{value:!0});Wb.SystemMessage=void 0;var qyr=$yr($()),Uyr=N_e();Wb.SystemMessage=qyr.serialization.object({content:Uyr.SystemMessageContent})});var F_e=b(Jb=>{"use strict";var zyr=Jb&&Jb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hyr=Jb&&Jb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vyr=Jb&&Jb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zyr(e,t,r);return Hyr(e,t),e};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.ToolContent=void 0;var nX=Vyr($());Jb.ToolContent=nX.serialization.object({output:nX.serialization.record(nX.serialization.string(),nX.serialization.unknown())})});var B_e=b(Gb=>{"use strict";var Wyr=Gb&&Gb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jyr=Gb&&Gb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gyr=Gb&&Gb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wyr(e,t,r);return Jyr(e,t),e};Object.defineProperty(Gb,"__esModule",{value:!0});Gb.ToolMessage2ToolContentItem=void 0;var Kyr=Gyr($()),Yyr=F_e();Gb.ToolMessage2ToolContentItem=Kyr.serialization.union("type",{tool_result_object:Yyr.ToolContent}).transform({transform:t=>t,untransform:t=>t})});var k_e=b(Kb=>{"use strict";var Xyr=Kb&&Kb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zyr=Kb&&Kb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qyr=Kb&&Kb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xyr(e,t,r);return Zyr(e,t),e};Object.defineProperty(Kb,"__esModule",{value:!0});Kb.ToolMessage2=void 0;var S4=Qyr($()),ebr=B_e();Kb.ToolMessage2=S4.serialization.object({toolCallId:S4.serialization.property("tool_call_id",S4.serialization.string()),toolContent:S4.serialization.property("tool_content",S4.serialization.list(ebr.ToolMessage2ToolContentItem))})});var $_e=b(Yb=>{"use strict";var tbr=Yb&&Yb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rbr=Yb&&Yb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nbr=Yb&&Yb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tbr(e,t,r);return rbr(e,t),e};Object.defineProperty(Yb,"__esModule",{value:!0});Yb.ChatMessage2=void 0;var obr=nbr($()),ibr=S_e(),abr=I_e(),sbr=L_e(),ubr=k_e();Yb.ChatMessage2=obr.serialization.union("role",{user:ibr.UserMessage,assistant:abr.AssistantMessage,system:sbr.SystemMessage,tool:ubr.ToolMessage2}).transform({transform:t=>t,untransform:t=>t})});var oX=b(Xb=>{"use strict";var lbr=Xb&&Xb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cbr=Xb&&Xb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dbr=Xb&&Xb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lbr(e,t,r);return cbr(e,t),e};Object.defineProperty(Xb,"__esModule",{value:!0});Xb.ChatMessages=void 0;var fbr=dbr($()),pbr=$_e();Xb.ChatMessages=fbr.serialization.list(pbr.ChatMessage2)});var q_e=b(Zb=>{"use strict";var hbr=Zb&&Zb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mbr=Zb&&Zb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gbr=Zb&&Zb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hbr(e,t,r);return mbr(e,t),e};Object.defineProperty(Zb,"__esModule",{value:!0});Zb.Tool2Function=void 0;var wF=gbr($());Zb.Tool2Function=wF.serialization.object({name:wF.serialization.string().optional(),description:wF.serialization.string().optional(),parameters:wF.serialization.record(wF.serialization.string(),wF.serialization.unknown()).optional()})});var iX=b(Qb=>{"use strict";var ybr=Qb&&Qb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bbr=Qb&&Qb.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_br=Qb&&Qb.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ybr(e,t,r);return bbr(e,t),e};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.Tool2=void 0;var npt=_br($()),vbr=q_e();Qb.Tool2=npt.serialization.object({type:npt.serialization.stringLiteral("function").optional(),function:vbr.Tool2Function.optional()})});var aX=b(e_=>{"use strict";var wbr=e_&&e_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sbr=e_&&e_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xbr=e_&&e_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wbr(e,t,r);return Sbr(e,t),e};Object.defineProperty(e_,"__esModule",{value:!0});e_.ChatFinishReason=void 0;var Cbr=xbr($());e_.ChatFinishReason=Cbr.serialization.enum_(["complete","stop_sequence","max_tokens","tool_call","error","content_blocked","error_limit"])});var U_e=b(t_=>{"use strict";var Obr=t_&&t_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ebr=t_&&t_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pbr=t_&&t_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Obr(e,t,r);return Ebr(e,t),e};Object.defineProperty(t_,"__esModule",{value:!0});t_.AssistantMessageResponseContentItem=void 0;var Tbr=Pbr($()),Mbr=bF();t_.AssistantMessageResponseContentItem=Tbr.serialization.union("type",{text:Mbr.TextContent}).transform({transform:t=>t,untransform:t=>t})});var z_e=b(r_=>{"use strict";var Abr=r_&&r_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rbr=r_&&r_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ibr=r_&&r_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Abr(e,t,r);return Rbr(e,t),e};Object.defineProperty(r_,"__esModule",{value:!0});r_.AssistantMessageResponse=void 0;var jP=Ibr($()),Dbr=rX(),jbr=U_e(),Nbr=w4();r_.AssistantMessageResponse=jP.serialization.object({role:jP.serialization.stringLiteral("assistant"),toolCalls:jP.serialization.property("tool_calls",jP.serialization.list(Dbr.ToolCall2).optional()),toolPlan:jP.serialization.property("tool_plan",jP.serialization.string().optional()),content:jP.serialization.list(jbr.AssistantMessageResponseContentItem).optional(),citations:jP.serialization.list(Nbr.Citation).optional()})});var H_e=b(n_=>{"use strict";var Lbr=n_&&n_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fbr=n_&&n_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bbr=n_&&n_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lbr(e,t,r);return Fbr(e,t),e};Object.defineProperty(n_,"__esModule",{value:!0});n_.UsageBilledUnits=void 0;var NP=Bbr($());n_.UsageBilledUnits=NP.serialization.object({inputTokens:NP.serialization.property("input_tokens",NP.serialization.number().optional()),outputTokens:NP.serialization.property("output_tokens",NP.serialization.number().optional()),searchUnits:NP.serialization.property("search_units",NP.serialization.number().optional()),classifications:NP.serialization.number().optional()})});var V_e=b(o_=>{"use strict";var kbr=o_&&o_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$br=o_&&o_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qbr=o_&&o_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kbr(e,t,r);return $br(e,t),e};Object.defineProperty(o_,"__esModule",{value:!0});o_.UsageTokens=void 0;var x4=qbr($());o_.UsageTokens=x4.serialization.object({inputTokens:x4.serialization.property("input_tokens",x4.serialization.number().optional()),outputTokens:x4.serialization.property("output_tokens",x4.serialization.number().optional())})});var sX=b(i_=>{"use strict";var Ubr=i_&&i_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zbr=i_&&i_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hbr=i_&&i_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ubr(e,t,r);return zbr(e,t),e};Object.defineProperty(i_,"__esModule",{value:!0});i_.Usage=void 0;var opt=Hbr($()),Vbr=H_e(),Wbr=V_e();i_.Usage=opt.serialization.object({billedUnits:opt.serialization.property("billed_units",Vbr.UsageBilledUnits.optional()),tokens:Wbr.UsageTokens.optional()})});var ipt=b(a_=>{"use strict";var Jbr=a_&&a_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gbr=a_&&a_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kbr=a_&&a_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jbr(e,t,r);return Gbr(e,t),e};Object.defineProperty(a_,"__esModule",{value:!0});a_.NonStreamedChatResponse2=void 0;var uX=Kbr($()),Ybr=aX(),Xbr=z_e(),Zbr=sX();a_.NonStreamedChatResponse2=uX.serialization.object({id:uX.serialization.string(),finishReason:uX.serialization.property("finish_reason",Ybr.ChatFinishReason),prompt:uX.serialization.string().optional(),message:Xbr.AssistantMessageResponse.optional(),usage:Zbr.Usage.optional()})});var wp=b(s_=>{"use strict";var Qbr=s_&&s_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e_r=s_&&s_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t_r=s_&&s_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qbr(e,t,r);return e_r(e,t),e};Object.defineProperty(s_,"__esModule",{value:!0});s_.ChatStreamEventType=void 0;var r_r=t_r($());s_.ChatStreamEventType=r_r.serialization.object({})});var W_e=b(u_=>{"use strict";var n_r=u_&&u_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o_r=u_&&u_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i_r=u_&&u_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n_r(e,t,r);return o_r(e,t),e};Object.defineProperty(u_,"__esModule",{value:!0});u_.ChatMessageStartEventDeltaMessage=void 0;var apt=i_r($());u_.ChatMessageStartEventDeltaMessage=apt.serialization.object({role:apt.serialization.stringLiteral("assistant").optional()})});var J_e=b(l_=>{"use strict";var a_r=l_&&l_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s_r=l_&&l_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u_r=l_&&l_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&a_r(e,t,r);return s_r(e,t),e};Object.defineProperty(l_,"__esModule",{value:!0});l_.ChatMessageStartEventDelta=void 0;var l_r=u_r($()),c_r=W_e();l_.ChatMessageStartEventDelta=l_r.serialization.object({message:c_r.ChatMessageStartEventDeltaMessage.optional()})});var G_e=b(c_=>{"use strict";var d_r=c_&&c_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f_r=c_&&c_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p_r=c_&&c_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d_r(e,t,r);return f_r(e,t),e};Object.defineProperty(c_,"__esModule",{value:!0});c_.ChatMessageStartEvent=void 0;var spt=p_r($()),h_r=J_e(),m_r=wp();c_.ChatMessageStartEvent=spt.serialization.object({id:spt.serialization.string().optional(),delta:h_r.ChatMessageStartEventDelta.optional()}).extend(m_r.ChatStreamEventType)});var Y_e=b(d_=>{"use strict";var g_r=d_&&d_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y_r=d_&&d_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),b_r=d_&&d_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&g_r(e,t,r);return y_r(e,t),e};Object.defineProperty(d_,"__esModule",{value:!0});d_.ChatContentStartEventDeltaMessageContent=void 0;var K_e=b_r($());d_.ChatContentStartEventDeltaMessageContent=K_e.serialization.object({text:K_e.serialization.string().optional(),type:K_e.serialization.stringLiteral("text").optional()})});var X_e=b(f_=>{"use strict";var __r=f_&&f_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v_r=f_&&f_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w_r=f_&&f_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__r(e,t,r);return v_r(e,t),e};Object.defineProperty(f_,"__esModule",{value:!0});f_.ChatContentStartEventDeltaMessage=void 0;var S_r=w_r($()),x_r=Y_e();f_.ChatContentStartEventDeltaMessage=S_r.serialization.object({content:x_r.ChatContentStartEventDeltaMessageContent.optional()})});var Z_e=b(p_=>{"use strict";var C_r=p_&&p_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O_r=p_&&p_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),E_r=p_&&p_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C_r(e,t,r);return O_r(e,t),e};Object.defineProperty(p_,"__esModule",{value:!0});p_.ChatContentStartEventDelta=void 0;var P_r=E_r($()),T_r=X_e();p_.ChatContentStartEventDelta=P_r.serialization.object({message:T_r.ChatContentStartEventDeltaMessage.optional()})});var Q_e=b(h_=>{"use strict";var M_r=h_&&h_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A_r=h_&&h_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R_r=h_&&h_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&M_r(e,t,r);return A_r(e,t),e};Object.defineProperty(h_,"__esModule",{value:!0});h_.ChatContentStartEvent=void 0;var upt=R_r($()),I_r=Z_e(),D_r=wp();h_.ChatContentStartEvent=upt.serialization.object({index:upt.serialization.number().optional(),delta:I_r.ChatContentStartEventDelta.optional()}).extend(D_r.ChatStreamEventType)});var eve=b(m_=>{"use strict";var j_r=m_&&m_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N_r=m_&&m_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),L_r=m_&&m_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&j_r(e,t,r);return N_r(e,t),e};Object.defineProperty(m_,"__esModule",{value:!0});m_.ChatContentDeltaEventDeltaMessageContent=void 0;var lpt=L_r($());m_.ChatContentDeltaEventDeltaMessageContent=lpt.serialization.object({text:lpt.serialization.string().optional()})});var tve=b(g_=>{"use strict";var F_r=g_&&g_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B_r=g_&&g_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k_r=g_&&g_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F_r(e,t,r);return B_r(e,t),e};Object.defineProperty(g_,"__esModule",{value:!0});g_.ChatContentDeltaEventDeltaMessage=void 0;var $_r=k_r($()),q_r=eve();g_.ChatContentDeltaEventDeltaMessage=$_r.serialization.object({content:q_r.ChatContentDeltaEventDeltaMessageContent.optional()})});var rve=b(y_=>{"use strict";var U_r=y_&&y_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z_r=y_&&y_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H_r=y_&&y_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U_r(e,t,r);return z_r(e,t),e};Object.defineProperty(y_,"__esModule",{value:!0});y_.ChatContentDeltaEventDelta=void 0;var V_r=H_r($()),W_r=tve();y_.ChatContentDeltaEventDelta=V_r.serialization.object({message:W_r.ChatContentDeltaEventDeltaMessage.optional()})});var nve=b(b_=>{"use strict";var J_r=b_&&b_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G_r=b_&&b_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),K_r=b_&&b_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J_r(e,t,r);return G_r(e,t),e};Object.defineProperty(b_,"__esModule",{value:!0});b_.ChatContentDeltaEvent=void 0;var cpt=K_r($()),Y_r=rve(),X_r=wp();b_.ChatContentDeltaEvent=cpt.serialization.object({index:cpt.serialization.number().optional(),delta:Y_r.ChatContentDeltaEventDelta.optional()}).extend(X_r.ChatStreamEventType)});var ove=b(__=>{"use strict";var Z_r=__&&__.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q_r=__&&__.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),evr=__&&__.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z_r(e,t,r);return Q_r(e,t),e};Object.defineProperty(__,"__esModule",{value:!0});__.ChatContentEndEvent=void 0;var dpt=evr($()),tvr=wp();__.ChatContentEndEvent=dpt.serialization.object({index:dpt.serialization.number().optional()}).extend(tvr.ChatStreamEventType)});var ave=b(v_=>{"use strict";var rvr=v_&&v_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nvr=v_&&v_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ovr=v_&&v_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rvr(e,t,r);return nvr(e,t),e};Object.defineProperty(v_,"__esModule",{value:!0});v_.ChatToolPlanDeltaEventDelta=void 0;var ive=ovr($());v_.ChatToolPlanDeltaEventDelta=ive.serialization.object({toolPlan:ive.serialization.property("tool_plan",ive.serialization.string().optional())})});var sve=b(w_=>{"use strict";var ivr=w_&&w_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),avr=w_&&w_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),svr=w_&&w_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ivr(e,t,r);return avr(e,t),e};Object.defineProperty(w_,"__esModule",{value:!0});w_.ChatToolPlanDeltaEvent=void 0;var uvr=svr($()),lvr=ave(),cvr=wp();w_.ChatToolPlanDeltaEvent=uvr.serialization.object({delta:lvr.ChatToolPlanDeltaEventDelta.optional()}).extend(cvr.ChatStreamEventType)});var lve=b(S_=>{"use strict";var dvr=S_&&S_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fvr=S_&&S_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pvr=S_&&S_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dvr(e,t,r);return fvr(e,t),e};Object.defineProperty(S_,"__esModule",{value:!0});S_.ChatToolCallStartEventDeltaToolCallFunction=void 0;var uve=pvr($());S_.ChatToolCallStartEventDeltaToolCallFunction=uve.serialization.object({name:uve.serialization.string().optional(),arguments:uve.serialization.string().optional()})});var dve=b(x_=>{"use strict";var hvr=x_&&x_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mvr=x_&&x_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gvr=x_&&x_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hvr(e,t,r);return mvr(e,t),e};Object.defineProperty(x_,"__esModule",{value:!0});x_.ChatToolCallStartEventDeltaToolCall=void 0;var cve=gvr($()),yvr=lve();x_.ChatToolCallStartEventDeltaToolCall=cve.serialization.object({id:cve.serialization.string().optional(),type:cve.serialization.stringLiteral("function").optional(),function:yvr.ChatToolCallStartEventDeltaToolCallFunction.optional()})});var fve=b(C_=>{"use strict";var bvr=C_&&C_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_vr=C_&&C_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vvr=C_&&C_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bvr(e,t,r);return _vr(e,t),e};Object.defineProperty(C_,"__esModule",{value:!0});C_.ChatToolCallStartEventDelta=void 0;var fpt=vvr($()),wvr=dve();C_.ChatToolCallStartEventDelta=fpt.serialization.object({toolCall:fpt.serialization.property("tool_call",wvr.ChatToolCallStartEventDeltaToolCall.optional())})});var pve=b(O_=>{"use strict";var Svr=O_&&O_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xvr=O_&&O_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cvr=O_&&O_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Svr(e,t,r);return xvr(e,t),e};Object.defineProperty(O_,"__esModule",{value:!0});O_.ChatToolCallStartEvent=void 0;var ppt=Cvr($()),Ovr=fve(),Evr=wp();O_.ChatToolCallStartEvent=ppt.serialization.object({index:ppt.serialization.number().optional(),delta:Ovr.ChatToolCallStartEventDelta.optional()}).extend(Evr.ChatStreamEventType)});var hve=b(E_=>{"use strict";var Pvr=E_&&E_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tvr=E_&&E_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mvr=E_&&E_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pvr(e,t,r);return Tvr(e,t),e};Object.defineProperty(E_,"__esModule",{value:!0});E_.ChatToolCallDeltaEventDeltaToolCallFunction=void 0;var hpt=Mvr($());E_.ChatToolCallDeltaEventDeltaToolCallFunction=hpt.serialization.object({arguments:hpt.serialization.string().optional()})});var mve=b(P_=>{"use strict";var Avr=P_&&P_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rvr=P_&&P_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ivr=P_&&P_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Avr(e,t,r);return Rvr(e,t),e};Object.defineProperty(P_,"__esModule",{value:!0});P_.ChatToolCallDeltaEventDeltaToolCall=void 0;var Dvr=Ivr($()),jvr=hve();P_.ChatToolCallDeltaEventDeltaToolCall=Dvr.serialization.object({function:jvr.ChatToolCallDeltaEventDeltaToolCallFunction.optional()})});var gve=b(T_=>{"use strict";var Nvr=T_&&T_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lvr=T_&&T_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fvr=T_&&T_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nvr(e,t,r);return Lvr(e,t),e};Object.defineProperty(T_,"__esModule",{value:!0});T_.ChatToolCallDeltaEventDelta=void 0;var mpt=Fvr($()),Bvr=mve();T_.ChatToolCallDeltaEventDelta=mpt.serialization.object({toolCall:mpt.serialization.property("tool_call",Bvr.ChatToolCallDeltaEventDeltaToolCall.optional())})});var yve=b(M_=>{"use strict";var kvr=M_&&M_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$vr=M_&&M_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qvr=M_&&M_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kvr(e,t,r);return $vr(e,t),e};Object.defineProperty(M_,"__esModule",{value:!0});M_.ChatToolCallDeltaEvent=void 0;var gpt=qvr($()),Uvr=gve(),zvr=wp();M_.ChatToolCallDeltaEvent=gpt.serialization.object({index:gpt.serialization.number().optional(),delta:Uvr.ChatToolCallDeltaEventDelta.optional()}).extend(zvr.ChatStreamEventType)});var bve=b(A_=>{"use strict";var Hvr=A_&&A_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vvr=A_&&A_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wvr=A_&&A_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hvr(e,t,r);return Vvr(e,t),e};Object.defineProperty(A_,"__esModule",{value:!0});A_.ChatToolCallEndEvent=void 0;var ypt=Wvr($()),Jvr=wp();A_.ChatToolCallEndEvent=ypt.serialization.object({index:ypt.serialization.number().optional()}).extend(Jvr.ChatStreamEventType)});var _ve=b(R_=>{"use strict";var Gvr=R_&&R_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kvr=R_&&R_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yvr=R_&&R_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Gvr(e,t,r);return Kvr(e,t),e};Object.defineProperty(R_,"__esModule",{value:!0});R_.ChatMessageEndEventDelta=void 0;var bpt=Yvr($()),Xvr=aX(),Zvr=sX();R_.ChatMessageEndEventDelta=bpt.serialization.object({finishReason:bpt.serialization.property("finish_reason",Xvr.ChatFinishReason.optional()),usage:Zvr.Usage.optional()})});var vve=b(I_=>{"use strict";var Qvr=I_&&I_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e0r=I_&&I_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t0r=I_&&I_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qvr(e,t,r);return e0r(e,t),e};Object.defineProperty(I_,"__esModule",{value:!0});I_.ChatMessageEndEvent=void 0;var _pt=t0r($()),r0r=_ve(),n0r=wp();I_.ChatMessageEndEvent=_pt.serialization.object({id:_pt.serialization.string().optional(),delta:r0r.ChatMessageEndEventDelta.optional()}).extend(n0r.ChatStreamEventType)});var wve=b(D_=>{"use strict";var o0r=D_&&D_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i0r=D_&&D_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a0r=D_&&D_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&o0r(e,t,r);return i0r(e,t),e};Object.defineProperty(D_,"__esModule",{value:!0});D_.CitationStartEventDeltaMessage=void 0;var s0r=a0r($()),u0r=w4();D_.CitationStartEventDeltaMessage=s0r.serialization.object({citations:u0r.Citation.optional()})});var Sve=b(j_=>{"use strict";var l0r=j_&&j_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),c0r=j_&&j_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),d0r=j_&&j_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&l0r(e,t,r);return c0r(e,t),e};Object.defineProperty(j_,"__esModule",{value:!0});j_.CitationStartEventDelta=void 0;var f0r=d0r($()),p0r=wve();j_.CitationStartEventDelta=f0r.serialization.object({message:p0r.CitationStartEventDeltaMessage.optional()})});var xve=b(N_=>{"use strict";var h0r=N_&&N_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),m0r=N_&&N_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),g0r=N_&&N_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&h0r(e,t,r);return m0r(e,t),e};Object.defineProperty(N_,"__esModule",{value:!0});N_.CitationStartEvent=void 0;var vpt=g0r($()),y0r=Sve(),b0r=wp();N_.CitationStartEvent=vpt.serialization.object({index:vpt.serialization.number().optional(),delta:y0r.CitationStartEventDelta.optional()}).extend(b0r.ChatStreamEventType)});var Cve=b(L_=>{"use strict";var _0r=L_&&L_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v0r=L_&&L_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w0r=L_&&L_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_0r(e,t,r);return v0r(e,t),e};Object.defineProperty(L_,"__esModule",{value:!0});L_.CitationEndEvent=void 0;var wpt=w0r($()),S0r=wp();L_.CitationEndEvent=wpt.serialization.object({index:wpt.serialization.number().optional()}).extend(S0r.ChatStreamEventType)});var Spt=b(F_=>{"use strict";var x0r=F_&&F_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C0r=F_&&F_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),O0r=F_&&F_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x0r(e,t,r);return C0r(e,t),e};Object.defineProperty(F_,"__esModule",{value:!0});F_.StreamedChatResponse2=void 0;var E0r=O0r($()),P0r=G_e(),T0r=Q_e(),M0r=nve(),A0r=ove(),R0r=sve(),I0r=pve(),D0r=yve(),j0r=bve(),N0r=xve(),L0r=Cve(),F0r=vve();F_.StreamedChatResponse2=E0r.serialization.union("type",{"message-start":P0r.ChatMessageStartEvent,"content-start":T0r.ChatContentStartEvent,"content-delta":M0r.ChatContentDeltaEvent,"content-end":A0r.ChatContentEndEvent,"tool-plan-delta":R0r.ChatToolPlanDeltaEvent,"tool-call-start":I0r.ChatToolCallStartEvent,"tool-call-delta":D0r.ChatToolCallDeltaEvent,"tool-call-end":j0r.ChatToolCallEndEvent,"citation-start":N0r.CitationStartEvent,"citation-end":L0r.CitationEndEvent,"message-end":F0r.ChatMessageEndEvent}).transform({transform:t=>t,untransform:t=>t})});var Ove=b(ut=>{"use strict";var B0r=ut&&ut.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_t=ut&&ut.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&B0r(e,t,r)};Object.defineProperty(ut,"__esModule",{value:!0});_t(g_e(),ut);_t(y_e(),ut);_t(bF(),ut);_t(b_e(),ut);_t(v_e(),ut);_t(S_e(),ut);_t(C_e(),ut);_t(rX(),ut);_t(E_e(),ut);_t(P_e(),ut);_t(T_e(),ut);_t(w4(),ut);_t(M_e(),ut);_t(R_e(),ut);_t(I_e(),ut);_t(D_e(),ut);_t(N_e(),ut);_t(L_e(),ut);_t(F_e(),ut);_t(B_e(),ut);_t(k_e(),ut);_t($_e(),ut);_t(oX(),ut);_t(q_e(),ut);_t(iX(),ut);_t(aX(),ut);_t(U_e(),ut);_t(z_e(),ut);_t(H_e(),ut);_t(V_e(),ut);_t(sX(),ut);_t(ipt(),ut);_t(wp(),ut);_t(W_e(),ut);_t(J_e(),ut);_t(G_e(),ut);_t(Y_e(),ut);_t(X_e(),ut);_t(Z_e(),ut);_t(Q_e(),ut);_t(eve(),ut);_t(tve(),ut);_t(rve(),ut);_t(nve(),ut);_t(ove(),ut);_t(ave(),ut);_t(sve(),ut);_t(lve(),ut);_t(dve(),ut);_t(fve(),ut);_t(pve(),ut);_t(hve(),ut);_t(mve(),ut);_t(gve(),ut);_t(yve(),ut);_t(bve(),ut);_t(_ve(),ut);_t(vve(),ut);_t(Spt(),ut)});var lX=b(B_=>{"use strict";var k0r=B_&&B_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$0r=B_&&B_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),q0r=B_&&B_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k0r(e,t,r);return $0r(e,t),e};Object.defineProperty(B_,"__esModule",{value:!0});B_.TextResponseFormat=void 0;var U0r=q0r($());B_.TextResponseFormat=U0r.serialization.object({})});var Eve=b(k_=>{"use strict";var z0r=k_&&k_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H0r=k_&&k_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V0r=k_&&k_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z0r(e,t,r);return H0r(e,t),e};Object.defineProperty(k_,"__esModule",{value:!0});k_.JsonResponseFormat2=void 0;var C4=V0r($());k_.JsonResponseFormat2=C4.serialization.object({jsonSchema:C4.serialization.property("json_schema",C4.serialization.record(C4.serialization.string(),C4.serialization.unknown()).optional())})});var cX=b($_=>{"use strict";var W0r=$_&&$_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J0r=$_&&$_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G0r=$_&&$_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W0r(e,t,r);return J0r(e,t),e};Object.defineProperty($_,"__esModule",{value:!0});$_.ResponseFormat2=void 0;var K0r=G0r($()),Y0r=lX(),X0r=Eve();$_.ResponseFormat2=K0r.serialization.union("type",{text:Y0r.TextResponseFormat,json_object:X0r.JsonResponseFormat2}).transform({transform:t=>t,untransform:t=>t})});var xpt=b(q_=>{"use strict";var Z0r=q_&&q_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q0r=q_&&q_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ewr=q_&&q_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z0r(e,t,r);return Q0r(e,t),e};Object.defineProperty(q_,"__esModule",{value:!0});q_.V2ChatStreamRequest=void 0;var ws=ewr($()),twr=oX(),rwr=iX(),nwr=g_e(),owr=cX();q_.V2ChatStreamRequest=ws.serialization.object({model:ws.serialization.string(),messages:twr.ChatMessages,tools:ws.serialization.list(rwr.Tool2).optional(),citationMode:ws.serialization.property("citation_mode",nwr.V2ChatStreamRequestCitationMode.optional()),responseFormat:ws.serialization.property("response_format",owr.ResponseFormat2.optional()),maxTokens:ws.serialization.property("max_tokens",ws.serialization.number().optional()),stopSequences:ws.serialization.property("stop_sequences",ws.serialization.list(ws.serialization.string()).optional()),temperature:ws.serialization.number().optional(),seed:ws.serialization.number().optional(),frequencyPenalty:ws.serialization.property("frequency_penalty",ws.serialization.number().optional()),presencePenalty:ws.serialization.property("presence_penalty",ws.serialization.number().optional()),k:ws.serialization.number().optional(),p:ws.serialization.number().optional(),returnPrompt:ws.serialization.property("return_prompt",ws.serialization.boolean().optional())})});var Cpt=b(U_=>{"use strict";var iwr=U_&&U_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),awr=U_&&U_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),swr=U_&&U_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iwr(e,t,r);return awr(e,t),e};Object.defineProperty(U_,"__esModule",{value:!0});U_.V2ChatRequest=void 0;var Ss=swr($()),uwr=oX(),lwr=iX(),cwr=y_e(),dwr=cX();U_.V2ChatRequest=Ss.serialization.object({model:Ss.serialization.string(),messages:uwr.ChatMessages,tools:Ss.serialization.list(lwr.Tool2).optional(),citationMode:Ss.serialization.property("citation_mode",cwr.V2ChatRequestCitationMode.optional()),responseFormat:Ss.serialization.property("response_format",dwr.ResponseFormat2.optional()),maxTokens:Ss.serialization.property("max_tokens",Ss.serialization.number().optional()),stopSequences:Ss.serialization.property("stop_sequences",Ss.serialization.list(Ss.serialization.string()).optional()),temperature:Ss.serialization.number().optional(),seed:Ss.serialization.number().optional(),frequencyPenalty:Ss.serialization.property("frequency_penalty",Ss.serialization.number().optional()),presencePenalty:Ss.serialization.property("presence_penalty",Ss.serialization.number().optional()),k:Ss.serialization.number().optional(),p:Ss.serialization.number().optional(),returnPrompt:Ss.serialization.property("return_prompt",Ss.serialization.boolean().optional())})});var Pve=b(SF=>{"use strict";Object.defineProperty(SF,"__esModule",{value:!0});SF.V2ChatRequest=SF.V2ChatStreamRequest=void 0;var fwr=xpt();Object.defineProperty(SF,"V2ChatStreamRequest",{enumerable:!0,get:function(){return fwr.V2ChatStreamRequest}});var pwr=Cpt();Object.defineProperty(SF,"V2ChatRequest",{enumerable:!0,get:function(){return pwr.V2ChatRequest}})});var Opt=b(yI=>{"use strict";var hwr=yI&&yI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mwr=yI&&yI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hwr(e,t,r)};Object.defineProperty(yI,"__esModule",{value:!0});mwr(Pve(),yI)});var Ppt=b(LP=>{"use strict";var gwr=LP&&LP.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ept=LP&&LP.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gwr(e,t,r)};Object.defineProperty(LP,"__esModule",{value:!0});Ept(Ove(),LP);Ept(Opt(),LP)});var Tve=b(z_=>{"use strict";var ywr=z_&&z_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bwr=z_&&z_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_wr=z_&&z_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ywr(e,t,r);return bwr(e,t),e};Object.defineProperty(z_,"__esModule",{value:!0});z_.CreateEmbedJobRequestTruncate=void 0;var vwr=_wr($());z_.CreateEmbedJobRequestTruncate=vwr.serialization.enum_(["START","END"])});var Mve=b(bI=>{"use strict";var wwr=bI&&bI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Swr=bI&&bI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wwr(e,t,r)};Object.defineProperty(bI,"__esModule",{value:!0});Swr(Tve(),bI)});var dX=b(H_=>{"use strict";var xwr=H_&&H_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cwr=H_&&H_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Owr=H_&&H_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xwr(e,t,r);return Cwr(e,t),e};Object.defineProperty(H_,"__esModule",{value:!0});H_.EmbedInputType=void 0;var Ewr=Owr($());H_.EmbedInputType=Ewr.serialization.enum_(["search_document","search_query","classification","clustering"])});var fX=b(V_=>{"use strict";var Pwr=V_&&V_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Twr=V_&&V_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mwr=V_&&V_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pwr(e,t,r);return Twr(e,t),e};Object.defineProperty(V_,"__esModule",{value:!0});V_.EmbeddingType=void 0;var Awr=Mwr($());V_.EmbeddingType=Awr.serialization.enum_(["float","int8","uint8","binary","ubinary"])});var Tpt=b(W_=>{"use strict";var Rwr=W_&&W_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Iwr=W_&&W_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dwr=W_&&W_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rwr(e,t,r);return Iwr(e,t),e};Object.defineProperty(W_,"__esModule",{value:!0});W_.CreateEmbedJobRequest=void 0;var FP=Dwr($()),jwr=dX(),Nwr=fX(),Lwr=Tve();W_.CreateEmbedJobRequest=FP.serialization.object({model:FP.serialization.string(),datasetId:FP.serialization.property("dataset_id",FP.serialization.string()),inputType:FP.serialization.property("input_type",jwr.EmbedInputType),name:FP.serialization.string().optional(),embeddingTypes:FP.serialization.property("embedding_types",FP.serialization.list(Nwr.EmbeddingType).optional()),truncate:Lwr.CreateEmbedJobRequestTruncate.optional()})});var Ave=b(pX=>{"use strict";Object.defineProperty(pX,"__esModule",{value:!0});pX.CreateEmbedJobRequest=void 0;var Fwr=Tpt();Object.defineProperty(pX,"CreateEmbedJobRequest",{enumerable:!0,get:function(){return Fwr.CreateEmbedJobRequest}})});var Mpt=b(_I=>{"use strict";var Bwr=_I&&_I.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kwr=_I&&_I.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bwr(e,t,r)};Object.defineProperty(_I,"__esModule",{value:!0});kwr(Ave(),_I)});var Rpt=b(BP=>{"use strict";var $wr=BP&&BP.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Apt=BP&&BP.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$wr(e,t,r)};Object.defineProperty(BP,"__esModule",{value:!0});Apt(Mve(),BP);Apt(Mpt(),BP)});var Rve=b(J_=>{"use strict";var qwr=J_&&J_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Uwr=J_&&J_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zwr=J_&&J_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qwr(e,t,r);return Uwr(e,t),e};Object.defineProperty(J_,"__esModule",{value:!0});J_.DatasetType=void 0;var Hwr=zwr($());J_.DatasetType=Hwr.serialization.enum_(["embed-input","embed-result","cluster-result","cluster-outliers","reranker-finetune-input","single-label-classification-finetune-input","chat-finetune-input","multi-label-classification-finetune-input"])});var Ive=b(G_=>{"use strict";var Vwr=G_&&G_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wwr=G_&&G_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jwr=G_&&G_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vwr(e,t,r);return Wwr(e,t),e};Object.defineProperty(G_,"__esModule",{value:!0});G_.DatasetValidationStatus=void 0;var Gwr=Jwr($());G_.DatasetValidationStatus=Gwr.serialization.enum_(["unknown","queued","processing","failed","validated","skipped"])});var Dve=b(K_=>{"use strict";var Kwr=K_&&K_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ywr=K_&&K_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xwr=K_&&K_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kwr(e,t,r);return Ywr(e,t),e};Object.defineProperty(K_,"__esModule",{value:!0});K_.DatasetPart=void 0;var Sp=Xwr($());K_.DatasetPart=Sp.serialization.object({id:Sp.serialization.string(),name:Sp.serialization.string(),url:Sp.serialization.string().optional(),index:Sp.serialization.number().optional(),sizeBytes:Sp.serialization.property("size_bytes",Sp.serialization.number().optional()),numRows:Sp.serialization.property("num_rows",Sp.serialization.number().optional()),originalUrl:Sp.serialization.property("original_url",Sp.serialization.string().optional()),samples:Sp.serialization.list(Sp.serialization.string()).optional()})});var hX=b(Y_=>{"use strict";var Zwr=Y_&&Y_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qwr=Y_&&Y_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eSr=Y_&&Y_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zwr(e,t,r);return Qwr(e,t),e};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.Dataset=void 0;var ma=eSr($()),tSr=Rve(),rSr=Ive(),nSr=Dve();Y_.Dataset=ma.serialization.object({id:ma.serialization.string(),name:ma.serialization.string(),createdAt:ma.serialization.property("created_at",ma.serialization.date()),updatedAt:ma.serialization.property("updated_at",ma.serialization.date()),datasetType:ma.serialization.property("dataset_type",tSr.DatasetType),validationStatus:ma.serialization.property("validation_status",rSr.DatasetValidationStatus),validationError:ma.serialization.property("validation_error",ma.serialization.string().optional()),schema:ma.serialization.string().optional(),requiredFields:ma.serialization.property("required_fields",ma.serialization.list(ma.serialization.string()).optional()),preserveFields:ma.serialization.property("preserve_fields",ma.serialization.list(ma.serialization.string()).optional()),datasetParts:ma.serialization.property("dataset_parts",ma.serialization.list(nSr.DatasetPart).optional()),validationWarnings:ma.serialization.property("validation_warnings",ma.serialization.list(ma.serialization.string()).optional())})});var Dpt=b(X_=>{"use strict";var oSr=X_&&X_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iSr=X_&&X_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aSr=X_&&X_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oSr(e,t,r);return iSr(e,t),e};Object.defineProperty(X_,"__esModule",{value:!0});X_.DatasetsListResponse=void 0;var Ipt=aSr($()),sSr=hX();X_.DatasetsListResponse=Ipt.serialization.object({datasets:Ipt.serialization.list(sSr.Dataset).optional()})});var jpt=b(Z_=>{"use strict";var uSr=Z_&&Z_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lSr=Z_&&Z_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cSr=Z_&&Z_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uSr(e,t,r);return lSr(e,t),e};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.DatasetsCreateResponseDatasetPartsItem=void 0;var kP=cSr($());Z_.DatasetsCreateResponseDatasetPartsItem=kP.serialization.object({name:kP.serialization.string().optional(),numRows:kP.serialization.property("num_rows",kP.serialization.number().optional()),samples:kP.serialization.list(kP.serialization.string()).optional(),partKind:kP.serialization.property("part_kind",kP.serialization.string().optional())})});var Lpt=b(Q_=>{"use strict";var dSr=Q_&&Q_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fSr=Q_&&Q_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pSr=Q_&&Q_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dSr(e,t,r);return fSr(e,t),e};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.DatasetsCreateResponse=void 0;var Npt=pSr($());Q_.DatasetsCreateResponse=Npt.serialization.object({id:Npt.serialization.string().optional()})});var Fpt=b(ev=>{"use strict";var hSr=ev&&ev.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mSr=ev&&ev.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gSr=ev&&ev.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hSr(e,t,r);return mSr(e,t),e};Object.defineProperty(ev,"__esModule",{value:!0});ev.DatasetsGetUsageResponse=void 0;var jve=gSr($());ev.DatasetsGetUsageResponse=jve.serialization.object({organizationUsage:jve.serialization.property("organization_usage",jve.serialization.number().optional())})});var Bpt=b(tv=>{"use strict";var ySr=tv&&tv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bSr=tv&&tv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Sr=tv&&tv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ySr(e,t,r);return bSr(e,t),e};Object.defineProperty(tv,"__esModule",{value:!0});tv.DatasetsGetResponse=void 0;var vSr=_Sr($()),wSr=hX();tv.DatasetsGetResponse=vSr.serialization.object({dataset:wSr.Dataset})});var Nve=b(vg=>{"use strict";var SSr=vg&&vg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O4=vg&&vg.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SSr(e,t,r)};Object.defineProperty(vg,"__esModule",{value:!0});O4(Dpt(),vg);O4(jpt(),vg);O4(Lpt(),vg);O4(Fpt(),vg);O4(Bpt(),vg)});var kpt=b(rv=>{"use strict";var xSr=rv&&rv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CSr=rv&&rv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OSr=rv&&rv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xSr(e,t,r);return CSr(e,t),e};Object.defineProperty(rv,"__esModule",{value:!0});rv.Response=void 0;var Lve=OSr($());rv.Response=Lve.serialization.record(Lve.serialization.string(),Lve.serialization.unknown())});var $pt=b(nv=>{"use strict";var ESr=nv&&nv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PSr=nv&&nv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TSr=nv&&nv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ESr(e,t,r);return PSr(e,t),e};Object.defineProperty(nv,"__esModule",{value:!0});nv.delete=void 0;nv.delete=TSr(kpt())});var Upt=b($P=>{"use strict";var MSr=$P&&$P.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qpt=$P&&$P.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MSr(e,t,r)};Object.defineProperty($P,"__esModule",{value:!0});qpt(Nve(),$P);qpt($pt(),$P)});var Fve=b(ov=>{"use strict";var ASr=ov&&ov.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RSr=ov&&ov.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ISr=ov&&ov.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ASr(e,t,r);return RSr(e,t),e};Object.defineProperty(ov,"__esModule",{value:!0});ov.BaseType=void 0;var DSr=ISr($());ov.BaseType=DSr.serialization.enum_(["BASE_TYPE_UNSPECIFIED","BASE_TYPE_GENERATIVE","BASE_TYPE_CLASSIFICATION","BASE_TYPE_RERANK","BASE_TYPE_CHAT"])});var Bve=b(iv=>{"use strict";var jSr=iv&&iv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NSr=iv&&iv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LSr=iv&&iv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jSr(e,t,r);return NSr(e,t),e};Object.defineProperty(iv,"__esModule",{value:!0});iv.Strategy=void 0;var FSr=LSr($());iv.Strategy=FSr.serialization.enum_(["STRATEGY_UNSPECIFIED","STRATEGY_VANILLA","STRATEGY_TFEW"])});var kve=b(av=>{"use strict";var BSr=av&&av.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kSr=av&&av.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Sr=av&&av.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BSr(e,t,r);return kSr(e,t),e};Object.defineProperty(av,"__esModule",{value:!0});av.BaseModel=void 0;var mX=$Sr($()),qSr=Fve(),USr=Bve();av.BaseModel=mX.serialization.object({name:mX.serialization.string().optional(),version:mX.serialization.string().optional(),baseType:mX.serialization.property("base_type",qSr.BaseType),strategy:USr.Strategy.optional()})});var $ve=b(sv=>{"use strict";var zSr=sv&&sv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HSr=sv&&sv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VSr=sv&&sv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zSr(e,t,r);return HSr(e,t),e};Object.defineProperty(sv,"__esModule",{value:!0});sv.Hyperparameters=void 0;var wg=VSr($());sv.Hyperparameters=wg.serialization.object({earlyStoppingPatience:wg.serialization.property("early_stopping_patience",wg.serialization.number().optional()),earlyStoppingThreshold:wg.serialization.property("early_stopping_threshold",wg.serialization.number().optional()),trainBatchSize:wg.serialization.property("train_batch_size",wg.serialization.number().optional()),trainEpochs:wg.serialization.property("train_epochs",wg.serialization.number().optional()),learningRate:wg.serialization.property("learning_rate",wg.serialization.number().optional())})});var qve=b(uv=>{"use strict";var WSr=uv&&uv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JSr=uv&&uv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GSr=uv&&uv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WSr(e,t,r);return JSr(e,t),e};Object.defineProperty(uv,"__esModule",{value:!0});uv.WandbConfig=void 0;var E4=GSr($());uv.WandbConfig=E4.serialization.object({project:E4.serialization.string(),apiKey:E4.serialization.property("api_key",E4.serialization.string()),entity:E4.serialization.string().optional()})});var gX=b(lv=>{"use strict";var KSr=lv&&lv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YSr=lv&&lv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XSr=lv&&lv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KSr(e,t,r);return YSr(e,t),e};Object.defineProperty(lv,"__esModule",{value:!0});lv.Settings=void 0;var xF=XSr($()),ZSr=kve(),QSr=$ve(),exr=qve();lv.Settings=xF.serialization.object({baseModel:xF.serialization.property("base_model",ZSr.BaseModel),datasetId:xF.serialization.property("dataset_id",xF.serialization.string()),hyperparameters:QSr.Hyperparameters.optional(),multiLabel:xF.serialization.property("multi_label",xF.serialization.boolean().optional()),wandb:exr.WandbConfig.optional()})});var P4=b(cv=>{"use strict";var txr=cv&&cv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rxr=cv&&cv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nxr=cv&&cv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&txr(e,t,r);return rxr(e,t),e};Object.defineProperty(cv,"__esModule",{value:!0});cv.Status=void 0;var oxr=nxr($());cv.Status=oxr.serialization.enum_(["STATUS_UNSPECIFIED","STATUS_FINETUNING","STATUS_DEPLOYING_API","STATUS_READY","STATUS_FAILED","STATUS_DELETED","STATUS_TEMPORARILY_OFFLINE","STATUS_PAUSED","STATUS_QUEUED"])});var CF=b(dv=>{"use strict";var ixr=dv&&dv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),axr=dv&&dv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sxr=dv&&dv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ixr(e,t,r);return axr(e,t),e};Object.defineProperty(dv,"__esModule",{value:!0});dv.FinetunedModel=void 0;var Bd=sxr($()),uxr=gX(),lxr=P4();dv.FinetunedModel=Bd.serialization.object({id:Bd.serialization.string().optional(),name:Bd.serialization.string(),creatorId:Bd.serialization.property("creator_id",Bd.serialization.string().optional()),organizationId:Bd.serialization.property("organization_id",Bd.serialization.string().optional()),settings:uxr.Settings,status:lxr.Status.optional(),createdAt:Bd.serialization.property("created_at",Bd.serialization.date().optional()),updatedAt:Bd.serialization.property("updated_at",Bd.serialization.date().optional()),completedAt:Bd.serialization.property("completed_at",Bd.serialization.date().optional()),lastUsed:Bd.serialization.property("last_used",Bd.serialization.date().optional())})});var zpt=b(fv=>{"use strict";var cxr=fv&&fv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dxr=fv&&fv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fxr=fv&&fv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cxr(e,t,r);return dxr(e,t),e};Object.defineProperty(fv,"__esModule",{value:!0});fv.ListFinetunedModelsResponse=void 0;var vI=fxr($()),pxr=CF();fv.ListFinetunedModelsResponse=vI.serialization.object({finetunedModels:vI.serialization.property("finetuned_models",vI.serialization.list(pxr.FinetunedModel).optional()),nextPageToken:vI.serialization.property("next_page_token",vI.serialization.string().optional()),totalSize:vI.serialization.property("total_size",vI.serialization.number().optional())})});var Vpt=b(pv=>{"use strict";var hxr=pv&&pv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mxr=pv&&pv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gxr=pv&&pv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hxr(e,t,r);return mxr(e,t),e};Object.defineProperty(pv,"__esModule",{value:!0});pv.CreateFinetunedModelResponse=void 0;var Hpt=gxr($()),yxr=CF();pv.CreateFinetunedModelResponse=Hpt.serialization.object({finetunedModel:Hpt.serialization.property("finetuned_model",yxr.FinetunedModel.optional())})});var Jpt=b(hv=>{"use strict";var bxr=hv&&hv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_xr=hv&&hv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vxr=hv&&hv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bxr(e,t,r);return _xr(e,t),e};Object.defineProperty(hv,"__esModule",{value:!0});hv.GetFinetunedModelResponse=void 0;var Wpt=vxr($()),wxr=CF();hv.GetFinetunedModelResponse=Wpt.serialization.object({finetunedModel:Wpt.serialization.property("finetuned_model",wxr.FinetunedModel.optional())})});var Gpt=b(mv=>{"use strict";var Sxr=mv&&mv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xxr=mv&&mv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cxr=mv&&mv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sxr(e,t,r);return xxr(e,t),e};Object.defineProperty(mv,"__esModule",{value:!0});mv.DeleteFinetunedModelResponse=void 0;var Uve=Cxr($());mv.DeleteFinetunedModelResponse=Uve.serialization.record(Uve.serialization.string(),Uve.serialization.unknown())});var Ypt=b(gv=>{"use strict";var Oxr=gv&&gv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Exr=gv&&gv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pxr=gv&&gv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Oxr(e,t,r);return Exr(e,t),e};Object.defineProperty(gv,"__esModule",{value:!0});gv.UpdateFinetunedModelResponse=void 0;var Kpt=Pxr($()),Txr=CF();gv.UpdateFinetunedModelResponse=Kpt.serialization.object({finetunedModel:Kpt.serialization.property("finetuned_model",Txr.FinetunedModel.optional())})});var zve=b(yv=>{"use strict";var Mxr=yv&&yv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Axr=yv&&yv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rxr=yv&&yv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mxr(e,t,r);return Axr(e,t),e};Object.defineProperty(yv,"__esModule",{value:!0});yv.Event=void 0;var T4=Rxr($()),Ixr=P4();yv.Event=T4.serialization.object({userId:T4.serialization.property("user_id",T4.serialization.string().optional()),status:Ixr.Status.optional(),createdAt:T4.serialization.property("created_at",T4.serialization.date().optional())})});var Xpt=b(bv=>{"use strict";var Dxr=bv&&bv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jxr=bv&&bv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nxr=bv&&bv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dxr(e,t,r);return jxr(e,t),e};Object.defineProperty(bv,"__esModule",{value:!0});bv.ListEventsResponse=void 0;var OF=Nxr($()),Lxr=zve();bv.ListEventsResponse=OF.serialization.object({events:OF.serialization.list(Lxr.Event).optional(),nextPageToken:OF.serialization.property("next_page_token",OF.serialization.string().optional()),totalSize:OF.serialization.property("total_size",OF.serialization.number().optional())})});var Hve=b(_v=>{"use strict";var Fxr=_v&&_v.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bxr=_v&&_v.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kxr=_v&&_v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fxr(e,t,r);return Bxr(e,t),e};Object.defineProperty(_v,"__esModule",{value:!0});_v.TrainingStepMetrics=void 0;var qP=kxr($());_v.TrainingStepMetrics=qP.serialization.object({createdAt:qP.serialization.property("created_at",qP.serialization.date().optional()),stepNumber:qP.serialization.property("step_number",qP.serialization.number().optional()),metrics:qP.serialization.record(qP.serialization.string(),qP.serialization.number()).optional()})});var Zpt=b(vv=>{"use strict";var $xr=vv&&vv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qxr=vv&&vv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uxr=vv&&vv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$xr(e,t,r);return qxr(e,t),e};Object.defineProperty(vv,"__esModule",{value:!0});vv.ListTrainingStepMetricsResponse=void 0;var M4=Uxr($()),zxr=Hve();vv.ListTrainingStepMetricsResponse=M4.serialization.object({stepMetrics:M4.serialization.property("step_metrics",M4.serialization.list(zxr.TrainingStepMetrics).optional()),nextPageToken:M4.serialization.property("next_page_token",M4.serialization.string().optional())})});var Vve=b(ga=>{"use strict";var Hxr=ga&&ga.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lc=ga&&ga.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hxr(e,t,r)};Object.defineProperty(ga,"__esModule",{value:!0});lc(Fve(),ga);lc(Bve(),ga);lc(kve(),ga);lc($ve(),ga);lc(qve(),ga);lc(gX(),ga);lc(P4(),ga);lc(CF(),ga);lc(zpt(),ga);lc(Vpt(),ga);lc(Jpt(),ga);lc(Gpt(),ga);lc(Ypt(),ga);lc(zve(),ga);lc(Xpt(),ga);lc(Hve(),ga);lc(Zpt(),ga)});var Qpt=b(wI=>{"use strict";var Vxr=wI&&wI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wxr=wI&&wI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Vxr(e,t,r)};Object.defineProperty(wI,"__esModule",{value:!0});Wxr(Vve(),wI)});var tht=b(xp=>{"use strict";var eht=xp&&xp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jxr=xp&&xp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gxr=xp&&xp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eht(e,t,r);return Jxr(e,t),e},Kxr=xp&&xp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&eht(e,t,r)};Object.defineProperty(xp,"__esModule",{value:!0});xp.finetuning=void 0;xp.finetuning=Gxr(Qpt());Kxr(Vve(),xp)});var rht=b(wv=>{"use strict";var Yxr=wv&&wv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xxr=wv&&wv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zxr=wv&&wv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Yxr(e,t,r);return Xxr(e,t),e};Object.defineProperty(wv,"__esModule",{value:!0});wv.FinetuningUpdateFinetunedModelRequest=void 0;var Cf=Zxr($()),Qxr=gX(),eCr=P4();wv.FinetuningUpdateFinetunedModelRequest=Cf.serialization.object({name:Cf.serialization.string(),creatorId:Cf.serialization.property("creator_id",Cf.serialization.string().optional()),organizationId:Cf.serialization.property("organization_id",Cf.serialization.string().optional()),settings:Qxr.Settings,status:eCr.Status.optional(),createdAt:Cf.serialization.property("created_at",Cf.serialization.date().optional()),updatedAt:Cf.serialization.property("updated_at",Cf.serialization.date().optional()),completedAt:Cf.serialization.property("completed_at",Cf.serialization.date().optional()),lastUsed:Cf.serialization.property("last_used",Cf.serialization.date().optional())})});var Wve=b(yX=>{"use strict";Object.defineProperty(yX,"__esModule",{value:!0});yX.FinetuningUpdateFinetunedModelRequest=void 0;var tCr=rht();Object.defineProperty(yX,"FinetuningUpdateFinetunedModelRequest",{enumerable:!0,get:function(){return tCr.FinetuningUpdateFinetunedModelRequest}})});var nht=b(SI=>{"use strict";var rCr=SI&&SI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nCr=SI&&SI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rCr(e,t,r)};Object.defineProperty(SI,"__esModule",{value:!0});nCr(Wve(),SI)});var iht=b(UP=>{"use strict";var oCr=UP&&UP.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oht=UP&&UP.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&oCr(e,t,r)};Object.defineProperty(UP,"__esModule",{value:!0});oht(tht(),UP);oht(nht(),UP)});var bX=b(xv=>{"use strict";var iCr=xv&&xv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aCr=xv&&xv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sCr=xv&&xv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iCr(e,t,r);return aCr(e,t),e};Object.defineProperty(xv,"__esModule",{value:!0});xv.CreateConnectorOAuth=void 0;var Sv=sCr($());xv.CreateConnectorOAuth=Sv.serialization.object({clientId:Sv.serialization.property("client_id",Sv.serialization.string().optional()),clientSecret:Sv.serialization.property("client_secret",Sv.serialization.string().optional()),authorizeUrl:Sv.serialization.property("authorize_url",Sv.serialization.string().optional()),tokenUrl:Sv.serialization.property("token_url",Sv.serialization.string().optional()),scope:Sv.serialization.string().optional()})});var Jve=b(Cv=>{"use strict";var uCr=Cv&&Cv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lCr=Cv&&Cv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cCr=Cv&&Cv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uCr(e,t,r);return lCr(e,t),e};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.AuthTokenType=void 0;var dCr=cCr($());Cv.AuthTokenType=dCr.serialization.enum_(["bearer","basic","noscheme"])});var _X=b(Ov=>{"use strict";var fCr=Ov&&Ov.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pCr=Ov&&Ov.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hCr=Ov&&Ov.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fCr(e,t,r);return pCr(e,t),e};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.CreateConnectorServiceAuth=void 0;var aht=hCr($()),mCr=Jve();Ov.CreateConnectorServiceAuth=aht.serialization.object({type:mCr.AuthTokenType,token:aht.serialization.string()})});var sht=b(Pv=>{"use strict";var gCr=Pv&&Pv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yCr=Pv&&Pv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bCr=Pv&&Pv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gCr(e,t,r);return yCr(e,t),e};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.CreateConnectorRequest=void 0;var Ev=bCr($()),_Cr=bX(),vCr=_X();Pv.CreateConnectorRequest=Ev.serialization.object({name:Ev.serialization.string(),description:Ev.serialization.string().optional(),url:Ev.serialization.string(),excludes:Ev.serialization.list(Ev.serialization.string()).optional(),oauth:_Cr.CreateConnectorOAuth.optional(),active:Ev.serialization.boolean().optional(),continueOnFailure:Ev.serialization.property("continue_on_failure",Ev.serialization.boolean().optional()),serviceAuth:Ev.serialization.property("service_auth",vCr.CreateConnectorServiceAuth.optional())})});var uht=b(Tv=>{"use strict";var wCr=Tv&&Tv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SCr=Tv&&Tv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xCr=Tv&&Tv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wCr(e,t,r);return SCr(e,t),e};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.UpdateConnectorRequest=void 0;var Gx=xCr($()),CCr=bX(),OCr=_X();Tv.UpdateConnectorRequest=Gx.serialization.object({name:Gx.serialization.string().optional(),url:Gx.serialization.string().optional(),excludes:Gx.serialization.list(Gx.serialization.string()).optional(),oauth:CCr.CreateConnectorOAuth.optional(),active:Gx.serialization.boolean().optional(),continueOnFailure:Gx.serialization.property("continue_on_failure",Gx.serialization.boolean().optional()),serviceAuth:Gx.serialization.property("service_auth",OCr.CreateConnectorServiceAuth.optional())})});var Gve=b(EF=>{"use strict";Object.defineProperty(EF,"__esModule",{value:!0});EF.UpdateConnectorRequest=EF.CreateConnectorRequest=void 0;var ECr=sht();Object.defineProperty(EF,"CreateConnectorRequest",{enumerable:!0,get:function(){return ECr.CreateConnectorRequest}});var PCr=uht();Object.defineProperty(EF,"UpdateConnectorRequest",{enumerable:!0,get:function(){return PCr.UpdateConnectorRequest}})});var lht=b(xI=>{"use strict";var TCr=xI&&xI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MCr=xI&&xI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&TCr(e,t,r)};Object.defineProperty(xI,"__esModule",{value:!0});MCr(Gve(),xI)});var cht=b(CI=>{"use strict";var ACr=CI&&CI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RCr=CI&&CI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ACr(e,t,r)};Object.defineProperty(CI,"__esModule",{value:!0});RCr(lht(),CI)});var fht=b(Xo=>{"use strict";var dht=Xo&&Xo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ICr=Xo&&Xo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),A4=Xo&&Xo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dht(e,t,r);return ICr(e,t),e},OI=Xo&&Xo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dht(e,t,r)};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.connectors=Xo.finetuning=Xo.datasets=Xo.embedJobs=Xo.v2=void 0;Xo.v2=A4(Ppt());OI(Ove(),Xo);Xo.embedJobs=A4(Rpt());OI(Mve(),Xo);Xo.datasets=A4(Upt());OI(Nve(),Xo);Xo.finetuning=A4(iht());OI(Pve(),Xo);OI(Ave(),Xo);Xo.connectors=A4(cht());OI(Gve(),Xo);OI(Wve(),Xo)});var Kve=b(Mv=>{"use strict";var DCr=Mv&&Mv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jCr=Mv&&Mv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NCr=Mv&&Mv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DCr(e,t,r);return jCr(e,t),e};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.ChatStreamRequestPromptTruncation=void 0;var LCr=NCr($());Mv.ChatStreamRequestPromptTruncation=LCr.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"])});var Yve=b(Av=>{"use strict";var FCr=Av&&Av.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BCr=Av&&Av.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kCr=Av&&Av.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FCr(e,t,r);return BCr(e,t),e};Object.defineProperty(Av,"__esModule",{value:!0});Av.ChatStreamRequestCitationQuality=void 0;var $Cr=kCr($());Av.ChatStreamRequestCitationQuality=$Cr.serialization.enum_(["fast","accurate","off"])});var hht=b(Rv=>{"use strict";var qCr=Rv&&Rv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UCr=Rv&&Rv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zCr=Rv&&Rv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qCr(e,t,r);return UCr(e,t),e};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.ChatStreamRequestConnectorsSearchOptions=void 0;var pht=zCr($());Rv.ChatStreamRequestConnectorsSearchOptions=pht.serialization.object({seed:pht.serialization.number().optional()})});var Xve=b(Iv=>{"use strict";var HCr=Iv&&Iv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VCr=Iv&&Iv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WCr=Iv&&Iv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HCr(e,t,r);return VCr(e,t),e};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.ChatStreamRequestSafetyMode=void 0;var JCr=WCr($());Iv.ChatStreamRequestSafetyMode=JCr.serialization.enum_(["CONTEXTUAL","STRICT","NONE"])});var ght=b(Dv=>{"use strict";var GCr=Dv&&Dv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KCr=Dv&&Dv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YCr=Dv&&Dv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GCr(e,t,r);return KCr(e,t),e};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.UnprocessableEntityErrorBody=void 0;var mht=YCr($());Dv.UnprocessableEntityErrorBody=mht.serialization.object({data:mht.serialization.string().optional()})});var bht=b(jv=>{"use strict";var XCr=jv&&jv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZCr=jv&&jv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QCr=jv&&jv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XCr(e,t,r);return ZCr(e,t),e};Object.defineProperty(jv,"__esModule",{value:!0});jv.TooManyRequestsErrorBody=void 0;var yht=QCr($());jv.TooManyRequestsErrorBody=yht.serialization.object({data:yht.serialization.string().optional()})});var vht=b(Nv=>{"use strict";var eOr=Nv&&Nv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tOr=Nv&&Nv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rOr=Nv&&Nv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eOr(e,t,r);return tOr(e,t),e};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.ClientClosedRequestErrorBody=void 0;var _ht=rOr($());Nv.ClientClosedRequestErrorBody=_ht.serialization.object({data:_ht.serialization.string().optional()})});var Sht=b(Lv=>{"use strict";var nOr=Lv&&Lv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oOr=Lv&&Lv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iOr=Lv&&Lv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nOr(e,t,r);return oOr(e,t),e};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.NotImplementedErrorBody=void 0;var wht=iOr($());Lv.NotImplementedErrorBody=wht.serialization.object({data:wht.serialization.string().optional()})});var Cht=b(Fv=>{"use strict";var aOr=Fv&&Fv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sOr=Fv&&Fv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uOr=Fv&&Fv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aOr(e,t,r);return sOr(e,t),e};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.GatewayTimeoutErrorBody=void 0;var xht=uOr($());Fv.GatewayTimeoutErrorBody=xht.serialization.object({data:xht.serialization.string().optional()})});var Zve=b(Bv=>{"use strict";var lOr=Bv&&Bv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cOr=Bv&&Bv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dOr=Bv&&Bv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lOr(e,t,r);return cOr(e,t),e};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.ChatRequestPromptTruncation=void 0;var fOr=dOr($());Bv.ChatRequestPromptTruncation=fOr.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"])});var Qve=b(kv=>{"use strict";var pOr=kv&&kv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hOr=kv&&kv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mOr=kv&&kv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pOr(e,t,r);return hOr(e,t),e};Object.defineProperty(kv,"__esModule",{value:!0});kv.ChatRequestCitationQuality=void 0;var gOr=mOr($());kv.ChatRequestCitationQuality=gOr.serialization.enum_(["fast","accurate","off"])});var Eht=b($v=>{"use strict";var yOr=$v&&$v.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bOr=$v&&$v.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Or=$v&&$v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yOr(e,t,r);return bOr(e,t),e};Object.defineProperty($v,"__esModule",{value:!0});$v.ChatRequestConnectorsSearchOptions=void 0;var Oht=_Or($());$v.ChatRequestConnectorsSearchOptions=Oht.serialization.object({seed:Oht.serialization.number().optional()})});var e0e=b(qv=>{"use strict";var vOr=qv&&qv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wOr=qv&&qv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SOr=qv&&qv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vOr(e,t,r);return wOr(e,t),e};Object.defineProperty(qv,"__esModule",{value:!0});qv.ChatRequestSafetyMode=void 0;var xOr=SOr($());qv.ChatRequestSafetyMode=xOr.serialization.enum_(["CONTEXTUAL","STRICT","NONE"])});var t0e=b(Uv=>{"use strict";var COr=Uv&&Uv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OOr=Uv&&Uv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EOr=Uv&&Uv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&COr(e,t,r);return OOr(e,t),e};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.GenerateStreamRequestTruncate=void 0;var POr=EOr($());Uv.GenerateStreamRequestTruncate=POr.serialization.enum_(["NONE","START","END"])});var r0e=b(zv=>{"use strict";var TOr=zv&&zv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MOr=zv&&zv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AOr=zv&&zv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TOr(e,t,r);return MOr(e,t),e};Object.defineProperty(zv,"__esModule",{value:!0});zv.GenerateStreamRequestReturnLikelihoods=void 0;var ROr=AOr($());zv.GenerateStreamRequestReturnLikelihoods=ROr.serialization.enum_(["GENERATION","ALL","NONE"])});var n0e=b(Hv=>{"use strict";var IOr=Hv&&Hv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DOr=Hv&&Hv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jOr=Hv&&Hv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IOr(e,t,r);return DOr(e,t),e};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.GenerateRequestTruncate=void 0;var NOr=jOr($());Hv.GenerateRequestTruncate=NOr.serialization.enum_(["NONE","START","END"])});var o0e=b(Vv=>{"use strict";var LOr=Vv&&Vv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FOr=Vv&&Vv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BOr=Vv&&Vv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LOr(e,t,r);return FOr(e,t),e};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.GenerateRequestReturnLikelihoods=void 0;var kOr=BOr($());Vv.GenerateRequestReturnLikelihoods=kOr.serialization.enum_(["GENERATION","ALL","NONE"])});var i0e=b(Wv=>{"use strict";var $Or=Wv&&Wv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qOr=Wv&&Wv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UOr=Wv&&Wv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Or(e,t,r);return qOr(e,t),e};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.EmbedRequestTruncate=void 0;var zOr=UOr($());Wv.EmbedRequestTruncate=zOr.serialization.enum_(["NONE","START","END"])});var a0e=b(Jv=>{"use strict";var HOr=Jv&&Jv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VOr=Jv&&Jv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WOr=Jv&&Jv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HOr(e,t,r);return VOr(e,t),e};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ApiMetaApiVersion=void 0;var PF=WOr($());Jv.ApiMetaApiVersion=PF.serialization.object({version:PF.serialization.string(),isDeprecated:PF.serialization.property("is_deprecated",PF.serialization.boolean().optional()),isExperimental:PF.serialization.property("is_experimental",PF.serialization.boolean().optional())})});var s0e=b(Gv=>{"use strict";var JOr=Gv&&Gv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GOr=Gv&&Gv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KOr=Gv&&Gv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JOr(e,t,r);return GOr(e,t),e};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.ApiMetaBilledUnits=void 0;var zP=KOr($());Gv.ApiMetaBilledUnits=zP.serialization.object({inputTokens:zP.serialization.property("input_tokens",zP.serialization.number().optional()),outputTokens:zP.serialization.property("output_tokens",zP.serialization.number().optional()),searchUnits:zP.serialization.property("search_units",zP.serialization.number().optional()),classifications:zP.serialization.number().optional()})});var u0e=b(Kv=>{"use strict";var YOr=Kv&&Kv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XOr=Kv&&Kv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZOr=Kv&&Kv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YOr(e,t,r);return XOr(e,t),e};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.ApiMetaTokens=void 0;var R4=ZOr($());Kv.ApiMetaTokens=R4.serialization.object({inputTokens:R4.serialization.property("input_tokens",R4.serialization.number().optional()),outputTokens:R4.serialization.property("output_tokens",R4.serialization.number().optional())})});var Cp=b(Yv=>{"use strict";var QOr=Yv&&Yv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eEr=Yv&&Yv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tEr=Yv&&Yv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QOr(e,t,r);return eEr(e,t),e};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.ApiMeta=void 0;var I4=tEr($()),rEr=a0e(),nEr=s0e(),oEr=u0e();Yv.ApiMeta=I4.serialization.object({apiVersion:I4.serialization.property("api_version",rEr.ApiMetaApiVersion.optional()),billedUnits:I4.serialization.property("billed_units",nEr.ApiMetaBilledUnits.optional()),tokens:oEr.ApiMetaTokens.optional(),warnings:I4.serialization.list(I4.serialization.string()).optional()})});var l0e=b(Xv=>{"use strict";var iEr=Xv&&Xv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aEr=Xv&&Xv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sEr=Xv&&Xv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iEr(e,t,r);return aEr(e,t),e};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.EmbedFloatsResponse=void 0;var EI=sEr($()),uEr=Cp();Xv.EmbedFloatsResponse=EI.serialization.object({id:EI.serialization.string(),embeddings:EI.serialization.list(EI.serialization.list(EI.serialization.number())),texts:EI.serialization.list(EI.serialization.string()),meta:uEr.ApiMeta.optional()})});var c0e=b(Zv=>{"use strict";var lEr=Zv&&Zv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cEr=Zv&&Zv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dEr=Zv&&Zv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lEr(e,t,r);return cEr(e,t),e};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.EmbedByTypeResponseEmbeddings=void 0;var od=dEr($());Zv.EmbedByTypeResponseEmbeddings=od.serialization.object({float:od.serialization.list(od.serialization.list(od.serialization.number())).optional(),int8:od.serialization.list(od.serialization.list(od.serialization.number())).optional(),uint8:od.serialization.list(od.serialization.list(od.serialization.number())).optional(),binary:od.serialization.list(od.serialization.list(od.serialization.number())).optional(),ubinary:od.serialization.list(od.serialization.list(od.serialization.number())).optional()})});var d0e=b(Qv=>{"use strict";var fEr=Qv&&Qv.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pEr=Qv&&Qv.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hEr=Qv&&Qv.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fEr(e,t,r);return pEr(e,t),e};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.EmbedByTypeResponse=void 0;var vX=hEr($()),mEr=c0e(),gEr=Cp();Qv.EmbedByTypeResponse=vX.serialization.object({id:vX.serialization.string(),embeddings:mEr.EmbedByTypeResponseEmbeddings,texts:vX.serialization.list(vX.serialization.string()),meta:gEr.ApiMeta.optional()})});var Tht=b(e0=>{"use strict";var yEr=e0&&e0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bEr=e0&&e0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Er=e0&&e0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yEr(e,t,r);return bEr(e,t),e};Object.defineProperty(e0,"__esModule",{value:!0});e0.EmbedResponse=void 0;var Pht=_Er($()),vEr=l0e(),wEr=d0e();e0.EmbedResponse=Pht.serialization.union(Pht.serialization.discriminant("responseType","response_type"),{embeddings_floats:vEr.EmbedFloatsResponse,embeddings_by_type:wEr.EmbedByTypeResponse}).transform({transform:t=>t,untransform:t=>t})});var p0e=b(t0=>{"use strict";var SEr=t0&&t0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xEr=t0&&t0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CEr=t0&&t0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SEr(e,t,r);return xEr(e,t),e};Object.defineProperty(t0,"__esModule",{value:!0});t0.RerankDocument=void 0;var f0e=CEr($());t0.RerankDocument=f0e.serialization.record(f0e.serialization.string(),f0e.serialization.string())});var h0e=b(r0=>{"use strict";var OEr=r0&&r0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EEr=r0&&r0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PEr=r0&&r0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OEr(e,t,r);return EEr(e,t),e};Object.defineProperty(r0,"__esModule",{value:!0});r0.RerankRequestDocumentsItem=void 0;var Mht=PEr($()),TEr=p0e();r0.RerankRequestDocumentsItem=Mht.serialization.undiscriminatedUnion([Mht.serialization.string(),TEr.RerankDocument])});var m0e=b(n0=>{"use strict";var MEr=n0&&n0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AEr=n0&&n0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),REr=n0&&n0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MEr(e,t,r);return AEr(e,t),e};Object.defineProperty(n0,"__esModule",{value:!0});n0.RerankResponseResultsItemDocument=void 0;var Aht=REr($());n0.RerankResponseResultsItemDocument=Aht.serialization.object({text:Aht.serialization.string()})});var g0e=b(o0=>{"use strict";var IEr=o0&&o0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DEr=o0&&o0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jEr=o0&&o0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IEr(e,t,r);return DEr(e,t),e};Object.defineProperty(o0,"__esModule",{value:!0});o0.RerankResponseResultsItem=void 0;var wX=jEr($()),NEr=m0e();o0.RerankResponseResultsItem=wX.serialization.object({document:NEr.RerankResponseResultsItemDocument.optional(),index:wX.serialization.number(),relevanceScore:wX.serialization.property("relevance_score",wX.serialization.number())})});var Rht=b(i0=>{"use strict";var LEr=i0&&i0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FEr=i0&&i0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BEr=i0&&i0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LEr(e,t,r);return FEr(e,t),e};Object.defineProperty(i0,"__esModule",{value:!0});i0.RerankResponse=void 0;var y0e=BEr($()),kEr=g0e(),$Er=Cp();i0.RerankResponse=y0e.serialization.object({id:y0e.serialization.string().optional(),results:y0e.serialization.list(kEr.RerankResponseResultsItem),meta:$Er.ApiMeta.optional()})});var b0e=b(a0=>{"use strict";var qEr=a0&&a0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UEr=a0&&a0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zEr=a0&&a0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qEr(e,t,r);return UEr(e,t),e};Object.defineProperty(a0,"__esModule",{value:!0});a0.ClassifyRequestTruncate=void 0;var HEr=zEr($());a0.ClassifyRequestTruncate=HEr.serialization.enum_(["NONE","START","END"])});var _0e=b(s0=>{"use strict";var VEr=s0&&s0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WEr=s0&&s0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JEr=s0&&s0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VEr(e,t,r);return WEr(e,t),e};Object.defineProperty(s0,"__esModule",{value:!0});s0.ClassifyResponseClassificationsItemLabelsValue=void 0;var Iht=JEr($());s0.ClassifyResponseClassificationsItemLabelsValue=Iht.serialization.object({confidence:Iht.serialization.number().optional()})});var v0e=b(u0=>{"use strict";var GEr=u0&&u0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KEr=u0&&u0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YEr=u0&&u0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GEr(e,t,r);return KEr(e,t),e};Object.defineProperty(u0,"__esModule",{value:!0});u0.ClassifyResponseClassificationsItemClassificationType=void 0;var XEr=YEr($());u0.ClassifyResponseClassificationsItemClassificationType=XEr.serialization.enum_(["single-label","multi-label"])});var w0e=b(l0=>{"use strict";var ZEr=l0&&l0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QEr=l0&&l0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ePr=l0&&l0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZEr(e,t,r);return QEr(e,t),e};Object.defineProperty(l0,"__esModule",{value:!0});l0.ClassifyResponseClassificationsItem=void 0;var $h=ePr($()),tPr=_0e(),rPr=v0e();l0.ClassifyResponseClassificationsItem=$h.serialization.object({id:$h.serialization.string(),input:$h.serialization.string().optional(),prediction:$h.serialization.string().optional(),predictions:$h.serialization.list($h.serialization.string()),confidence:$h.serialization.number().optional(),confidences:$h.serialization.list($h.serialization.number()),labels:$h.serialization.record($h.serialization.string(),tPr.ClassifyResponseClassificationsItemLabelsValue),classificationType:$h.serialization.property("classification_type",rPr.ClassifyResponseClassificationsItemClassificationType)})});var Dht=b(c0=>{"use strict";var nPr=c0&&c0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oPr=c0&&c0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iPr=c0&&c0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nPr(e,t,r);return oPr(e,t),e};Object.defineProperty(c0,"__esModule",{value:!0});c0.ClassifyResponse=void 0;var S0e=iPr($()),aPr=w0e(),sPr=Cp();c0.ClassifyResponse=S0e.serialization.object({id:S0e.serialization.string(),classifications:S0e.serialization.list(aPr.ClassifyResponseClassificationsItem),meta:sPr.ApiMeta.optional()})});var x0e=b(d0=>{"use strict";var uPr=d0&&d0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lPr=d0&&d0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cPr=d0&&d0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uPr(e,t,r);return lPr(e,t),e};Object.defineProperty(d0,"__esModule",{value:!0});d0.SummarizeRequestLength=void 0;var dPr=cPr($());d0.SummarizeRequestLength=dPr.serialization.enum_(["short","medium","long"])});var C0e=b(f0=>{"use strict";var fPr=f0&&f0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pPr=f0&&f0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hPr=f0&&f0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fPr(e,t,r);return pPr(e,t),e};Object.defineProperty(f0,"__esModule",{value:!0});f0.SummarizeRequestFormat=void 0;var mPr=hPr($());f0.SummarizeRequestFormat=mPr.serialization.enum_(["paragraph","bullets"])});var O0e=b(p0=>{"use strict";var gPr=p0&&p0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yPr=p0&&p0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bPr=p0&&p0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gPr(e,t,r);return yPr(e,t),e};Object.defineProperty(p0,"__esModule",{value:!0});p0.SummarizeRequestExtractiveness=void 0;var _Pr=bPr($());p0.SummarizeRequestExtractiveness=_Pr.serialization.enum_(["low","medium","high"])});var jht=b(h0=>{"use strict";var vPr=h0&&h0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wPr=h0&&h0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SPr=h0&&h0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vPr(e,t,r);return wPr(e,t),e};Object.defineProperty(h0,"__esModule",{value:!0});h0.SummarizeResponse=void 0;var E0e=SPr($()),xPr=Cp();h0.SummarizeResponse=E0e.serialization.object({id:E0e.serialization.string().optional(),summary:E0e.serialization.string().optional(),meta:xPr.ApiMeta.optional()})});var Nht=b(m0=>{"use strict";var CPr=m0&&m0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OPr=m0&&m0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EPr=m0&&m0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CPr(e,t,r);return OPr(e,t),e};Object.defineProperty(m0,"__esModule",{value:!0});m0.TokenizeResponse=void 0;var TF=EPr($()),PPr=Cp();m0.TokenizeResponse=TF.serialization.object({tokens:TF.serialization.list(TF.serialization.number()),tokenStrings:TF.serialization.property("token_strings",TF.serialization.list(TF.serialization.string())),meta:PPr.ApiMeta.optional()})});var Fht=b(g0=>{"use strict";var TPr=g0&&g0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MPr=g0&&g0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),APr=g0&&g0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TPr(e,t,r);return MPr(e,t),e};Object.defineProperty(g0,"__esModule",{value:!0});g0.DetokenizeResponse=void 0;var Lht=APr($()),RPr=Cp();g0.DetokenizeResponse=Lht.serialization.object({text:Lht.serialization.string(),meta:RPr.ApiMeta.optional()})});var Bht=b(y0=>{"use strict";var IPr=y0&&y0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DPr=y0&&y0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jPr=y0&&y0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IPr(e,t,r);return DPr(e,t),e};Object.defineProperty(y0,"__esModule",{value:!0});y0.CheckApiKeyResponse=void 0;var MF=jPr($());y0.CheckApiKeyResponse=MF.serialization.object({valid:MF.serialization.boolean(),organizationId:MF.serialization.property("organization_id",MF.serialization.string().optional()),ownerId:MF.serialization.property("owner_id",MF.serialization.string().optional())})});var AF=b(b0=>{"use strict";var NPr=b0&&b0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LPr=b0&&b0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FPr=b0&&b0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NPr(e,t,r);return LPr(e,t),e};Object.defineProperty(b0,"__esModule",{value:!0});b0.ToolCall=void 0;var D4=FPr($());b0.ToolCall=D4.serialization.object({name:D4.serialization.string(),parameters:D4.serialization.record(D4.serialization.string(),D4.serialization.unknown())})});var P0e=b(_0=>{"use strict";var BPr=_0&&_0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kPr=_0&&_0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Pr=_0&&_0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BPr(e,t,r);return kPr(e,t),e};Object.defineProperty(_0,"__esModule",{value:!0});_0.ChatMessage=void 0;var SX=$Pr($()),qPr=AF();_0.ChatMessage=SX.serialization.object({message:SX.serialization.string(),toolCalls:SX.serialization.property("tool_calls",SX.serialization.list(qPr.ToolCall).optional())})});var N4=b(v0=>{"use strict";var UPr=v0&&v0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zPr=v0&&v0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HPr=v0&&v0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UPr(e,t,r);return zPr(e,t),e};Object.defineProperty(v0,"__esModule",{value:!0});v0.ToolResult=void 0;var j4=HPr($()),VPr=AF();v0.ToolResult=j4.serialization.object({call:VPr.ToolCall,outputs:j4.serialization.list(j4.serialization.record(j4.serialization.string(),j4.serialization.unknown()))})});var M0e=b(w0=>{"use strict";var WPr=w0&&w0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JPr=w0&&w0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GPr=w0&&w0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WPr(e,t,r);return JPr(e,t),e};Object.defineProperty(w0,"__esModule",{value:!0});w0.ToolMessage=void 0;var T0e=GPr($()),KPr=N4();w0.ToolMessage=T0e.serialization.object({toolResults:T0e.serialization.property("tool_results",T0e.serialization.list(KPr.ToolResult).optional())})});var L4=b(S0=>{"use strict";var YPr=S0&&S0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XPr=S0&&S0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZPr=S0&&S0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YPr(e,t,r);return XPr(e,t),e};Object.defineProperty(S0,"__esModule",{value:!0});S0.Message=void 0;var QPr=ZPr($()),A0e=P0e(),eTr=M0e();S0.Message=QPr.serialization.union("role",{CHATBOT:A0e.ChatMessage,SYSTEM:A0e.ChatMessage,USER:A0e.ChatMessage,TOOL:eTr.ToolMessage}).transform({transform:t=>t,untransform:t=>t})});var xX=b(x0=>{"use strict";var tTr=x0&&x0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rTr=x0&&x0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nTr=x0&&x0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tTr(e,t,r);return rTr(e,t),e};Object.defineProperty(x0,"__esModule",{value:!0});x0.ChatConnector=void 0;var Kx=nTr($());x0.ChatConnector=Kx.serialization.object({id:Kx.serialization.string(),userAccessToken:Kx.serialization.property("user_access_token",Kx.serialization.string().optional()),continueOnFailure:Kx.serialization.property("continue_on_failure",Kx.serialization.boolean().optional()),options:Kx.serialization.record(Kx.serialization.string(),Kx.serialization.unknown()).optional()})});var R0e=b(C0=>{"use strict";var oTr=C0&&C0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iTr=C0&&C0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aTr=C0&&C0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oTr(e,t,r);return iTr(e,t),e};Object.defineProperty(C0,"__esModule",{value:!0});C0.ToolParameterDefinitionsValue=void 0;var CX=aTr($());C0.ToolParameterDefinitionsValue=CX.serialization.object({description:CX.serialization.string().optional(),type:CX.serialization.string(),required:CX.serialization.boolean().optional()})});var OX=b(O0=>{"use strict";var sTr=O0&&O0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uTr=O0&&O0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lTr=O0&&O0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sTr(e,t,r);return uTr(e,t),e};Object.defineProperty(O0,"__esModule",{value:!0});O0.Tool=void 0;var RF=lTr($()),cTr=R0e();O0.Tool=RF.serialization.object({name:RF.serialization.string(),description:RF.serialization.string(),parameterDefinitions:RF.serialization.property("parameter_definitions",RF.serialization.record(RF.serialization.string(),cTr.ToolParameterDefinitionsValue).optional())})});var I0e=b(E0=>{"use strict";var dTr=E0&&E0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fTr=E0&&E0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pTr=E0&&E0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dTr(e,t,r);return fTr(e,t),e};Object.defineProperty(E0,"__esModule",{value:!0});E0.JsonResponseFormat=void 0;var EX=pTr($());E0.JsonResponseFormat=EX.serialization.object({schema:EX.serialization.record(EX.serialization.string(),EX.serialization.unknown()).optional()})});var PX=b(P0=>{"use strict";var hTr=P0&&P0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mTr=P0&&P0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gTr=P0&&P0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hTr(e,t,r);return mTr(e,t),e};Object.defineProperty(P0,"__esModule",{value:!0});P0.ResponseFormat=void 0;var yTr=gTr($()),bTr=lX(),_Tr=I0e();P0.ResponseFormat=yTr.serialization.union("type",{text:bTr.TextResponseFormat,json_object:_Tr.JsonResponseFormat}).transform({transform:t=>t,untransform:t=>t})});var TX=b(T0=>{"use strict";var vTr=T0&&T0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wTr=T0&&T0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),STr=T0&&T0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vTr(e,t,r);return wTr(e,t),e};Object.defineProperty(T0,"__esModule",{value:!0});T0.ChatCitation=void 0;var PI=STr($());T0.ChatCitation=PI.serialization.object({start:PI.serialization.number(),end:PI.serialization.number(),text:PI.serialization.string(),documentIds:PI.serialization.property("document_ids",PI.serialization.list(PI.serialization.string()))})});var F4=b(M0=>{"use strict";var xTr=M0&&M0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CTr=M0&&M0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OTr=M0&&M0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xTr(e,t,r);return CTr(e,t),e};Object.defineProperty(M0,"__esModule",{value:!0});M0.ChatSearchQuery=void 0;var MX=OTr($());M0.ChatSearchQuery=MX.serialization.object({text:MX.serialization.string(),generationId:MX.serialization.property("generation_id",MX.serialization.string())})});var D0e=b(A0=>{"use strict";var ETr=A0&&A0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PTr=A0&&A0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TTr=A0&&A0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ETr(e,t,r);return PTr(e,t),e};Object.defineProperty(A0,"__esModule",{value:!0});A0.ChatSearchResultConnector=void 0;var kht=TTr($());A0.ChatSearchResultConnector=kht.serialization.object({id:kht.serialization.string()})});var AX=b(R0=>{"use strict";var MTr=R0&&R0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ATr=R0&&R0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RTr=R0&&R0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MTr(e,t,r);return ATr(e,t),e};Object.defineProperty(R0,"__esModule",{value:!0});R0.ChatSearchResult=void 0;var Yx=RTr($()),ITr=F4(),DTr=D0e();R0.ChatSearchResult=Yx.serialization.object({searchQuery:Yx.serialization.property("search_query",ITr.ChatSearchQuery.optional()),connector:DTr.ChatSearchResultConnector,documentIds:Yx.serialization.property("document_ids",Yx.serialization.list(Yx.serialization.string())),errorMessage:Yx.serialization.property("error_message",Yx.serialization.string().optional()),continueOnFailure:Yx.serialization.property("continue_on_failure",Yx.serialization.boolean().optional())})});var IF=b(I0=>{"use strict";var jTr=I0&&I0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NTr=I0&&I0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LTr=I0&&I0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jTr(e,t,r);return NTr(e,t),e};Object.defineProperty(I0,"__esModule",{value:!0});I0.FinishReason=void 0;var FTr=LTr($());I0.FinishReason=FTr.serialization.enum_(["COMPLETE","STOP_SEQUENCE","ERROR","ERROR_TOXIC","ERROR_LIMIT","USER_CANCEL","MAX_TOKENS"])});var j0e=b(D0=>{"use strict";var BTr=D0&&D0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kTr=D0&&D0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Tr=D0&&D0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BTr(e,t,r);return kTr(e,t),e};Object.defineProperty(D0,"__esModule",{value:!0});D0.NonStreamedChatResponse=void 0;var Ml=$Tr($()),qTr=TX(),UTr=gI(),zTr=F4(),HTr=AX(),VTr=IF(),WTr=AF(),JTr=L4(),GTr=Cp();D0.NonStreamedChatResponse=Ml.serialization.object({text:Ml.serialization.string(),generationId:Ml.serialization.property("generation_id",Ml.serialization.string().optional()),citations:Ml.serialization.list(qTr.ChatCitation).optional(),documents:Ml.serialization.list(UTr.ChatDocument).optional(),isSearchRequired:Ml.serialization.property("is_search_required",Ml.serialization.boolean().optional()),searchQueries:Ml.serialization.property("search_queries",Ml.serialization.list(zTr.ChatSearchQuery).optional()),searchResults:Ml.serialization.property("search_results",Ml.serialization.list(HTr.ChatSearchResult).optional()),finishReason:Ml.serialization.property("finish_reason",VTr.FinishReason.optional()),toolCalls:Ml.serialization.property("tool_calls",Ml.serialization.list(WTr.ToolCall).optional()),chatHistory:Ml.serialization.property("chat_history",Ml.serialization.list(JTr.Message).optional()),prompt:Ml.serialization.string().optional(),meta:GTr.ApiMeta.optional()})});var N0=b(j0=>{"use strict";var KTr=j0&&j0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YTr=j0&&j0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XTr=j0&&j0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KTr(e,t,r);return YTr(e,t),e};Object.defineProperty(j0,"__esModule",{value:!0});j0.ChatStreamEvent=void 0;var ZTr=XTr($());j0.ChatStreamEvent=ZTr.serialization.object({})});var L0e=b(L0=>{"use strict";var QTr=L0&&L0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eMr=L0&&L0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tMr=L0&&L0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QTr(e,t,r);return eMr(e,t),e};Object.defineProperty(L0,"__esModule",{value:!0});L0.ChatStreamStartEvent=void 0;var N0e=tMr($()),rMr=N0();L0.ChatStreamStartEvent=N0e.serialization.object({generationId:N0e.serialization.property("generation_id",N0e.serialization.string())}).extend(rMr.ChatStreamEvent)});var B0e=b(F0=>{"use strict";var nMr=F0&&F0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oMr=F0&&F0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iMr=F0&&F0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nMr(e,t,r);return oMr(e,t),e};Object.defineProperty(F0,"__esModule",{value:!0});F0.ChatSearchQueriesGenerationEvent=void 0;var F0e=iMr($()),aMr=F4(),sMr=N0();F0.ChatSearchQueriesGenerationEvent=F0e.serialization.object({searchQueries:F0e.serialization.property("search_queries",F0e.serialization.list(aMr.ChatSearchQuery))}).extend(sMr.ChatStreamEvent)});var k0e=b(B0=>{"use strict";var uMr=B0&&B0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lMr=B0&&B0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cMr=B0&&B0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uMr(e,t,r);return lMr(e,t),e};Object.defineProperty(B0,"__esModule",{value:!0});B0.ChatSearchResultsEvent=void 0;var RX=cMr($()),dMr=AX(),fMr=gI(),pMr=N0();B0.ChatSearchResultsEvent=RX.serialization.object({searchResults:RX.serialization.property("search_results",RX.serialization.list(dMr.ChatSearchResult).optional()),documents:RX.serialization.list(fMr.ChatDocument).optional()}).extend(pMr.ChatStreamEvent)});var $0e=b(k0=>{"use strict";var hMr=k0&&k0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mMr=k0&&k0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gMr=k0&&k0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hMr(e,t,r);return mMr(e,t),e};Object.defineProperty(k0,"__esModule",{value:!0});k0.ChatTextGenerationEvent=void 0;var $ht=gMr($()),yMr=N0();k0.ChatTextGenerationEvent=$ht.serialization.object({text:$ht.serialization.string()}).extend(yMr.ChatStreamEvent)});var q0e=b($0=>{"use strict";var bMr=$0&&$0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Mr=$0&&$0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vMr=$0&&$0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bMr(e,t,r);return _Mr(e,t),e};Object.defineProperty($0,"__esModule",{value:!0});$0.ChatCitationGenerationEvent=void 0;var qht=vMr($()),wMr=TX(),SMr=N0();$0.ChatCitationGenerationEvent=qht.serialization.object({citations:qht.serialization.list(wMr.ChatCitation)}).extend(SMr.ChatStreamEvent)});var U0e=b(q0=>{"use strict";var xMr=q0&&q0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CMr=q0&&q0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OMr=q0&&q0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xMr(e,t,r);return CMr(e,t),e};Object.defineProperty(q0,"__esModule",{value:!0});q0.ChatToolCallsGenerationEvent=void 0;var IX=OMr($()),EMr=AF(),PMr=N0();q0.ChatToolCallsGenerationEvent=IX.serialization.object({text:IX.serialization.string().optional(),toolCalls:IX.serialization.property("tool_calls",IX.serialization.list(EMr.ToolCall))}).extend(PMr.ChatStreamEvent)});var z0e=b(U0=>{"use strict";var TMr=U0&&U0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MMr=U0&&U0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AMr=U0&&U0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TMr(e,t,r);return MMr(e,t),e};Object.defineProperty(U0,"__esModule",{value:!0});U0.ChatStreamEndEventFinishReason=void 0;var RMr=AMr($());U0.ChatStreamEndEventFinishReason=RMr.serialization.enum_(["COMPLETE","ERROR_LIMIT","MAX_TOKENS","ERROR","ERROR_TOXIC"])});var H0e=b(z0=>{"use strict";var IMr=z0&&z0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DMr=z0&&z0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jMr=z0&&z0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IMr(e,t,r);return DMr(e,t),e};Object.defineProperty(z0,"__esModule",{value:!0});z0.ChatStreamEndEvent=void 0;var Uht=jMr($()),NMr=z0e(),LMr=j0e(),FMr=N0();z0.ChatStreamEndEvent=Uht.serialization.object({finishReason:Uht.serialization.property("finish_reason",NMr.ChatStreamEndEventFinishReason),response:LMr.NonStreamedChatResponse}).extend(FMr.ChatStreamEvent)});var V0e=b(H0=>{"use strict";var BMr=H0&&H0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kMr=H0&&H0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Mr=H0&&H0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BMr(e,t,r);return kMr(e,t),e};Object.defineProperty(H0,"__esModule",{value:!0});H0.ToolCallDelta=void 0;var B4=$Mr($());H0.ToolCallDelta=B4.serialization.object({name:B4.serialization.string().optional(),index:B4.serialization.number().optional(),parameters:B4.serialization.string().optional(),text:B4.serialization.string().optional()})});var W0e=b(V0=>{"use strict";var qMr=V0&&V0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UMr=V0&&V0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zMr=V0&&V0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qMr(e,t,r);return UMr(e,t),e};Object.defineProperty(V0,"__esModule",{value:!0});V0.ChatToolCallsChunkEvent=void 0;var zht=zMr($()),HMr=V0e(),VMr=N0();V0.ChatToolCallsChunkEvent=zht.serialization.object({toolCallDelta:zht.serialization.property("tool_call_delta",HMr.ToolCallDelta)}).extend(VMr.ChatStreamEvent)});var Vht=b(W0=>{"use strict";var WMr=W0&&W0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JMr=W0&&W0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GMr=W0&&W0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WMr(e,t,r);return JMr(e,t),e};Object.defineProperty(W0,"__esModule",{value:!0});W0.StreamedChatResponse=void 0;var Hht=GMr($()),KMr=L0e(),YMr=B0e(),XMr=k0e(),ZMr=$0e(),QMr=q0e(),eAr=U0e(),tAr=H0e(),rAr=W0e();W0.StreamedChatResponse=Hht.serialization.union(Hht.serialization.discriminant("eventType","event_type"),{"stream-start":KMr.ChatStreamStartEvent,"search-queries-generation":YMr.ChatSearchQueriesGenerationEvent,"search-results":XMr.ChatSearchResultsEvent,"text-generation":ZMr.ChatTextGenerationEvent,"citation-generation":QMr.ChatCitationGenerationEvent,"tool-calls-generation":eAr.ChatToolCallsGenerationEvent,"stream-end":tAr.ChatStreamEndEvent,"tool-calls-chunk":rAr.ChatToolCallsChunkEvent}).transform({transform:t=>t,untransform:t=>t})});var G0e=b(J0=>{"use strict";var nAr=J0&&J0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oAr=J0&&J0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iAr=J0&&J0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nAr(e,t,r);return oAr(e,t),e};Object.defineProperty(J0,"__esModule",{value:!0});J0.SingleGenerationTokenLikelihoodsItem=void 0;var J0e=iAr($());J0.SingleGenerationTokenLikelihoodsItem=J0e.serialization.object({token:J0e.serialization.string(),likelihood:J0e.serialization.number()})});var K0e=b(G0=>{"use strict";var aAr=G0&&G0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sAr=G0&&G0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uAr=G0&&G0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aAr(e,t,r);return sAr(e,t),e};Object.defineProperty(G0,"__esModule",{value:!0});G0.SingleGeneration=void 0;var TI=uAr($()),lAr=G0e();G0.SingleGeneration=TI.serialization.object({id:TI.serialization.string(),text:TI.serialization.string(),index:TI.serialization.number().optional(),likelihood:TI.serialization.number().optional(),tokenLikelihoods:TI.serialization.property("token_likelihoods",TI.serialization.list(lAr.SingleGenerationTokenLikelihoodsItem).optional())})});var Wht=b(K0=>{"use strict";var cAr=K0&&K0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dAr=K0&&K0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fAr=K0&&K0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cAr(e,t,r);return dAr(e,t),e};Object.defineProperty(K0,"__esModule",{value:!0});K0.Generation=void 0;var DX=fAr($()),pAr=K0e(),hAr=Cp();K0.Generation=DX.serialization.object({id:DX.serialization.string(),prompt:DX.serialization.string().optional(),generations:DX.serialization.list(pAr.SingleGeneration),meta:hAr.ApiMeta.optional()})});var k4=b(Y0=>{"use strict";var mAr=Y0&&Y0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gAr=Y0&&Y0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yAr=Y0&&Y0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mAr(e,t,r);return gAr(e,t),e};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.GenerateStreamEvent=void 0;var bAr=yAr($());Y0.GenerateStreamEvent=bAr.serialization.object({})});var Y0e=b(X0=>{"use strict";var _Ar=X0&&X0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vAr=X0&&X0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wAr=X0&&X0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Ar(e,t,r);return vAr(e,t),e};Object.defineProperty(X0,"__esModule",{value:!0});X0.GenerateStreamText=void 0;var $4=wAr($()),SAr=k4();X0.GenerateStreamText=$4.serialization.object({text:$4.serialization.string(),index:$4.serialization.number().optional(),isFinished:$4.serialization.property("is_finished",$4.serialization.boolean())}).extend(SAr.GenerateStreamEvent)});var X0e=b(Z0=>{"use strict";var xAr=Z0&&Z0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CAr=Z0&&Z0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OAr=Z0&&Z0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xAr(e,t,r);return CAr(e,t),e};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.SingleGenerationInStream=void 0;var q4=OAr($()),EAr=IF();Z0.SingleGenerationInStream=q4.serialization.object({id:q4.serialization.string(),text:q4.serialization.string(),index:q4.serialization.number().optional(),finishReason:q4.serialization.property("finish_reason",EAr.FinishReason)})});var Z0e=b(Q0=>{"use strict";var PAr=Q0&&Q0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TAr=Q0&&Q0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MAr=Q0&&Q0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PAr(e,t,r);return TAr(e,t),e};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.GenerateStreamEndResponse=void 0;var jX=MAr($()),AAr=X0e();Q0.GenerateStreamEndResponse=jX.serialization.object({id:jX.serialization.string(),prompt:jX.serialization.string().optional(),generations:jX.serialization.list(AAr.SingleGenerationInStream).optional()})});var Q0e=b(ew=>{"use strict";var RAr=ew&&ew.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IAr=ew&&ew.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DAr=ew&&ew.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RAr(e,t,r);return IAr(e,t),e};Object.defineProperty(ew,"__esModule",{value:!0});ew.GenerateStreamEnd=void 0;var NX=DAr($()),jAr=IF(),NAr=Z0e(),LAr=k4();ew.GenerateStreamEnd=NX.serialization.object({isFinished:NX.serialization.property("is_finished",NX.serialization.boolean()),finishReason:NX.serialization.property("finish_reason",jAr.FinishReason.optional()),response:NAr.GenerateStreamEndResponse}).extend(LAr.GenerateStreamEvent)});var ewe=b(tw=>{"use strict";var FAr=tw&&tw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BAr=tw&&tw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kAr=tw&&tw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FAr(e,t,r);return BAr(e,t),e};Object.defineProperty(tw,"__esModule",{value:!0});tw.GenerateStreamError=void 0;var DF=kAr($()),$Ar=IF(),qAr=k4();tw.GenerateStreamError=DF.serialization.object({index:DF.serialization.number().optional(),isFinished:DF.serialization.property("is_finished",DF.serialization.boolean()),finishReason:DF.serialization.property("finish_reason",$Ar.FinishReason),err:DF.serialization.string()}).extend(qAr.GenerateStreamEvent)});var Ght=b(rw=>{"use strict";var UAr=rw&&rw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zAr=rw&&rw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HAr=rw&&rw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UAr(e,t,r);return zAr(e,t),e};Object.defineProperty(rw,"__esModule",{value:!0});rw.GenerateStreamedResponse=void 0;var Jht=HAr($()),VAr=Y0e(),WAr=Q0e(),JAr=ewe();rw.GenerateStreamedResponse=Jht.serialization.union(Jht.serialization.discriminant("eventType","event_type"),{"text-generation":VAr.GenerateStreamText,"stream-end":WAr.GenerateStreamEnd,"stream-error":JAr.GenerateStreamError}).transform({transform:t=>t,untransform:t=>t})});var twe=b(nw=>{"use strict";var GAr=nw&&nw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KAr=nw&&nw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YAr=nw&&nw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GAr(e,t,r);return KAr(e,t),e};Object.defineProperty(nw,"__esModule",{value:!0});nw.EmbedJobStatus=void 0;var XAr=YAr($());nw.EmbedJobStatus=XAr.serialization.enum_(["processing","complete","cancelling","cancelled","failed"])});var rwe=b(ow=>{"use strict";var ZAr=ow&&ow.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QAr=ow&&ow.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eRr=ow&&ow.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZAr(e,t,r);return QAr(e,t),e};Object.defineProperty(ow,"__esModule",{value:!0});ow.EmbedJobTruncate=void 0;var tRr=eRr($());ow.EmbedJobTruncate=tRr.serialization.enum_(["START","END"])});var nwe=b(iw=>{"use strict";var rRr=iw&&iw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nRr=iw&&iw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oRr=iw&&iw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rRr(e,t,r);return nRr(e,t),e};Object.defineProperty(iw,"__esModule",{value:!0});iw.EmbedJob=void 0;var Sg=oRr($()),iRr=twe(),aRr=rwe(),sRr=Cp();iw.EmbedJob=Sg.serialization.object({jobId:Sg.serialization.property("job_id",Sg.serialization.string()),name:Sg.serialization.string().optional(),status:iRr.EmbedJobStatus,createdAt:Sg.serialization.property("created_at",Sg.serialization.date()),inputDatasetId:Sg.serialization.property("input_dataset_id",Sg.serialization.string()),outputDatasetId:Sg.serialization.property("output_dataset_id",Sg.serialization.string().optional()),model:Sg.serialization.string(),truncate:aRr.EmbedJobTruncate,meta:sRr.ApiMeta.optional()})});var Kht=b(aw=>{"use strict";var uRr=aw&&aw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lRr=aw&&aw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cRr=aw&&aw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uRr(e,t,r);return lRr(e,t),e};Object.defineProperty(aw,"__esModule",{value:!0});aw.ListEmbedJobResponse=void 0;var owe=cRr($()),dRr=nwe();aw.ListEmbedJobResponse=owe.serialization.object({embedJobs:owe.serialization.property("embed_jobs",owe.serialization.list(dRr.EmbedJob).optional())})});var Yht=b(sw=>{"use strict";var fRr=sw&&sw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pRr=sw&&sw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hRr=sw&&sw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fRr(e,t,r);return pRr(e,t),e};Object.defineProperty(sw,"__esModule",{value:!0});sw.CreateEmbedJobResponse=void 0;var iwe=hRr($()),mRr=Cp();sw.CreateEmbedJobResponse=iwe.serialization.object({jobId:iwe.serialization.property("job_id",iwe.serialization.string()),meta:mRr.ApiMeta.optional()})});var swe=b(uw=>{"use strict";var gRr=uw&&uw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yRr=uw&&uw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bRr=uw&&uw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gRr(e,t,r);return yRr(e,t),e};Object.defineProperty(uw,"__esModule",{value:!0});uw.ClassifyExample=void 0;var awe=bRr($());uw.ClassifyExample=awe.serialization.object({text:awe.serialization.string().optional(),label:awe.serialization.string().optional()})});var Xht=b(lw=>{"use strict";var _Rr=lw&&lw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vRr=lw&&lw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wRr=lw&&lw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Rr(e,t,r);return vRr(e,t),e};Object.defineProperty(lw,"__esModule",{value:!0});lw.ParseInfo=void 0;var uwe=wRr($());lw.ParseInfo=uwe.serialization.object({separator:uwe.serialization.string().optional(),delimiter:uwe.serialization.string().optional()})});var Zht=b(cw=>{"use strict";var SRr=cw&&cw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xRr=cw&&cw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CRr=cw&&cw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SRr(e,t,r);return xRr(e,t),e};Object.defineProperty(cw,"__esModule",{value:!0});cw.RerankerDataMetrics=void 0;var Op=CRr($());cw.RerankerDataMetrics=Op.serialization.object({numTrainQueries:Op.serialization.property("num_train_queries",Op.serialization.number().optional()),numTrainRelevantPassages:Op.serialization.property("num_train_relevant_passages",Op.serialization.number().optional()),numTrainHardNegatives:Op.serialization.property("num_train_hard_negatives",Op.serialization.number().optional()),numEvalQueries:Op.serialization.property("num_eval_queries",Op.serialization.number().optional()),numEvalRelevantPassages:Op.serialization.property("num_eval_relevant_passages",Op.serialization.number().optional()),numEvalHardNegatives:Op.serialization.property("num_eval_hard_negatives",Op.serialization.number().optional())})});var Qht=b(dw=>{"use strict";var ORr=dw&&dw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ERr=dw&&dw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PRr=dw&&dw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ORr(e,t,r);return ERr(e,t),e};Object.defineProperty(dw,"__esModule",{value:!0});dw.ChatDataMetrics=void 0;var jF=PRr($());dw.ChatDataMetrics=jF.serialization.object({numTrainTurns:jF.serialization.property("num_train_turns",jF.serialization.number().optional()),numEvalTurns:jF.serialization.property("num_eval_turns",jF.serialization.number().optional()),preamble:jF.serialization.string().optional()})});var lwe=b(fw=>{"use strict";var TRr=fw&&fw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MRr=fw&&fw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ARr=fw&&fw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TRr(e,t,r);return MRr(e,t),e};Object.defineProperty(fw,"__esModule",{value:!0});fw.LabelMetric=void 0;var NF=ARr($());fw.LabelMetric=NF.serialization.object({totalExamples:NF.serialization.property("total_examples",NF.serialization.number().optional()),label:NF.serialization.string().optional(),samples:NF.serialization.list(NF.serialization.string()).optional()})});var emt=b(pw=>{"use strict";var RRr=pw&&pw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IRr=pw&&pw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DRr=pw&&pw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RRr(e,t,r);return IRr(e,t),e};Object.defineProperty(pw,"__esModule",{value:!0});pw.ClassifyDataMetrics=void 0;var cwe=DRr($()),jRr=lwe();pw.ClassifyDataMetrics=cwe.serialization.object({labelMetrics:cwe.serialization.property("label_metrics",cwe.serialization.list(jRr.LabelMetric).optional())})});var dwe=b(hw=>{"use strict";var NRr=hw&&hw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LRr=hw&&hw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FRr=hw&&hw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NRr(e,t,r);return LRr(e,t),e};Object.defineProperty(hw,"__esModule",{value:!0});hw.FinetuneDatasetMetrics=void 0;var Ep=FRr($());hw.FinetuneDatasetMetrics=Ep.serialization.object({trainableTokenCount:Ep.serialization.property("trainable_token_count",Ep.serialization.number().optional()),totalExamples:Ep.serialization.property("total_examples",Ep.serialization.number().optional()),trainExamples:Ep.serialization.property("train_examples",Ep.serialization.number().optional()),trainSizeBytes:Ep.serialization.property("train_size_bytes",Ep.serialization.number().optional()),evalExamples:Ep.serialization.property("eval_examples",Ep.serialization.number().optional()),evalSizeBytes:Ep.serialization.property("eval_size_bytes",Ep.serialization.number().optional())})});var pwe=b(mw=>{"use strict";var BRr=mw&&mw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kRr=mw&&mw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Rr=mw&&mw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BRr(e,t,r);return kRr(e,t),e};Object.defineProperty(mw,"__esModule",{value:!0});mw.MetricsEmbedDataFieldsItem=void 0;var fwe=$Rr($());mw.MetricsEmbedDataFieldsItem=fwe.serialization.object({name:fwe.serialization.string().optional(),count:fwe.serialization.number().optional()})});var hwe=b(gw=>{"use strict";var qRr=gw&&gw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),URr=gw&&gw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zRr=gw&&gw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qRr(e,t,r);return URr(e,t),e};Object.defineProperty(gw,"__esModule",{value:!0});gw.MetricsEmbedData=void 0;var tmt=zRr($()),HRr=pwe();gw.MetricsEmbedData=tmt.serialization.object({fields:tmt.serialization.list(HRr.MetricsEmbedDataFieldsItem).optional()})});var rmt=b(yw=>{"use strict";var VRr=yw&&yw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WRr=yw&&yw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JRr=yw&&yw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VRr(e,t,r);return WRr(e,t),e};Object.defineProperty(yw,"__esModule",{value:!0});yw.Metrics=void 0;var mwe=JRr($()),GRr=dwe(),KRr=hwe();yw.Metrics=mwe.serialization.object({finetuneDatasetMetrics:mwe.serialization.property("finetune_dataset_metrics",GRr.FinetuneDatasetMetrics.optional()),embedData:mwe.serialization.property("embed_data",KRr.MetricsEmbedData.optional())})});var gwe=b(_w=>{"use strict";var YRr=_w&&_w.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XRr=_w&&_w.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZRr=_w&&_w.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YRr(e,t,r);return XRr(e,t),e};Object.defineProperty(_w,"__esModule",{value:!0});_w.ConnectorOAuth=void 0;var bw=ZRr($());_w.ConnectorOAuth=bw.serialization.object({clientId:bw.serialization.property("client_id",bw.serialization.string().optional()),clientSecret:bw.serialization.property("client_secret",bw.serialization.string().optional()),authorizeUrl:bw.serialization.property("authorize_url",bw.serialization.string()),tokenUrl:bw.serialization.property("token_url",bw.serialization.string()),scope:bw.serialization.string().optional()})});var ywe=b(vw=>{"use strict";var QRr=vw&&vw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eIr=vw&&vw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tIr=vw&&vw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QRr(e,t,r);return eIr(e,t),e};Object.defineProperty(vw,"__esModule",{value:!0});vw.ConnectorAuthStatus=void 0;var rIr=tIr($());vw.ConnectorAuthStatus=rIr.serialization.enum_(["valid","expired"])});var LF=b(ww=>{"use strict";var nIr=ww&&ww.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oIr=ww&&ww.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iIr=ww&&ww.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nIr(e,t,r);return oIr(e,t),e};Object.defineProperty(ww,"__esModule",{value:!0});ww.Connector=void 0;var rl=iIr($()),aIr=gwe(),sIr=ywe();ww.Connector=rl.serialization.object({id:rl.serialization.string(),organizationId:rl.serialization.property("organization_id",rl.serialization.string().optional()),name:rl.serialization.string(),description:rl.serialization.string().optional(),url:rl.serialization.string().optional(),createdAt:rl.serialization.property("created_at",rl.serialization.date()),updatedAt:rl.serialization.property("updated_at",rl.serialization.date()),excludes:rl.serialization.list(rl.serialization.string()).optional(),authType:rl.serialization.property("auth_type",rl.serialization.string().optional()),oauth:aIr.ConnectorOAuth.optional(),authStatus:rl.serialization.property("auth_status",sIr.ConnectorAuthStatus.optional()),active:rl.serialization.boolean().optional(),continueOnFailure:rl.serialization.property("continue_on_failure",rl.serialization.boolean().optional())})});var nmt=b(Sw=>{"use strict";var uIr=Sw&&Sw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lIr=Sw&&Sw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cIr=Sw&&Sw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uIr(e,t,r);return lIr(e,t),e};Object.defineProperty(Sw,"__esModule",{value:!0});Sw.ListConnectorsResponse=void 0;var LX=cIr($()),dIr=LF();Sw.ListConnectorsResponse=LX.serialization.object({connectors:LX.serialization.list(dIr.Connector),totalCount:LX.serialization.property("total_count",LX.serialization.number().optional())})});var omt=b(xw=>{"use strict";var fIr=xw&&xw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pIr=xw&&xw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hIr=xw&&xw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fIr(e,t,r);return pIr(e,t),e};Object.defineProperty(xw,"__esModule",{value:!0});xw.CreateConnectorResponse=void 0;var mIr=hIr($()),gIr=LF();xw.CreateConnectorResponse=mIr.serialization.object({connector:gIr.Connector})});var imt=b(Cw=>{"use strict";var yIr=Cw&&Cw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bIr=Cw&&Cw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Ir=Cw&&Cw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yIr(e,t,r);return bIr(e,t),e};Object.defineProperty(Cw,"__esModule",{value:!0});Cw.GetConnectorResponse=void 0;var vIr=_Ir($()),wIr=LF();Cw.GetConnectorResponse=vIr.serialization.object({connector:wIr.Connector})});var amt=b(Ow=>{"use strict";var SIr=Ow&&Ow.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xIr=Ow&&Ow.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CIr=Ow&&Ow.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SIr(e,t,r);return xIr(e,t),e};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.DeleteConnectorResponse=void 0;var bwe=CIr($());Ow.DeleteConnectorResponse=bwe.serialization.record(bwe.serialization.string(),bwe.serialization.unknown())});var smt=b(Ew=>{"use strict";var OIr=Ew&&Ew.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EIr=Ew&&Ew.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PIr=Ew&&Ew.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OIr(e,t,r);return EIr(e,t),e};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.UpdateConnectorResponse=void 0;var TIr=PIr($()),MIr=LF();Ew.UpdateConnectorResponse=TIr.serialization.object({connector:MIr.Connector})});var umt=b(Pw=>{"use strict";var AIr=Pw&&Pw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RIr=Pw&&Pw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IIr=Pw&&Pw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AIr(e,t,r);return RIr(e,t),e};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.OAuthAuthorizeResponse=void 0;var _we=IIr($());Pw.OAuthAuthorizeResponse=_we.serialization.object({redirectUrl:_we.serialization.property("redirect_url",_we.serialization.string().optional())})});var vwe=b(Tw=>{"use strict";var DIr=Tw&&Tw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jIr=Tw&&Tw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NIr=Tw&&Tw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DIr(e,t,r);return jIr(e,t),e};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.CompatibleEndpoint=void 0;var LIr=NIr($());Tw.CompatibleEndpoint=LIr.serialization.enum_(["chat","embed","classify","summarize","rerank","rate","generate"])});var wwe=b(Aw=>{"use strict";var FIr=Aw&&Aw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BIr=Aw&&Aw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kIr=Aw&&Aw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FIr(e,t,r);return BIr(e,t),e};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.GetModelResponse=void 0;var Mw=kIr($()),lmt=vwe();Aw.GetModelResponse=Mw.serialization.object({name:Mw.serialization.string().optional(),endpoints:Mw.serialization.list(lmt.CompatibleEndpoint).optional(),finetuned:Mw.serialization.boolean().optional(),contextLength:Mw.serialization.property("context_length",Mw.serialization.number().optional()),tokenizerUrl:Mw.serialization.property("tokenizer_url",Mw.serialization.string().optional()),defaultEndpoints:Mw.serialization.property("default_endpoints",Mw.serialization.list(lmt.CompatibleEndpoint).optional())})});var cmt=b(Rw=>{"use strict";var $Ir=Rw&&Rw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qIr=Rw&&Rw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UIr=Rw&&Rw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Ir(e,t,r);return qIr(e,t),e};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.ListModelsResponse=void 0;var FX=UIr($()),zIr=wwe();Rw.ListModelsResponse=FX.serialization.object({models:FX.serialization.list(zIr.GetModelResponse),nextPageToken:FX.serialization.property("next_page_token",FX.serialization.string().optional())})});var dmt=b(ie=>{"use strict";var HIr=ie&&ie.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),he=ie&&ie.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HIr(e,t,r)};Object.defineProperty(ie,"__esModule",{value:!0});he(Kve(),ie);he(Yve(),ie);he(hht(),ie);he(Xve(),ie);he(ght(),ie);he(bht(),ie);he(vht(),ie);he(Sht(),ie);he(Cht(),ie);he(Zve(),ie);he(Qve(),ie);he(Eht(),ie);he(e0e(),ie);he(t0e(),ie);he(r0e(),ie);he(n0e(),ie);he(o0e(),ie);he(i0e(),ie);he(Tht(),ie);he(h0e(),ie);he(m0e(),ie);he(g0e(),ie);he(Rht(),ie);he(b0e(),ie);he(_0e(),ie);he(v0e(),ie);he(w0e(),ie);he(Dht(),ie);he(x0e(),ie);he(C0e(),ie);he(O0e(),ie);he(jht(),ie);he(Nht(),ie);he(Fht(),ie);he(Bht(),ie);he(AF(),ie);he(P0e(),ie);he(N4(),ie);he(M0e(),ie);he(L4(),ie);he(xX(),ie);he(gI(),ie);he(R0e(),ie);he(OX(),ie);he(lX(),ie);he(I0e(),ie);he(PX(),ie);he(TX(),ie);he(F4(),ie);he(D0e(),ie);he(AX(),ie);he(IF(),ie);he(a0e(),ie);he(s0e(),ie);he(u0e(),ie);he(Cp(),ie);he(j0e(),ie);he(N0(),ie);he(L0e(),ie);he(B0e(),ie);he(k0e(),ie);he($0e(),ie);he(q0e(),ie);he(U0e(),ie);he(z0e(),ie);he(H0e(),ie);he(V0e(),ie);he(W0e(),ie);he(Vht(),ie);he(Eve(),ie);he(cX(),ie);he(wve(),ie);he(Sve(),ie);he(xve(),ie);he(Cve(),ie);he(G0e(),ie);he(K0e(),ie);he(Wht(),ie);he(k4(),ie);he(Y0e(),ie);he(X0e(),ie);he(Z0e(),ie);he(Q0e(),ie);he(ewe(),ie);he(Ght(),ie);he(dX(),ie);he(fX(),ie);he(l0e(),ie);he(c0e(),ie);he(d0e(),ie);he(twe(),ie);he(rwe(),ie);he(nwe(),ie);he(Kht(),ie);he(Yht(),ie);he(p0e(),ie);he(swe(),ie);he(Ive(),ie);he(Rve(),ie);he(Dve(),ie);he(Xht(),ie);he(Zht(),ie);he(Qht(),ie);he(lwe(),ie);he(emt(),ie);he(dwe(),ie);he(pwe(),ie);he(hwe(),ie);he(rmt(),ie);he(hX(),ie);he(gwe(),ie);he(ywe(),ie);he(LF(),ie);he(nmt(),ie);he(bX(),ie);he(Jve(),ie);he(_X(),ie);he(omt(),ie);he(imt(),ie);he(amt(),ie);he(smt(),ie);he(umt(),ie);he(vwe(),ie);he(wwe(),ie);he(cmt(),ie)});var fmt=b(Iw=>{"use strict";var VIr=Iw&&Iw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WIr=Iw&&Iw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JIr=Iw&&Iw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VIr(e,t,r);return WIr(e,t),e};Object.defineProperty(Iw,"__esModule",{value:!0});Iw.ChatStreamRequest=void 0;var jr=JIr($()),GIr=L4(),KIr=Kve(),YIr=xX(),XIr=gI(),ZIr=Yve(),QIr=OX(),e1r=N4(),t1r=PX(),r1r=Xve();Iw.ChatStreamRequest=jr.serialization.object({message:jr.serialization.string(),model:jr.serialization.string().optional(),preamble:jr.serialization.string().optional(),chatHistory:jr.serialization.property("chat_history",jr.serialization.list(GIr.Message).optional()),conversationId:jr.serialization.property("conversation_id",jr.serialization.string().optional()),promptTruncation:jr.serialization.property("prompt_truncation",KIr.ChatStreamRequestPromptTruncation.optional()),connectors:jr.serialization.list(YIr.ChatConnector).optional(),searchQueriesOnly:jr.serialization.property("search_queries_only",jr.serialization.boolean().optional()),documents:jr.serialization.list(XIr.ChatDocument).optional(),citationQuality:jr.serialization.property("citation_quality",ZIr.ChatStreamRequestCitationQuality.optional()),temperature:jr.serialization.number().optional(),maxTokens:jr.serialization.property("max_tokens",jr.serialization.number().optional()),maxInputTokens:jr.serialization.property("max_input_tokens",jr.serialization.number().optional()),k:jr.serialization.number().optional(),p:jr.serialization.number().optional(),seed:jr.serialization.number().optional(),stopSequences:jr.serialization.property("stop_sequences",jr.serialization.list(jr.serialization.string()).optional()),frequencyPenalty:jr.serialization.property("frequency_penalty",jr.serialization.number().optional()),presencePenalty:jr.serialization.property("presence_penalty",jr.serialization.number().optional()),rawPrompting:jr.serialization.property("raw_prompting",jr.serialization.boolean().optional()),returnPrompt:jr.serialization.property("return_prompt",jr.serialization.boolean().optional()),tools:jr.serialization.list(QIr.Tool).optional(),toolResults:jr.serialization.property("tool_results",jr.serialization.list(e1r.ToolResult).optional()),forceSingleStep:jr.serialization.property("force_single_step",jr.serialization.boolean().optional()),responseFormat:jr.serialization.property("response_format",t1r.ResponseFormat.optional()),safetyMode:jr.serialization.property("safety_mode",r1r.ChatStreamRequestSafetyMode.optional())})});var pmt=b(Dw=>{"use strict";var n1r=Dw&&Dw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o1r=Dw&&Dw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i1r=Dw&&Dw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n1r(e,t,r);return o1r(e,t),e};Object.defineProperty(Dw,"__esModule",{value:!0});Dw.ChatRequest=void 0;var Nr=i1r($()),a1r=L4(),s1r=Zve(),u1r=xX(),l1r=gI(),c1r=Qve(),d1r=OX(),f1r=N4(),p1r=PX(),h1r=e0e();Dw.ChatRequest=Nr.serialization.object({message:Nr.serialization.string(),model:Nr.serialization.string().optional(),preamble:Nr.serialization.string().optional(),chatHistory:Nr.serialization.property("chat_history",Nr.serialization.list(a1r.Message).optional()),conversationId:Nr.serialization.property("conversation_id",Nr.serialization.string().optional()),promptTruncation:Nr.serialization.property("prompt_truncation",s1r.ChatRequestPromptTruncation.optional()),connectors:Nr.serialization.list(u1r.ChatConnector).optional(),searchQueriesOnly:Nr.serialization.property("search_queries_only",Nr.serialization.boolean().optional()),documents:Nr.serialization.list(l1r.ChatDocument).optional(),citationQuality:Nr.serialization.property("citation_quality",c1r.ChatRequestCitationQuality.optional()),temperature:Nr.serialization.number().optional(),maxTokens:Nr.serialization.property("max_tokens",Nr.serialization.number().optional()),maxInputTokens:Nr.serialization.property("max_input_tokens",Nr.serialization.number().optional()),k:Nr.serialization.number().optional(),p:Nr.serialization.number().optional(),seed:Nr.serialization.number().optional(),stopSequences:Nr.serialization.property("stop_sequences",Nr.serialization.list(Nr.serialization.string()).optional()),frequencyPenalty:Nr.serialization.property("frequency_penalty",Nr.serialization.number().optional()),presencePenalty:Nr.serialization.property("presence_penalty",Nr.serialization.number().optional()),rawPrompting:Nr.serialization.property("raw_prompting",Nr.serialization.boolean().optional()),returnPrompt:Nr.serialization.property("return_prompt",Nr.serialization.boolean().optional()),tools:Nr.serialization.list(d1r.Tool).optional(),toolResults:Nr.serialization.property("tool_results",Nr.serialization.list(f1r.ToolResult).optional()),forceSingleStep:Nr.serialization.property("force_single_step",Nr.serialization.boolean().optional()),responseFormat:Nr.serialization.property("response_format",p1r.ResponseFormat.optional()),safetyMode:Nr.serialization.property("safety_mode",h1r.ChatRequestSafetyMode.optional())})});var hmt=b(jw=>{"use strict";var m1r=jw&&jw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),g1r=jw&&jw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),y1r=jw&&jw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m1r(e,t,r);return g1r(e,t),e};Object.defineProperty(jw,"__esModule",{value:!0});jw.GenerateStreamRequest=void 0;var Ci=y1r($()),b1r=t0e(),_1r=r0e();jw.GenerateStreamRequest=Ci.serialization.object({prompt:Ci.serialization.string(),model:Ci.serialization.string().optional(),numGenerations:Ci.serialization.property("num_generations",Ci.serialization.number().optional()),maxTokens:Ci.serialization.property("max_tokens",Ci.serialization.number().optional()),truncate:b1r.GenerateStreamRequestTruncate.optional(),temperature:Ci.serialization.number().optional(),seed:Ci.serialization.number().optional(),preset:Ci.serialization.string().optional(),endSequences:Ci.serialization.property("end_sequences",Ci.serialization.list(Ci.serialization.string()).optional()),stopSequences:Ci.serialization.property("stop_sequences",Ci.serialization.list(Ci.serialization.string()).optional()),k:Ci.serialization.number().optional(),p:Ci.serialization.number().optional(),frequencyPenalty:Ci.serialization.property("frequency_penalty",Ci.serialization.number().optional()),presencePenalty:Ci.serialization.property("presence_penalty",Ci.serialization.number().optional()),returnLikelihoods:Ci.serialization.property("return_likelihoods",_1r.GenerateStreamRequestReturnLikelihoods.optional()),rawPrompting:Ci.serialization.property("raw_prompting",Ci.serialization.boolean().optional())})});var mmt=b(Nw=>{"use strict";var v1r=Nw&&Nw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w1r=Nw&&Nw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),S1r=Nw&&Nw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&v1r(e,t,r);return w1r(e,t),e};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.GenerateRequest=void 0;var Oi=S1r($()),x1r=n0e(),C1r=o0e();Nw.GenerateRequest=Oi.serialization.object({prompt:Oi.serialization.string(),model:Oi.serialization.string().optional(),numGenerations:Oi.serialization.property("num_generations",Oi.serialization.number().optional()),maxTokens:Oi.serialization.property("max_tokens",Oi.serialization.number().optional()),truncate:x1r.GenerateRequestTruncate.optional(),temperature:Oi.serialization.number().optional(),seed:Oi.serialization.number().optional(),preset:Oi.serialization.string().optional(),endSequences:Oi.serialization.property("end_sequences",Oi.serialization.list(Oi.serialization.string()).optional()),stopSequences:Oi.serialization.property("stop_sequences",Oi.serialization.list(Oi.serialization.string()).optional()),k:Oi.serialization.number().optional(),p:Oi.serialization.number().optional(),frequencyPenalty:Oi.serialization.property("frequency_penalty",Oi.serialization.number().optional()),presencePenalty:Oi.serialization.property("presence_penalty",Oi.serialization.number().optional()),returnLikelihoods:Oi.serialization.property("return_likelihoods",C1r.GenerateRequestReturnLikelihoods.optional()),rawPrompting:Oi.serialization.property("raw_prompting",Oi.serialization.boolean().optional())})});var gmt=b(Lw=>{"use strict";var O1r=Lw&&Lw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),E1r=Lw&&Lw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),P1r=Lw&&Lw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&O1r(e,t,r);return E1r(e,t),e};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.EmbedRequest=void 0;var MI=P1r($()),T1r=dX(),M1r=fX(),A1r=i0e();Lw.EmbedRequest=MI.serialization.object({texts:MI.serialization.list(MI.serialization.string()),model:MI.serialization.string().optional(),inputType:MI.serialization.property("input_type",T1r.EmbedInputType.optional()),embeddingTypes:MI.serialization.property("embedding_types",MI.serialization.list(M1r.EmbeddingType).optional()),truncate:A1r.EmbedRequestTruncate.optional()})});var ymt=b(Fw=>{"use strict";var R1r=Fw&&Fw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I1r=Fw&&Fw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),D1r=Fw&&Fw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R1r(e,t,r);return I1r(e,t),e};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.RerankRequest=void 0;var Pp=D1r($()),j1r=h0e();Fw.RerankRequest=Pp.serialization.object({model:Pp.serialization.string().optional(),query:Pp.serialization.string(),documents:Pp.serialization.list(j1r.RerankRequestDocumentsItem),topN:Pp.serialization.property("top_n",Pp.serialization.number().optional()),rankFields:Pp.serialization.property("rank_fields",Pp.serialization.list(Pp.serialization.string()).optional()),returnDocuments:Pp.serialization.property("return_documents",Pp.serialization.boolean().optional()),maxChunksPerDoc:Pp.serialization.property("max_chunks_per_doc",Pp.serialization.number().optional())})});var bmt=b(Bw=>{"use strict";var N1r=Bw&&Bw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),L1r=Bw&&Bw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F1r=Bw&&Bw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N1r(e,t,r);return L1r(e,t),e};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.ClassifyRequest=void 0;var FF=F1r($()),B1r=swe(),k1r=b0e();Bw.ClassifyRequest=FF.serialization.object({inputs:FF.serialization.list(FF.serialization.string()),examples:FF.serialization.list(B1r.ClassifyExample).optional(),model:FF.serialization.string().optional(),preset:FF.serialization.string().optional(),truncate:k1r.ClassifyRequestTruncate.optional()})});var _mt=b(kw=>{"use strict";var $1r=kw&&kw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q1r=kw&&kw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U1r=kw&&kw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$1r(e,t,r);return q1r(e,t),e};Object.defineProperty(kw,"__esModule",{value:!0});kw.SummarizeRequest=void 0;var BF=U1r($()),z1r=x0e(),H1r=C0e(),V1r=O0e();kw.SummarizeRequest=BF.serialization.object({text:BF.serialization.string(),length:z1r.SummarizeRequestLength.optional(),format:H1r.SummarizeRequestFormat.optional(),model:BF.serialization.string().optional(),extractiveness:V1r.SummarizeRequestExtractiveness.optional(),temperature:BF.serialization.number().optional(),additionalCommand:BF.serialization.property("additional_command",BF.serialization.string().optional())})});var vmt=b($w=>{"use strict";var W1r=$w&&$w.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J1r=$w&&$w.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G1r=$w&&$w.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W1r(e,t,r);return J1r(e,t),e};Object.defineProperty($w,"__esModule",{value:!0});$w.TokenizeRequest=void 0;var Swe=G1r($());$w.TokenizeRequest=Swe.serialization.object({text:Swe.serialization.string(),model:Swe.serialization.string()})});var wmt=b(qw=>{"use strict";var K1r=qw&&qw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y1r=qw&&qw.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X1r=qw&&qw.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K1r(e,t,r);return Y1r(e,t),e};Object.defineProperty(qw,"__esModule",{value:!0});qw.DetokenizeRequest=void 0;var BX=X1r($());qw.DetokenizeRequest=BX.serialization.object({tokens:BX.serialization.list(BX.serialization.number()),model:BX.serialization.string()})});var Smt=b(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.DetokenizeRequest=ka.TokenizeRequest=ka.SummarizeRequest=ka.ClassifyRequest=ka.RerankRequest=ka.EmbedRequest=ka.GenerateRequest=ka.GenerateStreamRequest=ka.ChatRequest=ka.ChatStreamRequest=void 0;var Z1r=fmt();Object.defineProperty(ka,"ChatStreamRequest",{enumerable:!0,get:function(){return Z1r.ChatStreamRequest}});var Q1r=pmt();Object.defineProperty(ka,"ChatRequest",{enumerable:!0,get:function(){return Q1r.ChatRequest}});var eDr=hmt();Object.defineProperty(ka,"GenerateStreamRequest",{enumerable:!0,get:function(){return eDr.GenerateStreamRequest}});var tDr=mmt();Object.defineProperty(ka,"GenerateRequest",{enumerable:!0,get:function(){return tDr.GenerateRequest}});var rDr=gmt();Object.defineProperty(ka,"EmbedRequest",{enumerable:!0,get:function(){return rDr.EmbedRequest}});var nDr=ymt();Object.defineProperty(ka,"RerankRequest",{enumerable:!0,get:function(){return nDr.RerankRequest}});var oDr=bmt();Object.defineProperty(ka,"ClassifyRequest",{enumerable:!0,get:function(){return oDr.ClassifyRequest}});var iDr=_mt();Object.defineProperty(ka,"SummarizeRequest",{enumerable:!0,get:function(){return iDr.SummarizeRequest}});var aDr=vmt();Object.defineProperty(ka,"TokenizeRequest",{enumerable:!0,get:function(){return aDr.TokenizeRequest}});var sDr=wmt();Object.defineProperty(ka,"DetokenizeRequest",{enumerable:!0,get:function(){return sDr.DetokenizeRequest}})});var xmt=b(AI=>{"use strict";var uDr=AI&&AI.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lDr=AI&&AI.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uDr(e,t,r)};Object.defineProperty(AI,"__esModule",{value:!0});lDr(Smt(),AI)});var Zx=b(Xx=>{"use strict";var cDr=Xx&&Xx.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xwe=Xx&&Xx.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cDr(e,t,r)};Object.defineProperty(Xx,"__esModule",{value:!0});xwe(fht(),Xx);xwe(dmt(),Xx);xwe(xmt(),Xx)});var Cwe=b(bo=>{"use strict";var dDr=bo&&bo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fDr=bo&&bo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pDr=bo&&bo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dDr(e,t,r);return fDr(e,t),e},kX=bo&&bo.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},hDr=bo&&bo.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}};Object.defineProperty(bo,"__esModule",{value:!0});bo.fetchOverride=bo.parseAWSEvent=bo.getEndpointFromUrl=bo.getAuthHeaders=bo.getUrl=bo.mapResponseFromBedrock=void 0;var mDr=gfe(),gDr=(mrt(),ml(hrt)),yDr=wot(),bDr=Lit(),_Dr=W2(),vDr=$(),wDr=Ube(),SDr=ept(),U4=pDr(Zx()),xDr=(t,e)=>kX(void 0,void 0,void 0,function*(){let r=Object.assign({},process.env);try{return t(),yield e()}finally{process.env=r}}),CDr={chat:U4.StreamedChatResponse,generate:U4.GenerateStreamedResponse},ODr={chat:U4.NonStreamedChatResponse,embed:U4.EmbedResponse,generate:U4.Generation},EDr=(t,e,r)=>kX(void 0,void 0,void 0,function*(){let n=t?CDr[e]:ODr[e],o={unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]},i=yield n.parseOrThrow(r,o);return n.jsonOrThrow(i,o)});bo.mapResponseFromBedrock=EDr;var PDr=(t,e,r,n)=>{let o={bedrock:n?"invoke-with-response-stream":"invoke",sagemaker:n?"invocations-response-stream":"invocations"}[t];return{bedrock:`https://${t}-runtime.${e}.amazonaws.com/model/${r}/${o}`,sagemaker:`https://runtime.sagemaker.${e}.amazonaws.com/endpoints/${r}/${o}`}[t]};bo.getUrl=PDr;var TDr=(t,e,r,n,o,i)=>kX(void 0,void 0,void 0,function*(){let a=(0,gDr.fromNodeProviderChain)(),s=yield xDr(()=>{i.awsAccessKey&&(process.env.AWS_ACCESS_KEY_ID=i.awsAccessKey),i.awsSecretKey&&(process.env.AWS_SECRET_ACCESS_KEY=i.awsSecretKey),i.awsSessionToken&&(process.env.AWS_SESSION_TOKEN=i.awsSessionToken)},()=>a()),u=new bDr.SignatureV4({service:o,region:i.awsRegion,credentials:s,sha256:mDr.Sha256});delete r.connection,r.host=t.hostname;let l=new yDr.HttpRequest({method:e.toUpperCase(),protocol:t.protocol,path:t.pathname,headers:r,body:n});return(yield u.sign(l)).headers});bo.getAuthHeaders=TDr;var MDr=(t,e,r,n)=>{if(e&&t.includes(e))return"chat";if(r&&t.includes(r))return"embed";if(n&&t.includes(n))return"generate";throw new Error(`Unknown endpoint in url: ${t}`)};bo.getEndpointFromUrl=MDr;var ADr=t=>{let e=/{[^\}]*}/,r=t.match(e);if(r?.[0]){let n=JSON.parse(r[0]);if(n.bytes){let o=Buffer.from(n.bytes,"base64").toString("utf-8"),i=JSON.parse(o);if(i.event_type)return i}}};bo.parseAWSEvent=ADr;var RDr=(t,{awsRegion:e,awsAccessKey:r,awsSecretKey:n,awsSessionToken:o})=>i=>kX(void 0,void 0,void 0,function*(){var a,s;let u=i.url.split("/").pop(),l=i.body;console.assert(l.model,"model is required");let c=Boolean(l.stream),d=(0,bo.getUrl)(t,e,l.model,c);delete l.stream,delete l.model,delete i.headers.Authorization,i.headers.Host=new URL(d).hostname;let f=yield(0,bo.getAuthHeaders)(new URL(d),i.method,i.headers,JSON.stringify(l),t,{awsRegion:e,awsAccessKey:r,awsSecretKey:n,awsSessionToken:o});i.url=d,i.headers=f;let p=yield(0,vDr.fetcher)(i);if(!p.ok)return p;try{if(c){let v=(0,wDr.readableStreamAsyncIterable)(p.body),g=new SDr.LineDecoder,_=new _Dr.PassThrough;try{for(var m=hDr(v),h;h=yield m.next(),!h.done;){let S=h.value;for(let x of g.decode(S)){let O=(0,bo.parseAWSEvent)(x);if(O){let T=yield(0,bo.mapResponseFromBedrock)(c,u,O);_.push(JSON.stringify(T)+`
`)}}}}catch(S){a={error:S}}finally{try{h&&!h.done&&(s=m.return)&&(yield s.call(m))}finally{if(a)throw a.error}}for(let S of g.flush()){let x=(0,bo.parseAWSEvent)(S);if(x){let O=yield(0,bo.mapResponseFromBedrock)(c,u,x);_.push(JSON.stringify(O)+`
`)}}return _.end(),{ok:!0,body:_}}else{let v=yield p.body;return{ok:!0,body:yield(0,bo.mapResponseFromBedrock)(c,u,v)}}}catch(v){throw v}});bo.fetchOverride=RDr});var Qx=b($X=>{"use strict";Object.defineProperty($X,"__esModule",{value:!0});$X.CohereEnvironment=void 0;$X.CohereEnvironment={Production:"https://api.cohere.com"}});var HP=b((Cmt,qX)=>{(function(t,e,r){typeof qX<"u"&&qX.exports?qX.exports=r():typeof define=="function"&&define.amd?define(r):e[t]=r()})("urljoin",Cmt,function(){function t(e){var r=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var o=0;o<e.length;o++){var i=e[o];if(typeof i!="string")throw new TypeError("Url must be a string. Received "+i);i!==""&&(o>0&&(i=i.replace(/^[\/]+/,"")),o<e.length-1?i=i.replace(/[\/]+$/,""):i=i.replace(/[\/]+$/,"/"),r.push(i))}var a=r.join("/");a=a.replace(/\/(\?|&|#[^!])/g,"$1");var s=a.split("?");return a=s.shift()+(s.length>0?"?":"")+s.join("&"),a}return function(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),t(e)}})});var Ewe=b(Pf=>{"use strict";var IDr=Pf&&Pf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DDr=Pf&&Pf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),z4=Pf&&Pf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IDr(e,t,r);return DDr(e,t),e},UX=Pf&&Pf.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},jDr=Pf&&Pf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.V2=void 0;var Omt=z4(Qx()),Of=z4($()),$a=z4(wx()),Ef=z4(Zx()),Emt=jDr(HP()),eC=z4(es()),Owe=class{constructor(e={}){this._options=e}chatStream(e,r){var n,o;return UX(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Of.fetcher)({url:(0,Emt.default)((o=yield Of.Supplier.get(this._options.environment))!==null&&o!==void 0?o:Omt.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Of.Supplier.get(this._options.clientName))!=null?yield Of.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Of.RUNTIME.type,"X-Fern-Runtime-Version":Of.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},Ef.V2ChatStreamRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return new Of.Stream({stream:i.body,parse:a=>UX(this,void 0,void 0,function*(){return Ef.StreamedChatResponse2.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:r?.abortSignal,eventShape:{type:"sse",streamTerminator:"[DONE]"}});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new $a.BadRequestError(i.error.body);case 401:throw new $a.UnauthorizedError(i.error.body);case 403:throw new $a.ForbiddenError(i.error.body);case 404:throw new $a.NotFoundError(i.error.body);case 422:throw new $a.UnprocessableEntityError(Ef.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new $a.TooManyRequestsError(Ef.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new $a.ClientClosedRequestError(Ef.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new $a.InternalServerError(i.error.body);case 501:throw new $a.NotImplementedError(Ef.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new $a.ServiceUnavailableError(i.error.body);case 504:throw new $a.GatewayTimeoutError(Ef.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new eC.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new eC.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new eC.CohereTimeoutError;case"unknown":throw new eC.CohereError({message:i.error.errorMessage})}})}chat(e,r){var n,o;return UX(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Of.fetcher)({url:(0,Emt.default)((o=yield Of.Supplier.get(this._options.environment))!==null&&o!==void 0?o:Omt.CohereEnvironment.Production,"v2/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Of.Supplier.get(this._options.clientName))!=null?yield Of.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Of.RUNTIME.type,"X-Fern-Runtime-Version":Of.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},Ef.V2ChatRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Ef.NonStreamedChatResponse2.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new $a.BadRequestError(i.error.body);case 401:throw new $a.UnauthorizedError(i.error.body);case 403:throw new $a.ForbiddenError(i.error.body);case 404:throw new $a.NotFoundError(i.error.body);case 422:throw new $a.UnprocessableEntityError(Ef.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new $a.TooManyRequestsError(Ef.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new $a.ClientClosedRequestError(Ef.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new $a.InternalServerError(i.error.body);case 501:throw new $a.NotImplementedError(Ef.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new $a.ServiceUnavailableError(i.error.body);case 504:throw new $a.GatewayTimeoutError(Ef.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new eC.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new eC.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new eC.CohereTimeoutError;case"unknown":throw new eC.CohereError({message:i.error.errorMessage})}})}_getAuthorizationHeader(){var e;return UX(this,void 0,void 0,function*(){let r=(e=yield Of.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new eC.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Pf.V2=Owe});var Pmt=b(Tf=>{"use strict";var NDr=Tf&&Tf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LDr=Tf&&Tf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V4=Tf&&Tf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NDr(e,t,r);return LDr(e,t),e},H4=Tf&&Tf.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},FDr=Tf&&Tf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.EmbedJobs=void 0;var zX=V4(Qx()),Ei=V4($()),lr=V4(wx()),HX=FDr(HP()),Vi=V4(Zx()),cc=V4(es()),Pwe=class{constructor(e={}){this._options=e}list(e){var r,n;return H4(this,void 0,void 0,function*(){let o=yield((r=this._options.fetcher)!==null&&r!==void 0?r:Ei.fetcher)({url:(0,HX.default)((n=yield Ei.Supplier.get(this._options.environment))!==null&&n!==void 0?n:zX.CohereEnvironment.Production,"v1/embed-jobs"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:e?.timeoutInSeconds!=null?e.timeoutInSeconds*1e3:3e5,maxRetries:e?.maxRetries,abortSignal:e?.abortSignal});if(o.ok)return Vi.ListEmbedJobResponse.parseOrThrow(o.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(o.error.reason==="status-code")switch(o.error.statusCode){case 400:throw new lr.BadRequestError(o.error.body);case 401:throw new lr.UnauthorizedError(o.error.body);case 403:throw new lr.ForbiddenError(o.error.body);case 404:throw new lr.NotFoundError(o.error.body);case 422:throw new lr.UnprocessableEntityError(Vi.UnprocessableEntityErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new lr.TooManyRequestsError(Vi.TooManyRequestsErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new lr.ClientClosedRequestError(Vi.ClientClosedRequestErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new lr.InternalServerError(o.error.body);case 501:throw new lr.NotImplementedError(Vi.NotImplementedErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new lr.ServiceUnavailableError(o.error.body);case 504:throw new lr.GatewayTimeoutError(Vi.GatewayTimeoutErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new cc.CohereError({statusCode:o.error.statusCode,body:o.error.body})}switch(o.error.reason){case"non-json":throw new cc.CohereError({statusCode:o.error.statusCode,body:o.error.rawBody});case"timeout":throw new cc.CohereTimeoutError;case"unknown":throw new cc.CohereError({message:o.error.errorMessage})}})}create(e,r){var n,o;return H4(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Ei.fetcher)({url:(0,HX.default)((o=yield Ei.Supplier.get(this._options.environment))!==null&&o!==void 0?o:zX.CohereEnvironment.Production,"v1/embed-jobs"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",body:Vi.CreateEmbedJobRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Vi.CreateEmbedJobResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new lr.BadRequestError(i.error.body);case 401:throw new lr.UnauthorizedError(i.error.body);case 403:throw new lr.ForbiddenError(i.error.body);case 404:throw new lr.NotFoundError(i.error.body);case 422:throw new lr.UnprocessableEntityError(Vi.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new lr.TooManyRequestsError(Vi.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new lr.ClientClosedRequestError(Vi.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new lr.InternalServerError(i.error.body);case 501:throw new lr.NotImplementedError(Vi.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new lr.ServiceUnavailableError(i.error.body);case 504:throw new lr.GatewayTimeoutError(Vi.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new cc.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new cc.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new cc.CohereTimeoutError;case"unknown":throw new cc.CohereError({message:i.error.errorMessage})}})}get(e,r){var n,o;return H4(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Ei.fetcher)({url:(0,HX.default)((o=yield Ei.Supplier.get(this._options.environment))!==null&&o!==void 0?o:zX.CohereEnvironment.Production,`v1/embed-jobs/${encodeURIComponent(e)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Vi.EmbedJob.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new lr.BadRequestError(i.error.body);case 401:throw new lr.UnauthorizedError(i.error.body);case 403:throw new lr.ForbiddenError(i.error.body);case 404:throw new lr.NotFoundError(i.error.body);case 422:throw new lr.UnprocessableEntityError(Vi.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new lr.TooManyRequestsError(Vi.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new lr.ClientClosedRequestError(Vi.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new lr.InternalServerError(i.error.body);case 501:throw new lr.NotImplementedError(Vi.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new lr.ServiceUnavailableError(i.error.body);case 504:throw new lr.GatewayTimeoutError(Vi.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new cc.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new cc.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new cc.CohereTimeoutError;case"unknown":throw new cc.CohereError({message:i.error.errorMessage})}})}cancel(e,r){var n,o;return H4(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Ei.fetcher)({url:(0,HX.default)((o=yield Ei.Supplier.get(this._options.environment))!==null&&o!==void 0?o:zX.CohereEnvironment.Production,`v1/embed-jobs/${encodeURIComponent(e)}/cancel`),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ei.Supplier.get(this._options.clientName))!=null?yield Ei.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Ei.RUNTIME.type,"X-Fern-Runtime-Version":Ei.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(!i.ok){if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new lr.BadRequestError(i.error.body);case 401:throw new lr.UnauthorizedError(i.error.body);case 403:throw new lr.ForbiddenError(i.error.body);case 404:throw new lr.NotFoundError(i.error.body);case 422:throw new lr.UnprocessableEntityError(Vi.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new lr.TooManyRequestsError(Vi.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new lr.ClientClosedRequestError(Vi.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new lr.InternalServerError(i.error.body);case 501:throw new lr.NotImplementedError(Vi.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new lr.ServiceUnavailableError(i.error.body);case 504:throw new lr.GatewayTimeoutError(Vi.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new cc.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new cc.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new cc.CohereTimeoutError;case"unknown":throw new cc.CohereError({message:i.error.errorMessage})}}})}_getAuthorizationHeader(){var e;return H4(this,void 0,void 0,function*(){let r=(e=yield Ei.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new cc.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Tf.EmbedJobs=Pwe});var Tmt=b(Mf=>{"use strict";var BDr=Mf&&Mf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kDr=Mf&&Mf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G4=Mf&&Mf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BDr(e,t,r);return kDr(e,t),e},kF=Mf&&Mf.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},$Dr=Mf&&Mf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.Datasets=void 0;var W4=G4(Qx()),zn=G4($()),Rt=G4(wx()),J4=$Dr(HP()),Mo=G4(Zx()),as=G4(es()),Twe=class{constructor(e={}){this._options=e}list(e={},r){var n,o;return kF(this,void 0,void 0,function*(){let{datasetType:i,before:a,after:s,limit:u,offset:l,validationStatus:c}=e,d={};i!=null&&(d.datasetType=i),a!=null&&(d.before=a.toISOString()),s!=null&&(d.after=s.toISOString()),u!=null&&(d.limit=u.toString()),l!=null&&(d.offset=l.toString()),c!=null&&(d.validationStatus=c);let f=yield((n=this._options.fetcher)!==null&&n!==void 0?n:zn.fetcher)({url:(0,J4.default)((o=yield zn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:W4.CohereEnvironment.Production,"v1/datasets"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",queryParameters:d,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(f.ok)return Mo.DatasetsListResponse.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(f.error.reason==="status-code")switch(f.error.statusCode){case 400:throw new Rt.BadRequestError(f.error.body);case 401:throw new Rt.UnauthorizedError(f.error.body);case 403:throw new Rt.ForbiddenError(f.error.body);case 404:throw new Rt.NotFoundError(f.error.body);case 422:throw new Rt.UnprocessableEntityError(Mo.UnprocessableEntityErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Rt.TooManyRequestsError(Mo.TooManyRequestsErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Rt.ClientClosedRequestError(Mo.ClientClosedRequestErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Rt.InternalServerError(f.error.body);case 501:throw new Rt.NotImplementedError(Mo.NotImplementedErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Rt.ServiceUnavailableError(f.error.body);case 504:throw new Rt.GatewayTimeoutError(Mo.GatewayTimeoutErrorBody.parseOrThrow(f.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new as.CohereError({statusCode:f.error.statusCode,body:f.error.body})}switch(f.error.reason){case"non-json":throw new as.CohereError({statusCode:f.error.statusCode,body:f.error.rawBody});case"timeout":throw new as.CohereTimeoutError;case"unknown":throw new as.CohereError({message:f.error.errorMessage})}})}create(e,r,n,o){var i,a;return kF(this,void 0,void 0,function*(){let s={};s.name=n.name,s.type=n.type,n.keepOriginalFile!=null&&(s.keep_original_file=n.keepOriginalFile.toString()),n.skipMalformedInput!=null&&(s.skip_malformed_input=n.skipMalformedInput.toString()),n.keepFields!=null&&(Array.isArray(n.keepFields)?s.keep_fields=n.keepFields.map(d=>d):s.keep_fields=n.keepFields),n.optionalFields!=null&&(Array.isArray(n.optionalFields)?s.optional_fields=n.optionalFields.map(d=>d):s.optional_fields=n.optionalFields),n.textSeparator!=null&&(s.text_separator=n.textSeparator),n.csvDelimiter!=null&&(s.csv_delimiter=n.csvDelimiter),n.dryRun!=null&&(s.dry_run=n.dryRun.toString());let u=yield zn.newFormData();yield u.appendFile("data",e,e?.name),r!=null&&(yield u.appendFile("eval_data",r,r?.name));let l=yield u.getRequest(),c=yield((i=this._options.fetcher)!==null&&i!==void 0?i:zn.fetcher)({url:(0,J4.default)((a=yield zn.Supplier.get(this._options.environment))!==null&&a!==void 0?a:W4.CohereEnvironment.Production,"v1/datasets"),method:"POST",headers:Object.assign({Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},l.headers),queryParameters:s,requestType:"file",duplex:l.duplex,body:l.body,timeoutMs:o?.timeoutInSeconds!=null?o.timeoutInSeconds*1e3:3e5,maxRetries:o?.maxRetries,abortSignal:o?.abortSignal});if(c.ok)return Mo.DatasetsCreateResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new Rt.BadRequestError(c.error.body);case 401:throw new Rt.UnauthorizedError(c.error.body);case 403:throw new Rt.ForbiddenError(c.error.body);case 404:throw new Rt.NotFoundError(c.error.body);case 422:throw new Rt.UnprocessableEntityError(Mo.UnprocessableEntityErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Rt.TooManyRequestsError(Mo.TooManyRequestsErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Rt.ClientClosedRequestError(Mo.ClientClosedRequestErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Rt.InternalServerError(c.error.body);case 501:throw new Rt.NotImplementedError(Mo.NotImplementedErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Rt.ServiceUnavailableError(c.error.body);case 504:throw new Rt.GatewayTimeoutError(Mo.GatewayTimeoutErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new as.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new as.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new as.CohereTimeoutError;case"unknown":throw new as.CohereError({message:c.error.errorMessage})}})}getUsage(e){var r,n;return kF(this,void 0,void 0,function*(){let o=yield((r=this._options.fetcher)!==null&&r!==void 0?r:zn.fetcher)({url:(0,J4.default)((n=yield zn.Supplier.get(this._options.environment))!==null&&n!==void 0?n:W4.CohereEnvironment.Production,"v1/datasets/usage"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:e?.timeoutInSeconds!=null?e.timeoutInSeconds*1e3:3e5,maxRetries:e?.maxRetries,abortSignal:e?.abortSignal});if(o.ok)return Mo.DatasetsGetUsageResponse.parseOrThrow(o.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(o.error.reason==="status-code")switch(o.error.statusCode){case 400:throw new Rt.BadRequestError(o.error.body);case 401:throw new Rt.UnauthorizedError(o.error.body);case 403:throw new Rt.ForbiddenError(o.error.body);case 404:throw new Rt.NotFoundError(o.error.body);case 422:throw new Rt.UnprocessableEntityError(Mo.UnprocessableEntityErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Rt.TooManyRequestsError(Mo.TooManyRequestsErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Rt.ClientClosedRequestError(Mo.ClientClosedRequestErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Rt.InternalServerError(o.error.body);case 501:throw new Rt.NotImplementedError(Mo.NotImplementedErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Rt.ServiceUnavailableError(o.error.body);case 504:throw new Rt.GatewayTimeoutError(Mo.GatewayTimeoutErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new as.CohereError({statusCode:o.error.statusCode,body:o.error.body})}switch(o.error.reason){case"non-json":throw new as.CohereError({statusCode:o.error.statusCode,body:o.error.rawBody});case"timeout":throw new as.CohereTimeoutError;case"unknown":throw new as.CohereError({message:o.error.errorMessage})}})}get(e,r){var n,o;return kF(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:zn.fetcher)({url:(0,J4.default)((o=yield zn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:W4.CohereEnvironment.Production,`v1/datasets/${encodeURIComponent(e)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Mo.DatasetsGetResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Rt.BadRequestError(i.error.body);case 401:throw new Rt.UnauthorizedError(i.error.body);case 403:throw new Rt.ForbiddenError(i.error.body);case 404:throw new Rt.NotFoundError(i.error.body);case 422:throw new Rt.UnprocessableEntityError(Mo.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Rt.TooManyRequestsError(Mo.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Rt.ClientClosedRequestError(Mo.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Rt.InternalServerError(i.error.body);case 501:throw new Rt.NotImplementedError(Mo.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Rt.ServiceUnavailableError(i.error.body);case 504:throw new Rt.GatewayTimeoutError(Mo.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new as.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new as.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new as.CohereTimeoutError;case"unknown":throw new as.CohereError({message:i.error.errorMessage})}})}delete(e,r){var n,o;return kF(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:zn.fetcher)({url:(0,J4.default)((o=yield zn.Supplier.get(this._options.environment))!==null&&o!==void 0?o:W4.CohereEnvironment.Production,`v1/datasets/${encodeURIComponent(e)}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield zn.Supplier.get(this._options.clientName))!=null?yield zn.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.12.0","X-Fern-Runtime":zn.RUNTIME.type,"X-Fern-Runtime-Version":zn.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Mo.datasets.delete.Response.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Rt.BadRequestError(i.error.body);case 401:throw new Rt.UnauthorizedError(i.error.body);case 403:throw new Rt.ForbiddenError(i.error.body);case 404:throw new Rt.NotFoundError(i.error.body);case 422:throw new Rt.UnprocessableEntityError(Mo.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new Rt.TooManyRequestsError(Mo.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new Rt.ClientClosedRequestError(Mo.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new Rt.InternalServerError(i.error.body);case 501:throw new Rt.NotImplementedError(Mo.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new Rt.ServiceUnavailableError(i.error.body);case 504:throw new Rt.GatewayTimeoutError(Mo.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new as.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new as.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new as.CohereTimeoutError;case"unknown":throw new as.CohereError({message:i.error.errorMessage})}})}_getAuthorizationHeader(){var e;return kF(this,void 0,void 0,function*(){let r=(e=yield zn.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new as.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Mf.Datasets=Twe});var Mmt=b(Af=>{"use strict";var qDr=Af&&Af.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UDr=Af&&Af.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),K4=Af&&Af.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qDr(e,t,r);return UDr(e,t),e},RI=Af&&Af.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},zDr=Af&&Af.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Af,"__esModule",{value:!0});Af.Connectors=void 0;var $F=K4(Qx()),Jr=K4($()),it=K4(wx()),qF=zDr(HP()),Hr=K4(Zx()),Pi=K4(es()),Mwe=class{constructor(e={}){this._options=e}list(e={},r){var n,o;return RI(this,void 0,void 0,function*(){let{limit:i,offset:a}=e,s={};i!=null&&(s.limit=i.toString()),a!=null&&(s.offset=a.toString());let u=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Jr.fetcher)({url:(0,qF.default)((o=yield Jr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:$F.CohereEnvironment.Production,"v1/connectors"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Jr.Supplier.get(this._options.clientName))!=null?yield Jr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Jr.RUNTIME.type,"X-Fern-Runtime-Version":Jr.RUNTIME.version},contentType:"application/json",queryParameters:s,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(u.ok)return Hr.ListConnectorsResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 400:throw new it.BadRequestError(u.error.body);case 401:throw new it.UnauthorizedError(u.error.body);case 403:throw new it.ForbiddenError(u.error.body);case 404:throw new it.NotFoundError(u.error.body);case 422:throw new it.UnprocessableEntityError(Hr.UnprocessableEntityErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Hr.TooManyRequestsErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Hr.ClientClosedRequestErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(u.error.body);case 501:throw new it.NotImplementedError(Hr.NotImplementedErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(u.error.body);case 504:throw new it.GatewayTimeoutError(Hr.GatewayTimeoutErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:u.error.errorMessage})}})}create(e,r){var n,o;return RI(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Jr.fetcher)({url:(0,qF.default)((o=yield Jr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:$F.CohereEnvironment.Production,"v1/connectors"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Jr.Supplier.get(this._options.clientName))!=null?yield Jr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Jr.RUNTIME.type,"X-Fern-Runtime-Version":Jr.RUNTIME.version},contentType:"application/json",requestType:"json",body:Hr.CreateConnectorRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Hr.CreateConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new it.BadRequestError(i.error.body);case 401:throw new it.UnauthorizedError(i.error.body);case 403:throw new it.ForbiddenError(i.error.body);case 404:throw new it.NotFoundError(i.error.body);case 422:throw new it.UnprocessableEntityError(Hr.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Hr.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Hr.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(i.error.body);case 501:throw new it.NotImplementedError(Hr.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(i.error.body);case 504:throw new it.GatewayTimeoutError(Hr.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:i.error.errorMessage})}})}get(e,r){var n,o;return RI(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Jr.fetcher)({url:(0,qF.default)((o=yield Jr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:$F.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(e)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Jr.Supplier.get(this._options.clientName))!=null?yield Jr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Jr.RUNTIME.type,"X-Fern-Runtime-Version":Jr.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Hr.GetConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new it.BadRequestError(i.error.body);case 401:throw new it.UnauthorizedError(i.error.body);case 403:throw new it.ForbiddenError(i.error.body);case 404:throw new it.NotFoundError(i.error.body);case 422:throw new it.UnprocessableEntityError(Hr.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Hr.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Hr.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(i.error.body);case 501:throw new it.NotImplementedError(Hr.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(i.error.body);case 504:throw new it.GatewayTimeoutError(Hr.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:i.error.errorMessage})}})}delete(e,r){var n,o;return RI(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Jr.fetcher)({url:(0,qF.default)((o=yield Jr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:$F.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(e)}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Jr.Supplier.get(this._options.clientName))!=null?yield Jr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Jr.RUNTIME.type,"X-Fern-Runtime-Version":Jr.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return Hr.DeleteConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new it.BadRequestError(i.error.body);case 401:throw new it.UnauthorizedError(i.error.body);case 403:throw new it.ForbiddenError(i.error.body);case 404:throw new it.NotFoundError(i.error.body);case 422:throw new it.UnprocessableEntityError(Hr.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Hr.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Hr.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(i.error.body);case 501:throw new it.NotImplementedError(Hr.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(i.error.body);case 504:throw new it.GatewayTimeoutError(Hr.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Pi.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:i.error.errorMessage})}})}update(e,r={},n){var o,i;return RI(this,void 0,void 0,function*(){let a=yield((o=this._options.fetcher)!==null&&o!==void 0?o:Jr.fetcher)({url:(0,qF.default)((i=yield Jr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:$F.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(e)}`),method:"PATCH",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Jr.Supplier.get(this._options.clientName))!=null?yield Jr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Jr.RUNTIME.type,"X-Fern-Runtime-Version":Jr.RUNTIME.version},contentType:"application/json",requestType:"json",body:Hr.UpdateConnectorRequest.jsonOrThrow(r,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(a.ok)return Hr.UpdateConnectorResponse.parseOrThrow(a.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(a.error.reason==="status-code")switch(a.error.statusCode){case 400:throw new it.BadRequestError(a.error.body);case 401:throw new it.UnauthorizedError(a.error.body);case 403:throw new it.ForbiddenError(a.error.body);case 404:throw new it.NotFoundError(a.error.body);case 422:throw new it.UnprocessableEntityError(Hr.UnprocessableEntityErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Hr.TooManyRequestsErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Hr.ClientClosedRequestErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(a.error.body);case 501:throw new it.NotImplementedError(Hr.NotImplementedErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(a.error.body);case 504:throw new it.GatewayTimeoutError(Hr.GatewayTimeoutErrorBody.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Pi.CohereError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:a.error.errorMessage})}})}oAuthAuthorize(e,r={},n){var o,i;return RI(this,void 0,void 0,function*(){let{afterTokenRedirect:a}=r,s={};a!=null&&(s.after_token_redirect=a);let u=yield((o=this._options.fetcher)!==null&&o!==void 0?o:Jr.fetcher)({url:(0,qF.default)((i=yield Jr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:$F.CohereEnvironment.Production,`v1/connectors/${encodeURIComponent(e)}/oauth/authorize`),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Jr.Supplier.get(this._options.clientName))!=null?yield Jr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Jr.RUNTIME.type,"X-Fern-Runtime-Version":Jr.RUNTIME.version},contentType:"application/json",queryParameters:s,requestType:"json",timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(u.ok)return Hr.OAuthAuthorizeResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 400:throw new it.BadRequestError(u.error.body);case 401:throw new it.UnauthorizedError(u.error.body);case 403:throw new it.ForbiddenError(u.error.body);case 404:throw new it.NotFoundError(u.error.body);case 422:throw new it.UnprocessableEntityError(Hr.UnprocessableEntityErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new it.TooManyRequestsError(Hr.TooManyRequestsErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new it.ClientClosedRequestError(Hr.ClientClosedRequestErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new it.InternalServerError(u.error.body);case 501:throw new it.NotImplementedError(Hr.NotImplementedErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new it.ServiceUnavailableError(u.error.body);case 504:throw new it.GatewayTimeoutError(Hr.GatewayTimeoutErrorBody.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new Pi.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new Pi.CohereTimeoutError;case"unknown":throw new Pi.CohereError({message:u.error.errorMessage})}})}_getAuthorizationHeader(){var e;return RI(this,void 0,void 0,function*(){let r=(e=yield Jr.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Pi.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Af.Connectors=Mwe});var Imt=b(Rf=>{"use strict";var HDr=Rf&&Rf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VDr=Rf&&Rf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y4=Rf&&Rf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HDr(e,t,r);return VDr(e,t),e},Awe=Rf&&Rf.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},WDr=Rf&&Rf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.Models=void 0;var Amt=Y4(Qx()),Tp=Y4($()),qa=Y4(wx()),Rmt=WDr(HP()),qh=Y4(Zx()),tC=Y4(es()),Rwe=class{constructor(e={}){this._options=e}get(e,r){var n,o;return Awe(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Tp.fetcher)({url:(0,Rmt.default)((o=yield Tp.Supplier.get(this._options.environment))!==null&&o!==void 0?o:Amt.CohereEnvironment.Production,`v1/models/${encodeURIComponent(e)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Tp.Supplier.get(this._options.clientName))!=null?yield Tp.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Tp.RUNTIME.type,"X-Fern-Runtime-Version":Tp.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return qh.GetModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new qa.BadRequestError(i.error.body);case 401:throw new qa.UnauthorizedError(i.error.body);case 403:throw new qa.ForbiddenError(i.error.body);case 404:throw new qa.NotFoundError(i.error.body);case 422:throw new qa.UnprocessableEntityError(qh.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new qa.TooManyRequestsError(qh.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new qa.ClientClosedRequestError(qh.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new qa.InternalServerError(i.error.body);case 501:throw new qa.NotImplementedError(qh.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new qa.ServiceUnavailableError(i.error.body);case 504:throw new qa.GatewayTimeoutError(qh.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new tC.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new tC.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new tC.CohereTimeoutError;case"unknown":throw new tC.CohereError({message:i.error.errorMessage})}})}list(e={},r){var n,o;return Awe(this,void 0,void 0,function*(){let{pageSize:i,pageToken:a,endpoint:s,defaultOnly:u}=e,l={};i!=null&&(l.page_size=i.toString()),a!=null&&(l.page_token=a),s!=null&&(l.endpoint=s),u!=null&&(l.default_only=u.toString());let c=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Tp.fetcher)({url:(0,Rmt.default)((o=yield Tp.Supplier.get(this._options.environment))!==null&&o!==void 0?o:Amt.CohereEnvironment.Production,"v1/models"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Tp.Supplier.get(this._options.clientName))!=null?yield Tp.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Tp.RUNTIME.type,"X-Fern-Runtime-Version":Tp.RUNTIME.version},contentType:"application/json",queryParameters:l,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(c.ok)return qh.ListModelsResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new qa.BadRequestError(c.error.body);case 401:throw new qa.UnauthorizedError(c.error.body);case 403:throw new qa.ForbiddenError(c.error.body);case 404:throw new qa.NotFoundError(c.error.body);case 422:throw new qa.UnprocessableEntityError(qh.UnprocessableEntityErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new qa.TooManyRequestsError(qh.TooManyRequestsErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new qa.ClientClosedRequestError(qh.ClientClosedRequestErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new qa.InternalServerError(c.error.body);case 501:throw new qa.NotImplementedError(qh.NotImplementedErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new qa.ServiceUnavailableError(c.error.body);case 504:throw new qa.GatewayTimeoutError(qh.GatewayTimeoutErrorBody.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new tC.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new tC.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new tC.CohereTimeoutError;case"unknown":throw new tC.CohereError({message:c.error.errorMessage})}})}_getAuthorizationHeader(){var e;return Awe(this,void 0,void 0,function*(){let r=(e=yield Tp.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new tC.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};Rf.Models=Rwe});var Dmt=b(If=>{"use strict";var JDr=If&&If.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GDr=If&&If.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X4=If&&If.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JDr(e,t,r);return GDr(e,t),e},VP=If&&If.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},KDr=If&&If.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(If,"__esModule",{value:!0});If.Finetuning=void 0;var II=X4(Qx()),hr=X4($()),_r=X4(wx()),DI=KDr(HP()),rC=X4(Zx()),Fo=X4(es()),Iwe=class{constructor(e={}){this._options=e}listFinetunedModels(e={},r){var n,o;return VP(this,void 0,void 0,function*(){let{pageSize:i,pageToken:a,orderBy:s}=e,u={};i!=null&&(u.page_size=i.toString()),a!=null&&(u.page_token=a),s!=null&&(u.order_by=s);let l=yield((n=this._options.fetcher)!==null&&n!==void 0?n:hr.fetcher)({url:(0,DI.default)((o=yield hr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:II.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",queryParameters:u,requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(l.ok)return rC.finetuning.ListFinetunedModelsResponse.parseOrThrow(l.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(l.error.reason==="status-code")switch(l.error.statusCode){case 400:throw new _r.BadRequestError(l.error.body);case 401:throw new _r.UnauthorizedError(l.error.body);case 403:throw new _r.ForbiddenError(l.error.body);case 404:throw new _r.NotFoundError(l.error.body);case 500:throw new _r.InternalServerError(l.error.body);case 503:throw new _r.ServiceUnavailableError(l.error.body);default:throw new Fo.CohereError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new Fo.CohereError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:l.error.errorMessage})}})}createFinetunedModel(e,r){var n,o;return VP(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:hr.fetcher)({url:(0,DI.default)((o=yield hr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:II.CohereEnvironment.Production,"v1/finetuning/finetuned-models"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",requestType:"json",body:rC.finetuning.FinetunedModel.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return rC.finetuning.CreateFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new _r.BadRequestError(i.error.body);case 401:throw new _r.UnauthorizedError(i.error.body);case 403:throw new _r.ForbiddenError(i.error.body);case 404:throw new _r.NotFoundError(i.error.body);case 500:throw new _r.InternalServerError(i.error.body);case 503:throw new _r.ServiceUnavailableError(i.error.body);default:throw new Fo.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Fo.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:i.error.errorMessage})}})}getFinetunedModel(e,r){var n,o;return VP(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:hr.fetcher)({url:(0,DI.default)((o=yield hr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:II.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(e)}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return rC.finetuning.GetFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new _r.BadRequestError(i.error.body);case 401:throw new _r.UnauthorizedError(i.error.body);case 403:throw new _r.ForbiddenError(i.error.body);case 404:throw new _r.NotFoundError(i.error.body);case 500:throw new _r.InternalServerError(i.error.body);case 503:throw new _r.ServiceUnavailableError(i.error.body);default:throw new Fo.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Fo.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:i.error.errorMessage})}})}deleteFinetunedModel(e,r){var n,o;return VP(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:hr.fetcher)({url:(0,DI.default)((o=yield hr.Supplier.get(this._options.environment))!==null&&o!==void 0?o:II.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(e)}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return rC.finetuning.DeleteFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new _r.BadRequestError(i.error.body);case 401:throw new _r.UnauthorizedError(i.error.body);case 403:throw new _r.ForbiddenError(i.error.body);case 404:throw new _r.NotFoundError(i.error.body);case 500:throw new _r.InternalServerError(i.error.body);case 503:throw new _r.ServiceUnavailableError(i.error.body);default:throw new Fo.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Fo.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:i.error.errorMessage})}})}updateFinetunedModel(e,r,n){var o,i;return VP(this,void 0,void 0,function*(){let a=yield((o=this._options.fetcher)!==null&&o!==void 0?o:hr.fetcher)({url:(0,DI.default)((i=yield hr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:II.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(e)}`),method:"PATCH",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",requestType:"json",body:rC.FinetuningUpdateFinetunedModelRequest.jsonOrThrow(r,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(a.ok)return rC.finetuning.UpdateFinetunedModelResponse.parseOrThrow(a.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(a.error.reason==="status-code")switch(a.error.statusCode){case 400:throw new _r.BadRequestError(a.error.body);case 401:throw new _r.UnauthorizedError(a.error.body);case 403:throw new _r.ForbiddenError(a.error.body);case 404:throw new _r.NotFoundError(a.error.body);case 500:throw new _r.InternalServerError(a.error.body);case 503:throw new _r.ServiceUnavailableError(a.error.body);default:throw new Fo.CohereError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Fo.CohereError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:a.error.errorMessage})}})}listEvents(e,r={},n){var o,i;return VP(this,void 0,void 0,function*(){let{pageSize:a,pageToken:s,orderBy:u}=r,l={};a!=null&&(l.page_size=a.toString()),s!=null&&(l.page_token=s),u!=null&&(l.order_by=u);let c=yield((o=this._options.fetcher)!==null&&o!==void 0?o:hr.fetcher)({url:(0,DI.default)((i=yield hr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:II.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(e)}/events`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",queryParameters:l,requestType:"json",timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(c.ok)return rC.finetuning.ListEventsResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new _r.BadRequestError(c.error.body);case 401:throw new _r.UnauthorizedError(c.error.body);case 403:throw new _r.ForbiddenError(c.error.body);case 404:throw new _r.NotFoundError(c.error.body);case 500:throw new _r.InternalServerError(c.error.body);case 503:throw new _r.ServiceUnavailableError(c.error.body);default:throw new Fo.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new Fo.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:c.error.errorMessage})}})}listTrainingStepMetrics(e,r={},n){var o,i;return VP(this,void 0,void 0,function*(){let{pageSize:a,pageToken:s}=r,u={};a!=null&&(u.page_size=a.toString()),s!=null&&(u.page_token=s);let l=yield((o=this._options.fetcher)!==null&&o!==void 0?o:hr.fetcher)({url:(0,DI.default)((i=yield hr.Supplier.get(this._options.environment))!==null&&i!==void 0?i:II.CohereEnvironment.Production,`v1/finetuning/finetuned-models/${encodeURIComponent(e)}/training-step-metrics`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield hr.Supplier.get(this._options.clientName))!=null?yield hr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":hr.RUNTIME.type,"X-Fern-Runtime-Version":hr.RUNTIME.version},contentType:"application/json",queryParameters:u,requestType:"json",timeoutMs:n?.timeoutInSeconds!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n?.maxRetries,abortSignal:n?.abortSignal});if(l.ok)return rC.finetuning.ListTrainingStepMetricsResponse.parseOrThrow(l.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(l.error.reason==="status-code")switch(l.error.statusCode){case 400:throw new _r.BadRequestError(l.error.body);case 401:throw new _r.UnauthorizedError(l.error.body);case 403:throw new _r.ForbiddenError(l.error.body);case 404:throw new _r.NotFoundError(l.error.body);case 500:throw new _r.InternalServerError(l.error.body);case 503:throw new _r.ServiceUnavailableError(l.error.body);default:throw new Fo.CohereError({statusCode:l.error.statusCode,body:l.error.body})}switch(l.error.reason){case"non-json":throw new Fo.CohereError({statusCode:l.error.statusCode,body:l.error.rawBody});case"timeout":throw new Fo.CohereTimeoutError;case"unknown":throw new Fo.CohereError({message:l.error.errorMessage})}})}_getAuthorizationHeader(){var e;return VP(this,void 0,void 0,function*(){let r=(e=yield hr.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Fo.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};If.Finetuning=Iwe});var VX=b(jf=>{"use strict";var YDr=jf&&jf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XDr=jf&&jf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Z4=jf&&jf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YDr(e,t,r);return XDr(e,t),e},Df=jf&&jf.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},ZDr=jf&&jf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jf,"__esModule",{value:!0});jf.CohereClient=void 0;var xg=Z4(Qx()),Qe=Z4($()),me=Z4(wx()),ze=Z4(Zx()),Cg=ZDr(HP()),ir=Z4(es()),QDr=Ewe(),ejr=Pmt(),tjr=Tmt(),rjr=Mmt(),njr=Imt(),ojr=Dmt(),Dwe=class{constructor(e={}){this._options=e}chatStream(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.ChatStreamRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return new Qe.Stream({stream:i.body,parse:a=>Df(this,void 0,void 0,function*(){return ze.StreamedChatResponse.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:r?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}chat(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.ChatRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.NonStreamedChatResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}generateStream(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.GenerateStreamRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"sse",timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return new Qe.Stream({stream:i.body,parse:a=>Df(this,void 0,void 0,function*(){return ze.GenerateStreamedResponse.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})}),signal:r?.abortSignal,eventShape:{type:"json",messageTerminator:`
`}});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}generate(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/generate"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:Object.assign(Object.assign({},ze.GenerateRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.Generation.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}embed(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/embed"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.EmbedRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.EmbedResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}rerank(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/rerank"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.RerankRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.RerankResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}classify(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/classify"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.ClassifyRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.ClassifyResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}summarize(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/summarize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.SummarizeRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.SummarizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}tokenize(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/tokenize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.TokenizeRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.TokenizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}detokenize(e,r){var n,o;return Df(this,void 0,void 0,function*(){let i=yield((n=this._options.fetcher)!==null&&n!==void 0?n:Qe.fetcher)({url:(0,Cg.default)((o=yield Qe.Supplier.get(this._options.environment))!==null&&o!==void 0?o:xg.CohereEnvironment.Production,"v1/detokenize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",body:ze.DetokenizeRequest.jsonOrThrow(e,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:r?.timeoutInSeconds!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r?.maxRetries,abortSignal:r?.abortSignal});if(i.ok)return ze.DetokenizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new me.BadRequestError(i.error.body);case 401:throw new me.UnauthorizedError(i.error.body);case 403:throw new me.ForbiddenError(i.error.body);case 404:throw new me.NotFoundError(i.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(i.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(i.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ir.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:i.error.errorMessage})}})}checkApiKey(e){var r,n;return Df(this,void 0,void 0,function*(){let o=yield((r=this._options.fetcher)!==null&&r!==void 0?r:Qe.fetcher)({url:(0,Cg.default)((n=yield Qe.Supplier.get(this._options.environment))!==null&&n!==void 0?n:xg.CohereEnvironment.Production,"v1/check-api-key"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Qe.Supplier.get(this._options.clientName))!=null?yield Qe.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.13.0","User-Agent":"cohere-ai/7.13.0","X-Fern-Runtime":Qe.RUNTIME.type,"X-Fern-Runtime-Version":Qe.RUNTIME.version},contentType:"application/json",requestType:"json",timeoutMs:e?.timeoutInSeconds!=null?e.timeoutInSeconds*1e3:3e5,maxRetries:e?.maxRetries,abortSignal:e?.abortSignal});if(o.ok)return ze.CheckApiKeyResponse.parseOrThrow(o.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(o.error.reason==="status-code")switch(o.error.statusCode){case 400:throw new me.BadRequestError(o.error.body);case 401:throw new me.UnauthorizedError(o.error.body);case 403:throw new me.ForbiddenError(o.error.body);case 404:throw new me.NotFoundError(o.error.body);case 422:throw new me.UnprocessableEntityError(ze.UnprocessableEntityErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 429:throw new me.TooManyRequestsError(ze.TooManyRequestsErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 499:throw new me.ClientClosedRequestError(ze.ClientClosedRequestErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 500:throw new me.InternalServerError(o.error.body);case 501:throw new me.NotImplementedError(ze.NotImplementedErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 503:throw new me.ServiceUnavailableError(o.error.body);case 504:throw new me.GatewayTimeoutError(ze.GatewayTimeoutErrorBody.parseOrThrow(o.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new ir.CohereError({statusCode:o.error.statusCode,body:o.error.body})}switch(o.error.reason){case"non-json":throw new ir.CohereError({statusCode:o.error.statusCode,body:o.error.rawBody});case"timeout":throw new ir.CohereTimeoutError;case"unknown":throw new ir.CohereError({message:o.error.errorMessage})}})}get v2(){var e;return(e=this._v2)!==null&&e!==void 0?e:this._v2=new QDr.V2(this._options)}get embedJobs(){var e;return(e=this._embedJobs)!==null&&e!==void 0?e:this._embedJobs=new ejr.EmbedJobs(this._options)}get datasets(){var e;return(e=this._datasets)!==null&&e!==void 0?e:this._datasets=new tjr.Datasets(this._options)}get connectors(){var e;return(e=this._connectors)!==null&&e!==void 0?e:this._connectors=new rjr.Connectors(this._options)}get models(){var e;return(e=this._models)!==null&&e!==void 0?e:this._models=new njr.Models(this._options)}get finetuning(){var e;return(e=this._finetuning)!==null&&e!==void 0?e:this._finetuning=new ojr.Finetuning(this._options)}_getAuthorizationHeader(){var e;return Df(this,void 0,void 0,function*(){let r=(e=yield Qe.Supplier.get(this._options.token))!==null&&e!==void 0?e:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new ir.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}};jf.CohereClient=Dwe});var Nwe=b(WX=>{"use strict";Object.defineProperty(WX,"__esModule",{value:!0});WX.AwsClient=void 0;var ijr=VX(),jwe=class extends ijr.CohereClient{constructor(e){e.token="n/a",super(e)}};WX.AwsClient=jwe});var jmt=b(JX=>{"use strict";Object.defineProperty(JX,"__esModule",{value:!0});JX.BedrockClient=void 0;var ajr=Cwe(),sjr=Nwe(),Lwe=class extends sjr.AwsClient{constructor(e){super(Object.assign(Object.assign({},e),{fetcher:(0,ajr.fetchOverride)("bedrock",e)}))}};JX.BedrockClient=Lwe});var Nmt=b(GX=>{"use strict";Object.defineProperty(GX,"__esModule",{value:!0});GX.CohereClientV2=void 0;var ujr=Ewe(),ljr=VX(),Fwe=class{constructor(e){this._options=e,this.client=new ljr.CohereClient(this._options),this.clientV2=new ujr.V2(this._options),this.chat=this.clientV2.chat.bind(this.clientV2),this.chatStream=this.clientV2.chatStream.bind(this.clientV2),this.generateStream=this.client.generateStream.bind(this.clientV2),this.generate=this.client.generate.bind(this.clientV2),this.embed=this.client.embed.bind(this.clientV2),this.rerank=this.client.rerank.bind(this.clientV2),this.classify=this.client.classify.bind(this.clientV2),this.summarize=this.client.summarize.bind(this.clientV2),this.tokenize=this.client.tokenize.bind(this.clientV2),this.detokenize=this.client.detokenize.bind(this.clientV2),this.checkApiKey=this.client.checkApiKey.bind(this.clientV2),this.embedJobs=this.client.embedJobs,this.datasets=this.client.datasets,this.connectors=this.client.connectors,this.models=this.client.models,this.finetuning=this.client.finetuning}};GX.CohereClientV2=Fwe});var Lmt=b(KX=>{"use strict";Object.defineProperty(KX,"__esModule",{value:!0});KX.CustomClient=void 0;var cjr=VX(),Bwe=class extends cjr.CohereClient{constructor(e={}){var r,n;try{let o=/\/v1\/?$/,i=(r=e.environment)===null||r===void 0?void 0:r.toString().replace(o,"");i!==((n=e.environment)===null||n===void 0?void 0:n.toString())&&(e.environment=i)}catch{}super(e),this._options=e}};KX.CustomClient=Bwe});var Fmt=b(YX=>{"use strict";Object.defineProperty(YX,"__esModule",{value:!0});YX.SagemakerClient=void 0;var djr=Nwe(),fjr=Cwe(),kwe=class extends djr.AwsClient{constructor(e){super(Object.assign(Object.assign({},e),{fetcher:(0,fjr.fetchOverride)("sagemaker",e)}))}};YX.SagemakerClient=kwe});var Q4=b(Wi=>{"use strict";var pjr=Wi&&Wi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hjr=Wi&&Wi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mjr=Wi&&Wi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pjr(e,t,r);return hjr(e,t),e};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.SagemakerClient=Wi.CohereTimeoutError=Wi.CohereError=Wi.CohereEnvironment=Wi.CohereClient=Wi.CohereClientV2=Wi.BedrockClient=Wi.Cohere=void 0;Wi.Cohere=mjr(wx());var gjr=jmt();Object.defineProperty(Wi,"BedrockClient",{enumerable:!0,get:function(){return gjr.BedrockClient}});var yjr=Nmt();Object.defineProperty(Wi,"CohereClientV2",{enumerable:!0,get:function(){return yjr.CohereClientV2}});var bjr=Lmt();Object.defineProperty(Wi,"CohereClient",{enumerable:!0,get:function(){return bjr.CustomClient}});var _jr=Qx();Object.defineProperty(Wi,"CohereEnvironment",{enumerable:!0,get:function(){return _jr.CohereEnvironment}});var Bmt=es();Object.defineProperty(Wi,"CohereError",{enumerable:!0,get:function(){return Bmt.CohereError}});Object.defineProperty(Wi,"CohereTimeoutError",{enumerable:!0,get:function(){return Bmt.CohereTimeoutError}});var vjr=Fmt();Object.defineProperty(Wi,"SagemakerClient",{enumerable:!0,get:function(){return vjr.SagemakerClient}})});function Eg(t){t?(Al[0]=Al[16]=Al[1]=Al[2]=Al[3]=Al[4]=Al[5]=Al[6]=Al[7]=Al[8]=Al[9]=Al[10]=Al[11]=Al[12]=Al[13]=Al[14]=Al[15]=0,this.blocks=Al):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var wjr,Lr,Sjr,Og,Al,$we,kmt=C(()=>{"use strict";wjr=typeof window=="object"?window:{},Lr="0123456789abcdef".split(""),Sjr=[-2147483648,8388608,32768,128],Og=[24,16,8,0],Al=[];Eg.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===wjr.ArrayBuffer&&(t=new Uint8Array(t));for(var r,n=0,o,i=t.length||0,a=this.blocks;n<i;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(o=this.start;n<i&&o<64;++n)a[o>>2]|=t[n]<<Og[o++&3];else for(o=this.start;n<i&&o<64;++n)r=t.charCodeAt(n),r<128?a[o>>2]|=r<<Og[o++&3]:r<2048?(a[o>>2]|=(192|r>>6)<<Og[o++&3],a[o>>2]|=(128|r&63)<<Og[o++&3]):r<55296||r>=57344?(a[o>>2]|=(224|r>>12)<<Og[o++&3],a[o>>2]|=(128|r>>6&63)<<Og[o++&3],a[o>>2]|=(128|r&63)<<Og[o++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++n)&1023),a[o>>2]|=(240|r>>18)<<Og[o++&3],a[o>>2]|=(128|r>>12&63)<<Og[o++&3],a[o>>2]|=(128|r>>6&63)<<Og[o++&3],a[o>>2]|=(128|r&63)<<Og[o++&3]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=a[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Eg.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=Sjr[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Eg.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,i,a,s,u=this.blocks;for(a=16;a<80;++a)s=u[a-3]^u[a-8]^u[a-14]^u[a-16],u[a]=s<<1|s>>>31;for(a=0;a<20;a+=5)i=e&r|~e&n,s=t<<5|t>>>27,o=s+i+o+1518500249+u[a]<<0,e=e<<30|e>>>2,i=t&e|~t&r,s=o<<5|o>>>27,n=s+i+n+1518500249+u[a+1]<<0,t=t<<30|t>>>2,i=o&t|~o&e,s=n<<5|n>>>27,r=s+i+r+1518500249+u[a+2]<<0,o=o<<30|o>>>2,i=n&o|~n&t,s=r<<5|r>>>27,e=s+i+e+1518500249+u[a+3]<<0,n=n<<30|n>>>2,i=r&n|~r&o,s=e<<5|e>>>27,t=s+i+t+1518500249+u[a+4]<<0,r=r<<30|r>>>2;for(;a<40;a+=5)i=e^r^n,s=t<<5|t>>>27,o=s+i+o+1859775393+u[a]<<0,e=e<<30|e>>>2,i=t^e^r,s=o<<5|o>>>27,n=s+i+n+1859775393+u[a+1]<<0,t=t<<30|t>>>2,i=o^t^e,s=n<<5|n>>>27,r=s+i+r+1859775393+u[a+2]<<0,o=o<<30|o>>>2,i=n^o^t,s=r<<5|r>>>27,e=s+i+e+1859775393+u[a+3]<<0,n=n<<30|n>>>2,i=r^n^o,s=e<<5|e>>>27,t=s+i+t+1859775393+u[a+4]<<0,r=r<<30|r>>>2;for(;a<60;a+=5)i=e&r|e&n|r&n,s=t<<5|t>>>27,o=s+i+o-1894007588+u[a]<<0,e=e<<30|e>>>2,i=t&e|t&r|e&r,s=o<<5|o>>>27,n=s+i+n-1894007588+u[a+1]<<0,t=t<<30|t>>>2,i=o&t|o&e|t&e,s=n<<5|n>>>27,r=s+i+r-1894007588+u[a+2]<<0,o=o<<30|o>>>2,i=n&o|n&t|o&t,s=r<<5|r>>>27,e=s+i+e-1894007588+u[a+3]<<0,n=n<<30|n>>>2,i=r&n|r&o|n&o,s=e<<5|e>>>27,t=s+i+t-1894007588+u[a+4]<<0,r=r<<30|r>>>2;for(;a<80;a+=5)i=e^r^n,s=t<<5|t>>>27,o=s+i+o-899497514+u[a]<<0,e=e<<30|e>>>2,i=t^e^r,s=o<<5|o>>>27,n=s+i+n-899497514+u[a+1]<<0,t=t<<30|t>>>2,i=o^t^e,s=n<<5|n>>>27,r=s+i+r-899497514+u[a+2]<<0,o=o<<30|o>>>2,i=n^o^t,s=r<<5|r>>>27,e=s+i+e-899497514+u[a+3]<<0,n=n<<30|n>>>2,i=r^n^o,s=e<<5|e>>>27,t=s+i+t-899497514+u[a+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+o<<0};Eg.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4;return Lr[t>>28&15]+Lr[t>>24&15]+Lr[t>>20&15]+Lr[t>>16&15]+Lr[t>>12&15]+Lr[t>>8&15]+Lr[t>>4&15]+Lr[t&15]+Lr[e>>28&15]+Lr[e>>24&15]+Lr[e>>20&15]+Lr[e>>16&15]+Lr[e>>12&15]+Lr[e>>8&15]+Lr[e>>4&15]+Lr[e&15]+Lr[r>>28&15]+Lr[r>>24&15]+Lr[r>>20&15]+Lr[r>>16&15]+Lr[r>>12&15]+Lr[r>>8&15]+Lr[r>>4&15]+Lr[r&15]+Lr[n>>28&15]+Lr[n>>24&15]+Lr[n>>20&15]+Lr[n>>16&15]+Lr[n>>12&15]+Lr[n>>8&15]+Lr[n>>4&15]+Lr[n&15]+Lr[o>>28&15]+Lr[o>>24&15]+Lr[o>>20&15]+Lr[o>>16&15]+Lr[o>>12&15]+Lr[o>>8&15]+Lr[o>>4&15]+Lr[o&15]};Eg.prototype.toString=Eg.prototype.hex;Eg.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,o>>24&255,o>>16&255,o>>8&255,o&255]};Eg.prototype.array=Eg.prototype.digest;Eg.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};$we=t=>new Eg(!0).update(t).hex()});var $mt=C(()=>{kmt()});var qmt,qwe,xjr,UF,Umt=C(()=>{$mt();JO();qmt=(...t)=>$we(t.join("_")),qwe=class{},xjr=new Map,UF=class extends qwe{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,r){return Promise.resolve(this.cache.get(qmt(e,r))??null)}async update(e,r,n){this.cache.set(qmt(e,r),n)}static global(){return new UF(xjr)}}});function Pjr(t,e){let r=Array.from({length:t.length},(n,o)=>({start:o,end:o+1}));for(;r.length>1;){let n=null;for(let o=0;o<r.length-1;o++){let i=t.slice(r[o].start,r[o+1].end),a=e.get(i.join(","));a!=null&&(n==null||a<n[0])&&(n=[a,o])}if(n!=null){let o=n[1];r[o]={start:r[o].start,end:r[o+1].end},r.splice(o+1,1)}else break}return r}function Tjr(t,e){return t.length===1?[e.get(t.join(","))]:Pjr(t,e).map(r=>e.get(t.slice(r.start,r.end).join(","))).filter(r=>r!=null)}function Mjr(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}function zwe(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":return"o200k_base";default:throw new Error("Unknown model")}}var zmt,Cjr,Ojr,Ejr,Uwe,XX,Hmt=C(()=>{zmt=k(rfe(),1),Cjr=Object.defineProperty,Ojr=(t,e,r)=>e in t?Cjr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ejr=(t,e,r)=>(Ojr(t,typeof e!="symbol"?e+"":e,r),r);Uwe=class{constructor(t,e){Vl(this,"specialTokens");Vl(this,"inverseSpecialTokens");Vl(this,"patStr");Vl(this,"textEncoder",new TextEncoder);Vl(this,"textDecoder",new TextDecoder("utf-8"));Vl(this,"rankMap",new Map);Vl(this,"textMap",new Map);this.patStr=t.pat_str;let r=t.bpe_ranks.split(`
`).filter(Boolean).reduce((n,o)=>{let[i,a,...s]=o.split(" "),u=Number.parseInt(a,10);return s.forEach((l,c)=>n[l]=u+c),n},{});for(let[n,o]of Object.entries(r)){let i=zmt.default.toByteArray(n);this.rankMap.set(i.join(","),o),this.textMap.set(o,i)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[o,i])=>(n[i]=this.textEncoder.encode(o),n),{})}encode(t,e=[],r="all"){let n=new RegExp(this.patStr,"ug"),o=Uwe.specialTokenRegex(Object.keys(this.specialTokens)),i=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),s=new Set(r==="all"?Object.keys(this.specialTokens).filter(l=>!a.has(l)):r);if(s.size>0){let l=Uwe.specialTokenRegex([...s]),c=t.match(l);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let u=0;for(;;){let l=null,c=u;for(;o.lastIndex=c,l=o.exec(t),!(l==null||a.has(l[0]));)c=l.index+1;let d=l?.index??t.length;for(let p of t.substring(u,d).matchAll(n)){let m=this.textEncoder.encode(p[0]),h=this.rankMap.get(m.join(","));if(h!=null){i.push(h);continue}i.push(...Tjr(m,this.rankMap))}if(l==null)break;let f=this.specialTokens[l[0]];i.push(f),u=l.index+l[0].length}return i}decode(t){let e=[],r=0;for(let i=0;i<t.length;++i){let a=t[i],s=this.textMap.get(a)??this.inverseSpecialTokens[a];s!=null&&(e.push(s),r+=s.length)}let n=new Uint8Array(r),o=0;for(let i of e)n.set(i,o),o+=i.length;return this.textDecoder.decode(n)}},XX=Uwe;Ejr(XX,"specialTokenRegex",t=>new RegExp(t.map(e=>Mjr(e)).join("|"),"g"))});var Vmt=C(()=>{Hmt()});async function Wmt(t){return t in ZX||(ZX[t]=Ajr.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new XX(e)).catch(e=>{throw delete ZX[t],e})),await ZX[t]}async function Jmt(t){return Wmt(zwe(t))}var ZX,Ajr,Hwe=C(()=>{Vmt();Sj();ZX={},Ajr=new sp({})});function Uw(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}var Rjr,Ijr,zF,HF,e3=C(()=>{Umt();$q();JO();Sj();Hwe();df();Rjr=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t;Ijr=()=>!1,zF=class extends Qr{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??Ijr(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}},HF=class extends zF{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:r,...n}){let{cache:o,...i}=n;super({callbacks:e??r,...i}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof o=="object"?this.cache=o:o?this.cache=UF.global():this.cache=void 0,this.caller=new sp(n??{})}async getNumTokens(e){if(typeof e!="string")return 0;let r=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await Jmt("modelName"in this?Rjr(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{r=this._encoding.encode(e).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new Oj(e):Array.isArray(e)?new Ej(e.map(Um)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...r}){let n={...this._identifyingParams(),...r,_type:this._llmType(),_model:this._modelType()};return Object.entries(n).filter(([a,s])=>s!==void 0).map(([a,s])=>`${a}:${JSON.stringify(s)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}});var nC=C(()=>{e3()});var Uh=C(()=>{wj()});var g_t=b(()=>{});var on=b((rQ,y_t)=>{(function(t,e){typeof rQ=="object"?y_t.exports=rQ=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(rQ,function(){var t=t||function(e,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof window<"u"&&window.crypto&&(n=window.crypto),!n&&typeof require=="function")try{n=g_t()}catch{}var o=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function g(){}return function(_){var S;return g.prototype=_,S=new g,g.prototype=null,S}}(),a={},s=a.lib={},u=s.Base=function(){return{extend:function(g){var _=i(this);return g&&_.mixIn(g),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var _ in g)g.hasOwnProperty(_)&&(this[_]=g[_]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=s.WordArray=u.extend({init:function(g,_){g=this.words=g||[],_!=r?this.sigBytes=_:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var _=this.words,S=g.words,x=this.sigBytes,O=g.sigBytes;if(this.clamp(),x%4)for(var T=0;T<O;T++){var E=S[T>>>2]>>>24-T%4*8&255;_[x+T>>>2]|=E<<24-(x+T)%4*8}else for(var M=0;M<O;M+=4)_[x+M>>>2]=S[M>>>2];return this.sigBytes+=O,this},clamp:function(){var g=this.words,_=this.sigBytes;g[_>>>2]&=4294967295<<32-_%4*8,g.length=e.ceil(_/4)},clone:function(){var g=u.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var _=[],S=0;S<g;S+=4)_.push(o());return new l.init(_,g)}}),c=a.enc={},d=c.Hex={stringify:function(g){for(var _=g.words,S=g.sigBytes,x=[],O=0;O<S;O++){var T=_[O>>>2]>>>24-O%4*8&255;x.push((T>>>4).toString(16)),x.push((T&15).toString(16))}return x.join("")},parse:function(g){for(var _=g.length,S=[],x=0;x<_;x+=2)S[x>>>3]|=parseInt(g.substr(x,2),16)<<24-x%8*4;return new l.init(S,_/2)}},f=c.Latin1={stringify:function(g){for(var _=g.words,S=g.sigBytes,x=[],O=0;O<S;O++){var T=_[O>>>2]>>>24-O%4*8&255;x.push(String.fromCharCode(T))}return x.join("")},parse:function(g){for(var _=g.length,S=[],x=0;x<_;x++)S[x>>>2]|=(g.charCodeAt(x)&255)<<24-x%4*8;return new l.init(S,_)}},p=c.Utf8={stringify:function(g){try{return decodeURIComponent(escape(f.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return f.parse(unescape(encodeURIComponent(g)))}},m=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=p.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var _,S=this._data,x=S.words,O=S.sigBytes,T=this.blockSize,E=T*4,M=O/E;g?M=e.ceil(M):M=e.max((M|0)-this._minBufferSize,0);var R=M*T,N=e.min(R*4,O);if(R){for(var j=0;j<R;j+=T)this._doProcessBlock(x,j);_=x.splice(0,R),S.sigBytes-=N}return new l.init(_,N)},clone:function(){var g=u.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),h=s.Hasher=m.extend({cfg:u.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var _=this._doFinalize();return _},blockSize:512/32,_createHelper:function(g){return function(_,S){return new g.init(S).finalize(_)}},_createHmacHelper:function(g){return function(_,S){return new v.HMAC.init(g,S).finalize(_)}}}),v=a.algo={};return a}(Math);return t})});var A3=b((nQ,b_t)=>{(function(t,e){typeof nQ=="object"?b_t.exports=nQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(nQ,function(t){return function(e){var r=t,n=r.lib,o=n.Base,i=n.WordArray,a=r.x64={},s=a.Word=o.extend({init:function(l,c){this.high=l,this.low=c}}),u=a.WordArray=o.extend({init:function(l,c){l=this.words=l||[],c!=e?this.sigBytes=c:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,c=l.length,d=[],f=0;f<c;f++){var p=l[f];d.push(p.high),d.push(p.low)}return i.create(d,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),c=l.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return l}})}(),t})});var v_t=b((oQ,__t)=>{(function(t,e){typeof oQ=="object"?__t.exports=oQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(oQ,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,r=e.lib,n=r.WordArray,o=n.init,i=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var s=a.byteLength,u=[],l=0;l<s;l++)u[l>>>2]|=a[l]<<24-l%4*8;o.call(this,u,s)}else o.apply(this,arguments)};i.prototype=n}}(),t.lib.WordArray})});var S_t=b((iQ,w_t)=>{(function(t,e){typeof iQ=="object"?w_t.exports=iQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(iQ,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,i=o.Utf16=o.Utf16BE={stringify:function(s){for(var u=s.words,l=s.sigBytes,c=[],d=0;d<l;d+=2){var f=u[d>>>2]>>>16-d%4*8&65535;c.push(String.fromCharCode(f))}return c.join("")},parse:function(s){for(var u=s.length,l=[],c=0;c<u;c++)l[c>>>1]|=s.charCodeAt(c)<<16-c%2*16;return n.create(l,u*2)}};o.Utf16LE={stringify:function(s){for(var u=s.words,l=s.sigBytes,c=[],d=0;d<l;d+=2){var f=a(u[d>>>2]>>>16-d%4*8&65535);c.push(String.fromCharCode(f))}return c.join("")},parse:function(s){for(var u=s.length,l=[],c=0;c<u;c++)l[c>>>1]|=a(s.charCodeAt(c)<<16-c%2*16);return n.create(l,u*2)}};function a(s){return s<<8&4278255360|s>>>8&16711935}}(),t.enc.Utf16})});var aT=b((aQ,x_t)=>{(function(t,e){typeof aQ=="object"?x_t.exports=aQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(aQ,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,i=o.Base64={stringify:function(s){var u=s.words,l=s.sigBytes,c=this._map;s.clamp();for(var d=[],f=0;f<l;f+=3)for(var p=u[f>>>2]>>>24-f%4*8&255,m=u[f+1>>>2]>>>24-(f+1)%4*8&255,h=u[f+2>>>2]>>>24-(f+2)%4*8&255,v=p<<16|m<<8|h,g=0;g<4&&f+g*.75<l;g++)d.push(c.charAt(v>>>6*(3-g)&63));var _=c.charAt(64);if(_)for(;d.length%4;)d.push(_);return d.join("")},parse:function(s){var u=s.length,l=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var d=0;d<l.length;d++)c[l.charCodeAt(d)]=d}var f=l.charAt(64);if(f){var p=s.indexOf(f);p!==-1&&(u=p)}return a(s,u,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(s,u,l){for(var c=[],d=0,f=0;f<u;f++)if(f%4){var p=l[s.charCodeAt(f-1)]<<f%4*2,m=l[s.charCodeAt(f)]>>>6-f%4*2,h=p|m;c[d>>>2]|=h<<24-d%4*8,d++}return n.create(c,d)}}(),t.enc.Base64})});var O_t=b((sQ,C_t)=>{(function(t,e){typeof sQ=="object"?C_t.exports=sQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(sQ,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,i=o.Base64url={stringify:function(s,u){u===void 0&&(u=!0);var l=s.words,c=s.sigBytes,d=u?this._safe_map:this._map;s.clamp();for(var f=[],p=0;p<c;p+=3)for(var m=l[p>>>2]>>>24-p%4*8&255,h=l[p+1>>>2]>>>24-(p+1)%4*8&255,v=l[p+2>>>2]>>>24-(p+2)%4*8&255,g=m<<16|h<<8|v,_=0;_<4&&p+_*.75<c;_++)f.push(d.charAt(g>>>6*(3-_)&63));var S=d.charAt(64);if(S)for(;f.length%4;)f.push(S);return f.join("")},parse:function(s,u){u===void 0&&(u=!0);var l=s.length,c=u?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var p=c.charAt(64);if(p){var m=s.indexOf(p);m!==-1&&(l=m)}return a(s,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(s,u,l){for(var c=[],d=0,f=0;f<u;f++)if(f%4){var p=l[s.charCodeAt(f-1)]<<f%4*2,m=l[s.charCodeAt(f)]>>>6-f%4*2,h=p|m;c[d>>>2]|=h<<24-d%4*8,d++}return n.create(c,d)}}(),t.enc.Base64url})});var sT=b((uQ,E_t)=>{(function(t,e){typeof uQ=="object"?E_t.exports=uQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(uQ,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[];(function(){for(var p=0;p<64;p++)s[p]=e.abs(e.sin(p+1))*4294967296|0})();var u=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,m){for(var h=0;h<16;h++){var v=m+h,g=p[v];p[v]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var _=this._hash.words,S=p[m+0],x=p[m+1],O=p[m+2],T=p[m+3],E=p[m+4],M=p[m+5],R=p[m+6],N=p[m+7],j=p[m+8],F=p[m+9],B=p[m+10],L=p[m+11],q=p[m+12],U=p[m+13],J=p[m+14],H=p[m+15],I=_[0],V=_[1],W=_[2],K=_[3];I=l(I,V,W,K,S,7,s[0]),K=l(K,I,V,W,x,12,s[1]),W=l(W,K,I,V,O,17,s[2]),V=l(V,W,K,I,T,22,s[3]),I=l(I,V,W,K,E,7,s[4]),K=l(K,I,V,W,M,12,s[5]),W=l(W,K,I,V,R,17,s[6]),V=l(V,W,K,I,N,22,s[7]),I=l(I,V,W,K,j,7,s[8]),K=l(K,I,V,W,F,12,s[9]),W=l(W,K,I,V,B,17,s[10]),V=l(V,W,K,I,L,22,s[11]),I=l(I,V,W,K,q,7,s[12]),K=l(K,I,V,W,U,12,s[13]),W=l(W,K,I,V,J,17,s[14]),V=l(V,W,K,I,H,22,s[15]),I=c(I,V,W,K,x,5,s[16]),K=c(K,I,V,W,R,9,s[17]),W=c(W,K,I,V,L,14,s[18]),V=c(V,W,K,I,S,20,s[19]),I=c(I,V,W,K,M,5,s[20]),K=c(K,I,V,W,B,9,s[21]),W=c(W,K,I,V,H,14,s[22]),V=c(V,W,K,I,E,20,s[23]),I=c(I,V,W,K,F,5,s[24]),K=c(K,I,V,W,J,9,s[25]),W=c(W,K,I,V,T,14,s[26]),V=c(V,W,K,I,j,20,s[27]),I=c(I,V,W,K,U,5,s[28]),K=c(K,I,V,W,O,9,s[29]),W=c(W,K,I,V,N,14,s[30]),V=c(V,W,K,I,q,20,s[31]),I=d(I,V,W,K,M,4,s[32]),K=d(K,I,V,W,j,11,s[33]),W=d(W,K,I,V,L,16,s[34]),V=d(V,W,K,I,J,23,s[35]),I=d(I,V,W,K,x,4,s[36]),K=d(K,I,V,W,E,11,s[37]),W=d(W,K,I,V,N,16,s[38]),V=d(V,W,K,I,B,23,s[39]),I=d(I,V,W,K,U,4,s[40]),K=d(K,I,V,W,S,11,s[41]),W=d(W,K,I,V,T,16,s[42]),V=d(V,W,K,I,R,23,s[43]),I=d(I,V,W,K,F,4,s[44]),K=d(K,I,V,W,q,11,s[45]),W=d(W,K,I,V,H,16,s[46]),V=d(V,W,K,I,O,23,s[47]),I=f(I,V,W,K,S,6,s[48]),K=f(K,I,V,W,N,10,s[49]),W=f(W,K,I,V,J,15,s[50]),V=f(V,W,K,I,M,21,s[51]),I=f(I,V,W,K,q,6,s[52]),K=f(K,I,V,W,T,10,s[53]),W=f(W,K,I,V,B,15,s[54]),V=f(V,W,K,I,x,21,s[55]),I=f(I,V,W,K,j,6,s[56]),K=f(K,I,V,W,H,10,s[57]),W=f(W,K,I,V,R,15,s[58]),V=f(V,W,K,I,U,21,s[59]),I=f(I,V,W,K,E,6,s[60]),K=f(K,I,V,W,L,10,s[61]),W=f(W,K,I,V,O,15,s[62]),V=f(V,W,K,I,F,21,s[63]),_[0]=_[0]+I|0,_[1]=_[1]+V|0,_[2]=_[2]+W|0,_[3]=_[3]+K|0},_doFinalize:function(){var p=this._data,m=p.words,h=this._nDataBytes*8,v=p.sigBytes*8;m[v>>>5]|=128<<24-v%32;var g=e.floor(h/4294967296),_=h;m[(v+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,m[(v+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,p.sigBytes=(m.length+1)*4,this._process();for(var S=this._hash,x=S.words,O=0;O<4;O++){var T=x[O];x[O]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return S},clone:function(){var p=i.clone.call(this);return p._hash=this._hash.clone(),p}});function l(p,m,h,v,g,_,S){var x=p+(m&h|~m&v)+g+S;return(x<<_|x>>>32-_)+m}function c(p,m,h,v,g,_,S){var x=p+(m&v|h&~v)+g+S;return(x<<_|x>>>32-_)+m}function d(p,m,h,v,g,_,S){var x=p+(m^h^v)+g+S;return(x<<_|x>>>32-_)+m}function f(p,m,h,v,g,_,S){var x=p+(h^(m|~v))+g+S;return(x<<_|x>>>32-_)+m}r.MD5=i._createHelper(u),r.HmacMD5=i._createHmacHelper(u)}(Math),t.MD5})});var Axe=b((lQ,P_t)=>{(function(t,e){typeof lQ=="object"?P_t.exports=lQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(lQ,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.Hasher,i=e.algo,a=[],s=i.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,l){for(var c=this._hash.words,d=c[0],f=c[1],p=c[2],m=c[3],h=c[4],v=0;v<80;v++){if(v<16)a[v]=u[l+v]|0;else{var g=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=g<<1|g>>>31}var _=(d<<5|d>>>27)+h+a[v];v<20?_+=(f&p|~f&m)+1518500249:v<40?_+=(f^p^m)+1859775393:v<60?_+=(f&p|f&m|p&m)-1894007588:_+=(f^p^m)-899497514,h=m,m=p,p=f<<30|f>>>2,f=d,d=_}c[0]=c[0]+d|0,c[1]=c[1]+f|0,c[2]=c[2]+p|0,c[3]=c[3]+m|0,c[4]=c[4]+h|0},_doFinalize:function(){var u=this._data,l=u.words,c=this._nDataBytes*8,d=u.sigBytes*8;return l[d>>>5]|=128<<24-d%32,l[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),l[(d+64>>>9<<4)+15]=c,u.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});e.SHA1=o._createHelper(s),e.HmacSHA1=o._createHmacHelper(s)}(),t.SHA1})});var dQ=b((cQ,T_t)=>{(function(t,e){typeof cQ=="object"?T_t.exports=cQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(cQ,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=[],u=[];(function(){function d(h){for(var v=e.sqrt(h),g=2;g<=v;g++)if(!(h%g))return!1;return!0}function f(h){return(h-(h|0))*4294967296|0}for(var p=2,m=0;m<64;)d(p)&&(m<8&&(s[m]=f(e.pow(p,1/2))),u[m]=f(e.pow(p,1/3)),m++),p++})();var l=[],c=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(d,f){for(var p=this._hash.words,m=p[0],h=p[1],v=p[2],g=p[3],_=p[4],S=p[5],x=p[6],O=p[7],T=0;T<64;T++){if(T<16)l[T]=d[f+T]|0;else{var E=l[T-15],M=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,R=l[T-2],N=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;l[T]=M+l[T-7]+N+l[T-16]}var j=_&S^~_&x,F=m&h^m&v^h&v,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),L=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),q=O+L+j+u[T]+l[T],U=B+F;O=x,x=S,S=_,_=g+q|0,g=v,v=h,h=m,m=q+U|0}p[0]=p[0]+m|0,p[1]=p[1]+h|0,p[2]=p[2]+v|0,p[3]=p[3]+g|0,p[4]=p[4]+_|0,p[5]=p[5]+S|0,p[6]=p[6]+x|0,p[7]=p[7]+O|0},_doFinalize:function(){var d=this._data,f=d.words,p=this._nDataBytes*8,m=d.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=e.floor(p/4294967296),f[(m+64>>>9<<4)+15]=p,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=i.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA256=i._createHelper(c),r.HmacSHA256=i._createHmacHelper(c)}(Math),t.SHA256})});var A_t=b((fQ,M_t)=>{(function(t,e,r){typeof fQ=="object"?M_t.exports=fQ=e(on(),dQ()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(fQ,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.algo,i=o.SHA256,a=o.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var s=i._doFinalize.call(this);return s.sigBytes-=4,s}});e.SHA224=i._createHelper(a),e.HmacSHA224=i._createHmacHelper(a)}(),t.SHA224})});var Rxe=b((pQ,R_t)=>{(function(t,e,r){typeof pQ=="object"?R_t.exports=pQ=e(on(),A3()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(pQ,function(t){return function(){var e=t,r=e.lib,n=r.Hasher,o=e.x64,i=o.Word,a=o.WordArray,s=e.algo;function u(){return i.create.apply(i,arguments)}var l=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],c=[];(function(){for(var f=0;f<80;f++)c[f]=u()})();var d=s.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(f,p){for(var m=this._hash.words,h=m[0],v=m[1],g=m[2],_=m[3],S=m[4],x=m[5],O=m[6],T=m[7],E=h.high,M=h.low,R=v.high,N=v.low,j=g.high,F=g.low,B=_.high,L=_.low,q=S.high,U=S.low,J=x.high,H=x.low,I=O.high,V=O.low,W=T.high,K=T.low,ne=E,Be=M,X=R,Q=N,le=j,Ae=F,mt=B,we=L,ae=q,ee=U,ye=J,Ue=H,dt=I,Je=V,sr=W,Xr=K,ur=0;ur<80;ur++){var Xt,hi,ta=c[ur];if(ur<16)hi=ta.high=f[p+ur*2]|0,Xt=ta.low=f[p+ur*2+1]|0;else{var No=c[ur-15],Re=No.high,Ye=No.low,dr=(Re>>>1|Ye<<31)^(Re>>>8|Ye<<24)^Re>>>7,Xe=(Ye>>>1|Re<<31)^(Ye>>>8|Re<<24)^(Ye>>>7|Re<<25),kn=c[ur-2],ra=kn.high,hl=kn.low,Nc=(ra>>>19|hl<<13)^(ra<<3|hl>>>29)^ra>>>6,Nm=(hl>>>19|ra<<13)^(hl<<3|ra>>>29)^(hl>>>6|ra<<26),Lm=c[ur-7],Ia=Lm.high,Xp=Lm.low,Zf=c[ur-16],Zp=Zf.high,hn=Zf.low;Xt=Xe+Xp,hi=dr+Ia+(Xt>>>0<Xe>>>0?1:0),Xt=Xt+Nm,hi=hi+Nc+(Xt>>>0<Nm>>>0?1:0),Xt=Xt+hn,hi=hi+Zp+(Xt>>>0<hn>>>0?1:0),ta.high=hi,ta.low=Xt}var NO=ae&ye^~ae&dt,$M=ee&Ue^~ee&Je,LO=ne&X^ne&le^X&le,Da=Be&Q^Be&Ae^Q&Ae,ps=(ne>>>28|Be<<4)^(ne<<30|Be>>>2)^(ne<<25|Be>>>7),na=(Be>>>28|ne<<4)^(Be<<30|ne>>>2)^(Be<<25|ne>>>7),bd=(ae>>>14|ee<<18)^(ae>>>18|ee<<14)^(ae<<23|ee>>>9),Lc=(ee>>>14|ae<<18)^(ee>>>18|ae<<14)^(ee<<23|ae>>>9),Ga=l[ur],Zd=Ga.high,_d=Ga.low,Zr=Xr+Lc,De=sr+bd+(Zr>>>0<Xr>>>0?1:0),Zr=Zr+$M,De=De+NO+(Zr>>>0<$M>>>0?1:0),Zr=Zr+_d,De=De+Zd+(Zr>>>0<_d>>>0?1:0),Zr=Zr+Xt,De=De+hi+(Zr>>>0<Xt>>>0?1:0),vd=na+Da,Qf=ps+LO+(vd>>>0<na>>>0?1:0);sr=dt,Xr=Je,dt=ye,Je=Ue,ye=ae,Ue=ee,ee=we+Zr|0,ae=mt+De+(ee>>>0<we>>>0?1:0)|0,mt=le,we=Ae,le=X,Ae=Q,X=ne,Q=Be,Be=Zr+vd|0,ne=De+Qf+(Be>>>0<Zr>>>0?1:0)|0}M=h.low=M+Be,h.high=E+ne+(M>>>0<Be>>>0?1:0),N=v.low=N+Q,v.high=R+X+(N>>>0<Q>>>0?1:0),F=g.low=F+Ae,g.high=j+le+(F>>>0<Ae>>>0?1:0),L=_.low=L+we,_.high=B+mt+(L>>>0<we>>>0?1:0),U=S.low=U+ee,S.high=q+ae+(U>>>0<ee>>>0?1:0),H=x.low=H+Ue,x.high=J+ye+(H>>>0<Ue>>>0?1:0),V=O.low=V+Je,O.high=I+dt+(V>>>0<Je>>>0?1:0),K=T.low=K+Xr,T.high=W+sr+(K>>>0<Xr>>>0?1:0)},_doFinalize:function(){var f=this._data,p=f.words,m=this._nDataBytes*8,h=f.sigBytes*8;p[h>>>5]|=128<<24-h%32,p[(h+128>>>10<<5)+30]=Math.floor(m/4294967296),p[(h+128>>>10<<5)+31]=m,f.sigBytes=p.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var f=n.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});e.SHA512=n._createHelper(d),e.HmacSHA512=n._createHmacHelper(d)}(),t.SHA512})});var D_t=b((hQ,I_t)=>{(function(t,e,r){typeof hQ=="object"?I_t.exports=hQ=e(on(),A3(),Rxe()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(hQ,function(t){return function(){var e=t,r=e.x64,n=r.Word,o=r.WordArray,i=e.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=16,u}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),t.SHA384})});var N_t=b((mQ,j_t)=>{(function(t,e,r){typeof mQ=="object"?j_t.exports=mQ=e(on(),A3()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(mQ,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.x64,s=a.Word,u=r.algo,l=[],c=[],d=[];(function(){for(var m=1,h=0,v=0;v<24;v++){l[m+5*h]=(v+1)*(v+2)/2%64;var g=h%5,_=(2*m+3*h)%5;m=g,h=_}for(var m=0;m<5;m++)for(var h=0;h<5;h++)c[m+5*h]=h+(2*m+3*h)%5*5;for(var S=1,x=0;x<24;x++){for(var O=0,T=0,E=0;E<7;E++){if(S&1){var M=(1<<E)-1;M<32?T^=1<<M:O^=1<<M-32}S&128?S=S<<1^113:S<<=1}d[x]=s.create(O,T)}})();var f=[];(function(){for(var m=0;m<25;m++)f[m]=s.create()})();var p=u.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],h=0;h<25;h++)m[h]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,h){for(var v=this._state,g=this.blockSize/2,_=0;_<g;_++){var S=m[h+2*_],x=m[h+2*_+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360;var O=v[_];O.high^=x,O.low^=S}for(var T=0;T<24;T++){for(var E=0;E<5;E++){for(var M=0,R=0,N=0;N<5;N++){var O=v[E+5*N];M^=O.high,R^=O.low}var j=f[E];j.high=M,j.low=R}for(var E=0;E<5;E++)for(var F=f[(E+4)%5],B=f[(E+1)%5],L=B.high,q=B.low,M=F.high^(L<<1|q>>>31),R=F.low^(q<<1|L>>>31),N=0;N<5;N++){var O=v[E+5*N];O.high^=M,O.low^=R}for(var U=1;U<25;U++){var M,R,O=v[U],J=O.high,H=O.low,I=l[U];I<32?(M=J<<I|H>>>32-I,R=H<<I|J>>>32-I):(M=H<<I-32|J>>>64-I,R=J<<I-32|H>>>64-I);var V=f[c[U]];V.high=M,V.low=R}var W=f[0],K=v[0];W.high=K.high,W.low=K.low;for(var E=0;E<5;E++)for(var N=0;N<5;N++){var U=E+5*N,O=v[U],ne=f[U],Be=f[(E+1)%5+5*N],X=f[(E+2)%5+5*N];O.high=ne.high^~Be.high&X.high,O.low=ne.low^~Be.low&X.low}var O=v[0],Q=d[T];O.high^=Q.high,O.low^=Q.low}},_doFinalize:function(){var m=this._data,h=m.words,v=this._nDataBytes*8,g=m.sigBytes*8,_=this.blockSize*32;h[g>>>5]|=1<<24-g%32,h[(e.ceil((g+1)/_)*_>>>5)-1]|=128,m.sigBytes=h.length*4,this._process();for(var S=this._state,x=this.cfg.outputLength/8,O=x/8,T=[],E=0;E<O;E++){var M=S[E],R=M.high,N=M.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,T.push(N),T.push(R)}return new o.init(T,x)},clone:function(){for(var m=i.clone.call(this),h=m._state=this._state.slice(0),v=0;v<25;v++)h[v]=h[v].clone();return m}});r.SHA3=i._createHelper(p),r.HmacSHA3=i._createHmacHelper(p)}(Math),t.SHA3})});var F_t=b((gQ,L_t)=>{(function(t,e){typeof gQ=="object"?L_t.exports=gQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(gQ,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,i=n.Hasher,a=r.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,O){for(var T=0;T<16;T++){var E=O+T,M=x[E];x[E]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var R=this._hash.words,N=d.words,j=f.words,F=s.words,B=u.words,L=l.words,q=c.words,U,J,H,I,V,W,K,ne,Be,X;W=U=R[0],K=J=R[1],ne=H=R[2],Be=I=R[3],X=V=R[4];for(var Q,T=0;T<80;T+=1)Q=U+x[O+F[T]]|0,T<16?Q+=m(J,H,I)+N[0]:T<32?Q+=h(J,H,I)+N[1]:T<48?Q+=v(J,H,I)+N[2]:T<64?Q+=g(J,H,I)+N[3]:Q+=_(J,H,I)+N[4],Q=Q|0,Q=S(Q,L[T]),Q=Q+V|0,U=V,V=I,I=S(H,10),H=J,J=Q,Q=W+x[O+B[T]]|0,T<16?Q+=_(K,ne,Be)+j[0]:T<32?Q+=g(K,ne,Be)+j[1]:T<48?Q+=v(K,ne,Be)+j[2]:T<64?Q+=h(K,ne,Be)+j[3]:Q+=m(K,ne,Be)+j[4],Q=Q|0,Q=S(Q,q[T]),Q=Q+X|0,W=X,X=Be,Be=S(ne,10),ne=K,K=Q;Q=R[1]+H+Be|0,R[1]=R[2]+I+X|0,R[2]=R[3]+V+W|0,R[3]=R[4]+U+K|0,R[4]=R[0]+J+ne|0,R[0]=Q},_doFinalize:function(){var x=this._data,O=x.words,T=this._nDataBytes*8,E=x.sigBytes*8;O[E>>>5]|=128<<24-E%32,O[(E+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,x.sigBytes=(O.length+1)*4,this._process();for(var M=this._hash,R=M.words,N=0;N<5;N++){var j=R[N];R[N]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return M},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x}});function m(x,O,T){return x^O^T}function h(x,O,T){return x&O|~x&T}function v(x,O,T){return(x|~O)^T}function g(x,O,T){return x&T|O&~T}function _(x,O,T){return x^(O|~T)}function S(x,O){return x<<O|x>>>32-O}r.RIPEMD160=i._createHelper(p),r.HmacRIPEMD160=i._createHmacHelper(p)}(Math),t.RIPEMD160})});var bQ=b((yQ,B_t)=>{(function(t,e){typeof yQ=="object"?B_t.exports=yQ=e(on()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(yQ,function(t){(function(){var e=t,r=e.lib,n=r.Base,o=e.enc,i=o.Utf8,a=e.algo,s=a.HMAC=n.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=i.parse(l));var c=u.blockSize,d=c*4;l.sigBytes>d&&(l=u.finalize(l)),l.clamp();for(var f=this._oKey=l.clone(),p=this._iKey=l.clone(),m=f.words,h=p.words,v=0;v<c;v++)m[v]^=1549556828,h[v]^=909522486;f.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,c=l.finalize(u);l.reset();var d=l.finalize(this._oKey.clone().concat(c));return d}})})()})});var $_t=b((_Q,k_t)=>{(function(t,e,r){typeof _Q=="object"?k_t.exports=_Q=e(on(),dQ(),bQ()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(_Q,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,i=e.algo,a=i.SHA256,s=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,c){for(var d=this.cfg,f=s.create(d.hasher,l),p=o.create(),m=o.create([1]),h=p.words,v=m.words,g=d.keySize,_=d.iterations;h.length<g;){var S=f.update(c).finalize(m);f.reset();for(var x=S.words,O=x.length,T=S,E=1;E<_;E++){T=f.finalize(T),f.reset();for(var M=T.words,R=0;R<O;R++)x[R]^=M[R]}p.concat(S),v[0]++}return p.sigBytes=g*4,p}});e.PBKDF2=function(l,c,d){return u.create(d).compute(l,c)}}(),t.PBKDF2})});var pC=b((vQ,q_t)=>{(function(t,e,r){typeof vQ=="object"?q_t.exports=vQ=e(on(),Axe(),bQ()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(vQ,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,i=e.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,l){for(var c,d=this.cfg,f=d.hasher.create(),p=o.create(),m=p.words,h=d.keySize,v=d.iterations;m.length<h;){c&&f.update(c),c=f.update(u).finalize(l),f.reset();for(var g=1;g<v;g++)c=f.finalize(c),f.reset();p.concat(c)}return p.sigBytes=h*4,p}});e.EvpKDF=function(u,l,c){return s.create(c).compute(u,l)}}(),t.EvpKDF})});var al=b((wQ,U_t)=>{(function(t,e,r){typeof wQ=="object"?U_t.exports=wQ=e(on(),pC()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(wQ,function(t){t.lib.Cipher||function(e){var r=t,n=r.lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=r.enc,u=s.Utf8,l=s.Base64,c=r.algo,d=c.EvpKDF,f=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(j,F){return this.create(this._ENC_XFORM_MODE,j,F)},createDecryptor:function(j,F){return this.create(this._DEC_XFORM_MODE,j,F)},init:function(j,F,B){this.cfg=this.cfg.extend(B),this._xformMode=j,this._key=F,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(j){return this._append(j),this._process()},finalize:function(j){j&&this._append(j);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function j(F){return typeof F=="string"?N:E}return function(F){return{encrypt:function(B,L,q){return j(L).encrypt(F,B,L,q)},decrypt:function(B,L,q){return j(L).decrypt(F,B,L,q)}}}}()}),p=n.StreamCipher=f.extend({_doFinalize:function(){var j=this._process(!0);return j},blockSize:1}),m=r.mode={},h=n.BlockCipherMode=o.extend({createEncryptor:function(j,F){return this.Encryptor.create(j,F)},createDecryptor:function(j,F){return this.Decryptor.create(j,F)},init:function(j,F){this._cipher=j,this._iv=F}}),v=m.CBC=function(){var j=h.extend();j.Encryptor=j.extend({processBlock:function(B,L){var q=this._cipher,U=q.blockSize;F.call(this,B,L,U),q.encryptBlock(B,L),this._prevBlock=B.slice(L,L+U)}}),j.Decryptor=j.extend({processBlock:function(B,L){var q=this._cipher,U=q.blockSize,J=B.slice(L,L+U);q.decryptBlock(B,L),F.call(this,B,L,U),this._prevBlock=J}});function F(B,L,q){var U,J=this._iv;J?(U=J,this._iv=e):U=this._prevBlock;for(var H=0;H<q;H++)B[L+H]^=U[H]}return j}(),g=r.pad={},_=g.Pkcs7={pad:function(j,F){for(var B=F*4,L=B-j.sigBytes%B,q=L<<24|L<<16|L<<8|L,U=[],J=0;J<L;J+=4)U.push(q);var H=i.create(U,L);j.concat(H)},unpad:function(j){var F=j.words[j.sigBytes-1>>>2]&255;j.sigBytes-=F}},S=n.BlockCipher=f.extend({cfg:f.cfg.extend({mode:v,padding:_}),reset:function(){var j;f.reset.call(this);var F=this.cfg,B=F.iv,L=F.mode;this._xformMode==this._ENC_XFORM_MODE?j=L.createEncryptor:(j=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==j?this._mode.init(this,B&&B.words):(this._mode=j.call(L,this,B&&B.words),this._mode.__creator=j)},_doProcessBlock:function(j,F){this._mode.processBlock(j,F)},_doFinalize:function(){var j,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),j=this._process(!0)):(j=this._process(!0),F.unpad(j)),j},blockSize:128/32}),x=n.CipherParams=o.extend({init:function(j){this.mixIn(j)},toString:function(j){return(j||this.formatter).stringify(this)}}),O=r.format={},T=O.OpenSSL={stringify:function(j){var F,B=j.ciphertext,L=j.salt;return L?F=i.create([1398893684,1701076831]).concat(L).concat(B):F=B,F.toString(l)},parse:function(j){var F,B=l.parse(j),L=B.words;return L[0]==1398893684&&L[1]==1701076831&&(F=i.create(L.slice(2,4)),L.splice(0,4),B.sigBytes-=16),x.create({ciphertext:B,salt:F})}},E=n.SerializableCipher=o.extend({cfg:o.extend({format:T}),encrypt:function(j,F,B,L){L=this.cfg.extend(L);var q=j.createEncryptor(B,L),U=q.finalize(F),J=q.cfg;return x.create({ciphertext:U,key:B,iv:J.iv,algorithm:j,mode:J.mode,padding:J.padding,blockSize:j.blockSize,formatter:L.format})},decrypt:function(j,F,B,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var q=j.createDecryptor(B,L).finalize(F.ciphertext);return q},_parse:function(j,F){return typeof j=="string"?F.parse(j,this):j}}),M=r.kdf={},R=M.OpenSSL={execute:function(j,F,B,L,q){if(L||(L=i.random(64/8)),q)var U=d.create({keySize:F+B,hasher:q}).compute(j,L);else var U=d.create({keySize:F+B}).compute(j,L);var J=i.create(U.words.slice(F),B*4);return U.sigBytes=F*4,x.create({key:U,iv:J,salt:L})}},N=n.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:R}),encrypt:function(j,F,B,L){L=this.cfg.extend(L);var q=L.kdf.execute(B,j.keySize,j.ivSize,L.salt,L.hasher);L.iv=q.iv;var U=E.encrypt.call(this,j,F,q.key,L);return U.mixIn(q),U},decrypt:function(j,F,B,L){L=this.cfg.extend(L),F=this._parse(F,L.format);var q=L.kdf.execute(B,j.keySize,j.ivSize,F.salt,L.hasher);L.iv=q.iv;var U=E.decrypt.call(this,j,F,q.key,L);return U}})}()})});var H_t=b((SQ,z_t)=>{(function(t,e,r){typeof SQ=="object"?z_t.exports=SQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(SQ,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize;r.call(this,n,o,a,i),this._prevBlock=n.slice(o,o+a)}}),e.Decryptor=e.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize,s=n.slice(o,o+a);r.call(this,n,o,a,i),this._prevBlock=s}});function r(n,o,i,a){var s,u=this._iv;u?(s=u.slice(0),this._iv=void 0):s=this._prevBlock,a.encryptBlock(s,0);for(var l=0;l<i;l++)n[o+l]^=s[l]}return e}(),t.mode.CFB})});var W_t=b((xQ,V_t)=>{(function(t,e,r){typeof xQ=="object"?V_t.exports=xQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(xQ,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize,s=this._iv,u=this._counter;s&&(u=this._counter=s.slice(0),this._iv=void 0);var l=u.slice(0);i.encryptBlock(l,0),u[a-1]=u[a-1]+1|0;for(var c=0;c<a;c++)n[o+c]^=l[c]}});return e.Decryptor=r,e}(),t.mode.CTR})});var G_t=b((CQ,J_t)=>{(function(t,e,r){typeof CQ=="object"?J_t.exports=CQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(CQ,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(i){if((i>>24&255)===255){var a=i>>16&255,s=i>>8&255,u=i&255;a===255?(a=0,s===255?(s=0,u===255?u=0:++u):++s):++a,i=0,i+=a<<16,i+=s<<8,i+=u}else i+=1<<24;return i}function n(i){return(i[0]=r(i[0]))===0&&(i[1]=r(i[1])),i}var o=e.Encryptor=e.extend({processBlock:function(i,a){var s=this._cipher,u=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0),n(c);var d=c.slice(0);s.encryptBlock(d,0);for(var f=0;f<u;f++)i[a+f]^=d[f]}});return e.Decryptor=o,e}(),t.mode.CTRGladman})});var Y_t=b((OQ,K_t)=>{(function(t,e,r){typeof OQ=="object"?K_t.exports=OQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(OQ,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:function(n,o){var i=this._cipher,a=i.blockSize,s=this._iv,u=this._keystream;s&&(u=this._keystream=s.slice(0),this._iv=void 0),i.encryptBlock(u,0);for(var l=0;l<a;l++)n[o+l]^=u[l]}});return e.Decryptor=r,e}(),t.mode.OFB})});var Z_t=b((EQ,X_t)=>{(function(t,e,r){typeof EQ=="object"?X_t.exports=EQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(EQ,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),e.Decryptor=e.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),e}(),t.mode.ECB})});var evt=b((PQ,Q_t)=>{(function(t,e,r){typeof PQ=="object"?Q_t.exports=PQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(PQ,function(t){return t.pad.AnsiX923={pad:function(e,r){var n=e.sigBytes,o=r*4,i=o-n%o,a=n+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r}},t.pad.Ansix923})});var rvt=b((TQ,tvt)=>{(function(t,e,r){typeof TQ=="object"?tvt.exports=TQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(TQ,function(t){return t.pad.Iso10126={pad:function(e,r){var n=r*4,o=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r}},t.pad.Iso10126})});var ovt=b((MQ,nvt)=>{(function(t,e,r){typeof MQ=="object"?nvt.exports=MQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(MQ,function(t){return t.pad.Iso97971={pad:function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971})});var avt=b((AQ,ivt)=>{(function(t,e,r){typeof AQ=="object"?ivt.exports=AQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(AQ,function(t){return t.pad.ZeroPadding={pad:function(e,r){var n=r*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var r=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},t.pad.ZeroPadding})});var uvt=b((RQ,svt)=>{(function(t,e,r){typeof RQ=="object"?svt.exports=RQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(RQ,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})});var cvt=b((IQ,lvt)=>{(function(t,e,r){typeof IQ=="object"?lvt.exports=IQ=e(on(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(IQ,function(t){return function(e){var r=t,n=r.lib,o=n.CipherParams,i=r.enc,a=i.Hex,s=r.format,u=s.Hex={stringify:function(l){return l.ciphertext.toString(a)},parse:function(l){var c=a.parse(l);return o.create({ciphertext:c})}}}(),t.format.Hex})});var fvt=b((DQ,dvt)=>{(function(t,e,r){typeof DQ=="object"?dvt.exports=DQ=e(on(),aT(),sT(),pC(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(DQ,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo,i=[],a=[],s=[],u=[],l=[],c=[],d=[],f=[],p=[],m=[];(function(){for(var g=[],_=0;_<256;_++)_<128?g[_]=_<<1:g[_]=_<<1^283;for(var S=0,x=0,_=0;_<256;_++){var O=x^x<<1^x<<2^x<<3^x<<4;O=O>>>8^O&255^99,i[S]=O,a[O]=S;var T=g[S],E=g[T],M=g[E],R=g[O]*257^O*16843008;s[S]=R<<24|R>>>8,u[S]=R<<16|R>>>16,l[S]=R<<8|R>>>24,c[S]=R;var R=M*16843009^E*65537^T*257^S*16843008;d[O]=R<<24|R>>>8,f[O]=R<<16|R>>>16,p[O]=R<<8|R>>>24,m[O]=R,S?(S=T^g[g[g[M^T]]],x^=g[g[x]]):S=x=1}})();var h=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=n.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,S=_.words,x=_.sigBytes/4,O=this._nRounds=x+6,T=(O+1)*4,E=this._keySchedule=[],M=0;M<T;M++)M<x?E[M]=S[M]:(g=E[M-1],M%x?x>6&&M%x==4&&(g=i[g>>>24]<<24|i[g>>>16&255]<<16|i[g>>>8&255]<<8|i[g&255]):(g=g<<8|g>>>24,g=i[g>>>24]<<24|i[g>>>16&255]<<16|i[g>>>8&255]<<8|i[g&255],g^=h[M/x|0]<<24),E[M]=E[M-x]^g);for(var R=this._invKeySchedule=[],N=0;N<T;N++){var M=T-N;if(N%4)var g=E[M];else var g=E[M-4];N<4||M<=4?R[N]=g:R[N]=d[i[g>>>24]]^f[i[g>>>16&255]]^p[i[g>>>8&255]]^m[i[g&255]]}}},encryptBlock:function(g,_){this._doCryptBlock(g,_,this._keySchedule,s,u,l,c,i)},decryptBlock:function(g,_){var S=g[_+1];g[_+1]=g[_+3],g[_+3]=S,this._doCryptBlock(g,_,this._invKeySchedule,d,f,p,m,a);var S=g[_+1];g[_+1]=g[_+3],g[_+3]=S},_doCryptBlock:function(g,_,S,x,O,T,E,M){for(var R=this._nRounds,N=g[_]^S[0],j=g[_+1]^S[1],F=g[_+2]^S[2],B=g[_+3]^S[3],L=4,q=1;q<R;q++){var U=x[N>>>24]^O[j>>>16&255]^T[F>>>8&255]^E[B&255]^S[L++],J=x[j>>>24]^O[F>>>16&255]^T[B>>>8&255]^E[N&255]^S[L++],H=x[F>>>24]^O[B>>>16&255]^T[N>>>8&255]^E[j&255]^S[L++],I=x[B>>>24]^O[N>>>16&255]^T[j>>>8&255]^E[F&255]^S[L++];N=U,j=J,F=H,B=I}var U=(M[N>>>24]<<24|M[j>>>16&255]<<16|M[F>>>8&255]<<8|M[B&255])^S[L++],J=(M[j>>>24]<<24|M[F>>>16&255]<<16|M[B>>>8&255]<<8|M[N&255])^S[L++],H=(M[F>>>24]<<24|M[B>>>16&255]<<16|M[N>>>8&255]<<8|M[j&255])^S[L++],I=(M[B>>>24]<<24|M[N>>>16&255]<<16|M[j>>>8&255]<<8|M[F&255])^S[L++];g[_]=U,g[_+1]=J,g[_+2]=H,g[_+3]=I},keySize:256/32});e.AES=n._createHelper(v)}(),t.AES})});var hvt=b((jQ,pvt)=>{(function(t,e,r){typeof jQ=="object"?pvt.exports=jQ=e(on(),aT(),sT(),pC(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(jQ,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=o.extend({_doReset:function(){for(var h=this._key,v=h.words,g=[],_=0;_<56;_++){var S=a[_]-1;g[_]=v[S>>>5]>>>31-S%32&1}for(var x=this._subKeys=[],O=0;O<16;O++){for(var T=x[O]=[],E=u[O],_=0;_<24;_++)T[_/6|0]|=g[(s[_]-1+E)%28]<<31-_%6,T[4+(_/6|0)]|=g[28+(s[_+24]-1+E)%28]<<31-_%6;T[0]=T[0]<<1|T[0]>>>31;for(var _=1;_<7;_++)T[_]=T[_]>>>(_-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var M=this._invSubKeys=[],_=0;_<16;_++)M[_]=x[15-_]},encryptBlock:function(h,v){this._doCryptBlock(h,v,this._subKeys)},decryptBlock:function(h,v){this._doCryptBlock(h,v,this._invSubKeys)},_doCryptBlock:function(h,v,g){this._lBlock=h[v],this._rBlock=h[v+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var _=0;_<16;_++){for(var S=g[_],x=this._lBlock,O=this._rBlock,T=0,E=0;E<8;E++)T|=l[E][((O^S[E])&c[E])>>>0];this._lBlock=O,this._rBlock=x^T}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),h[v]=this._lBlock,h[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(h,v){var g=(this._lBlock>>>h^this._rBlock)&v;this._rBlock^=g,this._lBlock^=g<<h}function p(h,v){var g=(this._rBlock>>>h^this._lBlock)&v;this._lBlock^=g,this._rBlock^=g<<h}e.DES=o._createHelper(d);var m=i.TripleDES=o.extend({_doReset:function(){var h=this._key,v=h.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=v.slice(0,2),_=v.length<4?v.slice(0,2):v.slice(2,4),S=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=d.createEncryptor(n.create(g)),this._des2=d.createEncryptor(n.create(_)),this._des3=d.createEncryptor(n.create(S))},encryptBlock:function(h,v){this._des1.encryptBlock(h,v),this._des2.decryptBlock(h,v),this._des3.encryptBlock(h,v)},decryptBlock:function(h,v){this._des3.decryptBlock(h,v),this._des2.encryptBlock(h,v),this._des1.decryptBlock(h,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=o._createHelper(m)}(),t.TripleDES})});var gvt=b((NQ,mvt)=>{(function(t,e,r){typeof NQ=="object"?mvt.exports=NQ=e(on(),aT(),sT(),pC(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(NQ,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,i=o.RC4=n.extend({_doReset:function(){for(var u=this._key,l=u.words,c=u.sigBytes,d=this._S=[],f=0;f<256;f++)d[f]=f;for(var f=0,p=0;f<256;f++){var m=f%c,h=l[m>>>2]>>>24-m%4*8&255;p=(p+d[f]+h)%256;var v=d[f];d[f]=d[p],d[p]=v}this._i=this._j=0},_doProcessBlock:function(u,l){u[l]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var u=this._S,l=this._i,c=this._j,d=0,f=0;f<4;f++){l=(l+1)%256,c=(c+u[l])%256;var p=u[l];u[l]=u[c],u[c]=p,d|=u[(u[l]+u[c])%256]<<24-f*8}return this._i=l,this._j=c,d}e.RC4=n._createHelper(i);var s=o.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)a.call(this)}});e.RC4Drop=n._createHelper(s)}(),t.RC4})});var bvt=b((LQ,yvt)=>{(function(t,e,r){typeof LQ=="object"?yvt.exports=LQ=e(on(),aT(),sT(),pC(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(LQ,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,i=[],a=[],s=[],u=o.Rabbit=n.extend({_doReset:function(){for(var c=this._key.words,d=this.cfg.iv,f=0;f<4;f++)c[f]=(c[f]<<8|c[f]>>>24)&16711935|(c[f]<<24|c[f]>>>8)&4278255360;var p=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],m=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var f=0;f<4;f++)l.call(this);for(var f=0;f<8;f++)m[f]^=p[f+4&7];if(d){var h=d.words,v=h[0],g=h[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,S=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x=_>>>16|S&4294901760,O=S<<16|_&65535;m[0]^=_,m[1]^=x,m[2]^=S,m[3]^=O,m[4]^=_,m[5]^=x,m[6]^=S,m[7]^=O;for(var f=0;f<4;f++)l.call(this)}},_doProcessBlock:function(c,d){var f=this._X;l.call(this),i[0]=f[0]^f[5]>>>16^f[3]<<16,i[1]=f[2]^f[7]>>>16^f[5]<<16,i[2]=f[4]^f[1]>>>16^f[7]<<16,i[3]=f[6]^f[3]>>>16^f[1]<<16;for(var p=0;p<4;p++)i[p]=(i[p]<<8|i[p]>>>24)&16711935|(i[p]<<24|i[p]>>>8)&4278255360,c[d+p]^=i[p]},blockSize:128/32,ivSize:64/32});function l(){for(var c=this._X,d=this._C,f=0;f<8;f++)a[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var f=0;f<8;f++){var p=c[f]+d[f],m=p&65535,h=p>>>16,v=((m*m>>>17)+m*h>>>15)+h*h,g=((p&4294901760)*p|0)+((p&65535)*p|0);s[f]=v^g}c[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,c[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,c[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,c[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,c[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,c[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,c[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,c[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=n._createHelper(u)}(),t.Rabbit})});var vvt=b((FQ,_vt)=>{(function(t,e,r){typeof FQ=="object"?_vt.exports=FQ=e(on(),aT(),sT(),pC(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(FQ,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,i=[],a=[],s=[],u=o.RabbitLegacy=n.extend({_doReset:function(){var c=this._key.words,d=this.cfg.iv,f=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],p=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var m=0;m<4;m++)l.call(this);for(var m=0;m<8;m++)p[m]^=f[m+4&7];if(d){var h=d.words,v=h[0],g=h[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,S=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x=_>>>16|S&4294901760,O=S<<16|_&65535;p[0]^=_,p[1]^=x,p[2]^=S,p[3]^=O,p[4]^=_,p[5]^=x,p[6]^=S,p[7]^=O;for(var m=0;m<4;m++)l.call(this)}},_doProcessBlock:function(c,d){var f=this._X;l.call(this),i[0]=f[0]^f[5]>>>16^f[3]<<16,i[1]=f[2]^f[7]>>>16^f[5]<<16,i[2]=f[4]^f[1]>>>16^f[7]<<16,i[3]=f[6]^f[3]>>>16^f[1]<<16;for(var p=0;p<4;p++)i[p]=(i[p]<<8|i[p]>>>24)&16711935|(i[p]<<24|i[p]>>>8)&4278255360,c[d+p]^=i[p]},blockSize:128/32,ivSize:64/32});function l(){for(var c=this._X,d=this._C,f=0;f<8;f++)a[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var f=0;f<8;f++){var p=c[f]+d[f],m=p&65535,h=p>>>16,v=((m*m>>>17)+m*h>>>15)+h*h,g=((p&4294901760)*p|0)+((p&65535)*p|0);s[f]=v^g}c[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,c[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,c[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,c[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,c[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,c[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,c[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,c[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=n._createHelper(u)}(),t.RabbitLegacy})});var Svt=b((BQ,wvt)=>{(function(t,e,r){typeof BQ=="object"?wvt.exports=BQ=e(on(),aT(),sT(),pC(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(BQ,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo;let i=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function l(m,h){let v=h>>24&255,g=h>>16&255,_=h>>8&255,S=h&255,x=m.sbox[0][v]+m.sbox[1][g];return x=x^m.sbox[2][_],x=x+m.sbox[3][S],x}function c(m,h,v){let g=h,_=v,S;for(let x=0;x<i;++x)g=g^m.pbox[x],_=l(m,g)^_,S=g,g=_,_=S;return S=g,g=_,_=S,_=_^m.pbox[i],g=g^m.pbox[i+1],{left:g,right:_}}function d(m,h,v){let g=h,_=v,S;for(let x=i+1;x>1;--x)g=g^m.pbox[x],_=l(m,g)^_,S=g,g=_,_=S;return S=g,g=_,_=S,_=_^m.pbox[1],g=g^m.pbox[0],{left:g,right:_}}function f(m,h,v){for(let O=0;O<4;O++){m.sbox[O]=[];for(let T=0;T<256;T++)m.sbox[O][T]=s[O][T]}let g=0;for(let O=0;O<i+2;O++)m.pbox[O]=a[O]^h[g],g++,g>=v&&(g=0);let _=0,S=0,x=0;for(let O=0;O<i+2;O+=2)x=c(m,_,S),_=x.left,S=x.right,m.pbox[O]=_,m.pbox[O+1]=S;for(let O=0;O<4;O++)for(let T=0;T<256;T+=2)x=c(m,_,S),_=x.left,S=x.right,m.sbox[O][T]=_,m.sbox[O][T+1]=S;return!0}var p=o.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,h=m.words,v=m.sigBytes/4;f(u,h,v)}},encryptBlock:function(m,h){var v=c(u,m[h],m[h+1]);m[h]=v.left,m[h+1]=v.right},decryptBlock:function(m,h){var v=d(u,m[h],m[h+1]);m[h]=v.left,m[h+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=n._createHelper(p)}(),t.Blowfish})});var $Q=b((kQ,xvt)=>{(function(t,e,r){typeof kQ=="object"?xvt.exports=kQ=e(on(),A3(),v_t(),S_t(),aT(),O_t(),sT(),Axe(),dQ(),A_t(),Rxe(),D_t(),N_t(),F_t(),bQ(),$_t(),pC(),al(),H_t(),W_t(),G_t(),Y_t(),Z_t(),evt(),rvt(),ovt(),avt(),uvt(),cvt(),fvt(),hvt(),gvt(),bvt(),vvt(),Svt()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(kQ,function(t){return t})});var hC,Mvt=C(()=>{hC=class{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}}});var Hn=b(OCe=>{"use strict";Object.defineProperty(OCe,"__esModule",{value:!0});OCe.pathToFunc=E$r;var O$r=Object.prototype.hasOwnProperty;function E$r(t,e){let r=/\{([a-zA-Z0-9_]+?)\}/g;return function(o={}){return t.replace(r,function(i,a){if(!O$r.call(o,a))throw new Error(`Parameter '${a}' is required`);let s=o[a];if(typeof s!="string"&&typeof s!="number")throw new Error(`Parameter '${a}' must be a string or number`);return e?.charEncoding==="percent"?encodeURIComponent(`${s}`):`${s}`})}}});var Oee=b(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.SDK_METADATA=Kh.ServerList=Kh.ServerEu=void 0;Kh.serverURLFromOptions=T$r;var P$r=Hn();Kh.ServerEu="eu";Kh.ServerList={[Kh.ServerEu]:"https://api.mistral.ai"};function T$r(t){let e=t.serverURL,r={};if(!e){let o=t.server??Kh.ServerEu;e=Kh.ServerList[o]||""}let n=(0,P$r.pathToFunc)(e)(r);return new URL(n)}Kh.SDK_METADATA={language:"typescript",openapiDocVersion:"0.0.2",sdkVersion:"1.5.0",genVersion:"2.497.0",userAgent:"speakeasy-sdk/typescript 1.5.0 2.497.0 0.0.2 @mistralai/mistralai"}});var PCe=b(ECe=>{"use strict";Object.defineProperty(ECe,"__esModule",{value:!0});ECe.readableStreamToArrayBuffer=M$r;async function M$r(t){let e=t.getReader(),r=[],n=0,o=!1;for(;!o;){let{value:s,done:u}=await e.read();u?o=!0:(r.push(s),n+=s.length)}let i=new Uint8Array(n),a=0;for(let s of r)i.set(s,a),a+=s.length;return i.buffer}});var T0t=b(Eee=>{"use strict";Object.defineProperty(Eee,"__esModule",{value:!0});Eee.CustomUserAgentHook=void 0;var A$r=Oee(),TCe=class{beforeRequest(e,r){let o=`mistral-client-typescript/${A$r.SDK_METADATA.sdkVersion}`;return r.headers.set("user-agent",o),r.headers.get("user-agent")||r.headers.set("x-mistral-user-agent",o),r}};Eee.CustomUserAgentHook=TCe});var A0t=b(Pee=>{"use strict";Object.defineProperty(Pee,"__esModule",{value:!0});Pee.DeprecationWarningHook=void 0;var M0t="x-model-deprecation-timestamp",MCe=class{afterSuccess(e,r){return r.headers.has(M0t)&&r.clone().json().then(n=>{let o=n.model;console.warn(`WARNING: The model ${o} is deprecated and will be removed on ${r.headers.get(M0t)}. Please refer to https://docs.mistral.ai/getting-started/models/#api-versioning for more information.`)}),r}};Pee.DeprecationWarningHook=MCe});var R0t=b(ACe=>{"use strict";Object.defineProperty(ACe,"__esModule",{value:!0});ACe.initHooks=D$r;var R$r=T0t(),I$r=A0t();function D$r(t){let e=new R$r.CustomUserAgentHook;t.registerBeforeRequestHook(e);let r=new I$r.DeprecationWarningHook;t.registerAfterSuccessHook(r)}});var I0t=b(Tee=>{"use strict";Object.defineProperty(Tee,"__esModule",{value:!0});Tee.SDKHooks=void 0;var j$r=R0t(),RCe=class{constructor(){this.sdkInitHooks=[],this.beforeCreateRequestHooks=[],this.beforeRequestHooks=[],this.afterSuccessHooks=[],this.afterErrorHooks=[];let e=[];for(let r of e)"sdkInit"in r&&this.registerSDKInitHook(r),"beforeCreateRequest"in r&&this.registerBeforeCreateRequestHook(r),"beforeRequest"in r&&this.registerBeforeRequestHook(r),"afterSuccess"in r&&this.registerAfterSuccessHook(r),"afterError"in r&&this.registerAfterErrorHook(r);(0,j$r.initHooks)(this)}registerSDKInitHook(e){this.sdkInitHooks.push(e)}registerBeforeCreateRequestHook(e){this.beforeCreateRequestHooks.push(e)}registerBeforeRequestHook(e){this.beforeRequestHooks.push(e)}registerAfterSuccessHook(e){this.afterSuccessHooks.push(e)}registerAfterErrorHook(e){this.afterErrorHooks.push(e)}sdkInit(e){return this.sdkInitHooks.reduce((r,n)=>n.sdkInit(r),e)}beforeCreateRequest(e,r){let n=r;for(let o of this.beforeCreateRequestHooks)n=o.beforeCreateRequest(e,n);return n}async beforeRequest(e,r){let n=r;for(let o of this.beforeRequestHooks)n=await o.beforeRequest(e,n);return n}async afterSuccess(e,r){let n=r;for(let o of this.afterSuccessHooks)n=await o.afterSuccess(e,n);return n}async afterError(e,r,n){let o=r,i=n;for(let a of this.afterErrorHooks){let s=await a.afterError(e,o,i);o=s.response,i=s.error}return{response:o,error:i}}};Tee.SDKHooks=RCe});var FCe=b(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.ConnectionError=kf.RequestTimeoutError=kf.RequestAbortedError=kf.InvalidRequestError=kf.UnexpectedClientError=kf.HTTPClientError=void 0;var _T=class extends Error{constructor(e,r){let n=e;r?.cause&&(n+=`: ${r.cause}`),super(n,r),this.name="HTTPClientError",typeof this.cause>"u"&&(this.cause=r?.cause)}};kf.HTTPClientError=_T;var ICe=class extends _T{constructor(){super(...arguments),this.name="UnexpectedClientError"}};kf.UnexpectedClientError=ICe;var DCe=class extends _T{constructor(){super(...arguments),this.name="InvalidRequestError"}};kf.InvalidRequestError=DCe;var jCe=class extends _T{constructor(){super(...arguments),this.name="RequestAbortedError"}};kf.RequestAbortedError=jCe;var NCe=class extends _T{constructor(){super(...arguments),this.name="RequestTimeoutError"}};kf.RequestTimeoutError=NCe;var LCe=class extends _T{constructor(){super(...arguments),this.name="ConnectionError"}};kf.ConnectionError=LCe});var Yh=b(fk=>{"use strict";Object.defineProperty(fk,"__esModule",{value:!0});fk.OK=N$r;fk.ERR=L$r;fk.unwrap=F$r;fk.unwrapAsync=B$r;function N$r(t){return{ok:!0,value:t}}function L$r(t){return{ok:!1,error:t}}function F$r(t){if(!t.ok)throw t.error;return t.value}async function B$r(t){let e=await t;if(!e.ok)throw e.error;return e.value}});var W3=b(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.getParsedType=li.ZodParsedType=li.objectUtil=li.util=void 0;var BCe;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{let i={};for(let a of o)i[a]=a;return i},t.getValidEnumValues=o=>{let i=t.objectKeys(o).filter(s=>typeof o[o[s]]!="number"),a={};for(let s of i)a[s]=o[s];return t.objectValues(a)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},t.find=(o,i)=>{for(let a of o)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(BCe||(li.util=BCe={}));var D0t;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(D0t||(li.objectUtil=D0t={}));li.ZodParsedType=BCe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var k$r=t=>{switch(typeof t){case"undefined":return li.ZodParsedType.undefined;case"string":return li.ZodParsedType.string;case"number":return isNaN(t)?li.ZodParsedType.nan:li.ZodParsedType.number;case"boolean":return li.ZodParsedType.boolean;case"function":return li.ZodParsedType.function;case"bigint":return li.ZodParsedType.bigint;case"symbol":return li.ZodParsedType.symbol;case"object":return Array.isArray(t)?li.ZodParsedType.array:t===null?li.ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?li.ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?li.ZodParsedType.map:typeof Set<"u"&&t instanceof Set?li.ZodParsedType.set:typeof Date<"u"&&t instanceof Date?li.ZodParsedType.date:li.ZodParsedType.object;default:return li.ZodParsedType.unknown}};li.getParsedType=k$r});var Mee=b(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0});vT.ZodError=vT.quotelessJson=vT.ZodIssueCode=void 0;var j0t=W3();vT.ZodIssueCode=j0t.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var $$r=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");vT.quotelessJson=$$r;var M1=class extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},n={_errors:[]},o=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let s=n,u=0;for(;u<a.path.length;){let l=a.path[u];u===a.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(r(a))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}};return o(this),n}static assert(e){if(!(e instanceof M1))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j0t.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};vT.ZodError=M1;M1.create=t=>new M1(t)});var $Ce=b(kCe=>{"use strict";Object.defineProperty(kCe,"__esModule",{value:!0});var A1=W3(),sd=Mee(),q$r=(t,e)=>{let r;switch(t.code){case sd.ZodIssueCode.invalid_type:t.received===A1.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case sd.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,A1.util.jsonStringifyReplacer)}`;break;case sd.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${A1.util.joinValues(t.keys,", ")}`;break;case sd.ZodIssueCode.invalid_union:r="Invalid input";break;case sd.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${A1.util.joinValues(t.options)}`;break;case sd.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${A1.util.joinValues(t.options)}, received '${t.received}'`;break;case sd.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case sd.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case sd.ZodIssueCode.invalid_date:r="Invalid date";break;case sd.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:A1.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case sd.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case sd.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case sd.ZodIssueCode.custom:r="Invalid input";break;case sd.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case sd.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case sd.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,A1.util.assertNever(t)}return{message:r}};kCe.default=q$r});var Aee=b(oS=>{"use strict";var U$r=oS&&oS.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oS,"__esModule",{value:!0});oS.getErrorMap=oS.setErrorMap=oS.defaultErrorMap=void 0;var N0t=U$r($Ce());oS.defaultErrorMap=N0t.default;var L0t=N0t.default;function z$r(t){L0t=t}oS.setErrorMap=z$r;function H$r(){return L0t}oS.getErrorMap=H$r});var qCe=b(Ao=>{"use strict";var V$r=Ao&&Ao.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.isAsync=Ao.isValid=Ao.isDirty=Ao.isAborted=Ao.OK=Ao.DIRTY=Ao.INVALID=Ao.ParseStatus=Ao.addIssueToContext=Ao.EMPTY_PATH=Ao.makeIssue=void 0;var W$r=Aee(),F0t=V$r($Ce()),J$r=t=>{let{data:e,path:r,errorMaps:n,issueData:o}=t,i=[...r,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let s="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)s=l(a,{data:e,defaultError:s}).message;return{...o,path:i,message:s}};Ao.makeIssue=J$r;Ao.EMPTY_PATH=[];function G$r(t,e){let r=(0,W$r.getErrorMap)(),n=(0,Ao.makeIssue)({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===F0t.default?void 0:F0t.default].filter(o=>!!o)});t.common.issues.push(n)}Ao.addIssueToContext=G$r;var J3=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let o of r){if(o.status==="aborted")return Ao.INVALID;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let o of r){let i=await o.key,a=await o.value;n.push({key:i,value:a})}return J3.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let o of r){let{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return Ao.INVALID;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}};Ao.ParseStatus=J3;Ao.INVALID=Object.freeze({status:"aborted"});var K$r=t=>({status:"dirty",value:t});Ao.DIRTY=K$r;var Y$r=t=>({status:"valid",value:t});Ao.OK=Y$r;var X$r=t=>t.status==="aborted";Ao.isAborted=X$r;var Z$r=t=>t.status==="dirty";Ao.isDirty=Z$r;var Q$r=t=>t.status==="valid";Ao.isValid=Q$r;var eqr=t=>typeof Promise<"u"&&t instanceof Promise;Ao.isAsync=eqr});var k0t=b(B0t=>{"use strict";Object.defineProperty(B0t,"__esModule",{value:!0})});var q0t=b(Ree=>{"use strict";Object.defineProperty(Ree,"__esModule",{value:!0});Ree.errorUtil=void 0;var $0t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})($0t||(Ree.errorUtil=$0t={}))});var Q0t=b(G=>{"use strict";var Dee=G&&G.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},z0t=G&&G.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},G3,K3;Object.defineProperty(G,"__esModule",{value:!0});G.boolean=G.bigint=G.array=G.any=G.coerce=G.ZodFirstPartyTypeKind=G.late=G.ZodSchema=G.Schema=G.custom=G.ZodReadonly=G.ZodPipeline=G.ZodBranded=G.BRAND=G.ZodNaN=G.ZodCatch=G.ZodDefault=G.ZodNullable=G.ZodOptional=G.ZodTransformer=G.ZodEffects=G.ZodPromise=G.ZodNativeEnum=G.ZodEnum=G.ZodLiteral=G.ZodLazy=G.ZodFunction=G.ZodSet=G.ZodMap=G.ZodRecord=G.ZodTuple=G.ZodIntersection=G.ZodDiscriminatedUnion=G.ZodUnion=G.ZodObject=G.ZodArray=G.ZodVoid=G.ZodNever=G.ZodUnknown=G.ZodAny=G.ZodNull=G.ZodUndefined=G.ZodSymbol=G.ZodDate=G.ZodBoolean=G.ZodBigInt=G.ZodNumber=G.ZodString=G.datetimeRegex=G.ZodType=void 0;G.NEVER=G.void=G.unknown=G.union=G.undefined=G.tuple=G.transformer=G.symbol=G.string=G.strictObject=G.set=G.record=G.promise=G.preprocess=G.pipeline=G.ostring=G.optional=G.onumber=G.oboolean=G.object=G.number=G.nullable=G.null=G.never=G.nativeEnum=G.nan=G.map=G.literal=G.lazy=G.intersection=G.instanceof=G.function=G.enum=G.effect=G.discriminatedUnion=G.date=void 0;var Iee=Aee(),wt=q0t(),Y=qCe(),ke=W3(),Ie=Mee(),Zh=class{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},U0t=(t,e)=>{if((0,Y.isValid)(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ie.ZodError(t.common.issues);return this._error=r,this._error}}};function vr(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(a,s)=>{var u,l;let{message:c}=t;return a.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(u=c??n)!==null&&u!==void 0?u:s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:o}}var wr=class{get description(){return this._def.description}_getType(e){return(0,ke.getParsedType)(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:(0,ke.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Y.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,ke.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if((0,Y.isAsync)(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ke.getParsedType)(e)},i=this._parseSync({data:e,path:o.path,parent:o});return U0t(o,i)}"~validate"(e){var r,n;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ke.getParsedType)(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:o});return(0,Y.isValid)(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((n=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(i=>(0,Y.isValid)(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ke.getParsedType)(e)},o=this._parse({data:e,path:n.path,parent:n}),i=await((0,Y.isAsync)(o)?o:Promise.resolve(o));return U0t(n,i)}refine(e,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,i)=>{let a=e(o),s=()=>i.addIssue({code:Ie.ZodIssueCode.custom,...n(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new Np({schema:this,typeName:zt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xh.create(this,this._def)}nullable(){return uS.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jp.create(this)}promise(){return xT.create(this,this._def)}or(e){return j1.create([this,e],this._def)}and(e){return N1.create(this,e,this._def)}transform(e){return new Np({...vr(this._def),schema:this,typeName:zt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new $1({...vr(this._def),innerType:this,defaultValue:r,typeName:zt.ZodDefault})}brand(){return new Y3({typeName:zt.ZodBranded,type:this,...vr(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new q1({...vr(this._def),innerType:this,catchValue:r,typeName:zt.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return U1.create(this,e)}readonly(){return z1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};G.ZodType=wr;G.Schema=wr;G.ZodSchema=wr;var tqr=/^c[^\s-]{8,}$/i,rqr=/^[0-9a-z]+$/,nqr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oqr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iqr=/^[a-z0-9_-]{21}$/i,aqr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sqr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uqr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lqr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",UCe,cqr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dqr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fqr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pqr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hqr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mqr=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H0t="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gqr=new RegExp(`^${H0t}$`);function V0t(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function yqr(t){return new RegExp(`^${V0t(t)}$`)}function W0t(t){let e=`${H0t}T${V0t(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}G.datetimeRegex=W0t;function bqr(t,e){return!!((e==="v4"||!e)&&cqr.test(t)||(e==="v6"||!e)&&fqr.test(t))}function _qr(t,e){if(!aqr.test(t))return!1;try{let[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function vqr(t,e){return!!((e==="v4"||!e)&&dqr.test(t)||(e==="v6"||!e)&&pqr.test(t))}var Dp=class extends wr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.ZodParsedType.string){let i=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(i,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.string,received:i.parsedType}),Y.INVALID}let n=new Y.ParseStatus,o;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=e.data.length>i.value,s=e.data.length<i.value;(a||s)&&(o=this._getOrReturnCtx(e,o),a?(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")uqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"email",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")UCe||(UCe=new RegExp(lqr,"u")),UCe.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"emoji",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")oqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"uuid",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")iqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"nanoid",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")tqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"cuid",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")rqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"cuid2",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")nqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"ulid",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"url",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"regex",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?W0t(i).test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?gqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?yqr(i).test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?sqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"duration",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?bqr(e.data,i.version)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"ip",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?_qr(e.data,i.alg)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"jwt",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?vqr(e.data,i.version)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"cidr",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?hqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"base64",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?mqr.test(e.data)||(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{validation:"base64url",code:Ie.ZodIssueCode.invalid_string,message:i.message}),n.dirty()):ke.util.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:Ie.ZodIssueCode.invalid_string,...wt.errorUtil.errToObj(n)})}_addCheck(e){return new Dp({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...wt.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...wt.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...wt.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...wt.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...wt.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...wt.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...wt.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...wt.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...wt.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...wt.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...wt.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...wt.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...wt.errorUtil.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...wt.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...wt.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...wt.errorUtil.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...wt.errorUtil.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...wt.errorUtil.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...wt.errorUtil.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...wt.errorUtil.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...wt.errorUtil.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...wt.errorUtil.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...wt.errorUtil.errToObj(r)})}nonempty(e){return this.min(1,wt.errorUtil.errToObj(e))}trim(){return new Dp({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dp({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dp({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};G.ZodString=Dp;Dp.create=t=>{var e;return new Dp({checks:[],typeName:zt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vr(t)})};function wqr(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,i=parseInt(t.toFixed(o).replace(".","")),a=parseInt(e.toFixed(o).replace(".",""));return i%a/Math.pow(10,o)}var iS=class extends wr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.ZodParsedType.number){let i=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(i,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.number,received:i.parsedType}),Y.INVALID}let n,o=new Y.ParseStatus;for(let i of this._def.checks)i.kind==="int"?ke.util.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?wqr(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.not_finite,message:i.message}),o.dirty()):ke.util.assertNever(i);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,wt.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,wt.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,wt.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,wt.errorUtil.toString(r))}setLimit(e,r,n,o){return new iS({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:wt.errorUtil.toString(o)}]})}_addCheck(e){return new iS({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:wt.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:wt.errorUtil.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:wt.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.errorUtil.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ke.util.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};G.ZodNumber=iS;iS.create=t=>new iS({checks:[],typeName:zt.ZodNumber,coerce:t?.coerce||!1,...vr(t)});var aS=class extends wr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.ZodParsedType.bigint)return this._getInvalidInput(e);let n,o=new Y.ParseStatus;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):ke.util.assertNever(i);return{status:o.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.bigint,received:r.parsedType}),Y.INVALID}gte(e,r){return this.setLimit("min",e,!0,wt.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,wt.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,wt.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,wt.errorUtil.toString(r))}setLimit(e,r,n,o){return new aS({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:wt.errorUtil.toString(o)}]})}_addCheck(e){return new aS({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:wt.errorUtil.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};G.ZodBigInt=aS;aS.create=t=>{var e;return new aS({checks:[],typeName:zt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vr(t)})};var R1=class extends wr{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ke.ZodParsedType.boolean){let n=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.boolean,received:n.parsedType}),Y.INVALID}return(0,Y.OK)(e.data)}};G.ZodBoolean=R1;R1.create=t=>new R1({typeName:zt.ZodBoolean,coerce:t?.coerce||!1,...vr(t)});var CC=class extends wr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.ZodParsedType.date){let i=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(i,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.date,received:i.parsedType}),Y.INVALID}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(i,{code:Ie.ZodIssueCode.invalid_date}),Y.INVALID}let n=new Y.ParseStatus,o;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),(0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ke.util.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new CC({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:wt.errorUtil.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:wt.errorUtil.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};G.ZodDate=CC;CC.create=t=>new CC({checks:[],coerce:t?.coerce||!1,typeName:zt.ZodDate,...vr(t)});var hk=class extends wr{_parse(e){if(this._getType(e)!==ke.ZodParsedType.symbol){let n=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.symbol,received:n.parsedType}),Y.INVALID}return(0,Y.OK)(e.data)}};G.ZodSymbol=hk;hk.create=t=>new hk({typeName:zt.ZodSymbol,...vr(t)});var I1=class extends wr{_parse(e){if(this._getType(e)!==ke.ZodParsedType.undefined){let n=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.undefined,received:n.parsedType}),Y.INVALID}return(0,Y.OK)(e.data)}};G.ZodUndefined=I1;I1.create=t=>new I1({typeName:zt.ZodUndefined,...vr(t)});var D1=class extends wr{_parse(e){if(this._getType(e)!==ke.ZodParsedType.null){let n=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.null,received:n.parsedType}),Y.INVALID}return(0,Y.OK)(e.data)}};G.ZodNull=D1;D1.create=t=>new D1({typeName:zt.ZodNull,...vr(t)});var ST=class extends wr{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,Y.OK)(e.data)}};G.ZodAny=ST;ST.create=t=>new ST({typeName:zt.ZodAny,...vr(t)});var xC=class extends wr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,Y.OK)(e.data)}};G.ZodUnknown=xC;xC.create=t=>new xC({typeName:zt.ZodUnknown,...vr(t)});var Bg=class extends wr{_parse(e){let r=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.never,received:r.parsedType}),Y.INVALID}};G.ZodNever=Bg;Bg.create=t=>new Bg({typeName:zt.ZodNever,...vr(t)});var mk=class extends wr{_parse(e){if(this._getType(e)!==ke.ZodParsedType.undefined){let n=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.void,received:n.parsedType}),Y.INVALID}return(0,Y.OK)(e.data)}};G.ZodVoid=mk;mk.create=t=>new mk({typeName:zt.ZodVoid,...vr(t)});var jp=class extends wr{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==ke.ZodParsedType.array)return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.array,received:r.parsedType}),Y.INVALID;if(o.exactLength!==null){let a=r.data.length>o.exactLength.value,s=r.data.length<o.exactLength.value;(a||s)&&((0,Y.addIssueToContext)(r,{code:a?Ie.ZodIssueCode.too_big:Ie.ZodIssueCode.too_small,minimum:s?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&((0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&((0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,s)=>o.type._parseAsync(new Zh(r,a,r.path,s)))).then(a=>Y.ParseStatus.mergeArray(n,a));let i=[...r.data].map((a,s)=>o.type._parseSync(new Zh(r,a,r.path,s)));return Y.ParseStatus.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new jp({...this._def,minLength:{value:e,message:wt.errorUtil.toString(r)}})}max(e,r){return new jp({...this._def,maxLength:{value:e,message:wt.errorUtil.toString(r)}})}length(e,r){return new jp({...this._def,exactLength:{value:e,message:wt.errorUtil.toString(r)}})}nonempty(e){return this.min(1,e)}};G.ZodArray=jp;jp.create=(t,e)=>new jp({type:t,minLength:null,maxLength:null,exactLength:null,typeName:zt.ZodArray,...vr(e)});function pk(t){if(t instanceof Ti){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Xh.create(pk(n))}return new Ti({...t._def,shape:()=>e})}else return t instanceof jp?new jp({...t._def,type:pk(t.element)}):t instanceof Xh?Xh.create(pk(t.unwrap())):t instanceof uS?uS.create(pk(t.unwrap())):t instanceof Qh?Qh.create(t.items.map(e=>pk(e))):t}var Ti=class extends wr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=ke.util.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ke.ZodParsedType.object){let l=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(l,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.object,received:l.parsedType}),Y.INVALID}let{status:n,ctx:o}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Bg&&this._def.unknownKeys==="strip"))for(let l in o.data)a.includes(l)||s.push(l);let u=[];for(let l of a){let c=i[l],d=o.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Zh(o,d,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof Bg){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of s)u.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(l==="strict")s.length>0&&((0,Y.addIssueToContext)(o,{code:Ie.ZodIssueCode.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of s){let d=o.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Zh(o,d,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>Y.ParseStatus.mergeObjectSync(n,l)):Y.ParseStatus.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return wt.errorUtil.errToObj,new Ti({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,i,a,s;let u=(a=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=wt.errorUtil.errToObj(e).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new Ti({...this._def,unknownKeys:"strip"})}passthrough(){return new Ti({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ti({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ti({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:zt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ti({...this._def,catchall:e})}pick(e){let r={};return ke.util.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ti({...this._def,shape:()=>r})}omit(e){let r={};return ke.util.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ti({...this._def,shape:()=>r})}deepPartial(){return pk(this)}partial(e){let r={};return ke.util.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new Ti({...this._def,shape:()=>r})}required(e){let r={};return ke.util.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Xh;)i=i._def.innerType;r[n]=i}}),new Ti({...this._def,shape:()=>r})}keyof(){return J0t(ke.util.objectKeys(this.shape))}};G.ZodObject=Ti;Ti.create=(t,e)=>new Ti({shape:()=>t,unknownKeys:"strip",catchall:Bg.create(),typeName:zt.ZodObject,...vr(e)});Ti.strictCreate=(t,e)=>new Ti({shape:()=>t,unknownKeys:"strict",catchall:Bg.create(),typeName:zt.ZodObject,...vr(e)});Ti.lazycreate=(t,e)=>new Ti({shape:t,unknownKeys:"strip",catchall:Bg.create(),typeName:zt.ZodObject,...vr(e)});var j1=class extends wr{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function o(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(s=>new Ie.ZodError(s.ctx.common.issues));return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_union,unionErrors:a}),Y.INVALID}if(r.common.async)return Promise.all(n.map(async i=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(o);{let i,a=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=a.map(u=>new Ie.ZodError(u));return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_union,unionErrors:s}),Y.INVALID}}get options(){return this._def.options}};G.ZodUnion=j1;j1.create=(t,e)=>new j1({options:t,typeName:zt.ZodUnion,...vr(e)});var SC=t=>t instanceof F1?SC(t.schema):t instanceof Np?SC(t.innerType()):t instanceof B1?[t.value]:t instanceof sS?t.options:t instanceof k1?ke.util.objectValues(t.enum):t instanceof $1?SC(t._def.innerType):t instanceof I1?[void 0]:t instanceof D1?[null]:t instanceof Xh?[void 0,...SC(t.unwrap())]:t instanceof uS?[null,...SC(t.unwrap())]:t instanceof Y3||t instanceof z1?SC(t.unwrap()):t instanceof q1?SC(t._def.innerType):[],gk=class extends wr{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.ZodParsedType.object)return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.object,received:r.parsedType}),Y.INVALID;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):((0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Y.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let o=new Map;for(let i of r){let a=SC(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of a){if(o.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);o.set(s,i)}}return new gk({typeName:zt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...vr(n)})}};G.ZodDiscriminatedUnion=gk;function zCe(t,e){let r=(0,ke.getParsedType)(t),n=(0,ke.getParsedType)(e);if(t===e)return{valid:!0,data:t};if(r===ke.ZodParsedType.object&&n===ke.ZodParsedType.object){let o=ke.util.objectKeys(e),i=ke.util.objectKeys(t).filter(s=>o.indexOf(s)!==-1),a={...t,...e};for(let s of i){let u=zCe(t[s],e[s]);if(!u.valid)return{valid:!1};a[s]=u.data}return{valid:!0,data:a}}else if(r===ke.ZodParsedType.array&&n===ke.ZodParsedType.array){if(t.length!==e.length)return{valid:!1};let o=[];for(let i=0;i<t.length;i++){let a=t[i],s=e[i],u=zCe(a,s);if(!u.valid)return{valid:!1};o.push(u.data)}return{valid:!0,data:o}}else return r===ke.ZodParsedType.date&&n===ke.ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var N1=class extends wr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),o=(i,a)=>{if((0,Y.isAborted)(i)||(0,Y.isAborted)(a))return Y.INVALID;let s=zCe(i.value,a.value);return s.valid?(((0,Y.isDirty)(i)||(0,Y.isDirty)(a))&&r.dirty(),{status:r.value,value:s.data}):((0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_intersection_types}),Y.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};G.ZodIntersection=N1;N1.create=(t,e,r)=>new N1({left:t,right:e,typeName:zt.ZodIntersection,...vr(r)});var Qh=class extends wr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.ZodParsedType.array)return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.array,received:n.parsedType}),Y.INVALID;if(n.data.length<this._def.items.length)return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((a,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new Zh(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Y.ParseStatus.mergeArray(r,a)):Y.ParseStatus.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Qh({...this._def,rest:e})}};G.ZodTuple=Qh;Qh.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qh({items:t,typeName:zt.ZodTuple,rest:null,...vr(e)})};var L1=class extends wr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.ZodParsedType.object)return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.object,received:n.parsedType}),Y.INVALID;let o=[],i=this._def.keyType,a=this._def.valueType;for(let s in n.data)o.push({key:i._parse(new Zh(n,s,n.path,s)),value:a._parse(new Zh(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Y.ParseStatus.mergeObjectAsync(r,o):Y.ParseStatus.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof wr?new L1({keyType:e,valueType:r,typeName:zt.ZodRecord,...vr(n)}):new L1({keyType:Dp.create(),valueType:e,typeName:zt.ZodRecord,...vr(r)})}};G.ZodRecord=L1;var yk=class extends wr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.ZodParsedType.map)return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.map,received:n.parsedType}),Y.INVALID;let o=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([s,u],l)=>({key:o._parse(new Zh(n,s,n.path,[l,"key"])),value:i._parse(new Zh(n,u,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of a){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return Y.INVALID;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let u of a){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return Y.INVALID;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}}}};G.ZodMap=yk;yk.create=(t,e,r)=>new yk({valueType:e,keyType:t,typeName:zt.ZodMap,...vr(r)});var OC=class extends wr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.ZodParsedType.set)return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.set,received:n.parsedType}),Y.INVALID;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&((0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&((0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function a(u){let l=new Set;for(let c of u){if(c.status==="aborted")return Y.INVALID;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let s=[...n.data.values()].map((u,l)=>i._parse(new Zh(n,u,n.path,l)));return n.common.async?Promise.all(s).then(u=>a(u)):a(s)}min(e,r){return new OC({...this._def,minSize:{value:e,message:wt.errorUtil.toString(r)}})}max(e,r){return new OC({...this._def,maxSize:{value:e,message:wt.errorUtil.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};G.ZodSet=OC;OC.create=(t,e)=>new OC({valueType:t,minSize:null,maxSize:null,typeName:zt.ZodSet,...vr(e)});var wT=class extends wr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.ZodParsedType.function)return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.function,received:r.parsedType}),Y.INVALID;function n(s,u){return(0,Y.makeIssue)({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,Iee.getErrorMap)(),Iee.defaultErrorMap].filter(l=>!!l),issueData:{code:Ie.ZodIssueCode.invalid_arguments,argumentsError:u}})}function o(s,u){return(0,Y.makeIssue)({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,Iee.getErrorMap)(),Iee.defaultErrorMap].filter(l=>!!l),issueData:{code:Ie.ZodIssueCode.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof xT){let s=this;return(0,Y.OK)(async function(...u){let l=new Ie.ZodError([]),c=await s._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(n(u,p)),l}),d=await Reflect.apply(a,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(p=>{throw l.addIssue(o(d,p)),l})})}else{let s=this;return(0,Y.OK)(function(...u){let l=s._def.args.safeParse(u,i);if(!l.success)throw new Ie.ZodError([n(u,l.error)]);let c=Reflect.apply(a,this,l.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new Ie.ZodError([o(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wT({...this._def,args:Qh.create(e).rest(xC.create())})}returns(e){return new wT({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new wT({args:e||Qh.create([]).rest(xC.create()),returns:r||xC.create(),typeName:zt.ZodFunction,...vr(n)})}};G.ZodFunction=wT;var F1=class extends wr{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};G.ZodLazy=F1;F1.create=(t,e)=>new F1({getter:t,typeName:zt.ZodLazy,...vr(e)});var B1=class extends wr{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(r,{received:r.data,code:Ie.ZodIssueCode.invalid_literal,expected:this._def.value}),Y.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};G.ZodLiteral=B1;B1.create=(t,e)=>new B1({value:t,typeName:zt.ZodLiteral,...vr(e)});function J0t(t,e){return new sS({values:t,typeName:zt.ZodEnum,...vr(e)})}var sS=class extends wr{constructor(){super(...arguments),G3.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return(0,Y.addIssueToContext)(r,{expected:ke.util.joinValues(n),received:r.parsedType,code:Ie.ZodIssueCode.invalid_type}),Y.INVALID}if(Dee(this,G3,"f")||z0t(this,G3,new Set(this._def.values),"f"),!Dee(this,G3,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return(0,Y.addIssueToContext)(r,{received:r.data,code:Ie.ZodIssueCode.invalid_enum_value,options:n}),Y.INVALID}return(0,Y.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return sS.create(e,{...this._def,...r})}exclude(e,r=this._def){return sS.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};G.ZodEnum=sS;G3=new WeakMap;sS.create=J0t;var k1=class extends wr{constructor(){super(...arguments),K3.set(this,void 0)}_parse(e){let r=ke.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ke.ZodParsedType.string&&n.parsedType!==ke.ZodParsedType.number){let o=ke.util.objectValues(r);return(0,Y.addIssueToContext)(n,{expected:ke.util.joinValues(o),received:n.parsedType,code:Ie.ZodIssueCode.invalid_type}),Y.INVALID}if(Dee(this,K3,"f")||z0t(this,K3,new Set(ke.util.getValidEnumValues(this._def.values)),"f"),!Dee(this,K3,"f").has(e.data)){let o=ke.util.objectValues(r);return(0,Y.addIssueToContext)(n,{received:n.data,code:Ie.ZodIssueCode.invalid_enum_value,options:o}),Y.INVALID}return(0,Y.OK)(e.data)}get enum(){return this._def.values}};G.ZodNativeEnum=k1;K3=new WeakMap;k1.create=(t,e)=>new k1({values:t,typeName:zt.ZodNativeEnum,...vr(e)});var xT=class extends wr{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.ZodParsedType.promise&&r.common.async===!1)return(0,Y.addIssueToContext)(r,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.promise,received:r.parsedType}),Y.INVALID;let n=r.parsedType===ke.ZodParsedType.promise?r.data:Promise.resolve(r.data);return(0,Y.OK)(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};G.ZodPromise=xT;xT.create=(t,e)=>new xT({type:t,typeName:zt.ZodPromise,...vr(e)});var Np=class extends wr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:a=>{(0,Y.addIssueToContext)(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let a=o.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async s=>{if(r.value==="aborted")return Y.INVALID;let u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?Y.INVALID:u.status==="dirty"||r.value==="dirty"?(0,Y.DIRTY)(u.value):u});{if(r.value==="aborted")return Y.INVALID;let s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?Y.INVALID:s.status==="dirty"||r.value==="dirty"?(0,Y.DIRTY)(s.value):s}}if(o.type==="refinement"){let a=s=>{let u=o.refinement(s,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Y.INVALID:(s.status==="dirty"&&r.dirty(),a(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?Y.INVALID:(s.status==="dirty"&&r.dirty(),a(s.value).then(()=>({status:r.value,value:s.value}))))}if(o.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,Y.isValid)(a))return a;let s=o.transform(a.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>(0,Y.isValid)(a)?Promise.resolve(o.transform(a.value,i)).then(s=>({status:r.value,value:s})):a);ke.util.assertNever(o)}};G.ZodEffects=Np;G.ZodTransformer=Np;Np.create=(t,e,r)=>new Np({schema:t,typeName:zt.ZodEffects,effect:e,...vr(r)});Np.createWithPreprocess=(t,e,r)=>new Np({schema:e,effect:{type:"preprocess",transform:t},typeName:zt.ZodEffects,...vr(r)});var Xh=class extends wr{_parse(e){return this._getType(e)===ke.ZodParsedType.undefined?(0,Y.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};G.ZodOptional=Xh;Xh.create=(t,e)=>new Xh({innerType:t,typeName:zt.ZodOptional,...vr(e)});var uS=class extends wr{_parse(e){return this._getType(e)===ke.ZodParsedType.null?(0,Y.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};G.ZodNullable=uS;uS.create=(t,e)=>new uS({innerType:t,typeName:zt.ZodNullable,...vr(e)});var $1=class extends wr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===ke.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};G.ZodDefault=$1;$1.create=(t,e)=>new $1({innerType:t,typeName:zt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vr(e)});var q1=class extends wr{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,Y.isAsync)(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ie.ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ie.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};G.ZodCatch=q1;q1.create=(t,e)=>new q1({innerType:t,typeName:zt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vr(e)});var bk=class extends wr{_parse(e){if(this._getType(e)!==ke.ZodParsedType.nan){let n=this._getOrReturnCtx(e);return(0,Y.addIssueToContext)(n,{code:Ie.ZodIssueCode.invalid_type,expected:ke.ZodParsedType.nan,received:n.parsedType}),Y.INVALID}return{status:"valid",value:e.data}}};G.ZodNaN=bk;bk.create=t=>new bk({typeName:zt.ZodNaN,...vr(t)});G.BRAND=Symbol("zod_brand");var Y3=class extends wr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}};G.ZodBranded=Y3;var U1=class extends wr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Y.INVALID:i.status==="dirty"?(r.dirty(),(0,Y.DIRTY)(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Y.INVALID:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new U1({in:e,out:r,typeName:zt.ZodPipeline})}};G.ZodPipeline=U1;var z1=class extends wr{_parse(e){let r=this._def.innerType._parse(e),n=o=>((0,Y.isValid)(o)&&(o.value=Object.freeze(o.value)),o);return(0,Y.isAsync)(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};G.ZodReadonly=z1;z1.create=(t,e)=>new z1({innerType:t,typeName:zt.ZodReadonly,...vr(e)});function G0t(t,e={},r){return t?ST.create().superRefine((n,o)=>{var i,a;if(!t(n)){let s=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(a=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,l=typeof s=="string"?{message:s}:s;o.addIssue({code:"custom",...l,fatal:u})}}):ST.create()}G.custom=G0t;G.late={object:Ti.lazycreate};var zt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(zt||(G.ZodFirstPartyTypeKind=zt={}));var Sqr=(t,e={message:`Input not instance of ${t.name}`})=>G0t(r=>r instanceof t,e);G.instanceof=Sqr;var K0t=Dp.create;G.string=K0t;var Y0t=iS.create;G.number=Y0t;var xqr=bk.create;G.nan=xqr;var Cqr=aS.create;G.bigint=Cqr;var X0t=R1.create;G.boolean=X0t;var Oqr=CC.create;G.date=Oqr;var Eqr=hk.create;G.symbol=Eqr;var Pqr=I1.create;G.undefined=Pqr;var Tqr=D1.create;G.null=Tqr;var Mqr=ST.create;G.any=Mqr;var Aqr=xC.create;G.unknown=Aqr;var Rqr=Bg.create;G.never=Rqr;var Iqr=mk.create;G.void=Iqr;var Dqr=jp.create;G.array=Dqr;var jqr=Ti.create;G.object=jqr;var Nqr=Ti.strictCreate;G.strictObject=Nqr;var Lqr=j1.create;G.union=Lqr;var Fqr=gk.create;G.discriminatedUnion=Fqr;var Bqr=N1.create;G.intersection=Bqr;var kqr=Qh.create;G.tuple=kqr;var $qr=L1.create;G.record=$qr;var qqr=yk.create;G.map=qqr;var Uqr=OC.create;G.set=Uqr;var zqr=wT.create;G.function=zqr;var Hqr=F1.create;G.lazy=Hqr;var Vqr=B1.create;G.literal=Vqr;var Wqr=sS.create;G.enum=Wqr;var Jqr=k1.create;G.nativeEnum=Jqr;var Gqr=xT.create;G.promise=Gqr;var Z0t=Np.create;G.effect=Z0t;G.transformer=Z0t;var Kqr=Xh.create;G.optional=Kqr;var Yqr=uS.create;G.nullable=Yqr;var Xqr=Np.createWithPreprocess;G.preprocess=Xqr;var Zqr=U1.create;G.pipeline=Zqr;var Qqr=()=>K0t().optional();G.ostring=Qqr;var eUr=()=>Y0t().optional();G.onumber=eUr;var tUr=()=>X0t().optional();G.oboolean=tUr;G.coerce={string:t=>Dp.create({...t,coerce:!0}),number:t=>iS.create({...t,coerce:!0}),boolean:t=>R1.create({...t,coerce:!0}),bigint:t=>aS.create({...t,coerce:!0}),date:t=>CC.create({...t,coerce:!0})};G.NEVER=Y.INVALID});var HCe=b(em=>{"use strict";var rUr=em&&em.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_k=em&&em.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rUr(e,t,r)};Object.defineProperty(em,"__esModule",{value:!0});_k(Aee(),em);_k(qCe(),em);_k(k0t(),em);_k(W3(),em);_k(Q0t(),em);_k(Mee(),em)});var ge=b($f=>{"use strict";var ewt=$f&&$f.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nUr=$f&&$f.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oUr=$f&&$f.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ewt(e,t,r);return nUr(e,t),e},iUr=$f&&$f.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ewt(e,t,r)};Object.defineProperty($f,"__esModule",{value:!0});$f.z=void 0;var twt=oUr(HCe());$f.z=twt;iUr(HCe(),$f);$f.default=twt});var JCe=b(Nl=>{"use strict";var aUr=Nl&&Nl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sUr=Nl&&Nl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uUr=Nl&&Nl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aUr(e,t,r);return sUr(e,t),e};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.zodInbound=Nl.zodOutbound=void 0;Nl.bytesToBase64=rwt;Nl.bytesFromBase64=VCe;Nl.stringToBytes=WCe;Nl.stringFromBytes=nwt;Nl.stringToBase64=lUr;Nl.stringFromBase64=cUr;var jee=uUr(ge());function rwt(t){return btoa(String.fromCodePoint(...t))}function VCe(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function WCe(t){return new TextEncoder().encode(t)}function nwt(t){return new TextDecoder().decode(t)}function lUr(t){return rwt(WCe(t))}function cUr(t){return nwt(VCe(t))}Nl.zodOutbound=jee.instanceof(Uint8Array).or(jee.string().transform(WCe));Nl.zodInbound=jee.instanceof(Uint8Array).or(jee.string().transform(VCe))});var KCe=b(GCe=>{"use strict";Object.defineProperty(GCe,"__esModule",{value:!0});GCe.isPlainObject=dUr;function dUr(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}});var vo=b(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.encodeDeepObjectQuery=On.encodePipeDelimitedQuery=On.encodeSpaceDelimitedQuery=On.encodeFormQuery=On.encodeJSONQuery=On.encodeSimple=On.encodePipeDelimited=On.encodeSpaceDelimited=On.encodeForm=On.EncodingError=void 0;On.encodeMatrix=fUr;On.encodeLabel=pUr;On.encodeBodyForm=hUr;On.encodeDeepObject=iwt;On.encodeDeepObjectObject=XCe;On.encodeJSON=awt;On.queryJoin=swt;On.queryEncoder=wk;On.appendForm=gUr;var owt=JCe(),kg=KCe(),X3=class extends Error{constructor(e){super(e),this.name="EncodingError"}};On.EncodingError=X3;function fUr(t,e,r){let n="",o=r?.explode?Z3(t,e):[[t,e]];if(o.every(([s,u])=>u==null))return;let i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(vk(s));return o.forEach(([s,u])=>{let l="",c=null;if(u==null||(Array.isArray(u)?c=Q3(u,f=>`${a(f)}`)?.join(","):(0,kg.isPlainObject)(u)?c=Lee(Object.entries(u),([p,m])=>`,${i(p)},${a(m)}`)?.join("").slice(1):c=`${a(u)}`,c==null))return;let d=i(s);l=`${d}=${c}`,l===`${d}=`&&(l=l.slice(0,-1)),l&&(n+=`;${l}`)}),n}function pUr(t,e,r){let n="",o=r?.explode?Z3(t,e):[[t,e]];if(o.every(([s,u])=>u==null))return;let i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(vk(s));return o.forEach(([s,u])=>{let l="";u!=null&&(Array.isArray(u)?l=Q3(u,c=>`${a(c)}`)?.join("."):(0,kg.isPlainObject)(u)?l=Lee(Object.entries(u),([d,f])=>`.${i(d)}.${a(f)}`)?.join("").slice(1):l=`${r?.explode&&(0,kg.isPlainObject)(e)?`${i(s)}=`:""}${a(u)}`,n+=l==null?"":`.${l}`)}),n}function YCe(t){return(e,r,n)=>{let o="",i=n?.explode?Z3(e,r):[[e,r]];if(i.every(([l,c])=>c==null))return;let a=l=>n?.charEncoding==="percent"?encodeURIComponent(l):l,s=l=>a(vk(l)),u=a(t);return i.forEach(([l,c])=>{let d="",f=null;c!=null&&(Array.isArray(c)?f=Q3(c,p=>`${s(p)}`)?.join(u):(0,kg.isPlainObject)(c)?f=Lee(Object.entries(c),([p,m])=>`${a(p)}${u}${s(m)}`)?.join(u):f=`${s(c)}`,f!=null&&(d=`${a(l)}=${f}`,!(!d||d==="=")&&(o+=`&${d}`)))}),o.slice(1)}}On.encodeForm=YCe(",");On.encodeSpaceDelimited=YCe(" ");On.encodePipeDelimited=YCe("|");function hUr(t,e,r){let n="",o=r?.explode?Z3(t,e):[[t,e]],i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(vk(s));return o.forEach(([s,u])=>{let l="",c="";u!=null&&(Array.isArray(u)||(0,kg.isPlainObject)(u)?c=JSON.stringify(u,Nee):c=`${a(u)}`,l=`${i(s)}=${c}`,!(!l||l==="=")&&(n+=`&${l}`))}),n.slice(1)}function iwt(t,e,r){if(e!=null){if(!(0,kg.isPlainObject)(e))throw new X3(`Value of parameter '${t}' which uses deepObject encoding must be an object or null`);return XCe(t,e,r)}}function XCe(t,e,r){if(e==null)return;let n="",o=i=>r?.charEncoding==="percent"?encodeURIComponent(i):i;if(!(0,kg.isPlainObject)(e))throw new X3(`Expected parameter '${t}' to be an object.`);return Object.entries(e).forEach(([i,a])=>{if(a==null)return;let s=`${t}[${i}]`;if((0,kg.isPlainObject)(a)){let c=XCe(s,a,r);n+=c==null?"":`&${c}`;return}let u=Array.isArray(a)?a:[a],l=Q3(u,c=>`${o(s)}=${o(vk(c))}`)?.join("&");n+=l==null?"":`&${l}`}),n.slice(1)}function awt(t,e,r){if(typeof e>"u")return;let n=i=>r?.charEncoding==="percent"?encodeURIComponent(i):i,o=n(JSON.stringify(e,Nee));return r?.explode?o:`${n(t)}=${o}`}var mUr=(t,e,r)=>{let n="",o=r?.explode?Z3(t,e):[[t,e]];if(o.every(([s,u])=>u==null))return;let i=s=>r?.charEncoding==="percent"?encodeURIComponent(s):s,a=s=>i(vk(s));return o.forEach(([s,u])=>{let l="";u!=null&&(Array.isArray(u)?l=Q3(u,c=>`${a(c)}`)?.join(","):(0,kg.isPlainObject)(u)?l=Lee(Object.entries(u),([d,f])=>`,${i(d)},${a(f)}`)?.join("").slice(1):l=`${r?.explode&&(0,kg.isPlainObject)(e)?`${s}=`:""}${a(u)}`,n+=l?`,${l}`:"")}),n.slice(1)};On.encodeSimple=mUr;function Z3(t,e){return Array.isArray(e)?e.map(r=>[t,r]):(0,kg.isPlainObject)(e)?Object.entries(e??{}).map(([n,o])=>[n,o]):[[t,e]]}function vk(t){return t==null?"":t instanceof Date?t.toISOString():t instanceof Uint8Array?(0,owt.bytesToBase64)(t):typeof t=="object"?JSON.stringify(t,Nee):`${t}`}function Nee(t,e){return e instanceof Uint8Array?(0,owt.bytesToBase64)(e):e}function Q3(t,e){let r=t.reduce((n,o)=>{if(o==null)return n;let i=e(o);return i==null||n.push(i),n},[]);return r.length?r:null}function Lee(t,e){let r=[];for(let[n,o]of t){if(o==null)continue;let i=e([n,o]);i!=null&&r.push(i)}return r.length?r:null}function swt(...t){return t.filter(Boolean).join("&")}function wk(t){return function(r,n){let o={...n,explode:n?.explode??!0,charEncoding:n?.charEncoding??"percent"},i=Object.entries(r).map(([a,s])=>t(a,s,o));return swt(...i)}}On.encodeJSONQuery=wk(awt);On.encodeFormQuery=wk(On.encodeForm);On.encodeSpaceDelimitedQuery=wk(On.encodeSpaceDelimited);On.encodePipeDelimitedQuery=wk(On.encodePipeDelimited);On.encodeDeepObjectQuery=wk(iwt);function gUr(t,e,r,n){r!=null&&(r instanceof Blob&&n?t.append(e,r,n):r instanceof Blob?t.append(e,r):t.append(e,String(r)))}});var uwt=b(ZCe=>{"use strict";Object.defineProperty(ZCe,"__esModule",{value:!0});ZCe.dlv=yUr;function yUr(t,e,r,n,o){for(e=Array.isArray(e)?e:e.split("."),n=0;n<e.length;n++){let i=e[n];t=i!=null&&t?t[i]:o}return t===o?r:t}});var eOe=b(Lp=>{"use strict";var bUr=Lp&&Lp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Ur=Lp&&Lp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vUr=Lp&&Lp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bUr(e,t,r);return _Ur(e,t),e};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.envSchema=void 0;Lp.env=wUr;Lp.resetEnv=SUr;var lwt=uwt(),QCe=vUr(ge());Lp.envSchema=QCe.object({MISTRAL_API_KEY:QCe.string().optional(),MISTRAL_DEBUG:QCe.coerce.boolean().optional()});var e8;function wUr(){return e8||(e8=Lp.envSchema.parse((0,lwt.dlv)(globalThis,"process.env")??(0,lwt.dlv)(globalThis,"Deno.env")??{}),e8)}function SUr(){e8=void 0}});var r8=b(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.HTTPClient=void 0;lS.matchContentType=dwt;lS.matchStatusCode=fwt;lS.matchResponse=OUr;lS.isConnectionError=EUr;lS.isTimeoutError=PUr;lS.isAbortError=TUr;var xUr=(t,e)=>e==null?fetch(t):fetch(t,e),t8=class{constructor(e={}){this.options=e,this.requestHooks=[],this.requestErrorHooks=[],this.responseHooks=[],this.fetcher=e.fetcher||xUr}async request(e){let r=e;for(let n of this.requestHooks){let o=await n(r);o&&(r=o)}try{let n=await this.fetcher(r);for(let o of this.responseHooks)await o(n,r);return n}catch(n){for(let o of this.requestErrorHooks)await o(n,r);throw n}}addHook(...e){if(e[0]==="beforeRequest")this.requestHooks.push(e[1]);else if(e[0]==="requestError")this.requestErrorHooks.push(e[1]);else if(e[0]==="response")this.responseHooks.push(e[1]);else throw new Error(`Invalid hook type: ${e[0]}`);return this}removeHook(...e){let r;if(e[0]==="beforeRequest")r=this.requestHooks;else if(e[0]==="requestError")r=this.requestErrorHooks;else if(e[0]==="response")r=this.responseHooks;else throw new Error(`Invalid hook type: ${e[0]}`);let n=r.findIndex(o=>o===e[1]);return n>=0&&r.splice(n,1),this}clone(){let e=new t8(this.options);return e.requestHooks=this.requestHooks.slice(),e.requestErrorHooks=this.requestErrorHooks.slice(),e.responseHooks=this.responseHooks.slice(),e}};lS.HTTPClient=t8;var cwt=/\s*;\s*/g;function dwt(t,e){if(e==="*")return!0;let r=t.headers.get("content-type")?.trim()||"application/octet-stream";r=r.toLowerCase();let n=e.toLowerCase().trim().split(cwt),[o="",...i]=n;if(o.split("/").length!==2)return!1;let a=r.split(cwt),[s="",...u]=a,[l="",c=""]=s.split("/");if(!l||!c||o!=="*/*"&&s!==o&&`${l}/*`!==o&&`*/${c}`!==o||u.length<i.length)return!1;let d=new Set(u);for(let f of i)if(!d.has(f))return!1;return!0}var CUr=new RegExp("^[0-9]xx$","i");function fwt(t,e){let r=`${t.status}`,n=Array.isArray(e)?e:[e];return n.length?n.some(o=>{let i=`${o}`;if(i==="default")return!0;if(!CUr.test(`${i}`))return i===r;let a=i.charAt(0);if(!a)throw new Error("Invalid status code range");let s=r.charAt(0);if(!s)throw new Error(`Invalid response status code: ${r}`);return s===a}):!1}function OUr(t,e,r){return fwt(t,e)&&dwt(t,r)}function EUr(t){if(typeof t!="object"||t==null)return!1;let e=t instanceof TypeError&&t.message.toLowerCase().startsWith("failed to fetch"),r=t instanceof TypeError&&t.message.toLowerCase().startsWith("fetch failed"),n="name"in t&&t.name==="ConnectionError",o="code"in t&&typeof t.code=="string"&&t.code.toLowerCase()==="econnreset";return e||r||o||n}function PUr(t){if(typeof t!="object"||t==null)return!1;let e="name"in t&&t.name==="TimeoutError",r="code"in t&&t.code===23,n="code"in t&&typeof t.code=="string"&&t.code.toLowerCase()==="econnaborted";return e||r||n}function TUr(t){if(typeof t!="object"||t==null)return!1;let e="name"in t&&t.name==="AbortError",r="code"in t&&t.code===20,n="code"in t&&typeof t.code=="string"&&t.code.toLowerCase()==="econnaborted";return e||r||n}});var hwt=b(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.TemporaryError=V1.PermanentError=void 0;V1.retry=AUr;var pwt=r8(),MUr={initialInterval:500,maxInterval:6e4,exponent:1.5,maxElapsedTime:36e5},H1=class extends Error{constructor(e,r){let n=e;r?.cause&&(n+=`: ${r.cause}`),super(n,r),this.name="PermanentError",typeof this.cause>"u"&&(this.cause=r?.cause),Object.setPrototypeOf(this,H1.prototype)}};V1.PermanentError=H1;var EC=class extends Error{constructor(e,r){super(e),this.response=r,this.name="TemporaryError",Object.setPrototypeOf(this,EC.prototype)}};V1.TemporaryError=EC;async function AUr(t,e){switch(e.config.strategy){case"backoff":return jUr(RUr(t,{statusCodes:e.statusCodes,retryConnectionErrors:!!e.config.retryConnectionErrors}),e.config.backoff??MUr);default:return await t()}}function RUr(t,e){return async()=>{try{let r=await t();if(DUr(r,e.statusCodes))throw new EC("Response failed with retryable status code",r);return r}catch(r){throw r instanceof EC||e.retryConnectionErrors&&((0,pwt.isTimeoutError)(r)||(0,pwt.isConnectionError)(r))?r:new H1("Permanent error",{cause:r})}}}var IUr=new RegExp("^[0-9]xx$","i");function DUr(t,e){let r=`${t.status}`;return e.some(n=>{if(!IUr.test(n))return n===r;let o=n.charAt(0);if(!o)throw new Error("Invalid status code range");let i=r.charAt(0);if(!i)throw new Error(`Invalid response status code: ${r}`);return i===o})}async function jUr(t,e){let{maxElapsedTime:r,initialInterval:n,exponent:o,maxInterval:i}=e,a=Date.now(),s=0;for(;;)try{return await t()}catch(u){if(u instanceof H1)throw u.cause;if(Date.now()-a>r){if(u instanceof EC)return u.response;throw u}let c=0;u instanceof EC&&(c=NUr(u.response)),c<=0&&(c=n*Math.pow(s,o)+Math.random()*1e3);let d=Math.min(c,i);await LUr(d),s++}}function NUr(t){let e=t.headers.get("retry-after")||"";if(!e)return 0;let r=Number(e);if(Number.isInteger(r))return r*1e3;let n=Date.parse(e);if(Number.isInteger(n)){let o=n-Date.now();return o>0?Math.ceil(o):0}return 0}async function LUr(t){return new Promise(e=>setTimeout(e,t))}});var Fp=b(OT=>{"use strict";var n8=OT&&OT.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},tm=OT&&OT.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Bee,cS,PC;Object.defineProperty(OT,"__esModule",{value:!0});OT.ClientSDK=void 0;var mwt=I0t(),Sk=FCe(),CT=Yh(),FUr=JCe(),gwt=Oee(),BUr=vo(),kUr=eOe(),TC=r8(),$Ur=hwt(),Fee=typeof globalThis>"u"?null:globalThis,qUr=typeof Fee=="object"&&Fee!=null&&"importScripts"in Fee&&typeof Fee.importScripts=="function",UUr=qUr||typeof navigator<"u"&&"serviceWorker"in navigator||typeof window=="object"&&typeof window.document<"u",tOe=class{constructor(e={}){Bee.set(this,void 0),cS.set(this,void 0),PC.set(this,void 0);let r=e;typeof r=="object"&&r!=null&&"hooks"in r&&r.hooks instanceof mwt.SDKHooks?n8(this,cS,r.hooks,"f"):n8(this,cS,new mwt.SDKHooks,"f"),this._options={...e,hooks:tm(this,cS,"f")};let n=(0,gwt.serverURLFromOptions)(e);n&&(n.pathname=n.pathname.replace(/\/+$/,"")+"/");let{baseURL:o,client:i}=tm(this,cS,"f").sdkInit({baseURL:n,client:e.httpClient||new TC.HTTPClient});this._baseURL=o,n8(this,Bee,i,"f"),n8(this,PC,e.debugLogger,"f"),!tm(this,PC,"f")&&(0,kUr.env)().MISTRAL_DEBUG&&n8(this,PC,console,"f")}_createRequest(e,r,n){let{method:o,path:i,query:a,headers:s,security:u}=r,l=r.baseURL??this._baseURL;if(!l)return(0,CT.ERR)(new Sk.InvalidRequestError("No base URL provided for operation"));let c=new URL(l),d=new URL(i,c);i&&(c.pathname+=c.pathname.endsWith("/")?"":"/",c.pathname+=d.pathname.replace(/^\/+/,""));let f=a||"",p=[];for(let[T,E]of Object.entries(u?.queryParams||{})){let M=(0,BUr.encodeForm)(T,E,{charEncoding:"percent"});typeof M<"u"&&p.push(M)}if(p.length&&(f+=`&${p.join("&")}`),f){let T=f.startsWith("&")?f.slice(1):f;c.search=`?${T}`}let m=new Headers(s),h=u?.basic.username,v=u?.basic.password;if(h!=null||v!=null){let T=(0,FUr.stringToBase64)([h||"",v||""].join(":"));m.set("Authorization",`Basic ${T}`)}let g=new Headers(u?.headers||{});for(let[T,E]of g)m.set(T,E);let _=m.get("cookie")||"";for(let[T,E]of Object.entries(u?.cookies||{}))_+=`; ${T}=${E}`;_=_.startsWith("; ")?_.slice(2):_,m.set("cookie",_);let S=new Headers(n?.fetchOptions?.headers);for(let[T,E]of S)m.set(T,E);UUr||m.set(r.uaHeader??"user-agent",gwt.SDK_METADATA.userAgent);let x=n?.fetchOptions;if(!x?.signal&&r.timeoutMs&&r.timeoutMs>0){let T=AbortSignal.timeout(r.timeoutMs);x?x.signal=T:x={signal:T}}r.body instanceof ReadableStream&&(x?x.duplex="half":x={duplex:"half"});let O;try{O=tm(this,cS,"f").beforeCreateRequest(e,{url:c,options:{...x,body:r.body??null,headers:m,method:o}})}catch(T){return(0,CT.ERR)(new Sk.UnexpectedClientError("Create request hook failed to execute",{cause:T}))}return(0,CT.OK)(new Request(O.url,O.options))}async _do(e,r){let{context:n,errorCodes:o}=r;return(0,$Ur.retry)(async()=>{let i=await tm(this,cS,"f").beforeRequest(n,e.clone());await zUr(tm(this,PC,"f"),i).catch(s=>tm(this,PC,"f")?.log("Failed to log request:",s));let a=await tm(this,Bee,"f").request(i);try{if((0,TC.matchStatusCode)(a,o)){let s=await tm(this,cS,"f").afterError(n,a,null);if(s.error)throw s.error;a=s.response||a}else a=await tm(this,cS,"f").afterSuccess(n,a)}finally{await HUr(tm(this,PC,"f"),a,i).catch(s=>tm(this,PC,"f")?.log("Failed to log response:",s))}return a},{config:r.retryConfig,statusCodes:r.retryCodes}).then(i=>(0,CT.OK)(i),i=>{switch(!0){case(0,TC.isAbortError)(i):return(0,CT.ERR)(new Sk.RequestAbortedError("Request aborted by client",{cause:i}));case(0,TC.isTimeoutError)(i):return(0,CT.ERR)(new Sk.RequestTimeoutError("Request timed out",{cause:i}));case(0,TC.isConnectionError)(i):return(0,CT.ERR)(new Sk.ConnectionError("Unable to make request",{cause:i}));default:return(0,CT.ERR)(new Sk.UnexpectedClientError("Unexpected HTTP client error",{cause:i}))}})}};OT.ClientSDK=tOe;Bee=new WeakMap,cS=new WeakMap,PC=new WeakMap;var ywt=/^application\/(?:.{0,100}\+)?json/;async function zUr(t,e){if(!t)return;let r=e.headers.get("content-type"),n=r?.split(";")[0]||"";t.group(`> Request: ${e.method} ${e.url}`),t.group("Headers:");for(let[o,i]of e.headers.entries())t.log(`${o}: ${i}`);switch(t.groupEnd(),t.group("Body:"),!0){case ywt.test(n):t.log(await e.clone().json());break;case n.startsWith("text/"):t.log(await e.clone().text());break;case n==="multipart/form-data":{let o=await e.clone().formData();for(let[i,a]of o){let s=a instanceof Blob?"<Blob>":a;t.log(`${i}: ${s}`)}break}default:t.log(`<${r}>`);break}t.groupEnd(),t.groupEnd()}async function HUr(t,e,r){if(!t)return;let n=e.headers.get("content-type"),o=n?.split(";")[0]||"";t.group(`< Response: ${r.method} ${r.url}`),t.log("Status Code:",e.status,e.statusText),t.group("Headers:");for(let[i,a]of e.headers.entries())t.log(`${i}: ${a}`);switch(t.groupEnd(),t.group("Body:"),!0){case((0,TC.matchContentType)(e,"application/json")||ywt.test(o)):t.log(await e.clone().json());break;case(0,TC.matchContentType)(e,"text/event-stream"):t.log(`<${n}>`);break;case(0,TC.matchContentType)(e,"text/*"):t.log(await e.clone().text());break;case(0,TC.matchContentType)(e,"multipart/form-data"):{let i=await e.clone().formData();for(let[a,s]of i){let u=s instanceof Blob?"<Blob>":s;t.log(`${a}: ${u}`)}break}default:t.log(`<${n}>`);break}t.groupEnd(),t.groupEnd()}});var nOe=b(kee=>{"use strict";Object.defineProperty(kee,"__esModule",{value:!0});kee.SDKError=void 0;var rOe=class extends Error{constructor(e,r,n=""){let o=r.status,i=r.headers.get("content-type")||"",a=n.length>0?`
${n}`:"";super(`${e}: Status ${o} Content-Type ${i} Body ${a}`),this.rawResponse=r,this.body=n,this.statusCode=o,this.contentType=i,this.name="SDKError"}};kee.SDKError=rOe});var s8=b(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});a8.EventStream=void 0;a8.discardSentinel=JUr;var o8=10,i8=13,bwt=new Set([o8,i8]),VUr=[new Uint8Array([i8,o8,i8,o8]),new Uint8Array([i8,i8]),new Uint8Array([o8,o8])],oOe=class{constructor(e){this.stream=e.stream,this.decoder=e.decoder}async*[Symbol.asyncIterator](){let e=this.stream.getReader(),r=new Uint8Array([]),n=0;try{for(;;){let{done:o,value:i}=await e.read();if(o)break;let a=new Uint8Array(r.length+i.length);a.set(r),a.set(i,r.length),r=a;for(let s=n;s<r.length;s++){let u=_wt(r,s);if(u==null)continue;let l=r.slice(n,s);n=s+u.length;let c=iOe(l,this.decoder);c!=null&&(yield c)}n>0&&(r=r.slice(n),n=0)}if(r.length>0){let o=iOe(r,this.decoder);o!=null&&(yield o)}}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{e.releaseLock()}}};a8.EventStream=oOe;function _wt(t,e){let r=t[e],n=t[e+1];if(r==null||n==null||!bwt.has(r)||!bwt.has(n))return null;for(let o of VUr){let i=WUr(e,t,o);if(i!=null)return i}return null}function WUr(t,e,r){if(r.length>e.length-t)return null;for(let n=0;n<r.length;n++)if(e[t+n]!==r[n])return null;return r}function iOe(t,e){if(!t.length)return null;let o=new TextDecoder().decode(t).split(/\r?\n|\r/g),i=!1,a={};for(let s of o){if(!s)continue;let u=s.indexOf(":");if(u===0)continue;let l=u>0?s.substring(0,u):"",c=u>0?s.substring(u+1):"";switch(c.charAt(0)===" "&&(c=c.substring(1)),l){case"event":{i=!0,a.event=c;break}case"data":{i=!0,a.data??(a.data=""),a.data+=c+`
`;break}case"id":{i=!0,a.id=c;break}case"retry":{let d=parseInt(c,10);Number.isNaN(d)||(i=!0,a.retry=d);break}}}return i?(a.data!=null&&(a.data=a.data.slice(0,-1)),e(a)):null}function JUr(t,e){return new ReadableStream({async start(r){let n=new Uint8Array([]),o=0,i=!1,a=!1,s=t.getReader();try{for(;!i;){let u=await s.read(),l=u.value;if(i=i||u.done,a||typeof l>"u")continue;let c=new Uint8Array(n.length+l.length);c.set(n),c.set(l,n.length),n=c;for(let d=o;d<n.length;d++){let f=_wt(n,d);if(f==null)continue;let p=o,m=n.slice(p,d);o=d+f.length,iOe(m,GUr)?.data===e?(r.enqueue(n.slice(0,p)),a=!0):(r.enqueue(n.slice(0,o)),n=n.slice(o),o=0)}}}catch(u){r.error(u)}finally{r.close(),s.releaseLock()}}})}function GUr(t){return t}});var uOe=b($g=>{"use strict";var KUr=$g&&$g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YUr=$g&&$g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XUr=$g&&$g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KUr(e,t,r);return YUr(e,t),e};Object.defineProperty($g,"__esModule",{value:!0});$g.SDKValidationError=void 0;$g.formatZodError=sOe;var ZUr=XUr(ge()),aOe=class extends Error{constructor(e,r,n){super(`${e}: ${r}`),this.name="SDKValidationError",this.cause=r,this.rawValue=n,this.rawMessage=e}pretty(){return this.cause instanceof ZUr.ZodError?`${this.rawMessage}
${sOe(this.cause)}`:this.toString()}};$g.SDKValidationError=aOe;function sOe(t,e=0){let r="  ".repeat(e);r=e>0?`\u2502${r}`:r,r+=" ".repeat(e);let n="",o=s=>n+=`
${r}${s}`,i=t.issues.length,a=i===1?`${i} issue found`:`${i} issues found`;i&&o(`\u250C ${a}:`);for(let s of t.issues){let u=s.path.join(".");switch(u=u?`<root>.${u}`:"<root>",o(`\u2502 \u2022 [${u}]: ${s.message} (${s.code})`),s.code){case"invalid_literal":case"invalid_type":{o(`\u2502     Want: ${s.expected}`),o(`\u2502      Got: ${s.received}`);break}case"unrecognized_keys":{o(`\u2502     Keys: ${s.keys.join(", ")}`);break}case"invalid_enum_value":{o(`\u2502     Allowed: ${s.options.join(", ")}`),o(`\u2502         Got: ${s.received}`);break}case"invalid_union_discriminator":{o(`\u2502     Allowed: ${s.options.join(", ")}`);break}case"invalid_union":{let l=s.unionErrors.length;o(`\u2502   \u2716\uFE0E Attemped to deserialize into one of ${l} union members:`),s.unionErrors.forEach((c,d)=>{o(`\u2502   \u2716\uFE0E Member ${d+1} of ${l}`),o(`${sOe(c,e+1)}`)})}}}return t.issues.length&&o("\u2514\u2500*"),n.slice(1)}});var de=b(u8=>{"use strict";Object.defineProperty(u8,"__esModule",{value:!0});u8.parse=ezr;u8.safeParse=tzr;u8.collectExtraKeys=rzr;var QUr=ge(),wwt=uOe(),vwt=Yh();function ezr(t,e,r){try{return e(t)}catch(n){throw n instanceof QUr.ZodError?new wwt.SDKValidationError(r,n,t):n}}function tzr(t,e,r){try{return(0,vwt.OK)(e(t))}catch(n){return(0,vwt.ERR)(new wwt.SDKValidationError(r,n,t))}}function rzr(t,e,r){return t.transform(n=>{let o={},{shape:i}=t;for(let[a]of Object.entries(n)){if(a in i)continue;let s=n[a];typeof s>"u"||(o[a]=s,delete n[a])}return r&&Object.keys(o).length===0?n:{...n,[e]:o}})}});var wo=b(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.jsonErr=izr;Ll.json=azr;Ll.textErr=szr;Ll.text=uzr;Ll.bytesErr=lzr;Ll.bytes=czr;Ll.streamErr=dzr;Ll.stream=fzr;Ll.sseErr=pzr;Ll.sse=hzr;Ll.nilErr=mzr;Ll.nil=gzr;Ll.fail=yzr;Ll.match=bzr;Ll.unpackHeaders=$ee;Ll.discardResponseBody=Ewt;var Swt=nOe(),nzr=s8(),xwt=r8(),Cwt=KCe(),Owt=de(),ozr={json:"application/json",text:"text/plain",bytes:"application/octet-stream",stream:"application/octet-stream",sse:"text/event-stream",nil:"*",fail:"*"};function izr(t,e,r){return{...r,err:!0,enc:"json",codes:t,schema:e}}function azr(t,e,r){return{...r,enc:"json",codes:t,schema:e}}function szr(t,e,r){return{...r,err:!0,enc:"text",codes:t,schema:e}}function uzr(t,e,r){return{...r,enc:"text",codes:t,schema:e}}function lzr(t,e,r){return{...r,err:!0,enc:"bytes",codes:t,schema:e}}function czr(t,e,r){return{...r,enc:"bytes",codes:t,schema:e}}function dzr(t,e,r){return{...r,err:!0,enc:"stream",codes:t,schema:e}}function fzr(t,e,r){return{...r,enc:"stream",codes:t,schema:e}}function pzr(t,e,r){return{...r,err:!0,enc:"sse",codes:t,schema:e}}function hzr(t,e,r){return{...r,enc:"sse",codes:t,schema:e}}function mzr(t,e,r){return{...r,err:!0,enc:"nil",codes:t,schema:e}}function gzr(t,e,r){return{...r,enc:"nil",codes:t,schema:e}}function yzr(t){return{enc:"fail",codes:t}}function bzr(...t){return async function(r,n){let o,i;for(let l of t){let{codes:c}=l,d="ctype"in l?l.ctype:ozr[l.enc];if(d&&(0,xwt.matchResponse)(r,c,d)){i=l;break}else if(!d&&(0,xwt.matchStatusCode)(r,c)){i=l;break}}if(!i){let l=await r.text();return[{ok:!1,error:new Swt.SDKError("Unexpected API response status or content-type",r,l)},l]}let a=i.enc;switch(a){case"json":o=await r.json();break;case"bytes":o=new Uint8Array(await r.arrayBuffer());break;case"stream":o=r.body;break;case"text":o=await r.text();break;case"sse":o=r.body&&i.sseSentinel?(0,nzr.discardSentinel)(r.body,i.sseSentinel):r.body;break;case"nil":o=await Ewt(r);break;case"fail":o=await r.text();break;default:throw new Error(`Unsupported response type: ${a}`)}if(i.enc==="fail")return[{ok:!1,error:new Swt.SDKError("API error occurred",r,typeof o=="string"?o:"")},o];let s=i.key||n?.resultKey,u;if("err"in i?u={...n?.extraFields,...i.hdrs?{Headers:$ee(r.headers)}:null,...(0,Cwt.isPlainObject)(o)?o:null}:s?u={...n?.extraFields,...i.hdrs?{Headers:$ee(r.headers)}:null,[s]:o}:i.hdrs?u={...n?.extraFields,...i.hdrs?{Headers:$ee(r.headers)}:null,...(0,Cwt.isPlainObject)(o)?o:null}:u=o,"err"in i){let l=(0,Owt.safeParse)(u,c=>i.schema.parse(c),"Response validation failed");return[l.ok?{ok:!1,error:l.value}:l,o]}else return[(0,Owt.safeParse)(u,l=>i.schema.parse(l),"Response validation failed"),o]}}var _zr=/, */;function $ee(t){let e={};for(let[r,n]of t.entries())e[r]=n.split(_zr);return e}async function Ewt(t){let e=t.body?.getReader();if(e!=null)try{let r=!1;for(;!r;)r=(await e.read()).done}finally{e.releaseLock()}}});var Ee=b(W1=>{"use strict";Object.defineProperty(W1,"__esModule",{value:!0});W1.invariant=vzr;W1.remap=wzr;W1.combineSignals=Szr;W1.abortSignalAny=Pwt;W1.compactMap=xzr;var lOe=class extends Error{constructor(e){super(e),this.name="InvariantError"}};function vzr(t,e){if(!t)throw new lOe(e)}function wzr(t,e){let r={};if(!Object.keys(e).length)return r=t,r;for(let[n,o]of Object.entries(t)){let i=e[n];i!==null&&(r[i??n]=o)}return r}function Szr(...t){let e=[];for(let r of t)r&&e.push(r);switch(e.length){case 0:case 1:return e[0]||null;default:return"any"in AbortSignal&&typeof AbortSignal.any=="function"?AbortSignal.any(e):Pwt(e)}}function Pwt(t){let e=new AbortController,r=e.signal;if(!t.length)return e.signal;if(t.length===1)return t[0]||e.signal;for(let a of t)if(a.aborted)return a;function n(){e.abort(this.reason),i()}let o=[];function i(){for(let a of o){let s=a.deref();s&&s.removeEventListener("abort",n)}}for(let a of t)o.push(new WeakRef(a)),a.addEventListener("abort",n);return r}function xzr(t){let e={};for(let[r,n]of Object.entries(t))typeof n<"u"&&(e[r]=n);return e}});var So=b(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});MC.SecurityError=MC.SecurityErrorCode=void 0;MC.resolveSecurity=Twt;MC.resolveGlobalSecurity=Ezr;MC.extractSecurity=Pzr;var Czr=eOe(),Uee;(function(t){t.Incomplete="incomplete",t.UnrecognisedSecurityType="unrecognized_security_type"})(Uee||(MC.SecurityErrorCode=Uee={}));var J1=class extends Error{constructor(e,r){super(r),this.code=e,this.name="SecurityError"}static incomplete(){return new J1(Uee.Incomplete,"Security requirements not met in order to perform the operation")}static unrecognizedType(e){return new J1(Uee.UnrecognisedSecurityType,`Unrecognised security type: ${e}`)}};MC.SecurityError=J1;function Twt(...t){let e={basic:{},headers:{},queryParams:{},cookies:{},oauth2:{type:"none"}},r=t.find(n=>n.every(o=>{if(o.value==null)return!1;if(o.type==="http:basic")return o.value.username!=null||o.value.password!=null;if(o.type==="http:custom")return null;if(o.type==="oauth2:password")return typeof o.value=="string"&&!!o.value;if(o.type==="oauth2:client_credentials")return o.value.clientID!=null||o.value.clientSecret!=null;if(typeof o.value=="string")return!!o.value;throw new Error(`Unrecognized security type: ${o.type} (value type: ${typeof o.value})`)}));return r==null?null:(r.forEach(n=>{if(n.value==null)return;let{type:o}=n;switch(o){case"apiKey:header":e.headers[n.fieldName]=n.value;break;case"apiKey:query":e.queryParams[n.fieldName]=n.value;break;case"apiKey:cookie":e.cookies[n.fieldName]=n.value;break;case"http:basic":Ozr(e,n);break;case"http:custom":break;case"http:bearer":qee(e,n);break;case"oauth2":qee(e,n);break;case"oauth2:password":qee(e,n);break;case"oauth2:client_credentials":break;case"openIdConnect":qee(e,n);break;default:throw J1.unrecognizedType(o)}}),e)}function Ozr(t,e){e.value!=null&&(t.basic=e.value)}function qee(t,e){if(typeof e.value!="string"||!e.value)return;let r=e.value;r.slice(0,7).toLowerCase()!=="bearer "&&(r=`Bearer ${r}`),t.headers[e.fieldName]=r}function Ezr(t){return Twt([{fieldName:"Authorization",type:"http:bearer",value:t?.apiKey??(0,Czr.env)().MISTRAL_API_KEY}])}async function Pzr(t){if(t!=null)return typeof t=="function"?t():t}});var cOe=b(Cs=>{"use strict";var Tzr=Cs&&Cs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mzr=Cs&&Cs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Azr=Cs&&Cs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tzr(e,t,r);return Mzr(e,t),e};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.ImageURL$=Cs.ImageURL$outboundSchema=Cs.ImageURL$inboundSchema=void 0;Cs.imageURLToJSON=Izr;Cs.imageURLFromJSON=Dzr;var ET=Azr(ge()),Rzr=de();Cs.ImageURL$inboundSchema=ET.object({url:ET.string(),detail:ET.nullable(ET.string()).optional()});Cs.ImageURL$outboundSchema=ET.object({url:ET.string(),detail:ET.nullable(ET.string()).optional()});var Mwt;(function(t){t.inboundSchema=Cs.ImageURL$inboundSchema,t.outboundSchema=Cs.ImageURL$outboundSchema})(Mwt||(Cs.ImageURL$=Mwt={}));function Izr(t){return JSON.stringify(Cs.ImageURL$outboundSchema.parse(t))}function Dzr(t){return(0,Rzr.safeParse)(t,e=>Cs.ImageURL$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ImageURL' from JSON")}});var dOe=b(Qt=>{"use strict";var jzr=Qt&&Qt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nzr=Qt&&Qt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lzr=Qt&&Qt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jzr(e,t,r);return Nzr(e,t),e};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ImageURLChunk$=Qt.ImageURLChunk$outboundSchema=Qt.ImageURLChunk$inboundSchema=Qt.ImageURLChunkType$=Qt.ImageURLChunkType$outboundSchema=Qt.ImageURLChunkType$inboundSchema=Qt.ImageURLChunkImageURL$=Qt.ImageURLChunkImageURL$outboundSchema=Qt.ImageURLChunkImageURL$inboundSchema=Qt.ImageURLChunkType=void 0;Qt.imageURLChunkImageURLToJSON=Fzr;Qt.imageURLChunkImageURLFromJSON=Bzr;Qt.imageURLChunkToJSON=kzr;Qt.imageURLChunkFromJSON=$zr;var qg=Lzr(ge()),Dwt=Ee(),jwt=de(),zee=cOe();Qt.ImageURLChunkType={ImageUrl:"image_url"};Qt.ImageURLChunkImageURL$inboundSchema=qg.union([zee.ImageURL$inboundSchema,qg.string()]);Qt.ImageURLChunkImageURL$outboundSchema=qg.union([zee.ImageURL$outboundSchema,qg.string()]);var Awt;(function(t){t.inboundSchema=Qt.ImageURLChunkImageURL$inboundSchema,t.outboundSchema=Qt.ImageURLChunkImageURL$outboundSchema})(Awt||(Qt.ImageURLChunkImageURL$=Awt={}));function Fzr(t){return JSON.stringify(Qt.ImageURLChunkImageURL$outboundSchema.parse(t))}function Bzr(t){return(0,jwt.safeParse)(t,e=>Qt.ImageURLChunkImageURL$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ImageURLChunkImageURL' from JSON")}Qt.ImageURLChunkType$inboundSchema=qg.nativeEnum(Qt.ImageURLChunkType);Qt.ImageURLChunkType$outboundSchema=Qt.ImageURLChunkType$inboundSchema;var Rwt;(function(t){t.inboundSchema=Qt.ImageURLChunkType$inboundSchema,t.outboundSchema=Qt.ImageURLChunkType$outboundSchema})(Rwt||(Qt.ImageURLChunkType$=Rwt={}));Qt.ImageURLChunk$inboundSchema=qg.object({image_url:qg.union([zee.ImageURL$inboundSchema,qg.string()]),type:Qt.ImageURLChunkType$inboundSchema.default("image_url")}).transform(t=>(0,Dwt.remap)(t,{image_url:"imageUrl"}));Qt.ImageURLChunk$outboundSchema=qg.object({imageUrl:qg.union([zee.ImageURL$outboundSchema,qg.string()]),type:Qt.ImageURLChunkType$outboundSchema.default("image_url")}).transform(t=>(0,Dwt.remap)(t,{imageUrl:"image_url"}));var Iwt;(function(t){t.inboundSchema=Qt.ImageURLChunk$inboundSchema,t.outboundSchema=Qt.ImageURLChunk$outboundSchema})(Iwt||(Qt.ImageURLChunk$=Iwt={}));function kzr(t){return JSON.stringify(Qt.ImageURLChunk$outboundSchema.parse(t))}function $zr(t){return(0,jwt.safeParse)(t,e=>Qt.ImageURLChunk$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ImageURLChunk' from JSON")}});var fOe=b(En=>{"use strict";var qzr=En&&En.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Uzr=En&&En.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zzr=En&&En.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qzr(e,t,r);return Uzr(e,t),e};Object.defineProperty(En,"__esModule",{value:!0});En.ReferenceChunk$=En.ReferenceChunk$outboundSchema=En.ReferenceChunk$inboundSchema=En.ReferenceChunkType$=En.ReferenceChunkType$outboundSchema=En.ReferenceChunkType$inboundSchema=En.ReferenceChunkType=void 0;En.referenceChunkToJSON=Vzr;En.referenceChunkFromJSON=Wzr;var G1=zzr(ge()),Fwt=Ee(),Hzr=de();En.ReferenceChunkType={Reference:"reference"};En.ReferenceChunkType$inboundSchema=G1.nativeEnum(En.ReferenceChunkType);En.ReferenceChunkType$outboundSchema=En.ReferenceChunkType$inboundSchema;var Nwt;(function(t){t.inboundSchema=En.ReferenceChunkType$inboundSchema,t.outboundSchema=En.ReferenceChunkType$outboundSchema})(Nwt||(En.ReferenceChunkType$=Nwt={}));En.ReferenceChunk$inboundSchema=G1.object({reference_ids:G1.array(G1.number().int()),type:En.ReferenceChunkType$inboundSchema.default("reference")}).transform(t=>(0,Fwt.remap)(t,{reference_ids:"referenceIds"}));En.ReferenceChunk$outboundSchema=G1.object({referenceIds:G1.array(G1.number().int()),type:En.ReferenceChunkType$outboundSchema.default("reference")}).transform(t=>(0,Fwt.remap)(t,{referenceIds:"reference_ids"}));var Lwt;(function(t){t.inboundSchema=En.ReferenceChunk$inboundSchema,t.outboundSchema=En.ReferenceChunk$outboundSchema})(Lwt||(En.ReferenceChunk$=Lwt={}));function Vzr(t){return JSON.stringify(En.ReferenceChunk$outboundSchema.parse(t))}function Wzr(t){return(0,Hzr.safeParse)(t,e=>En.ReferenceChunk$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ReferenceChunk' from JSON")}});var Hee=b(Pn=>{"use strict";var Jzr=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gzr=Pn&&Pn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kzr=Pn&&Pn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jzr(e,t,r);return Gzr(e,t),e};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.TextChunk$=Pn.TextChunk$outboundSchema=Pn.TextChunk$inboundSchema=Pn.TextChunkType$=Pn.TextChunkType$outboundSchema=Pn.TextChunkType$inboundSchema=Pn.TextChunkType=void 0;Pn.textChunkToJSON=Xzr;Pn.textChunkFromJSON=Zzr;var l8=Kzr(ge()),Yzr=de();Pn.TextChunkType={Text:"text"};Pn.TextChunkType$inboundSchema=l8.nativeEnum(Pn.TextChunkType);Pn.TextChunkType$outboundSchema=Pn.TextChunkType$inboundSchema;var Bwt;(function(t){t.inboundSchema=Pn.TextChunkType$inboundSchema,t.outboundSchema=Pn.TextChunkType$outboundSchema})(Bwt||(Pn.TextChunkType$=Bwt={}));Pn.TextChunk$inboundSchema=l8.object({text:l8.string(),type:Pn.TextChunkType$inboundSchema.default("text")});Pn.TextChunk$outboundSchema=l8.object({text:l8.string(),type:Pn.TextChunkType$outboundSchema.default("text")});var kwt;(function(t){t.inboundSchema=Pn.TextChunk$inboundSchema,t.outboundSchema=Pn.TextChunk$outboundSchema})(kwt||(Pn.TextChunk$=kwt={}));function Xzr(t){return JSON.stringify(Pn.TextChunk$outboundSchema.parse(t))}function Zzr(t){return(0,Yzr.safeParse)(t,e=>Pn.TextChunk$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'TextChunk' from JSON")}});var xk=b(Os=>{"use strict";var Qzr=Os&&Os.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e2r=Os&&Os.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t2r=Os&&Os.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qzr(e,t,r);return e2r(e,t),e};Object.defineProperty(Os,"__esModule",{value:!0});Os.ContentChunk$=Os.ContentChunk$outboundSchema=Os.ContentChunk$inboundSchema=void 0;Os.contentChunkToJSON=n2r;Os.contentChunkFromJSON=o2r;var qf=t2r(ge()),r2r=de(),qwt=dOe(),Uwt=fOe(),zwt=Hee();Os.ContentChunk$inboundSchema=qf.union([qwt.ImageURLChunk$inboundSchema.and(qf.object({type:qf.literal("image_url")}).transform(t=>({type:t.type}))),zwt.TextChunk$inboundSchema.and(qf.object({type:qf.literal("text")}).transform(t=>({type:t.type}))),Uwt.ReferenceChunk$inboundSchema.and(qf.object({type:qf.literal("reference")}).transform(t=>({type:t.type})))]);Os.ContentChunk$outboundSchema=qf.union([qwt.ImageURLChunk$outboundSchema.and(qf.object({type:qf.literal("image_url")}).transform(t=>({type:t.type}))),zwt.TextChunk$outboundSchema.and(qf.object({type:qf.literal("text")}).transform(t=>({type:t.type}))),Uwt.ReferenceChunk$outboundSchema.and(qf.object({type:qf.literal("reference")}).transform(t=>({type:t.type})))]);var $wt;(function(t){t.inboundSchema=Os.ContentChunk$inboundSchema,t.outboundSchema=Os.ContentChunk$outboundSchema})($wt||(Os.ContentChunk$=$wt={}));function n2r(t){return JSON.stringify(Os.ContentChunk$outboundSchema.parse(t))}function o2r(t){return(0,r2r.safeParse)(t,e=>Os.ContentChunk$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ContentChunk' from JSON")}});var pOe=b(Vn=>{"use strict";var i2r=Vn&&Vn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a2r=Vn&&Vn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s2r=Vn&&Vn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i2r(e,t,r);return a2r(e,t),e};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.FunctionCall$=Vn.FunctionCall$outboundSchema=Vn.FunctionCall$inboundSchema=Vn.Arguments$=Vn.Arguments$outboundSchema=Vn.Arguments$inboundSchema=void 0;Vn.argumentsToJSON=u2r;Vn.argumentsFromJSON=l2r;Vn.functionCallToJSON=c2r;Vn.functionCallFromJSON=d2r;var Es=s2r(ge()),Wwt=de();Vn.Arguments$inboundSchema=Es.union([Es.record(Es.any()),Es.string()]);Vn.Arguments$outboundSchema=Es.union([Es.record(Es.any()),Es.string()]);var Hwt;(function(t){t.inboundSchema=Vn.Arguments$inboundSchema,t.outboundSchema=Vn.Arguments$outboundSchema})(Hwt||(Vn.Arguments$=Hwt={}));function u2r(t){return JSON.stringify(Vn.Arguments$outboundSchema.parse(t))}function l2r(t){return(0,Wwt.safeParse)(t,e=>Vn.Arguments$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Arguments' from JSON")}Vn.FunctionCall$inboundSchema=Es.object({name:Es.string(),arguments:Es.union([Es.record(Es.any()),Es.string()])});Vn.FunctionCall$outboundSchema=Es.object({name:Es.string(),arguments:Es.union([Es.record(Es.any()),Es.string()])});var Vwt;(function(t){t.inboundSchema=Vn.FunctionCall$inboundSchema,t.outboundSchema=Vn.FunctionCall$outboundSchema})(Vwt||(Vn.FunctionCall$=Vwt={}));function c2r(t){return JSON.stringify(Vn.FunctionCall$outboundSchema.parse(t))}function d2r(t){return(0,Wwt.safeParse)(t,e=>Vn.FunctionCall$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FunctionCall' from JSON")}});var PT=b(hOe=>{"use strict";Object.defineProperty(hOe,"__esModule",{value:!0});hOe.catchUnrecognizedEnum=f2r;function f2r(t){return t}});var c8=b(Ps=>{"use strict";var p2r=Ps&&Ps.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h2r=Ps&&Ps.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m2r=Ps&&Ps.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&p2r(e,t,r);return h2r(e,t),e};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.ToolTypes$=Ps.ToolTypes$outboundSchema=Ps.ToolTypes$inboundSchema=Ps.ToolTypes=void 0;var K1=m2r(ge()),g2r=PT();Ps.ToolTypes={Function:"function"};Ps.ToolTypes$inboundSchema=K1.union([K1.nativeEnum(Ps.ToolTypes),K1.string().transform(g2r.catchUnrecognizedEnum)]);Ps.ToolTypes$outboundSchema=K1.union([K1.nativeEnum(Ps.ToolTypes),K1.string().and(K1.custom())]);var Jwt;(function(t){t.inboundSchema=Ps.ToolTypes$inboundSchema,t.outboundSchema=Ps.ToolTypes$outboundSchema})(Jwt||(Ps.ToolTypes$=Jwt={}))});var Vee=b(Ts=>{"use strict";var y2r=Ts&&Ts.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b2r=Ts&&Ts.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_2r=Ts&&Ts.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&y2r(e,t,r);return b2r(e,t),e};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.ToolCall$=Ts.ToolCall$outboundSchema=Ts.ToolCall$inboundSchema=void 0;Ts.toolCallToJSON=w2r;Ts.toolCallFromJSON=S2r;var Ck=_2r(ge()),v2r=de(),Kwt=pOe(),Ywt=c8();Ts.ToolCall$inboundSchema=Ck.object({id:Ck.string().default("null"),type:Ywt.ToolTypes$inboundSchema.optional(),function:Kwt.FunctionCall$inboundSchema,index:Ck.number().int().default(0)});Ts.ToolCall$outboundSchema=Ck.object({id:Ck.string().default("null"),type:Ywt.ToolTypes$outboundSchema.optional(),function:Kwt.FunctionCall$outboundSchema,index:Ck.number().int().default(0)});var Gwt;(function(t){t.inboundSchema=Ts.ToolCall$inboundSchema,t.outboundSchema=Ts.ToolCall$outboundSchema})(Gwt||(Ts.ToolCall$=Gwt={}));function w2r(t){return JSON.stringify(Ts.ToolCall$outboundSchema.parse(t))}function S2r(t){return(0,v2r.safeParse)(t,e=>Ts.ToolCall$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ToolCall' from JSON")}});var TT=b(er=>{"use strict";var x2r=er&&er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C2r=er&&er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),O2r=er&&er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x2r(e,t,r);return C2r(e,t),e};Object.defineProperty(er,"__esModule",{value:!0});er.AssistantMessage$=er.AssistantMessage$outboundSchema=er.AssistantMessage$inboundSchema=er.AssistantMessageRole$=er.AssistantMessageRole$outboundSchema=er.AssistantMessageRole$inboundSchema=er.AssistantMessageContent$=er.AssistantMessageContent$outboundSchema=er.AssistantMessageContent$inboundSchema=er.AssistantMessageRole=void 0;er.assistantMessageContentToJSON=E2r;er.assistantMessageContentFromJSON=P2r;er.assistantMessageToJSON=T2r;er.assistantMessageFromJSON=M2r;var Sa=O2r(ge()),eSt=Ee(),tSt=de(),Wee=xk(),rSt=Vee();er.AssistantMessageRole={Assistant:"assistant"};er.AssistantMessageContent$inboundSchema=Sa.union([Sa.string(),Sa.array(Wee.ContentChunk$inboundSchema)]);er.AssistantMessageContent$outboundSchema=Sa.union([Sa.string(),Sa.array(Wee.ContentChunk$outboundSchema)]);var Xwt;(function(t){t.inboundSchema=er.AssistantMessageContent$inboundSchema,t.outboundSchema=er.AssistantMessageContent$outboundSchema})(Xwt||(er.AssistantMessageContent$=Xwt={}));function E2r(t){return JSON.stringify(er.AssistantMessageContent$outboundSchema.parse(t))}function P2r(t){return(0,tSt.safeParse)(t,e=>er.AssistantMessageContent$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AssistantMessageContent' from JSON")}er.AssistantMessageRole$inboundSchema=Sa.nativeEnum(er.AssistantMessageRole);er.AssistantMessageRole$outboundSchema=er.AssistantMessageRole$inboundSchema;var Zwt;(function(t){t.inboundSchema=er.AssistantMessageRole$inboundSchema,t.outboundSchema=er.AssistantMessageRole$outboundSchema})(Zwt||(er.AssistantMessageRole$=Zwt={}));er.AssistantMessage$inboundSchema=Sa.object({content:Sa.nullable(Sa.union([Sa.string(),Sa.array(Wee.ContentChunk$inboundSchema)])).optional(),tool_calls:Sa.nullable(Sa.array(rSt.ToolCall$inboundSchema)).optional(),prefix:Sa.boolean().default(!1),role:er.AssistantMessageRole$inboundSchema.default("assistant")}).transform(t=>(0,eSt.remap)(t,{tool_calls:"toolCalls"}));er.AssistantMessage$outboundSchema=Sa.object({content:Sa.nullable(Sa.union([Sa.string(),Sa.array(Wee.ContentChunk$outboundSchema)])).optional(),toolCalls:Sa.nullable(Sa.array(rSt.ToolCall$outboundSchema)).optional(),prefix:Sa.boolean().default(!1),role:er.AssistantMessageRole$outboundSchema.default("assistant")}).transform(t=>(0,eSt.remap)(t,{toolCalls:"tool_calls"}));var Qwt;(function(t){t.inboundSchema=er.AssistantMessage$inboundSchema,t.outboundSchema=er.AssistantMessage$outboundSchema})(Qwt||(er.AssistantMessage$=Qwt={}));function T2r(t){return JSON.stringify(er.AssistantMessage$outboundSchema.parse(t))}function M2r(t){return(0,tSt.safeParse)(t,e=>er.AssistantMessage$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AssistantMessage' from JSON")}});var Ok=b(Wn=>{"use strict";var A2r=Wn&&Wn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R2r=Wn&&Wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I2r=Wn&&Wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A2r(e,t,r);return R2r(e,t),e};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.Prediction$=Wn.Prediction$outboundSchema=Wn.Prediction$inboundSchema=Wn.PredictionType$=Wn.PredictionType$outboundSchema=Wn.PredictionType$inboundSchema=Wn.PredictionType=void 0;Wn.predictionToJSON=j2r;Wn.predictionFromJSON=N2r;var Y1=I2r(ge()),D2r=de();Wn.PredictionType={Content:"content"};Wn.PredictionType$inboundSchema=Y1.nativeEnum(Wn.PredictionType);Wn.PredictionType$outboundSchema=Wn.PredictionType$inboundSchema;var nSt;(function(t){t.inboundSchema=Wn.PredictionType$inboundSchema,t.outboundSchema=Wn.PredictionType$outboundSchema})(nSt||(Wn.PredictionType$=nSt={}));Wn.Prediction$inboundSchema=Y1.object({type:Y1.literal("content").default("content"),content:Y1.string().default("")});Wn.Prediction$outboundSchema=Y1.object({type:Y1.literal("content").default("content"),content:Y1.string().default("")});var oSt;(function(t){t.inboundSchema=Wn.Prediction$inboundSchema,t.outboundSchema=Wn.Prediction$outboundSchema})(oSt||(Wn.Prediction$=oSt={}));function j2r(t){return JSON.stringify(Wn.Prediction$outboundSchema.parse(t))}function N2r(t){return(0,D2r.safeParse)(t,e=>Wn.Prediction$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Prediction' from JSON")}});var mOe=b(Ms=>{"use strict";var L2r=Ms&&Ms.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F2r=Ms&&Ms.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B2r=Ms&&Ms.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L2r(e,t,r);return F2r(e,t),e};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.JsonSchema$=Ms.JsonSchema$outboundSchema=Ms.JsonSchema$inboundSchema=void 0;Ms.jsonSchemaToJSON=$2r;Ms.jsonSchemaFromJSON=q2r;var Uf=B2r(ge()),aSt=Ee(),k2r=de();Ms.JsonSchema$inboundSchema=Uf.object({name:Uf.string(),description:Uf.nullable(Uf.string()).optional(),schema:Uf.record(Uf.any()),strict:Uf.boolean().default(!1)}).transform(t=>(0,aSt.remap)(t,{schema:"schemaDefinition"}));Ms.JsonSchema$outboundSchema=Uf.object({name:Uf.string(),description:Uf.nullable(Uf.string()).optional(),schemaDefinition:Uf.record(Uf.any()),strict:Uf.boolean().default(!1)}).transform(t=>(0,aSt.remap)(t,{schemaDefinition:"schema"}));var iSt;(function(t){t.inboundSchema=Ms.JsonSchema$inboundSchema,t.outboundSchema=Ms.JsonSchema$outboundSchema})(iSt||(Ms.JsonSchema$=iSt={}));function $2r(t){return JSON.stringify(Ms.JsonSchema$outboundSchema.parse(t))}function q2r(t){return(0,k2r.safeParse)(t,e=>Ms.JsonSchema$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JsonSchema' from JSON")}});var gOe=b(As=>{"use strict";var U2r=As&&As.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z2r=As&&As.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H2r=As&&As.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U2r(e,t,r);return z2r(e,t),e};Object.defineProperty(As,"__esModule",{value:!0});As.ResponseFormats$=As.ResponseFormats$outboundSchema=As.ResponseFormats$inboundSchema=As.ResponseFormats=void 0;var V2r=H2r(ge());As.ResponseFormats={Text:"text",JsonObject:"json_object",JsonSchema:"json_schema"};As.ResponseFormats$inboundSchema=V2r.nativeEnum(As.ResponseFormats);As.ResponseFormats$outboundSchema=As.ResponseFormats$inboundSchema;var sSt;(function(t){t.inboundSchema=As.ResponseFormats$inboundSchema,t.outboundSchema=As.ResponseFormats$outboundSchema})(sSt||(As.ResponseFormats$=sSt={}))});var Ek=b(Rs=>{"use strict";var W2r=Rs&&Rs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J2r=Rs&&Rs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G2r=Rs&&Rs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W2r(e,t,r);return J2r(e,t),e};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ResponseFormat$=Rs.ResponseFormat$outboundSchema=Rs.ResponseFormat$inboundSchema=void 0;Rs.responseFormatToJSON=Y2r;Rs.responseFormatFromJSON=X2r;var Jee=G2r(ge()),lSt=Ee(),K2r=de(),cSt=mOe(),dSt=gOe();Rs.ResponseFormat$inboundSchema=Jee.object({type:dSt.ResponseFormats$inboundSchema.optional(),json_schema:Jee.nullable(cSt.JsonSchema$inboundSchema).optional()}).transform(t=>(0,lSt.remap)(t,{json_schema:"jsonSchema"}));Rs.ResponseFormat$outboundSchema=Jee.object({type:dSt.ResponseFormats$outboundSchema.optional(),jsonSchema:Jee.nullable(cSt.JsonSchema$outboundSchema).optional()}).transform(t=>(0,lSt.remap)(t,{jsonSchema:"json_schema"}));var uSt;(function(t){t.inboundSchema=Rs.ResponseFormat$inboundSchema,t.outboundSchema=Rs.ResponseFormat$outboundSchema})(uSt||(Rs.ResponseFormat$=uSt={}));function Y2r(t){return JSON.stringify(Rs.ResponseFormat$outboundSchema.parse(t))}function X2r(t){return(0,K2r.safeParse)(t,e=>Rs.ResponseFormat$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ResponseFormat' from JSON")}});var X1=b(tr=>{"use strict";var Z2r=tr&&tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q2r=tr&&tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),e4r=tr&&tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z2r(e,t,r);return Q2r(e,t),e};Object.defineProperty(tr,"__esModule",{value:!0});tr.SystemMessage$=tr.SystemMessage$outboundSchema=tr.SystemMessage$inboundSchema=tr.Role$=tr.Role$outboundSchema=tr.Role$inboundSchema=tr.SystemMessageContent$=tr.SystemMessageContent$outboundSchema=tr.SystemMessageContent$inboundSchema=tr.Role=void 0;tr.systemMessageContentToJSON=t4r;tr.systemMessageContentFromJSON=r4r;tr.systemMessageToJSON=n4r;tr.systemMessageFromJSON=o4r;var Hd=e4r(ge()),mSt=de(),Gee=Hee();tr.Role={System:"system"};tr.SystemMessageContent$inboundSchema=Hd.union([Hd.string(),Hd.array(Gee.TextChunk$inboundSchema)]);tr.SystemMessageContent$outboundSchema=Hd.union([Hd.string(),Hd.array(Gee.TextChunk$outboundSchema)]);var fSt;(function(t){t.inboundSchema=tr.SystemMessageContent$inboundSchema,t.outboundSchema=tr.SystemMessageContent$outboundSchema})(fSt||(tr.SystemMessageContent$=fSt={}));function t4r(t){return JSON.stringify(tr.SystemMessageContent$outboundSchema.parse(t))}function r4r(t){return(0,mSt.safeParse)(t,e=>tr.SystemMessageContent$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'SystemMessageContent' from JSON")}tr.Role$inboundSchema=Hd.nativeEnum(tr.Role);tr.Role$outboundSchema=tr.Role$inboundSchema;var pSt;(function(t){t.inboundSchema=tr.Role$inboundSchema,t.outboundSchema=tr.Role$outboundSchema})(pSt||(tr.Role$=pSt={}));tr.SystemMessage$inboundSchema=Hd.object({content:Hd.union([Hd.string(),Hd.array(Gee.TextChunk$inboundSchema)]),role:tr.Role$inboundSchema.default("system")});tr.SystemMessage$outboundSchema=Hd.object({content:Hd.union([Hd.string(),Hd.array(Gee.TextChunk$outboundSchema)]),role:tr.Role$outboundSchema.default("system")});var hSt;(function(t){t.inboundSchema=tr.SystemMessage$inboundSchema,t.outboundSchema=tr.SystemMessage$outboundSchema})(hSt||(tr.SystemMessage$=hSt={}));function n4r(t){return JSON.stringify(tr.SystemMessage$outboundSchema.parse(t))}function o4r(t){return(0,mSt.safeParse)(t,e=>tr.SystemMessage$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'SystemMessage' from JSON")}});var yOe=b(Is=>{"use strict";var i4r=Is&&Is.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a4r=Is&&Is.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s4r=Is&&Is.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i4r(e,t,r);return a4r(e,t),e};Object.defineProperty(Is,"__esModule",{value:!0});Is.FunctionT$=Is.FunctionT$outboundSchema=Is.FunctionT$inboundSchema=void 0;Is.functionToJSON=l4r;Is.functionFromJSON=c4r;var rm=s4r(ge()),u4r=de();Is.FunctionT$inboundSchema=rm.object({name:rm.string(),description:rm.string().default(""),strict:rm.boolean().default(!1),parameters:rm.record(rm.any())});Is.FunctionT$outboundSchema=rm.object({name:rm.string(),description:rm.string().default(""),strict:rm.boolean().default(!1),parameters:rm.record(rm.any())});var gSt;(function(t){t.inboundSchema=Is.FunctionT$inboundSchema,t.outboundSchema=Is.FunctionT$outboundSchema})(gSt||(Is.FunctionT$=gSt={}));function l4r(t){return JSON.stringify(Is.FunctionT$outboundSchema.parse(t))}function c4r(t){return(0,u4r.safeParse)(t,e=>Is.FunctionT$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FunctionT' from JSON")}});var Pk=b(Ds=>{"use strict";var d4r=Ds&&Ds.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f4r=Ds&&Ds.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p4r=Ds&&Ds.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d4r(e,t,r);return f4r(e,t),e};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.Tool$=Ds.Tool$outboundSchema=Ds.Tool$inboundSchema=void 0;Ds.toolToJSON=m4r;Ds.toolFromJSON=g4r;var bSt=p4r(ge()),h4r=de(),_St=yOe(),vSt=c8();Ds.Tool$inboundSchema=bSt.object({type:vSt.ToolTypes$inboundSchema.optional(),function:_St.FunctionT$inboundSchema});Ds.Tool$outboundSchema=bSt.object({type:vSt.ToolTypes$outboundSchema.optional(),function:_St.FunctionT$outboundSchema});var ySt;(function(t){t.inboundSchema=Ds.Tool$inboundSchema,t.outboundSchema=Ds.Tool$outboundSchema})(ySt||(Ds.Tool$=ySt={}));function m4r(t){return JSON.stringify(Ds.Tool$outboundSchema.parse(t))}function g4r(t){return(0,h4r.safeParse)(t,e=>Ds.Tool$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Tool' from JSON")}});var bOe=b(js=>{"use strict";var y4r=js&&js.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b4r=js&&js.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_4r=js&&js.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&y4r(e,t,r);return b4r(e,t),e};Object.defineProperty(js,"__esModule",{value:!0});js.FunctionName$=js.FunctionName$outboundSchema=js.FunctionName$inboundSchema=void 0;js.functionNameToJSON=w4r;js.functionNameFromJSON=S4r;var Kee=_4r(ge()),v4r=de();js.FunctionName$inboundSchema=Kee.object({name:Kee.string()});js.FunctionName$outboundSchema=Kee.object({name:Kee.string()});var wSt;(function(t){t.inboundSchema=js.FunctionName$inboundSchema,t.outboundSchema=js.FunctionName$outboundSchema})(wSt||(js.FunctionName$=wSt={}));function w4r(t){return JSON.stringify(js.FunctionName$outboundSchema.parse(t))}function S4r(t){return(0,v4r.safeParse)(t,e=>js.FunctionName$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FunctionName' from JSON")}});var Tk=b(Ns=>{"use strict";var x4r=Ns&&Ns.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C4r=Ns&&Ns.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),O4r=Ns&&Ns.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x4r(e,t,r);return C4r(e,t),e};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.ToolChoice$=Ns.ToolChoice$outboundSchema=Ns.ToolChoice$inboundSchema=void 0;Ns.toolChoiceToJSON=P4r;Ns.toolChoiceFromJSON=T4r;var xSt=O4r(ge()),E4r=de(),CSt=bOe(),OSt=c8();Ns.ToolChoice$inboundSchema=xSt.object({type:OSt.ToolTypes$inboundSchema.optional(),function:CSt.FunctionName$inboundSchema});Ns.ToolChoice$outboundSchema=xSt.object({type:OSt.ToolTypes$outboundSchema.optional(),function:CSt.FunctionName$outboundSchema});var SSt;(function(t){t.inboundSchema=Ns.ToolChoice$inboundSchema,t.outboundSchema=Ns.ToolChoice$outboundSchema})(SSt||(Ns.ToolChoice$=SSt={}));function P4r(t){return JSON.stringify(Ns.ToolChoice$outboundSchema.parse(t))}function T4r(t){return(0,E4r.safeParse)(t,e=>Ns.ToolChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ToolChoice' from JSON")}});var Mk=b(Ls=>{"use strict";var M4r=Ls&&Ls.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A4r=Ls&&Ls.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R4r=Ls&&Ls.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&M4r(e,t,r);return A4r(e,t),e};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ToolChoiceEnum$=Ls.ToolChoiceEnum$outboundSchema=Ls.ToolChoiceEnum$inboundSchema=Ls.ToolChoiceEnum=void 0;var I4r=R4r(ge());Ls.ToolChoiceEnum={Auto:"auto",None:"none",Any:"any",Required:"required"};Ls.ToolChoiceEnum$inboundSchema=I4r.nativeEnum(Ls.ToolChoiceEnum);Ls.ToolChoiceEnum$outboundSchema=Ls.ToolChoiceEnum$inboundSchema;var ESt;(function(t){t.inboundSchema=Ls.ToolChoiceEnum$inboundSchema,t.outboundSchema=Ls.ToolChoiceEnum$outboundSchema})(ESt||(Ls.ToolChoiceEnum$=ESt={}))});var Z1=b(rr=>{"use strict";var D4r=rr&&rr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j4r=rr&&rr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N4r=rr&&rr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&D4r(e,t,r);return j4r(e,t),e};Object.defineProperty(rr,"__esModule",{value:!0});rr.ToolMessage$=rr.ToolMessage$outboundSchema=rr.ToolMessage$inboundSchema=rr.ToolMessageRole$=rr.ToolMessageRole$outboundSchema=rr.ToolMessageRole$inboundSchema=rr.ToolMessageContent$=rr.ToolMessageContent$outboundSchema=rr.ToolMessageContent$inboundSchema=rr.ToolMessageRole=void 0;rr.toolMessageContentToJSON=L4r;rr.toolMessageContentFromJSON=F4r;rr.toolMessageToJSON=B4r;rr.toolMessageFromJSON=k4r;var Mi=N4r(ge()),ASt=Ee(),RSt=de(),Yee=xk();rr.ToolMessageRole={Tool:"tool"};rr.ToolMessageContent$inboundSchema=Mi.union([Mi.string(),Mi.array(Yee.ContentChunk$inboundSchema)]);rr.ToolMessageContent$outboundSchema=Mi.union([Mi.string(),Mi.array(Yee.ContentChunk$outboundSchema)]);var PSt;(function(t){t.inboundSchema=rr.ToolMessageContent$inboundSchema,t.outboundSchema=rr.ToolMessageContent$outboundSchema})(PSt||(rr.ToolMessageContent$=PSt={}));function L4r(t){return JSON.stringify(rr.ToolMessageContent$outboundSchema.parse(t))}function F4r(t){return(0,RSt.safeParse)(t,e=>rr.ToolMessageContent$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ToolMessageContent' from JSON")}rr.ToolMessageRole$inboundSchema=Mi.nativeEnum(rr.ToolMessageRole);rr.ToolMessageRole$outboundSchema=rr.ToolMessageRole$inboundSchema;var TSt;(function(t){t.inboundSchema=rr.ToolMessageRole$inboundSchema,t.outboundSchema=rr.ToolMessageRole$outboundSchema})(TSt||(rr.ToolMessageRole$=TSt={}));rr.ToolMessage$inboundSchema=Mi.object({content:Mi.nullable(Mi.union([Mi.string(),Mi.array(Yee.ContentChunk$inboundSchema)])),tool_call_id:Mi.nullable(Mi.string()).optional(),name:Mi.nullable(Mi.string()).optional(),role:rr.ToolMessageRole$inboundSchema.default("tool")}).transform(t=>(0,ASt.remap)(t,{tool_call_id:"toolCallId"}));rr.ToolMessage$outboundSchema=Mi.object({content:Mi.nullable(Mi.union([Mi.string(),Mi.array(Yee.ContentChunk$outboundSchema)])),toolCallId:Mi.nullable(Mi.string()).optional(),name:Mi.nullable(Mi.string()).optional(),role:rr.ToolMessageRole$outboundSchema.default("tool")}).transform(t=>(0,ASt.remap)(t,{toolCallId:"tool_call_id"}));var MSt;(function(t){t.inboundSchema=rr.ToolMessage$inboundSchema,t.outboundSchema=rr.ToolMessage$outboundSchema})(MSt||(rr.ToolMessage$=MSt={}));function B4r(t){return JSON.stringify(rr.ToolMessage$outboundSchema.parse(t))}function k4r(t){return(0,RSt.safeParse)(t,e=>rr.ToolMessage$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ToolMessage' from JSON")}});var Q1=b(nr=>{"use strict";var $4r=nr&&nr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q4r=nr&&nr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U4r=nr&&nr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$4r(e,t,r);return q4r(e,t),e};Object.defineProperty(nr,"__esModule",{value:!0});nr.UserMessage$=nr.UserMessage$outboundSchema=nr.UserMessage$inboundSchema=nr.UserMessageRole$=nr.UserMessageRole$outboundSchema=nr.UserMessageRole$inboundSchema=nr.UserMessageContent$=nr.UserMessageContent$outboundSchema=nr.UserMessageContent$inboundSchema=nr.UserMessageRole=void 0;nr.userMessageContentToJSON=z4r;nr.userMessageContentFromJSON=H4r;nr.userMessageToJSON=V4r;nr.userMessageFromJSON=W4r;var yc=U4r(ge()),NSt=de(),Xee=xk();nr.UserMessageRole={User:"user"};nr.UserMessageContent$inboundSchema=yc.union([yc.string(),yc.array(Xee.ContentChunk$inboundSchema)]);nr.UserMessageContent$outboundSchema=yc.union([yc.string(),yc.array(Xee.ContentChunk$outboundSchema)]);var ISt;(function(t){t.inboundSchema=nr.UserMessageContent$inboundSchema,t.outboundSchema=nr.UserMessageContent$outboundSchema})(ISt||(nr.UserMessageContent$=ISt={}));function z4r(t){return JSON.stringify(nr.UserMessageContent$outboundSchema.parse(t))}function H4r(t){return(0,NSt.safeParse)(t,e=>nr.UserMessageContent$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'UserMessageContent' from JSON")}nr.UserMessageRole$inboundSchema=yc.nativeEnum(nr.UserMessageRole);nr.UserMessageRole$outboundSchema=nr.UserMessageRole$inboundSchema;var DSt;(function(t){t.inboundSchema=nr.UserMessageRole$inboundSchema,t.outboundSchema=nr.UserMessageRole$outboundSchema})(DSt||(nr.UserMessageRole$=DSt={}));nr.UserMessage$inboundSchema=yc.object({content:yc.nullable(yc.union([yc.string(),yc.array(Xee.ContentChunk$inboundSchema)])),role:nr.UserMessageRole$inboundSchema.default("user")});nr.UserMessage$outboundSchema=yc.object({content:yc.nullable(yc.union([yc.string(),yc.array(Xee.ContentChunk$outboundSchema)])),role:nr.UserMessageRole$outboundSchema.default("user")});var jSt;(function(t){t.inboundSchema=nr.UserMessage$inboundSchema,t.outboundSchema=nr.UserMessage$outboundSchema})(jSt||(nr.UserMessage$=jSt={}));function V4r(t){return JSON.stringify(nr.UserMessage$outboundSchema.parse(t))}function W4r(t){return(0,NSt.safeParse)(t,e=>nr.UserMessage$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'UserMessage' from JSON")}});var HSt=b(Ot=>{"use strict";var J4r=Ot&&Ot.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G4r=Ot&&Ot.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),K4r=Ot&&Ot.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J4r(e,t,r);return G4r(e,t),e};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.AgentsCompletionRequest$=Ot.AgentsCompletionRequest$outboundSchema=Ot.AgentsCompletionRequest$inboundSchema=Ot.AgentsCompletionRequestToolChoice$=Ot.AgentsCompletionRequestToolChoice$outboundSchema=Ot.AgentsCompletionRequestToolChoice$inboundSchema=Ot.AgentsCompletionRequestMessages$=Ot.AgentsCompletionRequestMessages$outboundSchema=Ot.AgentsCompletionRequestMessages$inboundSchema=Ot.AgentsCompletionRequestStop$=Ot.AgentsCompletionRequestStop$outboundSchema=Ot.AgentsCompletionRequestStop$inboundSchema=void 0;Ot.agentsCompletionRequestStopToJSON=Y4r;Ot.agentsCompletionRequestStopFromJSON=X4r;Ot.agentsCompletionRequestMessagesToJSON=Z4r;Ot.agentsCompletionRequestMessagesFromJSON=Q4r;Ot.agentsCompletionRequestToolChoiceToJSON=e3r;Ot.agentsCompletionRequestToolChoiceFromJSON=t3r;Ot.agentsCompletionRequestToJSON=r3r;Ot.agentsCompletionRequestFromJSON=n3r;var Ne=K4r(ge()),$St=Ee(),Zee=de(),Qee=TT(),qSt=Ok(),USt=Ek(),ete=X1(),zSt=Pk(),tte=Tk(),rte=Mk(),nte=Z1(),ote=Q1();Ot.AgentsCompletionRequestStop$inboundSchema=Ne.union([Ne.string(),Ne.array(Ne.string())]);Ot.AgentsCompletionRequestStop$outboundSchema=Ne.union([Ne.string(),Ne.array(Ne.string())]);var LSt;(function(t){t.inboundSchema=Ot.AgentsCompletionRequestStop$inboundSchema,t.outboundSchema=Ot.AgentsCompletionRequestStop$outboundSchema})(LSt||(Ot.AgentsCompletionRequestStop$=LSt={}));function Y4r(t){return JSON.stringify(Ot.AgentsCompletionRequestStop$outboundSchema.parse(t))}function X4r(t){return(0,Zee.safeParse)(t,e=>Ot.AgentsCompletionRequestStop$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionRequestStop' from JSON")}Ot.AgentsCompletionRequestMessages$inboundSchema=Ne.union([ete.SystemMessage$inboundSchema.and(Ne.object({role:Ne.literal("system")}).transform(t=>({role:t.role}))),ote.UserMessage$inboundSchema.and(Ne.object({role:Ne.literal("user")}).transform(t=>({role:t.role}))),Qee.AssistantMessage$inboundSchema.and(Ne.object({role:Ne.literal("assistant")}).transform(t=>({role:t.role}))),nte.ToolMessage$inboundSchema.and(Ne.object({role:Ne.literal("tool")}).transform(t=>({role:t.role})))]);Ot.AgentsCompletionRequestMessages$outboundSchema=Ne.union([ete.SystemMessage$outboundSchema.and(Ne.object({role:Ne.literal("system")}).transform(t=>({role:t.role}))),ote.UserMessage$outboundSchema.and(Ne.object({role:Ne.literal("user")}).transform(t=>({role:t.role}))),Qee.AssistantMessage$outboundSchema.and(Ne.object({role:Ne.literal("assistant")}).transform(t=>({role:t.role}))),nte.ToolMessage$outboundSchema.and(Ne.object({role:Ne.literal("tool")}).transform(t=>({role:t.role})))]);var FSt;(function(t){t.inboundSchema=Ot.AgentsCompletionRequestMessages$inboundSchema,t.outboundSchema=Ot.AgentsCompletionRequestMessages$outboundSchema})(FSt||(Ot.AgentsCompletionRequestMessages$=FSt={}));function Z4r(t){return JSON.stringify(Ot.AgentsCompletionRequestMessages$outboundSchema.parse(t))}function Q4r(t){return(0,Zee.safeParse)(t,e=>Ot.AgentsCompletionRequestMessages$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionRequestMessages' from JSON")}Ot.AgentsCompletionRequestToolChoice$inboundSchema=Ne.union([tte.ToolChoice$inboundSchema,rte.ToolChoiceEnum$inboundSchema]);Ot.AgentsCompletionRequestToolChoice$outboundSchema=Ne.union([tte.ToolChoice$outboundSchema,rte.ToolChoiceEnum$outboundSchema]);var BSt;(function(t){t.inboundSchema=Ot.AgentsCompletionRequestToolChoice$inboundSchema,t.outboundSchema=Ot.AgentsCompletionRequestToolChoice$outboundSchema})(BSt||(Ot.AgentsCompletionRequestToolChoice$=BSt={}));function e3r(t){return JSON.stringify(Ot.AgentsCompletionRequestToolChoice$outboundSchema.parse(t))}function t3r(t){return(0,Zee.safeParse)(t,e=>Ot.AgentsCompletionRequestToolChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionRequestToolChoice' from JSON")}Ot.AgentsCompletionRequest$inboundSchema=Ne.object({max_tokens:Ne.nullable(Ne.number().int()).optional(),stream:Ne.boolean().default(!1),stop:Ne.union([Ne.string(),Ne.array(Ne.string())]).optional(),random_seed:Ne.nullable(Ne.number().int()).optional(),messages:Ne.array(Ne.union([ete.SystemMessage$inboundSchema.and(Ne.object({role:Ne.literal("system")}).transform(t=>({role:t.role}))),ote.UserMessage$inboundSchema.and(Ne.object({role:Ne.literal("user")}).transform(t=>({role:t.role}))),Qee.AssistantMessage$inboundSchema.and(Ne.object({role:Ne.literal("assistant")}).transform(t=>({role:t.role}))),nte.ToolMessage$inboundSchema.and(Ne.object({role:Ne.literal("tool")}).transform(t=>({role:t.role})))])),response_format:USt.ResponseFormat$inboundSchema.optional(),tools:Ne.nullable(Ne.array(zSt.Tool$inboundSchema)).optional(),tool_choice:Ne.union([tte.ToolChoice$inboundSchema,rte.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:Ne.number().optional(),frequency_penalty:Ne.number().optional(),n:Ne.nullable(Ne.number().int()).optional(),prediction:qSt.Prediction$inboundSchema.optional(),agent_id:Ne.string()}).transform(t=>(0,$St.remap)(t,{max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",agent_id:"agentId"}));Ot.AgentsCompletionRequest$outboundSchema=Ne.object({maxTokens:Ne.nullable(Ne.number().int()).optional(),stream:Ne.boolean().default(!1),stop:Ne.union([Ne.string(),Ne.array(Ne.string())]).optional(),randomSeed:Ne.nullable(Ne.number().int()).optional(),messages:Ne.array(Ne.union([ete.SystemMessage$outboundSchema.and(Ne.object({role:Ne.literal("system")}).transform(t=>({role:t.role}))),ote.UserMessage$outboundSchema.and(Ne.object({role:Ne.literal("user")}).transform(t=>({role:t.role}))),Qee.AssistantMessage$outboundSchema.and(Ne.object({role:Ne.literal("assistant")}).transform(t=>({role:t.role}))),nte.ToolMessage$outboundSchema.and(Ne.object({role:Ne.literal("tool")}).transform(t=>({role:t.role})))])),responseFormat:USt.ResponseFormat$outboundSchema.optional(),tools:Ne.nullable(Ne.array(zSt.Tool$outboundSchema)).optional(),toolChoice:Ne.union([tte.ToolChoice$outboundSchema,rte.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:Ne.number().optional(),frequencyPenalty:Ne.number().optional(),n:Ne.nullable(Ne.number().int()).optional(),prediction:qSt.Prediction$outboundSchema.optional(),agentId:Ne.string()}).transform(t=>(0,$St.remap)(t,{maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",agentId:"agent_id"}));var kSt;(function(t){t.inboundSchema=Ot.AgentsCompletionRequest$inboundSchema,t.outboundSchema=Ot.AgentsCompletionRequest$outboundSchema})(kSt||(Ot.AgentsCompletionRequest$=kSt={}));function r3r(t){return JSON.stringify(Ot.AgentsCompletionRequest$outboundSchema.parse(t))}function n3r(t){return(0,Zee.safeParse)(t,e=>Ot.AgentsCompletionRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionRequest' from JSON")}});var QSt=b(Et=>{"use strict";var o3r=Et&&Et.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i3r=Et&&Et.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a3r=Et&&Et.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&o3r(e,t,r);return i3r(e,t),e};Object.defineProperty(Et,"__esModule",{value:!0});Et.AgentsCompletionStreamRequest$=Et.AgentsCompletionStreamRequest$outboundSchema=Et.AgentsCompletionStreamRequest$inboundSchema=Et.AgentsCompletionStreamRequestToolChoice$=Et.AgentsCompletionStreamRequestToolChoice$outboundSchema=Et.AgentsCompletionStreamRequestToolChoice$inboundSchema=Et.AgentsCompletionStreamRequestMessages$=Et.AgentsCompletionStreamRequestMessages$outboundSchema=Et.AgentsCompletionStreamRequestMessages$inboundSchema=Et.AgentsCompletionStreamRequestStop$=Et.AgentsCompletionStreamRequestStop$outboundSchema=Et.AgentsCompletionStreamRequestStop$inboundSchema=void 0;Et.agentsCompletionStreamRequestStopToJSON=s3r;Et.agentsCompletionStreamRequestStopFromJSON=u3r;Et.agentsCompletionStreamRequestMessagesToJSON=l3r;Et.agentsCompletionStreamRequestMessagesFromJSON=c3r;Et.agentsCompletionStreamRequestToolChoiceToJSON=d3r;Et.agentsCompletionStreamRequestToolChoiceFromJSON=f3r;Et.agentsCompletionStreamRequestToJSON=p3r;Et.agentsCompletionStreamRequestFromJSON=h3r;var Le=a3r(ge()),KSt=Ee(),ite=de(),ate=TT(),YSt=Ok(),XSt=Ek(),ste=X1(),ZSt=Pk(),ute=Tk(),lte=Mk(),cte=Z1(),dte=Q1();Et.AgentsCompletionStreamRequestStop$inboundSchema=Le.union([Le.string(),Le.array(Le.string())]);Et.AgentsCompletionStreamRequestStop$outboundSchema=Le.union([Le.string(),Le.array(Le.string())]);var VSt;(function(t){t.inboundSchema=Et.AgentsCompletionStreamRequestStop$inboundSchema,t.outboundSchema=Et.AgentsCompletionStreamRequestStop$outboundSchema})(VSt||(Et.AgentsCompletionStreamRequestStop$=VSt={}));function s3r(t){return JSON.stringify(Et.AgentsCompletionStreamRequestStop$outboundSchema.parse(t))}function u3r(t){return(0,ite.safeParse)(t,e=>Et.AgentsCompletionStreamRequestStop$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionStreamRequestStop' from JSON")}Et.AgentsCompletionStreamRequestMessages$inboundSchema=Le.union([ste.SystemMessage$inboundSchema.and(Le.object({role:Le.literal("system")}).transform(t=>({role:t.role}))),dte.UserMessage$inboundSchema.and(Le.object({role:Le.literal("user")}).transform(t=>({role:t.role}))),ate.AssistantMessage$inboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(t=>({role:t.role}))),cte.ToolMessage$inboundSchema.and(Le.object({role:Le.literal("tool")}).transform(t=>({role:t.role})))]);Et.AgentsCompletionStreamRequestMessages$outboundSchema=Le.union([ste.SystemMessage$outboundSchema.and(Le.object({role:Le.literal("system")}).transform(t=>({role:t.role}))),dte.UserMessage$outboundSchema.and(Le.object({role:Le.literal("user")}).transform(t=>({role:t.role}))),ate.AssistantMessage$outboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(t=>({role:t.role}))),cte.ToolMessage$outboundSchema.and(Le.object({role:Le.literal("tool")}).transform(t=>({role:t.role})))]);var WSt;(function(t){t.inboundSchema=Et.AgentsCompletionStreamRequestMessages$inboundSchema,t.outboundSchema=Et.AgentsCompletionStreamRequestMessages$outboundSchema})(WSt||(Et.AgentsCompletionStreamRequestMessages$=WSt={}));function l3r(t){return JSON.stringify(Et.AgentsCompletionStreamRequestMessages$outboundSchema.parse(t))}function c3r(t){return(0,ite.safeParse)(t,e=>Et.AgentsCompletionStreamRequestMessages$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionStreamRequestMessages' from JSON")}Et.AgentsCompletionStreamRequestToolChoice$inboundSchema=Le.union([ute.ToolChoice$inboundSchema,lte.ToolChoiceEnum$inboundSchema]);Et.AgentsCompletionStreamRequestToolChoice$outboundSchema=Le.union([ute.ToolChoice$outboundSchema,lte.ToolChoiceEnum$outboundSchema]);var JSt;(function(t){t.inboundSchema=Et.AgentsCompletionStreamRequestToolChoice$inboundSchema,t.outboundSchema=Et.AgentsCompletionStreamRequestToolChoice$outboundSchema})(JSt||(Et.AgentsCompletionStreamRequestToolChoice$=JSt={}));function d3r(t){return JSON.stringify(Et.AgentsCompletionStreamRequestToolChoice$outboundSchema.parse(t))}function f3r(t){return(0,ite.safeParse)(t,e=>Et.AgentsCompletionStreamRequestToolChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionStreamRequestToolChoice' from JSON")}Et.AgentsCompletionStreamRequest$inboundSchema=Le.object({max_tokens:Le.nullable(Le.number().int()).optional(),stream:Le.boolean().default(!0),stop:Le.union([Le.string(),Le.array(Le.string())]).optional(),random_seed:Le.nullable(Le.number().int()).optional(),messages:Le.array(Le.union([ste.SystemMessage$inboundSchema.and(Le.object({role:Le.literal("system")}).transform(t=>({role:t.role}))),dte.UserMessage$inboundSchema.and(Le.object({role:Le.literal("user")}).transform(t=>({role:t.role}))),ate.AssistantMessage$inboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(t=>({role:t.role}))),cte.ToolMessage$inboundSchema.and(Le.object({role:Le.literal("tool")}).transform(t=>({role:t.role})))])),response_format:XSt.ResponseFormat$inboundSchema.optional(),tools:Le.nullable(Le.array(ZSt.Tool$inboundSchema)).optional(),tool_choice:Le.union([ute.ToolChoice$inboundSchema,lte.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:Le.number().optional(),frequency_penalty:Le.number().optional(),n:Le.nullable(Le.number().int()).optional(),prediction:YSt.Prediction$inboundSchema.optional(),agent_id:Le.string()}).transform(t=>(0,KSt.remap)(t,{max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",agent_id:"agentId"}));Et.AgentsCompletionStreamRequest$outboundSchema=Le.object({maxTokens:Le.nullable(Le.number().int()).optional(),stream:Le.boolean().default(!0),stop:Le.union([Le.string(),Le.array(Le.string())]).optional(),randomSeed:Le.nullable(Le.number().int()).optional(),messages:Le.array(Le.union([ste.SystemMessage$outboundSchema.and(Le.object({role:Le.literal("system")}).transform(t=>({role:t.role}))),dte.UserMessage$outboundSchema.and(Le.object({role:Le.literal("user")}).transform(t=>({role:t.role}))),ate.AssistantMessage$outboundSchema.and(Le.object({role:Le.literal("assistant")}).transform(t=>({role:t.role}))),cte.ToolMessage$outboundSchema.and(Le.object({role:Le.literal("tool")}).transform(t=>({role:t.role})))])),responseFormat:XSt.ResponseFormat$outboundSchema.optional(),tools:Le.nullable(Le.array(ZSt.Tool$outboundSchema)).optional(),toolChoice:Le.union([ute.ToolChoice$outboundSchema,lte.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:Le.number().optional(),frequencyPenalty:Le.number().optional(),n:Le.nullable(Le.number().int()).optional(),prediction:YSt.Prediction$outboundSchema.optional(),agentId:Le.string()}).transform(t=>(0,KSt.remap)(t,{maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",agentId:"agent_id"}));var GSt;(function(t){t.inboundSchema=Et.AgentsCompletionStreamRequest$inboundSchema,t.outboundSchema=Et.AgentsCompletionStreamRequest$outboundSchema})(GSt||(Et.AgentsCompletionStreamRequest$=GSt={}));function p3r(t){return JSON.stringify(Et.AgentsCompletionStreamRequest$outboundSchema.parse(t))}function h3r(t){return(0,ite.safeParse)(t,e=>Et.AgentsCompletionStreamRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'AgentsCompletionStreamRequest' from JSON")}});var _Oe=b(Fs=>{"use strict";var m3r=Fs&&Fs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),g3r=Fs&&Fs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),y3r=Fs&&Fs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m3r(e,t,r);return g3r(e,t),e};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ApiEndpoint$=Fs.ApiEndpoint$outboundSchema=Fs.ApiEndpoint$inboundSchema=Fs.ApiEndpoint=void 0;var eD=y3r(ge()),b3r=PT();Fs.ApiEndpoint={RootV1ChatCompletions:"/v1/chat/completions",RootV1Embeddings:"/v1/embeddings",RootV1FimCompletions:"/v1/fim/completions",RootV1Moderations:"/v1/moderations",RootV1ChatModerations:"/v1/chat/moderations"};Fs.ApiEndpoint$inboundSchema=eD.union([eD.nativeEnum(Fs.ApiEndpoint),eD.string().transform(b3r.catchUnrecognizedEnum)]);Fs.ApiEndpoint$outboundSchema=eD.union([eD.nativeEnum(Fs.ApiEndpoint),eD.string().and(eD.custom())]);var ext;(function(t){t.inboundSchema=Fs.ApiEndpoint$inboundSchema,t.outboundSchema=Fs.ApiEndpoint$outboundSchema})(ext||(Fs.ApiEndpoint$=ext={}))});var nxt=b(Jn=>{"use strict";var _3r=Jn&&Jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v3r=Jn&&Jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w3r=Jn&&Jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_3r(e,t,r);return v3r(e,t),e};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ArchiveFTModelOut$=Jn.ArchiveFTModelOut$outboundSchema=Jn.ArchiveFTModelOut$inboundSchema=Jn.ArchiveFTModelOutObject$=Jn.ArchiveFTModelOutObject$outboundSchema=Jn.ArchiveFTModelOutObject$inboundSchema=Jn.ArchiveFTModelOutObject=void 0;Jn.archiveFTModelOutToJSON=x3r;Jn.archiveFTModelOutFromJSON=C3r;var AC=w3r(ge()),S3r=de();Jn.ArchiveFTModelOutObject={Model:"model"};Jn.ArchiveFTModelOutObject$inboundSchema=AC.nativeEnum(Jn.ArchiveFTModelOutObject);Jn.ArchiveFTModelOutObject$outboundSchema=Jn.ArchiveFTModelOutObject$inboundSchema;var txt;(function(t){t.inboundSchema=Jn.ArchiveFTModelOutObject$inboundSchema,t.outboundSchema=Jn.ArchiveFTModelOutObject$outboundSchema})(txt||(Jn.ArchiveFTModelOutObject$=txt={}));Jn.ArchiveFTModelOut$inboundSchema=AC.object({id:AC.string(),object:AC.literal("model").default("model"),archived:AC.boolean().default(!0)});Jn.ArchiveFTModelOut$outboundSchema=AC.object({id:AC.string(),object:AC.literal("model").default("model"),archived:AC.boolean().default(!0)});var rxt;(function(t){t.inboundSchema=Jn.ArchiveFTModelOut$inboundSchema,t.outboundSchema=Jn.ArchiveFTModelOut$outboundSchema})(rxt||(Jn.ArchiveFTModelOut$=rxt={}));function x3r(t){return JSON.stringify(Jn.ArchiveFTModelOut$outboundSchema.parse(t))}function C3r(t){return(0,S3r.safeParse)(t,e=>Jn.ArchiveFTModelOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ArchiveFTModelOut' from JSON")}});var fte=b(Bs=>{"use strict";var O3r=Bs&&Bs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),E3r=Bs&&Bs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),P3r=Bs&&Bs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&O3r(e,t,r);return E3r(e,t),e};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.ModelCapabilities$=Bs.ModelCapabilities$outboundSchema=Bs.ModelCapabilities$inboundSchema=void 0;Bs.modelCapabilitiesToJSON=M3r;Bs.modelCapabilitiesFromJSON=A3r;var nm=P3r(ge()),ixt=Ee(),T3r=de();Bs.ModelCapabilities$inboundSchema=nm.object({completion_chat:nm.boolean().default(!0),completion_fim:nm.boolean().default(!1),function_calling:nm.boolean().default(!0),fine_tuning:nm.boolean().default(!1),vision:nm.boolean().default(!1)}).transform(t=>(0,ixt.remap)(t,{completion_chat:"completionChat",completion_fim:"completionFim",function_calling:"functionCalling",fine_tuning:"fineTuning"}));Bs.ModelCapabilities$outboundSchema=nm.object({completionChat:nm.boolean().default(!0),completionFim:nm.boolean().default(!1),functionCalling:nm.boolean().default(!0),fineTuning:nm.boolean().default(!1),vision:nm.boolean().default(!1)}).transform(t=>(0,ixt.remap)(t,{completionChat:"completion_chat",completionFim:"completion_fim",functionCalling:"function_calling",fineTuning:"fine_tuning"}));var oxt;(function(t){t.inboundSchema=Bs.ModelCapabilities$inboundSchema,t.outboundSchema=Bs.ModelCapabilities$outboundSchema})(oxt||(Bs.ModelCapabilities$=oxt={}));function M3r(t){return JSON.stringify(Bs.ModelCapabilities$outboundSchema.parse(t))}function A3r(t){return(0,T3r.safeParse)(t,e=>Bs.ModelCapabilities$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ModelCapabilities' from JSON")}});var vOe=b(Gn=>{"use strict";var R3r=Gn&&Gn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I3r=Gn&&Gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),D3r=Gn&&Gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R3r(e,t,r);return I3r(e,t),e};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.BaseModelCard$=Gn.BaseModelCard$outboundSchema=Gn.BaseModelCard$inboundSchema=Gn.Type$=Gn.Type$outboundSchema=Gn.Type$inboundSchema=Gn.Type=void 0;Gn.baseModelCardToJSON=N3r;Gn.baseModelCardFromJSON=L3r;var _n=D3r(ge()),uxt=Ee(),j3r=de(),lxt=fte();Gn.Type={Base:"base"};Gn.Type$inboundSchema=_n.nativeEnum(Gn.Type);Gn.Type$outboundSchema=Gn.Type$inboundSchema;var axt;(function(t){t.inboundSchema=Gn.Type$inboundSchema,t.outboundSchema=Gn.Type$outboundSchema})(axt||(Gn.Type$=axt={}));Gn.BaseModelCard$inboundSchema=_n.object({id:_n.string(),object:_n.string().default("model"),created:_n.number().int().optional(),owned_by:_n.string().default("mistralai"),capabilities:lxt.ModelCapabilities$inboundSchema,name:_n.nullable(_n.string()).optional(),description:_n.nullable(_n.string()).optional(),max_context_length:_n.number().int().default(32768),aliases:_n.array(_n.string()).optional(),deprecation:_n.nullable(_n.string().datetime({offset:!0}).transform(t=>new Date(t))).optional(),default_model_temperature:_n.nullable(_n.number()).optional(),type:_n.literal("base").default("base")}).transform(t=>(0,uxt.remap)(t,{owned_by:"ownedBy",max_context_length:"maxContextLength",default_model_temperature:"defaultModelTemperature"}));Gn.BaseModelCard$outboundSchema=_n.object({id:_n.string(),object:_n.string().default("model"),created:_n.number().int().optional(),ownedBy:_n.string().default("mistralai"),capabilities:lxt.ModelCapabilities$outboundSchema,name:_n.nullable(_n.string()).optional(),description:_n.nullable(_n.string()).optional(),maxContextLength:_n.number().int().default(32768),aliases:_n.array(_n.string()).optional(),deprecation:_n.nullable(_n.date().transform(t=>t.toISOString())).optional(),defaultModelTemperature:_n.nullable(_n.number()).optional(),type:_n.literal("base").default("base")}).transform(t=>(0,uxt.remap)(t,{ownedBy:"owned_by",maxContextLength:"max_context_length",defaultModelTemperature:"default_model_temperature"}));var sxt;(function(t){t.inboundSchema=Gn.BaseModelCard$inboundSchema,t.outboundSchema=Gn.BaseModelCard$outboundSchema})(sxt||(Gn.BaseModelCard$=sxt={}));function N3r(t){return JSON.stringify(Gn.BaseModelCard$outboundSchema.parse(t))}function L3r(t){return(0,j3r.safeParse)(t,e=>Gn.BaseModelCard$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'BaseModelCard' from JSON")}});var wOe=b(ks=>{"use strict";var F3r=ks&&ks.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B3r=ks&&ks.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k3r=ks&&ks.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F3r(e,t,r);return B3r(e,t),e};Object.defineProperty(ks,"__esModule",{value:!0});ks.BatchError$=ks.BatchError$outboundSchema=ks.BatchError$inboundSchema=void 0;ks.batchErrorToJSON=q3r;ks.batchErrorFromJSON=U3r;var Ak=k3r(ge()),$3r=de();ks.BatchError$inboundSchema=Ak.object({message:Ak.string(),count:Ak.number().int().default(1)});ks.BatchError$outboundSchema=Ak.object({message:Ak.string(),count:Ak.number().int().default(1)});var cxt;(function(t){t.inboundSchema=ks.BatchError$inboundSchema,t.outboundSchema=ks.BatchError$outboundSchema})(cxt||(ks.BatchError$=cxt={}));function q3r(t){return JSON.stringify(ks.BatchError$outboundSchema.parse(t))}function U3r(t){return(0,$3r.safeParse)(t,e=>ks.BatchError$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'BatchError' from JSON")}});var hxt=b($s=>{"use strict";var z3r=$s&&$s.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H3r=$s&&$s.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V3r=$s&&$s.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z3r(e,t,r);return H3r(e,t),e};Object.defineProperty($s,"__esModule",{value:!0});$s.BatchJobIn$=$s.BatchJobIn$outboundSchema=$s.BatchJobIn$inboundSchema=void 0;$s.batchJobInToJSON=J3r;$s.batchJobInFromJSON=G3r;var ud=V3r(ge()),fxt=Ee(),W3r=de(),pxt=_Oe();$s.BatchJobIn$inboundSchema=ud.object({input_files:ud.array(ud.string()),endpoint:pxt.ApiEndpoint$inboundSchema,model:ud.string(),metadata:ud.nullable(ud.record(ud.string())).optional(),timeout_hours:ud.number().int().default(24)}).transform(t=>(0,fxt.remap)(t,{input_files:"inputFiles",timeout_hours:"timeoutHours"}));$s.BatchJobIn$outboundSchema=ud.object({inputFiles:ud.array(ud.string()),endpoint:pxt.ApiEndpoint$outboundSchema,model:ud.string(),metadata:ud.nullable(ud.record(ud.string())).optional(),timeoutHours:ud.number().int().default(24)}).transform(t=>(0,fxt.remap)(t,{inputFiles:"input_files",timeoutHours:"timeout_hours"}));var dxt;(function(t){t.inboundSchema=$s.BatchJobIn$inboundSchema,t.outboundSchema=$s.BatchJobIn$outboundSchema})(dxt||($s.BatchJobIn$=dxt={}));function J3r(t){return JSON.stringify($s.BatchJobIn$outboundSchema.parse(t))}function G3r(t){return(0,W3r.safeParse)(t,e=>$s.BatchJobIn$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'BatchJobIn' from JSON")}});var SOe=b(qs=>{"use strict";var K3r=qs&&qs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y3r=qs&&qs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X3r=qs&&qs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K3r(e,t,r);return Y3r(e,t),e};Object.defineProperty(qs,"__esModule",{value:!0});qs.BatchJobStatus$=qs.BatchJobStatus$outboundSchema=qs.BatchJobStatus$inboundSchema=qs.BatchJobStatus=void 0;var Z3r=X3r(ge());qs.BatchJobStatus={Queued:"QUEUED",Running:"RUNNING",Success:"SUCCESS",Failed:"FAILED",TimeoutExceeded:"TIMEOUT_EXCEEDED",CancellationRequested:"CANCELLATION_REQUESTED",Cancelled:"CANCELLED"};qs.BatchJobStatus$inboundSchema=Z3r.nativeEnum(qs.BatchJobStatus);qs.BatchJobStatus$outboundSchema=qs.BatchJobStatus$inboundSchema;var mxt;(function(t){t.inboundSchema=qs.BatchJobStatus$inboundSchema,t.outboundSchema=qs.BatchJobStatus$outboundSchema})(mxt||(qs.BatchJobStatus$=mxt={}))});var xOe=b(Kn=>{"use strict";var Q3r=Kn&&Kn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e8r=Kn&&Kn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t8r=Kn&&Kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Q3r(e,t,r);return e8r(e,t),e};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.BatchJobOut$=Kn.BatchJobOut$outboundSchema=Kn.BatchJobOut$inboundSchema=Kn.BatchJobOutObject$=Kn.BatchJobOutObject$outboundSchema=Kn.BatchJobOutObject$inboundSchema=Kn.BatchJobOutObject=void 0;Kn.batchJobOutToJSON=n8r;Kn.batchJobOutFromJSON=o8r;var $t=t8r(ge()),bxt=Ee(),r8r=de(),_xt=wOe(),vxt=SOe();Kn.BatchJobOutObject={Batch:"batch"};Kn.BatchJobOutObject$inboundSchema=$t.nativeEnum(Kn.BatchJobOutObject);Kn.BatchJobOutObject$outboundSchema=Kn.BatchJobOutObject$inboundSchema;var gxt;(function(t){t.inboundSchema=Kn.BatchJobOutObject$inboundSchema,t.outboundSchema=Kn.BatchJobOutObject$outboundSchema})(gxt||(Kn.BatchJobOutObject$=gxt={}));Kn.BatchJobOut$inboundSchema=$t.object({id:$t.string(),object:$t.literal("batch").default("batch"),input_files:$t.array($t.string()),metadata:$t.nullable($t.record($t.any())).optional(),endpoint:$t.string(),model:$t.string(),output_file:$t.nullable($t.string()).optional(),error_file:$t.nullable($t.string()).optional(),errors:$t.array(_xt.BatchError$inboundSchema),status:vxt.BatchJobStatus$inboundSchema,created_at:$t.number().int(),total_requests:$t.number().int(),completed_requests:$t.number().int(),succeeded_requests:$t.number().int(),failed_requests:$t.number().int(),started_at:$t.nullable($t.number().int()).optional(),completed_at:$t.nullable($t.number().int()).optional()}).transform(t=>(0,bxt.remap)(t,{input_files:"inputFiles",output_file:"outputFile",error_file:"errorFile",created_at:"createdAt",total_requests:"totalRequests",completed_requests:"completedRequests",succeeded_requests:"succeededRequests",failed_requests:"failedRequests",started_at:"startedAt",completed_at:"completedAt"}));Kn.BatchJobOut$outboundSchema=$t.object({id:$t.string(),object:$t.literal("batch").default("batch"),inputFiles:$t.array($t.string()),metadata:$t.nullable($t.record($t.any())).optional(),endpoint:$t.string(),model:$t.string(),outputFile:$t.nullable($t.string()).optional(),errorFile:$t.nullable($t.string()).optional(),errors:$t.array(_xt.BatchError$outboundSchema),status:vxt.BatchJobStatus$outboundSchema,createdAt:$t.number().int(),totalRequests:$t.number().int(),completedRequests:$t.number().int(),succeededRequests:$t.number().int(),failedRequests:$t.number().int(),startedAt:$t.nullable($t.number().int()).optional(),completedAt:$t.nullable($t.number().int()).optional()}).transform(t=>(0,bxt.remap)(t,{inputFiles:"input_files",outputFile:"output_file",errorFile:"error_file",createdAt:"created_at",totalRequests:"total_requests",completedRequests:"completed_requests",succeededRequests:"succeeded_requests",failedRequests:"failed_requests",startedAt:"started_at",completedAt:"completed_at"}));var yxt;(function(t){t.inboundSchema=Kn.BatchJobOut$inboundSchema,t.outboundSchema=Kn.BatchJobOut$outboundSchema})(yxt||(Kn.BatchJobOut$=yxt={}));function n8r(t){return JSON.stringify(Kn.BatchJobOut$outboundSchema.parse(t))}function o8r(t){return(0,r8r.safeParse)(t,e=>Kn.BatchJobOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'BatchJobOut' from JSON")}});var Cxt=b(Yn=>{"use strict";var i8r=Yn&&Yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a8r=Yn&&Yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s8r=Yn&&Yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i8r(e,t,r);return a8r(e,t),e};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.BatchJobsOut$=Yn.BatchJobsOut$outboundSchema=Yn.BatchJobsOut$inboundSchema=Yn.BatchJobsOutObject$=Yn.BatchJobsOutObject$outboundSchema=Yn.BatchJobsOutObject$inboundSchema=Yn.BatchJobsOutObject=void 0;Yn.batchJobsOutToJSON=l8r;Yn.batchJobsOutFromJSON=c8r;var RC=s8r(ge()),u8r=de(),xxt=xOe();Yn.BatchJobsOutObject={List:"list"};Yn.BatchJobsOutObject$inboundSchema=RC.nativeEnum(Yn.BatchJobsOutObject);Yn.BatchJobsOutObject$outboundSchema=Yn.BatchJobsOutObject$inboundSchema;var wxt;(function(t){t.inboundSchema=Yn.BatchJobsOutObject$inboundSchema,t.outboundSchema=Yn.BatchJobsOutObject$outboundSchema})(wxt||(Yn.BatchJobsOutObject$=wxt={}));Yn.BatchJobsOut$inboundSchema=RC.object({data:RC.array(xxt.BatchJobOut$inboundSchema).optional(),object:RC.literal("list").default("list"),total:RC.number().int()});Yn.BatchJobsOut$outboundSchema=RC.object({data:RC.array(xxt.BatchJobOut$outboundSchema).optional(),object:RC.literal("list").default("list"),total:RC.number().int()});var Sxt;(function(t){t.inboundSchema=Yn.BatchJobsOut$inboundSchema,t.outboundSchema=Yn.BatchJobsOut$outboundSchema})(Sxt||(Yn.BatchJobsOut$=Sxt={}));function l8r(t){return JSON.stringify(Yn.BatchJobsOut$outboundSchema.parse(t))}function c8r(t){return(0,u8r.safeParse)(t,e=>Yn.BatchJobsOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'BatchJobsOut' from JSON")}});var Axt=b(Pt=>{"use strict";var d8r=Pt&&Pt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f8r=Pt&&Pt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p8r=Pt&&Pt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d8r(e,t,r);return f8r(e,t),e};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ChatClassificationRequest$=Pt.ChatClassificationRequest$outboundSchema=Pt.ChatClassificationRequest$inboundSchema=Pt.ChatClassificationRequestInputs$=Pt.ChatClassificationRequestInputs$outboundSchema=Pt.ChatClassificationRequestInputs$inboundSchema=Pt.One$=Pt.One$outboundSchema=Pt.One$inboundSchema=Pt.Two$=Pt.Two$outboundSchema=Pt.Two$inboundSchema=void 0;Pt.twoToJSON=h8r;Pt.twoFromJSON=m8r;Pt.oneToJSON=g8r;Pt.oneFromJSON=y8r;Pt.chatClassificationRequestInputsToJSON=b8r;Pt.chatClassificationRequestInputsFromJSON=_8r;Pt.chatClassificationRequestToJSON=v8r;Pt.chatClassificationRequestFromJSON=w8r;var ue=p8r(ge()),Mxt=Ee(),pte=de(),om=TT(),im=X1(),am=Z1(),sm=Q1();Pt.Two$inboundSchema=ue.union([im.SystemMessage$inboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$inboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$inboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$inboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))]);Pt.Two$outboundSchema=ue.union([im.SystemMessage$outboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$outboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$outboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$outboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))]);var Oxt;(function(t){t.inboundSchema=Pt.Two$inboundSchema,t.outboundSchema=Pt.Two$outboundSchema})(Oxt||(Pt.Two$=Oxt={}));function h8r(t){return JSON.stringify(Pt.Two$outboundSchema.parse(t))}function m8r(t){return(0,pte.safeParse)(t,e=>Pt.Two$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Two' from JSON")}Pt.One$inboundSchema=ue.union([im.SystemMessage$inboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$inboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$inboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$inboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))]);Pt.One$outboundSchema=ue.union([im.SystemMessage$outboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$outboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$outboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$outboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))]);var Ext;(function(t){t.inboundSchema=Pt.One$inboundSchema,t.outboundSchema=Pt.One$outboundSchema})(Ext||(Pt.One$=Ext={}));function g8r(t){return JSON.stringify(Pt.One$outboundSchema.parse(t))}function y8r(t){return(0,pte.safeParse)(t,e=>Pt.One$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'One' from JSON")}Pt.ChatClassificationRequestInputs$inboundSchema=ue.union([ue.array(ue.union([im.SystemMessage$inboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$inboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$inboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$inboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])),ue.array(ue.array(ue.union([im.SystemMessage$inboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$inboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$inboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$inboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])))]);Pt.ChatClassificationRequestInputs$outboundSchema=ue.union([ue.array(ue.union([im.SystemMessage$outboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$outboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$outboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$outboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])),ue.array(ue.array(ue.union([im.SystemMessage$outboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$outboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$outboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$outboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])))]);var Pxt;(function(t){t.inboundSchema=Pt.ChatClassificationRequestInputs$inboundSchema,t.outboundSchema=Pt.ChatClassificationRequestInputs$outboundSchema})(Pxt||(Pt.ChatClassificationRequestInputs$=Pxt={}));function b8r(t){return JSON.stringify(Pt.ChatClassificationRequestInputs$outboundSchema.parse(t))}function _8r(t){return(0,pte.safeParse)(t,e=>Pt.ChatClassificationRequestInputs$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatClassificationRequestInputs' from JSON")}Pt.ChatClassificationRequest$inboundSchema=ue.object({input:ue.union([ue.array(ue.union([im.SystemMessage$inboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$inboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$inboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$inboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])),ue.array(ue.array(ue.union([im.SystemMessage$inboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$inboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$inboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$inboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])))]),model:ue.nullable(ue.string())}).transform(t=>(0,Mxt.remap)(t,{input:"inputs"}));Pt.ChatClassificationRequest$outboundSchema=ue.object({inputs:ue.union([ue.array(ue.union([im.SystemMessage$outboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$outboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$outboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$outboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])),ue.array(ue.array(ue.union([im.SystemMessage$outboundSchema.and(ue.object({role:ue.literal("system")}).transform(t=>({role:t.role}))),sm.UserMessage$outboundSchema.and(ue.object({role:ue.literal("user")}).transform(t=>({role:t.role}))),om.AssistantMessage$outboundSchema.and(ue.object({role:ue.literal("assistant")}).transform(t=>({role:t.role}))),am.ToolMessage$outboundSchema.and(ue.object({role:ue.literal("tool")}).transform(t=>({role:t.role})))])))]),model:ue.nullable(ue.string())}).transform(t=>(0,Mxt.remap)(t,{inputs:"input"}));var Txt;(function(t){t.inboundSchema=Pt.ChatClassificationRequest$inboundSchema,t.outboundSchema=Pt.ChatClassificationRequest$outboundSchema})(Txt||(Pt.ChatClassificationRequest$=Txt={}));function v8r(t){return JSON.stringify(Pt.ChatClassificationRequest$outboundSchema.parse(t))}function w8r(t){return(0,pte.safeParse)(t,e=>Pt.ChatClassificationRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatClassificationRequest' from JSON")}});var hte=b(Tn=>{"use strict";var S8r=Tn&&Tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x8r=Tn&&Tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),C8r=Tn&&Tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&S8r(e,t,r);return x8r(e,t),e};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ChatCompletionChoice$=Tn.ChatCompletionChoice$outboundSchema=Tn.ChatCompletionChoice$inboundSchema=Tn.FinishReason$=Tn.FinishReason$outboundSchema=Tn.FinishReason$inboundSchema=Tn.FinishReason=void 0;Tn.chatCompletionChoiceToJSON=P8r;Tn.chatCompletionChoiceFromJSON=T8r;var Ug=C8r(ge()),Dxt=Ee(),O8r=de(),E8r=PT(),jxt=TT();Tn.FinishReason={Stop:"stop",Length:"length",ModelLength:"model_length",Error:"error",ToolCalls:"tool_calls"};Tn.FinishReason$inboundSchema=Ug.union([Ug.nativeEnum(Tn.FinishReason),Ug.string().transform(E8r.catchUnrecognizedEnum)]);Tn.FinishReason$outboundSchema=Ug.union([Ug.nativeEnum(Tn.FinishReason),Ug.string().and(Ug.custom())]);var Rxt;(function(t){t.inboundSchema=Tn.FinishReason$inboundSchema,t.outboundSchema=Tn.FinishReason$outboundSchema})(Rxt||(Tn.FinishReason$=Rxt={}));Tn.ChatCompletionChoice$inboundSchema=Ug.object({index:Ug.number().int(),message:jxt.AssistantMessage$inboundSchema,finish_reason:Tn.FinishReason$inboundSchema}).transform(t=>(0,Dxt.remap)(t,{finish_reason:"finishReason"}));Tn.ChatCompletionChoice$outboundSchema=Ug.object({index:Ug.number().int(),message:jxt.AssistantMessage$outboundSchema,finishReason:Tn.FinishReason$outboundSchema}).transform(t=>(0,Dxt.remap)(t,{finishReason:"finish_reason"}));var Ixt;(function(t){t.inboundSchema=Tn.ChatCompletionChoice$inboundSchema,t.outboundSchema=Tn.ChatCompletionChoice$outboundSchema})(Ixt||(Tn.ChatCompletionChoice$=Ixt={}));function P8r(t){return JSON.stringify(Tn.ChatCompletionChoice$outboundSchema.parse(t))}function T8r(t){return(0,O8r.safeParse)(t,e=>Tn.ChatCompletionChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionChoice' from JSON")}});var zxt=b(Tt=>{"use strict";var M8r=Tt&&Tt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A8r=Tt&&Tt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R8r=Tt&&Tt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&M8r(e,t,r);return A8r(e,t),e};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.ChatCompletionRequest$=Tt.ChatCompletionRequest$outboundSchema=Tt.ChatCompletionRequest$inboundSchema=Tt.ChatCompletionRequestToolChoice$=Tt.ChatCompletionRequestToolChoice$outboundSchema=Tt.ChatCompletionRequestToolChoice$inboundSchema=Tt.Messages$=Tt.Messages$outboundSchema=Tt.Messages$inboundSchema=Tt.Stop$=Tt.Stop$outboundSchema=Tt.Stop$inboundSchema=void 0;Tt.stopToJSON=I8r;Tt.stopFromJSON=D8r;Tt.messagesToJSON=j8r;Tt.messagesFromJSON=N8r;Tt.chatCompletionRequestToolChoiceToJSON=L8r;Tt.chatCompletionRequestToolChoiceFromJSON=F8r;Tt.chatCompletionRequestToJSON=B8r;Tt.chatCompletionRequestFromJSON=k8r;var xe=R8r(ge()),kxt=Ee(),mte=de(),gte=TT(),$xt=Ok(),qxt=Ek(),yte=X1(),Uxt=Pk(),bte=Tk(),_te=Mk(),vte=Z1(),wte=Q1();Tt.Stop$inboundSchema=xe.union([xe.string(),xe.array(xe.string())]);Tt.Stop$outboundSchema=xe.union([xe.string(),xe.array(xe.string())]);var Nxt;(function(t){t.inboundSchema=Tt.Stop$inboundSchema,t.outboundSchema=Tt.Stop$outboundSchema})(Nxt||(Tt.Stop$=Nxt={}));function I8r(t){return JSON.stringify(Tt.Stop$outboundSchema.parse(t))}function D8r(t){return(0,mte.safeParse)(t,e=>Tt.Stop$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Stop' from JSON")}Tt.Messages$inboundSchema=xe.union([yte.SystemMessage$inboundSchema.and(xe.object({role:xe.literal("system")}).transform(t=>({role:t.role}))),wte.UserMessage$inboundSchema.and(xe.object({role:xe.literal("user")}).transform(t=>({role:t.role}))),gte.AssistantMessage$inboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(t=>({role:t.role}))),vte.ToolMessage$inboundSchema.and(xe.object({role:xe.literal("tool")}).transform(t=>({role:t.role})))]);Tt.Messages$outboundSchema=xe.union([yte.SystemMessage$outboundSchema.and(xe.object({role:xe.literal("system")}).transform(t=>({role:t.role}))),wte.UserMessage$outboundSchema.and(xe.object({role:xe.literal("user")}).transform(t=>({role:t.role}))),gte.AssistantMessage$outboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(t=>({role:t.role}))),vte.ToolMessage$outboundSchema.and(xe.object({role:xe.literal("tool")}).transform(t=>({role:t.role})))]);var Lxt;(function(t){t.inboundSchema=Tt.Messages$inboundSchema,t.outboundSchema=Tt.Messages$outboundSchema})(Lxt||(Tt.Messages$=Lxt={}));function j8r(t){return JSON.stringify(Tt.Messages$outboundSchema.parse(t))}function N8r(t){return(0,mte.safeParse)(t,e=>Tt.Messages$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Messages' from JSON")}Tt.ChatCompletionRequestToolChoice$inboundSchema=xe.union([bte.ToolChoice$inboundSchema,_te.ToolChoiceEnum$inboundSchema]);Tt.ChatCompletionRequestToolChoice$outboundSchema=xe.union([bte.ToolChoice$outboundSchema,_te.ToolChoiceEnum$outboundSchema]);var Fxt;(function(t){t.inboundSchema=Tt.ChatCompletionRequestToolChoice$inboundSchema,t.outboundSchema=Tt.ChatCompletionRequestToolChoice$outboundSchema})(Fxt||(Tt.ChatCompletionRequestToolChoice$=Fxt={}));function L8r(t){return JSON.stringify(Tt.ChatCompletionRequestToolChoice$outboundSchema.parse(t))}function F8r(t){return(0,mte.safeParse)(t,e=>Tt.ChatCompletionRequestToolChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionRequestToolChoice' from JSON")}Tt.ChatCompletionRequest$inboundSchema=xe.object({model:xe.nullable(xe.string()),temperature:xe.nullable(xe.number()).optional(),top_p:xe.number().optional(),max_tokens:xe.nullable(xe.number().int()).optional(),stream:xe.boolean().default(!1),stop:xe.union([xe.string(),xe.array(xe.string())]).optional(),random_seed:xe.nullable(xe.number().int()).optional(),messages:xe.array(xe.union([yte.SystemMessage$inboundSchema.and(xe.object({role:xe.literal("system")}).transform(t=>({role:t.role}))),wte.UserMessage$inboundSchema.and(xe.object({role:xe.literal("user")}).transform(t=>({role:t.role}))),gte.AssistantMessage$inboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(t=>({role:t.role}))),vte.ToolMessage$inboundSchema.and(xe.object({role:xe.literal("tool")}).transform(t=>({role:t.role})))])),response_format:qxt.ResponseFormat$inboundSchema.optional(),tools:xe.nullable(xe.array(Uxt.Tool$inboundSchema)).optional(),tool_choice:xe.union([bte.ToolChoice$inboundSchema,_te.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:xe.number().optional(),frequency_penalty:xe.number().optional(),n:xe.nullable(xe.number().int()).optional(),prediction:$xt.Prediction$inboundSchema.optional(),safe_prompt:xe.boolean().optional()}).transform(t=>(0,kxt.remap)(t,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",safe_prompt:"safePrompt"}));Tt.ChatCompletionRequest$outboundSchema=xe.object({model:xe.nullable(xe.string()),temperature:xe.nullable(xe.number()).optional(),topP:xe.number().optional(),maxTokens:xe.nullable(xe.number().int()).optional(),stream:xe.boolean().default(!1),stop:xe.union([xe.string(),xe.array(xe.string())]).optional(),randomSeed:xe.nullable(xe.number().int()).optional(),messages:xe.array(xe.union([yte.SystemMessage$outboundSchema.and(xe.object({role:xe.literal("system")}).transform(t=>({role:t.role}))),wte.UserMessage$outboundSchema.and(xe.object({role:xe.literal("user")}).transform(t=>({role:t.role}))),gte.AssistantMessage$outboundSchema.and(xe.object({role:xe.literal("assistant")}).transform(t=>({role:t.role}))),vte.ToolMessage$outboundSchema.and(xe.object({role:xe.literal("tool")}).transform(t=>({role:t.role})))])),responseFormat:qxt.ResponseFormat$outboundSchema.optional(),tools:xe.nullable(xe.array(Uxt.Tool$outboundSchema)).optional(),toolChoice:xe.union([bte.ToolChoice$outboundSchema,_te.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:xe.number().optional(),frequencyPenalty:xe.number().optional(),n:xe.nullable(xe.number().int()).optional(),prediction:$xt.Prediction$outboundSchema.optional(),safePrompt:xe.boolean().optional()}).transform(t=>(0,kxt.remap)(t,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",safePrompt:"safe_prompt"}));var Bxt;(function(t){t.inboundSchema=Tt.ChatCompletionRequest$inboundSchema,t.outboundSchema=Tt.ChatCompletionRequest$outboundSchema})(Bxt||(Tt.ChatCompletionRequest$=Bxt={}));function B8r(t){return JSON.stringify(Tt.ChatCompletionRequest$outboundSchema.parse(t))}function k8r(t){return(0,mte.safeParse)(t,e=>Tt.ChatCompletionRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionRequest' from JSON")}});var Rk=b(Us=>{"use strict";var $8r=Us&&Us.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q8r=Us&&Us.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U8r=Us&&Us.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$8r(e,t,r);return q8r(e,t),e};Object.defineProperty(Us,"__esModule",{value:!0});Us.UsageInfo$=Us.UsageInfo$outboundSchema=Us.UsageInfo$inboundSchema=void 0;Us.usageInfoToJSON=H8r;Us.usageInfoFromJSON=V8r;var MT=U8r(ge()),Vxt=Ee(),z8r=de();Us.UsageInfo$inboundSchema=MT.object({prompt_tokens:MT.number().int(),completion_tokens:MT.number().int(),total_tokens:MT.number().int()}).transform(t=>(0,Vxt.remap)(t,{prompt_tokens:"promptTokens",completion_tokens:"completionTokens",total_tokens:"totalTokens"}));Us.UsageInfo$outboundSchema=MT.object({promptTokens:MT.number().int(),completionTokens:MT.number().int(),totalTokens:MT.number().int()}).transform(t=>(0,Vxt.remap)(t,{promptTokens:"prompt_tokens",completionTokens:"completion_tokens",totalTokens:"total_tokens"}));var Hxt;(function(t){t.inboundSchema=Us.UsageInfo$inboundSchema,t.outboundSchema=Us.UsageInfo$outboundSchema})(Hxt||(Us.UsageInfo$=Hxt={}));function H8r(t){return JSON.stringify(Us.UsageInfo$outboundSchema.parse(t))}function V8r(t){return(0,z8r.safeParse)(t,e=>Us.UsageInfo$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'UsageInfo' from JSON")}});var Kxt=b(zs=>{"use strict";var W8r=zs&&zs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J8r=zs&&zs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G8r=zs&&zs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W8r(e,t,r);return J8r(e,t),e};Object.defineProperty(zs,"__esModule",{value:!0});zs.ChatCompletionResponse$=zs.ChatCompletionResponse$outboundSchema=zs.ChatCompletionResponse$inboundSchema=void 0;zs.chatCompletionResponseToJSON=Y8r;zs.chatCompletionResponseFromJSON=X8r;var um=G8r(ge()),K8r=de(),Jxt=hte(),Gxt=Rk();zs.ChatCompletionResponse$inboundSchema=um.object({id:um.string(),object:um.string(),model:um.string(),usage:Gxt.UsageInfo$inboundSchema,created:um.number().int().optional(),choices:um.array(Jxt.ChatCompletionChoice$inboundSchema).optional()});zs.ChatCompletionResponse$outboundSchema=um.object({id:um.string(),object:um.string(),model:um.string(),usage:Gxt.UsageInfo$outboundSchema,created:um.number().int().optional(),choices:um.array(Jxt.ChatCompletionChoice$outboundSchema).optional()});var Wxt;(function(t){t.inboundSchema=zs.ChatCompletionResponse$inboundSchema,t.outboundSchema=zs.ChatCompletionResponse$outboundSchema})(Wxt||(zs.ChatCompletionResponse$=Wxt={}));function Y8r(t){return JSON.stringify(zs.ChatCompletionResponse$outboundSchema.parse(t))}function X8r(t){return(0,K8r.safeParse)(t,e=>zs.ChatCompletionResponse$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionResponse' from JSON")}});var oCt=b(Mt=>{"use strict";var Z8r=Mt&&Mt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q8r=Mt&&Mt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eHr=Mt&&Mt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z8r(e,t,r);return Q8r(e,t),e};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.ChatCompletionStreamRequest$=Mt.ChatCompletionStreamRequest$outboundSchema=Mt.ChatCompletionStreamRequest$inboundSchema=Mt.ChatCompletionStreamRequestToolChoice$=Mt.ChatCompletionStreamRequestToolChoice$outboundSchema=Mt.ChatCompletionStreamRequestToolChoice$inboundSchema=Mt.ChatCompletionStreamRequestMessages$=Mt.ChatCompletionStreamRequestMessages$outboundSchema=Mt.ChatCompletionStreamRequestMessages$inboundSchema=Mt.ChatCompletionStreamRequestStop$=Mt.ChatCompletionStreamRequestStop$outboundSchema=Mt.ChatCompletionStreamRequestStop$inboundSchema=void 0;Mt.chatCompletionStreamRequestStopToJSON=tHr;Mt.chatCompletionStreamRequestStopFromJSON=rHr;Mt.chatCompletionStreamRequestMessagesToJSON=nHr;Mt.chatCompletionStreamRequestMessagesFromJSON=oHr;Mt.chatCompletionStreamRequestToolChoiceToJSON=iHr;Mt.chatCompletionStreamRequestToolChoiceFromJSON=aHr;Mt.chatCompletionStreamRequestToJSON=sHr;Mt.chatCompletionStreamRequestFromJSON=uHr;var Ce=eHr(ge()),eCt=Ee(),Ste=de(),xte=TT(),tCt=Ok(),rCt=Ek(),Cte=X1(),nCt=Pk(),Ote=Tk(),Ete=Mk(),Pte=Z1(),Tte=Q1();Mt.ChatCompletionStreamRequestStop$inboundSchema=Ce.union([Ce.string(),Ce.array(Ce.string())]);Mt.ChatCompletionStreamRequestStop$outboundSchema=Ce.union([Ce.string(),Ce.array(Ce.string())]);var Yxt;(function(t){t.inboundSchema=Mt.ChatCompletionStreamRequestStop$inboundSchema,t.outboundSchema=Mt.ChatCompletionStreamRequestStop$outboundSchema})(Yxt||(Mt.ChatCompletionStreamRequestStop$=Yxt={}));function tHr(t){return JSON.stringify(Mt.ChatCompletionStreamRequestStop$outboundSchema.parse(t))}function rHr(t){return(0,Ste.safeParse)(t,e=>Mt.ChatCompletionStreamRequestStop$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionStreamRequestStop' from JSON")}Mt.ChatCompletionStreamRequestMessages$inboundSchema=Ce.union([Cte.SystemMessage$inboundSchema.and(Ce.object({role:Ce.literal("system")}).transform(t=>({role:t.role}))),Tte.UserMessage$inboundSchema.and(Ce.object({role:Ce.literal("user")}).transform(t=>({role:t.role}))),xte.AssistantMessage$inboundSchema.and(Ce.object({role:Ce.literal("assistant")}).transform(t=>({role:t.role}))),Pte.ToolMessage$inboundSchema.and(Ce.object({role:Ce.literal("tool")}).transform(t=>({role:t.role})))]);Mt.ChatCompletionStreamRequestMessages$outboundSchema=Ce.union([Cte.SystemMessage$outboundSchema.and(Ce.object({role:Ce.literal("system")}).transform(t=>({role:t.role}))),Tte.UserMessage$outboundSchema.and(Ce.object({role:Ce.literal("user")}).transform(t=>({role:t.role}))),xte.AssistantMessage$outboundSchema.and(Ce.object({role:Ce.literal("assistant")}).transform(t=>({role:t.role}))),Pte.ToolMessage$outboundSchema.and(Ce.object({role:Ce.literal("tool")}).transform(t=>({role:t.role})))]);var Xxt;(function(t){t.inboundSchema=Mt.ChatCompletionStreamRequestMessages$inboundSchema,t.outboundSchema=Mt.ChatCompletionStreamRequestMessages$outboundSchema})(Xxt||(Mt.ChatCompletionStreamRequestMessages$=Xxt={}));function nHr(t){return JSON.stringify(Mt.ChatCompletionStreamRequestMessages$outboundSchema.parse(t))}function oHr(t){return(0,Ste.safeParse)(t,e=>Mt.ChatCompletionStreamRequestMessages$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionStreamRequestMessages' from JSON")}Mt.ChatCompletionStreamRequestToolChoice$inboundSchema=Ce.union([Ote.ToolChoice$inboundSchema,Ete.ToolChoiceEnum$inboundSchema]);Mt.ChatCompletionStreamRequestToolChoice$outboundSchema=Ce.union([Ote.ToolChoice$outboundSchema,Ete.ToolChoiceEnum$outboundSchema]);var Zxt;(function(t){t.inboundSchema=Mt.ChatCompletionStreamRequestToolChoice$inboundSchema,t.outboundSchema=Mt.ChatCompletionStreamRequestToolChoice$outboundSchema})(Zxt||(Mt.ChatCompletionStreamRequestToolChoice$=Zxt={}));function iHr(t){return JSON.stringify(Mt.ChatCompletionStreamRequestToolChoice$outboundSchema.parse(t))}function aHr(t){return(0,Ste.safeParse)(t,e=>Mt.ChatCompletionStreamRequestToolChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionStreamRequestToolChoice' from JSON")}Mt.ChatCompletionStreamRequest$inboundSchema=Ce.object({model:Ce.nullable(Ce.string()),temperature:Ce.nullable(Ce.number()).optional(),top_p:Ce.number().optional(),max_tokens:Ce.nullable(Ce.number().int()).optional(),stream:Ce.boolean().default(!0),stop:Ce.union([Ce.string(),Ce.array(Ce.string())]).optional(),random_seed:Ce.nullable(Ce.number().int()).optional(),messages:Ce.array(Ce.union([Cte.SystemMessage$inboundSchema.and(Ce.object({role:Ce.literal("system")}).transform(t=>({role:t.role}))),Tte.UserMessage$inboundSchema.and(Ce.object({role:Ce.literal("user")}).transform(t=>({role:t.role}))),xte.AssistantMessage$inboundSchema.and(Ce.object({role:Ce.literal("assistant")}).transform(t=>({role:t.role}))),Pte.ToolMessage$inboundSchema.and(Ce.object({role:Ce.literal("tool")}).transform(t=>({role:t.role})))])),response_format:rCt.ResponseFormat$inboundSchema.optional(),tools:Ce.nullable(Ce.array(nCt.Tool$inboundSchema)).optional(),tool_choice:Ce.union([Ote.ToolChoice$inboundSchema,Ete.ToolChoiceEnum$inboundSchema]).optional(),presence_penalty:Ce.number().optional(),frequency_penalty:Ce.number().optional(),n:Ce.nullable(Ce.number().int()).optional(),prediction:tCt.Prediction$inboundSchema.optional(),safe_prompt:Ce.boolean().optional()}).transform(t=>(0,eCt.remap)(t,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",response_format:"responseFormat",tool_choice:"toolChoice",presence_penalty:"presencePenalty",frequency_penalty:"frequencyPenalty",safe_prompt:"safePrompt"}));Mt.ChatCompletionStreamRequest$outboundSchema=Ce.object({model:Ce.nullable(Ce.string()),temperature:Ce.nullable(Ce.number()).optional(),topP:Ce.number().optional(),maxTokens:Ce.nullable(Ce.number().int()).optional(),stream:Ce.boolean().default(!0),stop:Ce.union([Ce.string(),Ce.array(Ce.string())]).optional(),randomSeed:Ce.nullable(Ce.number().int()).optional(),messages:Ce.array(Ce.union([Cte.SystemMessage$outboundSchema.and(Ce.object({role:Ce.literal("system")}).transform(t=>({role:t.role}))),Tte.UserMessage$outboundSchema.and(Ce.object({role:Ce.literal("user")}).transform(t=>({role:t.role}))),xte.AssistantMessage$outboundSchema.and(Ce.object({role:Ce.literal("assistant")}).transform(t=>({role:t.role}))),Pte.ToolMessage$outboundSchema.and(Ce.object({role:Ce.literal("tool")}).transform(t=>({role:t.role})))])),responseFormat:rCt.ResponseFormat$outboundSchema.optional(),tools:Ce.nullable(Ce.array(nCt.Tool$outboundSchema)).optional(),toolChoice:Ce.union([Ote.ToolChoice$outboundSchema,Ete.ToolChoiceEnum$outboundSchema]).optional(),presencePenalty:Ce.number().optional(),frequencyPenalty:Ce.number().optional(),n:Ce.nullable(Ce.number().int()).optional(),prediction:tCt.Prediction$outboundSchema.optional(),safePrompt:Ce.boolean().optional()}).transform(t=>(0,eCt.remap)(t,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",responseFormat:"response_format",toolChoice:"tool_choice",presencePenalty:"presence_penalty",frequencyPenalty:"frequency_penalty",safePrompt:"safe_prompt"}));var Qxt;(function(t){t.inboundSchema=Mt.ChatCompletionStreamRequest$inboundSchema,t.outboundSchema=Mt.ChatCompletionStreamRequest$outboundSchema})(Qxt||(Mt.ChatCompletionStreamRequest$=Qxt={}));function sHr(t){return JSON.stringify(Mt.ChatCompletionStreamRequest$outboundSchema.parse(t))}function uHr(t){return(0,Ste.safeParse)(t,e=>Mt.ChatCompletionStreamRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ChatCompletionStreamRequest' from JSON")}});var COe=b(Hs=>{"use strict";var lHr=Hs&&Hs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cHr=Hs&&Hs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dHr=Hs&&Hs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lHr(e,t,r);return cHr(e,t),e};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.MetricOut$=Hs.MetricOut$outboundSchema=Hs.MetricOut$inboundSchema=void 0;Hs.metricOutToJSON=pHr;Hs.metricOutFromJSON=hHr;var zf=dHr(ge()),aCt=Ee(),fHr=de();Hs.MetricOut$inboundSchema=zf.object({train_loss:zf.nullable(zf.number()).optional(),valid_loss:zf.nullable(zf.number()).optional(),valid_mean_token_accuracy:zf.nullable(zf.number()).optional()}).transform(t=>(0,aCt.remap)(t,{train_loss:"trainLoss",valid_loss:"validLoss",valid_mean_token_accuracy:"validMeanTokenAccuracy"}));Hs.MetricOut$outboundSchema=zf.object({trainLoss:zf.nullable(zf.number()).optional(),validLoss:zf.nullable(zf.number()).optional(),validMeanTokenAccuracy:zf.nullable(zf.number()).optional()}).transform(t=>(0,aCt.remap)(t,{trainLoss:"train_loss",validLoss:"valid_loss",validMeanTokenAccuracy:"valid_mean_token_accuracy"}));var iCt;(function(t){t.inboundSchema=Hs.MetricOut$inboundSchema,t.outboundSchema=Hs.MetricOut$outboundSchema})(iCt||(Hs.MetricOut$=iCt={}));function pHr(t){return JSON.stringify(Hs.MetricOut$outboundSchema.parse(t))}function hHr(t){return(0,fHr.safeParse)(t,e=>Hs.MetricOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'MetricOut' from JSON")}});var OOe=b(Vs=>{"use strict";var mHr=Vs&&Vs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gHr=Vs&&Vs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yHr=Vs&&Vs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mHr(e,t,r);return gHr(e,t),e};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.CheckpointOut$=Vs.CheckpointOut$outboundSchema=Vs.CheckpointOut$inboundSchema=void 0;Vs.checkpointOutToJSON=_Hr;Vs.checkpointOutFromJSON=vHr;var Ik=yHr(ge()),uCt=Ee(),bHr=de(),lCt=COe();Vs.CheckpointOut$inboundSchema=Ik.object({metrics:lCt.MetricOut$inboundSchema,step_number:Ik.number().int(),created_at:Ik.number().int()}).transform(t=>(0,uCt.remap)(t,{step_number:"stepNumber",created_at:"createdAt"}));Vs.CheckpointOut$outboundSchema=Ik.object({metrics:lCt.MetricOut$outboundSchema,stepNumber:Ik.number().int(),createdAt:Ik.number().int()}).transform(t=>(0,uCt.remap)(t,{stepNumber:"step_number",createdAt:"created_at"}));var sCt;(function(t){t.inboundSchema=Vs.CheckpointOut$inboundSchema,t.outboundSchema=Vs.CheckpointOut$outboundSchema})(sCt||(Vs.CheckpointOut$=sCt={}));function _Hr(t){return JSON.stringify(Vs.CheckpointOut$outboundSchema.parse(t))}function vHr(t){return(0,bHr.safeParse)(t,e=>Vs.CheckpointOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'CheckpointOut' from JSON")}});var EOe=b(Ws=>{"use strict";var wHr=Ws&&Ws.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SHr=Ws&&Ws.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xHr=Ws&&Ws.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wHr(e,t,r);return SHr(e,t),e};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.ClassificationObject$=Ws.ClassificationObject$outboundSchema=Ws.ClassificationObject$inboundSchema=void 0;Ws.classificationObjectToJSON=OHr;Ws.classificationObjectFromJSON=EHr;var dS=xHr(ge()),dCt=Ee(),CHr=de();Ws.ClassificationObject$inboundSchema=dS.object({categories:dS.record(dS.boolean()).optional(),category_scores:dS.record(dS.number()).optional()}).transform(t=>(0,dCt.remap)(t,{category_scores:"categoryScores"}));Ws.ClassificationObject$outboundSchema=dS.object({categories:dS.record(dS.boolean()).optional(),categoryScores:dS.record(dS.number()).optional()}).transform(t=>(0,dCt.remap)(t,{categoryScores:"category_scores"}));var cCt;(function(t){t.inboundSchema=Ws.ClassificationObject$inboundSchema,t.outboundSchema=Ws.ClassificationObject$outboundSchema})(cCt||(Ws.ClassificationObject$=cCt={}));function OHr(t){return JSON.stringify(Ws.ClassificationObject$outboundSchema.parse(t))}function EHr(t){return(0,CHr.safeParse)(t,e=>Ws.ClassificationObject$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ClassificationObject' from JSON")}});var gCt=b(Xn=>{"use strict";var PHr=Xn&&Xn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),THr=Xn&&Xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MHr=Xn&&Xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PHr(e,t,r);return THr(e,t),e};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.ClassificationRequest$=Xn.ClassificationRequest$outboundSchema=Xn.ClassificationRequest$inboundSchema=Xn.ClassificationRequestInputs$=Xn.ClassificationRequestInputs$outboundSchema=Xn.ClassificationRequestInputs$inboundSchema=void 0;Xn.classificationRequestInputsToJSON=AHr;Xn.classificationRequestInputsFromJSON=RHr;Xn.classificationRequestToJSON=IHr;Xn.classificationRequestFromJSON=DHr;var Va=MHr(ge()),hCt=Ee(),mCt=de();Xn.ClassificationRequestInputs$inboundSchema=Va.union([Va.string(),Va.array(Va.string())]);Xn.ClassificationRequestInputs$outboundSchema=Va.union([Va.string(),Va.array(Va.string())]);var fCt;(function(t){t.inboundSchema=Xn.ClassificationRequestInputs$inboundSchema,t.outboundSchema=Xn.ClassificationRequestInputs$outboundSchema})(fCt||(Xn.ClassificationRequestInputs$=fCt={}));function AHr(t){return JSON.stringify(Xn.ClassificationRequestInputs$outboundSchema.parse(t))}function RHr(t){return(0,mCt.safeParse)(t,e=>Xn.ClassificationRequestInputs$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ClassificationRequestInputs' from JSON")}Xn.ClassificationRequest$inboundSchema=Va.object({input:Va.union([Va.string(),Va.array(Va.string())]),model:Va.nullable(Va.string()).optional()}).transform(t=>(0,hCt.remap)(t,{input:"inputs"}));Xn.ClassificationRequest$outboundSchema=Va.object({inputs:Va.union([Va.string(),Va.array(Va.string())]),model:Va.nullable(Va.string()).optional()}).transform(t=>(0,hCt.remap)(t,{inputs:"input"}));var pCt;(function(t){t.inboundSchema=Xn.ClassificationRequest$inboundSchema,t.outboundSchema=Xn.ClassificationRequest$outboundSchema})(pCt||(Xn.ClassificationRequest$=pCt={}));function IHr(t){return JSON.stringify(Xn.ClassificationRequest$outboundSchema.parse(t))}function DHr(t){return(0,mCt.safeParse)(t,e=>Xn.ClassificationRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ClassificationRequest' from JSON")}});var _Ct=b(Js=>{"use strict";var jHr=Js&&Js.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NHr=Js&&Js.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LHr=Js&&Js.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jHr(e,t,r);return NHr(e,t),e};Object.defineProperty(Js,"__esModule",{value:!0});Js.ClassificationResponse$=Js.ClassificationResponse$outboundSchema=Js.ClassificationResponse$inboundSchema=void 0;Js.classificationResponseToJSON=BHr;Js.classificationResponseFromJSON=kHr;var AT=LHr(ge()),FHr=de(),bCt=EOe();Js.ClassificationResponse$inboundSchema=AT.object({id:AT.string().optional(),model:AT.string().optional(),results:AT.array(bCt.ClassificationObject$inboundSchema).optional()});Js.ClassificationResponse$outboundSchema=AT.object({id:AT.string().optional(),model:AT.string().optional(),results:AT.array(bCt.ClassificationObject$outboundSchema).optional()});var yCt;(function(t){t.inboundSchema=Js.ClassificationResponse$inboundSchema,t.outboundSchema=Js.ClassificationResponse$outboundSchema})(yCt||(Js.ClassificationResponse$=yCt={}));function BHr(t){return JSON.stringify(Js.ClassificationResponse$outboundSchema.parse(t))}function kHr(t){return(0,FHr.safeParse)(t,e=>Js.ClassificationResponse$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ClassificationResponse' from JSON")}});var POe=b(Zn=>{"use strict";var $Hr=Zn&&Zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qHr=Zn&&Zn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UHr=Zn&&Zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Hr(e,t,r);return qHr(e,t),e};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.DeltaMessage$=Zn.DeltaMessage$outboundSchema=Zn.DeltaMessage$inboundSchema=Zn.Content$=Zn.Content$outboundSchema=Zn.Content$inboundSchema=void 0;Zn.contentToJSON=zHr;Zn.contentFromJSON=HHr;Zn.deltaMessageToJSON=VHr;Zn.deltaMessageFromJSON=WHr;var Gi=UHr(ge()),SCt=Ee(),xCt=de(),Mte=xk(),CCt=Vee();Zn.Content$inboundSchema=Gi.union([Gi.string(),Gi.array(Mte.ContentChunk$inboundSchema)]);Zn.Content$outboundSchema=Gi.union([Gi.string(),Gi.array(Mte.ContentChunk$outboundSchema)]);var vCt;(function(t){t.inboundSchema=Zn.Content$inboundSchema,t.outboundSchema=Zn.Content$outboundSchema})(vCt||(Zn.Content$=vCt={}));function zHr(t){return JSON.stringify(Zn.Content$outboundSchema.parse(t))}function HHr(t){return(0,xCt.safeParse)(t,e=>Zn.Content$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Content' from JSON")}Zn.DeltaMessage$inboundSchema=Gi.object({role:Gi.nullable(Gi.string()).optional(),content:Gi.nullable(Gi.union([Gi.string(),Gi.array(Mte.ContentChunk$inboundSchema)])).optional(),tool_calls:Gi.nullable(Gi.array(CCt.ToolCall$inboundSchema)).optional()}).transform(t=>(0,SCt.remap)(t,{tool_calls:"toolCalls"}));Zn.DeltaMessage$outboundSchema=Gi.object({role:Gi.nullable(Gi.string()).optional(),content:Gi.nullable(Gi.union([Gi.string(),Gi.array(Mte.ContentChunk$outboundSchema)])).optional(),toolCalls:Gi.nullable(Gi.array(CCt.ToolCall$outboundSchema)).optional()}).transform(t=>(0,SCt.remap)(t,{toolCalls:"tool_calls"}));var wCt;(function(t){t.inboundSchema=Zn.DeltaMessage$inboundSchema,t.outboundSchema=Zn.DeltaMessage$outboundSchema})(wCt||(Zn.DeltaMessage$=wCt={}));function VHr(t){return JSON.stringify(Zn.DeltaMessage$outboundSchema.parse(t))}function WHr(t){return(0,xCt.safeParse)(t,e=>Zn.DeltaMessage$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DeltaMessage' from JSON")}});var TOe=b(Mn=>{"use strict";var JHr=Mn&&Mn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GHr=Mn&&Mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KHr=Mn&&Mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JHr(e,t,r);return GHr(e,t),e};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.CompletionResponseStreamChoice$=Mn.CompletionResponseStreamChoice$outboundSchema=Mn.CompletionResponseStreamChoice$inboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$=Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema=Mn.CompletionResponseStreamChoiceFinishReason=void 0;Mn.completionResponseStreamChoiceToJSON=ZHr;Mn.completionResponseStreamChoiceFromJSON=QHr;var Bp=KHr(ge()),PCt=Ee(),YHr=de(),XHr=PT(),TCt=POe();Mn.CompletionResponseStreamChoiceFinishReason={Stop:"stop",Length:"length",Error:"error",ToolCalls:"tool_calls"};Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema=Bp.union([Bp.nativeEnum(Mn.CompletionResponseStreamChoiceFinishReason),Bp.string().transform(XHr.catchUnrecognizedEnum)]);Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema=Bp.union([Bp.nativeEnum(Mn.CompletionResponseStreamChoiceFinishReason),Bp.string().and(Bp.custom())]);var OCt;(function(t){t.inboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema,t.outboundSchema=Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema})(OCt||(Mn.CompletionResponseStreamChoiceFinishReason$=OCt={}));Mn.CompletionResponseStreamChoice$inboundSchema=Bp.object({index:Bp.number().int(),delta:TCt.DeltaMessage$inboundSchema,finish_reason:Bp.nullable(Mn.CompletionResponseStreamChoiceFinishReason$inboundSchema)}).transform(t=>(0,PCt.remap)(t,{finish_reason:"finishReason"}));Mn.CompletionResponseStreamChoice$outboundSchema=Bp.object({index:Bp.number().int(),delta:TCt.DeltaMessage$outboundSchema,finishReason:Bp.nullable(Mn.CompletionResponseStreamChoiceFinishReason$outboundSchema)}).transform(t=>(0,PCt.remap)(t,{finishReason:"finish_reason"}));var ECt;(function(t){t.inboundSchema=Mn.CompletionResponseStreamChoice$inboundSchema,t.outboundSchema=Mn.CompletionResponseStreamChoice$outboundSchema})(ECt||(Mn.CompletionResponseStreamChoice$=ECt={}));function ZHr(t){return JSON.stringify(Mn.CompletionResponseStreamChoice$outboundSchema.parse(t))}function QHr(t){return(0,YHr.safeParse)(t,e=>Mn.CompletionResponseStreamChoice$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'CompletionResponseStreamChoice' from JSON")}});var MOe=b(Gs=>{"use strict";var e6r=Gs&&Gs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t6r=Gs&&Gs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r6r=Gs&&Gs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e6r(e,t,r);return t6r(e,t),e};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.CompletionChunk$=Gs.CompletionChunk$outboundSchema=Gs.CompletionChunk$inboundSchema=void 0;Gs.completionChunkToJSON=o6r;Gs.completionChunkFromJSON=i6r;var lm=r6r(ge()),n6r=de(),ACt=TOe(),RCt=Rk();Gs.CompletionChunk$inboundSchema=lm.object({id:lm.string(),object:lm.string().optional(),created:lm.number().int().optional(),model:lm.string(),usage:RCt.UsageInfo$inboundSchema.optional(),choices:lm.array(ACt.CompletionResponseStreamChoice$inboundSchema)});Gs.CompletionChunk$outboundSchema=lm.object({id:lm.string(),object:lm.string().optional(),created:lm.number().int().optional(),model:lm.string(),usage:RCt.UsageInfo$outboundSchema.optional(),choices:lm.array(ACt.CompletionResponseStreamChoice$outboundSchema)});var MCt;(function(t){t.inboundSchema=Gs.CompletionChunk$inboundSchema,t.outboundSchema=Gs.CompletionChunk$outboundSchema})(MCt||(Gs.CompletionChunk$=MCt={}));function o6r(t){return JSON.stringify(Gs.CompletionChunk$outboundSchema.parse(t))}function i6r(t){return(0,n6r.safeParse)(t,e=>Gs.CompletionChunk$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'CompletionChunk' from JSON")}});var jCt=b(Ks=>{"use strict";var a6r=Ks&&Ks.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s6r=Ks&&Ks.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u6r=Ks&&Ks.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&a6r(e,t,r);return s6r(e,t),e};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.CompletionEvent$=Ks.CompletionEvent$outboundSchema=Ks.CompletionEvent$inboundSchema=void 0;Ks.completionEventToJSON=c6r;Ks.completionEventFromJSON=d6r;var d8=u6r(ge()),l6r=de(),DCt=MOe();Ks.CompletionEvent$inboundSchema=d8.object({data:d8.string().transform((t,e)=>{try{return JSON.parse(t)}catch(r){return e.addIssue({code:d8.ZodIssueCode.custom,message:`malformed json: ${r}`}),d8.NEVER}}).pipe(DCt.CompletionChunk$inboundSchema)});Ks.CompletionEvent$outboundSchema=d8.object({data:DCt.CompletionChunk$outboundSchema});var ICt;(function(t){t.inboundSchema=Ks.CompletionEvent$inboundSchema,t.outboundSchema=Ks.CompletionEvent$outboundSchema})(ICt||(Ks.CompletionEvent$=ICt={}));function c6r(t){return JSON.stringify(Ks.CompletionEvent$outboundSchema.parse(t))}function d6r(t){return(0,l6r.safeParse)(t,e=>Ks.CompletionEvent$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'CompletionEvent' from JSON")}});var LCt=b(Ys=>{"use strict";var f6r=Ys&&Ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),p6r=Ys&&Ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h6r=Ys&&Ys.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f6r(e,t,r);return p6r(e,t),e};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.DeleteFileOut$=Ys.DeleteFileOut$outboundSchema=Ys.DeleteFileOut$inboundSchema=void 0;Ys.deleteFileOutToJSON=g6r;Ys.deleteFileOutFromJSON=y6r;var RT=h6r(ge()),m6r=de();Ys.DeleteFileOut$inboundSchema=RT.object({id:RT.string(),object:RT.string(),deleted:RT.boolean()});Ys.DeleteFileOut$outboundSchema=RT.object({id:RT.string(),object:RT.string(),deleted:RT.boolean()});var NCt;(function(t){t.inboundSchema=Ys.DeleteFileOut$inboundSchema,t.outboundSchema=Ys.DeleteFileOut$outboundSchema})(NCt||(Ys.DeleteFileOut$=NCt={}));function g6r(t){return JSON.stringify(Ys.DeleteFileOut$outboundSchema.parse(t))}function y6r(t){return(0,m6r.safeParse)(t,e=>Ys.DeleteFileOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DeleteFileOut' from JSON")}});var BCt=b(Xs=>{"use strict";var b6r=Xs&&Xs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_6r=Xs&&Xs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v6r=Xs&&Xs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b6r(e,t,r);return _6r(e,t),e};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.DeleteModelOut$=Xs.DeleteModelOut$outboundSchema=Xs.DeleteModelOut$inboundSchema=void 0;Xs.deleteModelOutToJSON=S6r;Xs.deleteModelOutFromJSON=x6r;var IT=v6r(ge()),w6r=de();Xs.DeleteModelOut$inboundSchema=IT.object({id:IT.string(),object:IT.string().default("model"),deleted:IT.boolean().default(!0)});Xs.DeleteModelOut$outboundSchema=IT.object({id:IT.string(),object:IT.string().default("model"),deleted:IT.boolean().default(!0)});var FCt;(function(t){t.inboundSchema=Xs.DeleteModelOut$inboundSchema,t.outboundSchema=Xs.DeleteModelOut$outboundSchema})(FCt||(Xs.DeleteModelOut$=FCt={}));function S6r(t){return JSON.stringify(Xs.DeleteModelOut$outboundSchema.parse(t))}function x6r(t){return(0,w6r.safeParse)(t,e=>Xs.DeleteModelOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DeleteModelOut' from JSON")}});var AOe=b(Zs=>{"use strict";var C6r=Zs&&Zs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O6r=Zs&&Zs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),E6r=Zs&&Zs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C6r(e,t,r);return O6r(e,t),e};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.EventOut$=Zs.EventOut$outboundSchema=Zs.EventOut$inboundSchema=void 0;Zs.eventOutToJSON=T6r;Zs.eventOutFromJSON=M6r;var cm=E6r(ge()),$Ct=Ee(),P6r=de();Zs.EventOut$inboundSchema=cm.object({name:cm.string(),data:cm.nullable(cm.record(cm.any())).optional(),created_at:cm.number().int()}).transform(t=>(0,$Ct.remap)(t,{created_at:"createdAt"}));Zs.EventOut$outboundSchema=cm.object({name:cm.string(),data:cm.nullable(cm.record(cm.any())).optional(),createdAt:cm.number().int()}).transform(t=>(0,$Ct.remap)(t,{createdAt:"created_at"}));var kCt;(function(t){t.inboundSchema=Zs.EventOut$inboundSchema,t.outboundSchema=Zs.EventOut$outboundSchema})(kCt||(Zs.EventOut$=kCt={}));function T6r(t){return JSON.stringify(Zs.EventOut$outboundSchema.parse(t))}function M6r(t){return(0,P6r.safeParse)(t,e=>Zs.EventOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'EventOut' from JSON")}});var Ate=b(Qn=>{"use strict";var A6r=Qn&&Qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R6r=Qn&&Qn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I6r=Qn&&Qn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A6r(e,t,r);return R6r(e,t),e};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.GithubRepositoryOut$=Qn.GithubRepositoryOut$outboundSchema=Qn.GithubRepositoryOut$inboundSchema=Qn.GithubRepositoryOutType$=Qn.GithubRepositoryOutType$outboundSchema=Qn.GithubRepositoryOutType$inboundSchema=Qn.GithubRepositoryOutType=void 0;Qn.githubRepositoryOutToJSON=j6r;Qn.githubRepositoryOutFromJSON=N6r;var bc=I6r(ge()),zCt=Ee(),D6r=de();Qn.GithubRepositoryOutType={Github:"github"};Qn.GithubRepositoryOutType$inboundSchema=bc.nativeEnum(Qn.GithubRepositoryOutType);Qn.GithubRepositoryOutType$outboundSchema=Qn.GithubRepositoryOutType$inboundSchema;var qCt;(function(t){t.inboundSchema=Qn.GithubRepositoryOutType$inboundSchema,t.outboundSchema=Qn.GithubRepositoryOutType$outboundSchema})(qCt||(Qn.GithubRepositoryOutType$=qCt={}));Qn.GithubRepositoryOut$inboundSchema=bc.object({type:bc.literal("github").default("github"),name:bc.string(),owner:bc.string(),ref:bc.nullable(bc.string()).optional(),weight:bc.number().default(1),commit_id:bc.string()}).transform(t=>(0,zCt.remap)(t,{commit_id:"commitId"}));Qn.GithubRepositoryOut$outboundSchema=bc.object({type:bc.literal("github").default("github"),name:bc.string(),owner:bc.string(),ref:bc.nullable(bc.string()).optional(),weight:bc.number().default(1),commitId:bc.string()}).transform(t=>(0,zCt.remap)(t,{commitId:"commit_id"}));var UCt;(function(t){t.inboundSchema=Qn.GithubRepositoryOut$inboundSchema,t.outboundSchema=Qn.GithubRepositoryOut$outboundSchema})(UCt||(Qn.GithubRepositoryOut$=UCt={}));function j6r(t){return JSON.stringify(Qn.GithubRepositoryOut$outboundSchema.parse(t))}function N6r(t){return(0,D6r.safeParse)(t,e=>Qn.GithubRepositoryOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'GithubRepositoryOut' from JSON")}});var Rte=b(Qs=>{"use strict";var L6r=Qs&&Qs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F6r=Qs&&Qs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B6r=Qs&&Qs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L6r(e,t,r);return F6r(e,t),e};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.JobMetadataOut$=Qs.JobMetadataOut$outboundSchema=Qs.JobMetadataOut$inboundSchema=void 0;Qs.jobMetadataOutToJSON=$6r;Qs.jobMetadataOutFromJSON=q6r;var Ro=B6r(ge()),VCt=Ee(),k6r=de();Qs.JobMetadataOut$inboundSchema=Ro.object({expected_duration_seconds:Ro.nullable(Ro.number().int()).optional(),cost:Ro.nullable(Ro.number()).optional(),cost_currency:Ro.nullable(Ro.string()).optional(),train_tokens_per_step:Ro.nullable(Ro.number().int()).optional(),train_tokens:Ro.nullable(Ro.number().int()).optional(),data_tokens:Ro.nullable(Ro.number().int()).optional(),estimated_start_time:Ro.nullable(Ro.number().int()).optional()}).transform(t=>(0,VCt.remap)(t,{expected_duration_seconds:"expectedDurationSeconds",cost_currency:"costCurrency",train_tokens_per_step:"trainTokensPerStep",train_tokens:"trainTokens",data_tokens:"dataTokens",estimated_start_time:"estimatedStartTime"}));Qs.JobMetadataOut$outboundSchema=Ro.object({expectedDurationSeconds:Ro.nullable(Ro.number().int()).optional(),cost:Ro.nullable(Ro.number()).optional(),costCurrency:Ro.nullable(Ro.string()).optional(),trainTokensPerStep:Ro.nullable(Ro.number().int()).optional(),trainTokens:Ro.nullable(Ro.number().int()).optional(),dataTokens:Ro.nullable(Ro.number().int()).optional(),estimatedStartTime:Ro.nullable(Ro.number().int()).optional()}).transform(t=>(0,VCt.remap)(t,{expectedDurationSeconds:"expected_duration_seconds",costCurrency:"cost_currency",trainTokensPerStep:"train_tokens_per_step",trainTokens:"train_tokens",dataTokens:"data_tokens",estimatedStartTime:"estimated_start_time"}));var HCt;(function(t){t.inboundSchema=Qs.JobMetadataOut$inboundSchema,t.outboundSchema=Qs.JobMetadataOut$outboundSchema})(HCt||(Qs.JobMetadataOut$=HCt={}));function $6r(t){return JSON.stringify(Qs.JobMetadataOut$outboundSchema.parse(t))}function q6r(t){return(0,k6r.safeParse)(t,e=>Qs.JobMetadataOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobMetadataOut' from JSON")}});var Ite=b(eu=>{"use strict";var U6r=eu&&eu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z6r=eu&&eu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H6r=eu&&eu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U6r(e,t,r);return z6r(e,t),e};Object.defineProperty(eu,"__esModule",{value:!0});eu.TrainingParameters$=eu.TrainingParameters$outboundSchema=eu.TrainingParameters$inboundSchema=void 0;eu.trainingParametersToJSON=W6r;eu.trainingParametersFromJSON=J6r;var Vo=H6r(ge()),JCt=Ee(),V6r=de();eu.TrainingParameters$inboundSchema=Vo.object({training_steps:Vo.nullable(Vo.number().int()).optional(),learning_rate:Vo.number().default(1e-4),weight_decay:Vo.nullable(Vo.number()).optional(),warmup_fraction:Vo.nullable(Vo.number()).optional(),epochs:Vo.nullable(Vo.number()).optional(),fim_ratio:Vo.nullable(Vo.number()).optional(),seq_len:Vo.nullable(Vo.number().int()).optional()}).transform(t=>(0,JCt.remap)(t,{training_steps:"trainingSteps",learning_rate:"learningRate",weight_decay:"weightDecay",warmup_fraction:"warmupFraction",fim_ratio:"fimRatio",seq_len:"seqLen"}));eu.TrainingParameters$outboundSchema=Vo.object({trainingSteps:Vo.nullable(Vo.number().int()).optional(),learningRate:Vo.number().default(1e-4),weightDecay:Vo.nullable(Vo.number()).optional(),warmupFraction:Vo.nullable(Vo.number()).optional(),epochs:Vo.nullable(Vo.number()).optional(),fimRatio:Vo.nullable(Vo.number()).optional(),seqLen:Vo.nullable(Vo.number().int()).optional()}).transform(t=>(0,JCt.remap)(t,{trainingSteps:"training_steps",learningRate:"learning_rate",weightDecay:"weight_decay",warmupFraction:"warmup_fraction",fimRatio:"fim_ratio",seqLen:"seq_len"}));var WCt;(function(t){t.inboundSchema=eu.TrainingParameters$inboundSchema,t.outboundSchema=eu.TrainingParameters$outboundSchema})(WCt||(eu.TrainingParameters$=WCt={}));function W6r(t){return JSON.stringify(eu.TrainingParameters$outboundSchema.parse(t))}function J6r(t){return(0,V6r.safeParse)(t,e=>eu.TrainingParameters$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'TrainingParameters' from JSON")}});var Dte=b(eo=>{"use strict";var G6r=eo&&eo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K6r=eo&&eo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y6r=eo&&eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&G6r(e,t,r);return K6r(e,t),e};Object.defineProperty(eo,"__esModule",{value:!0});eo.WandbIntegrationOut$=eo.WandbIntegrationOut$outboundSchema=eo.WandbIntegrationOut$inboundSchema=eo.WandbIntegrationOutType$=eo.WandbIntegrationOutType$outboundSchema=eo.WandbIntegrationOutType$inboundSchema=eo.WandbIntegrationOutType=void 0;eo.wandbIntegrationOutToJSON=Z6r;eo.wandbIntegrationOutFromJSON=Q6r;var Vd=Y6r(ge()),YCt=Ee(),X6r=de();eo.WandbIntegrationOutType={Wandb:"wandb"};eo.WandbIntegrationOutType$inboundSchema=Vd.nativeEnum(eo.WandbIntegrationOutType);eo.WandbIntegrationOutType$outboundSchema=eo.WandbIntegrationOutType$inboundSchema;var GCt;(function(t){t.inboundSchema=eo.WandbIntegrationOutType$inboundSchema,t.outboundSchema=eo.WandbIntegrationOutType$outboundSchema})(GCt||(eo.WandbIntegrationOutType$=GCt={}));eo.WandbIntegrationOut$inboundSchema=Vd.object({type:Vd.literal("wandb").default("wandb"),project:Vd.string(),name:Vd.nullable(Vd.string()).optional(),run_name:Vd.nullable(Vd.string()).optional()}).transform(t=>(0,YCt.remap)(t,{run_name:"runName"}));eo.WandbIntegrationOut$outboundSchema=Vd.object({type:Vd.literal("wandb").default("wandb"),project:Vd.string(),name:Vd.nullable(Vd.string()).optional(),runName:Vd.nullable(Vd.string()).optional()}).transform(t=>(0,YCt.remap)(t,{runName:"run_name"}));var KCt;(function(t){t.inboundSchema=eo.WandbIntegrationOut$inboundSchema,t.outboundSchema=eo.WandbIntegrationOut$outboundSchema})(KCt||(eo.WandbIntegrationOut$=KCt={}));function Z6r(t){return JSON.stringify(eo.WandbIntegrationOut$outboundSchema.parse(t))}function Q6r(t){return(0,X6r.safeParse)(t,e=>eo.WandbIntegrationOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'WandbIntegrationOut' from JSON")}});var sOt=b(Ge=>{"use strict";var eVr=Ge&&Ge.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tVr=Ge&&Ge.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rVr=Ge&&Ge.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eVr(e,t,r);return tVr(e,t),e};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.DetailedJobOut$=Ge.DetailedJobOut$outboundSchema=Ge.DetailedJobOut$inboundSchema=Ge.DetailedJobOutRepositories$=Ge.DetailedJobOutRepositories$outboundSchema=Ge.DetailedJobOutRepositories$inboundSchema=Ge.DetailedJobOutIntegrations$=Ge.DetailedJobOutIntegrations$outboundSchema=Ge.DetailedJobOutIntegrations$inboundSchema=Ge.DetailedJobOutObject$=Ge.DetailedJobOutObject$outboundSchema=Ge.DetailedJobOutObject$inboundSchema=Ge.DetailedJobOutStatus$=Ge.DetailedJobOutStatus$outboundSchema=Ge.DetailedJobOutStatus$inboundSchema=Ge.DetailedJobOutObject=Ge.DetailedJobOutStatus=void 0;Ge.detailedJobOutIntegrationsToJSON=nVr;Ge.detailedJobOutIntegrationsFromJSON=oVr;Ge.detailedJobOutRepositoriesToJSON=iVr;Ge.detailedJobOutRepositoriesFromJSON=aVr;Ge.detailedJobOutToJSON=sVr;Ge.detailedJobOutFromJSON=uVr;var Nt=rVr(ge()),rOt=Ee(),ROe=de(),nOt=OOe(),oOt=AOe(),jte=Ate(),iOt=Rte(),aOt=Ite(),Nte=Dte();Ge.DetailedJobOutStatus={Queued:"QUEUED",Started:"STARTED",Validating:"VALIDATING",Validated:"VALIDATED",Running:"RUNNING",FailedValidation:"FAILED_VALIDATION",Failed:"FAILED",Success:"SUCCESS",Cancelled:"CANCELLED",CancellationRequested:"CANCELLATION_REQUESTED"};Ge.DetailedJobOutObject={Job:"job"};Ge.DetailedJobOutStatus$inboundSchema=Nt.nativeEnum(Ge.DetailedJobOutStatus);Ge.DetailedJobOutStatus$outboundSchema=Ge.DetailedJobOutStatus$inboundSchema;var XCt;(function(t){t.inboundSchema=Ge.DetailedJobOutStatus$inboundSchema,t.outboundSchema=Ge.DetailedJobOutStatus$outboundSchema})(XCt||(Ge.DetailedJobOutStatus$=XCt={}));Ge.DetailedJobOutObject$inboundSchema=Nt.nativeEnum(Ge.DetailedJobOutObject);Ge.DetailedJobOutObject$outboundSchema=Ge.DetailedJobOutObject$inboundSchema;var ZCt;(function(t){t.inboundSchema=Ge.DetailedJobOutObject$inboundSchema,t.outboundSchema=Ge.DetailedJobOutObject$outboundSchema})(ZCt||(Ge.DetailedJobOutObject$=ZCt={}));Ge.DetailedJobOutIntegrations$inboundSchema=Nte.WandbIntegrationOut$inboundSchema;Ge.DetailedJobOutIntegrations$outboundSchema=Nte.WandbIntegrationOut$outboundSchema;var QCt;(function(t){t.inboundSchema=Ge.DetailedJobOutIntegrations$inboundSchema,t.outboundSchema=Ge.DetailedJobOutIntegrations$outboundSchema})(QCt||(Ge.DetailedJobOutIntegrations$=QCt={}));function nVr(t){return JSON.stringify(Ge.DetailedJobOutIntegrations$outboundSchema.parse(t))}function oVr(t){return(0,ROe.safeParse)(t,e=>Ge.DetailedJobOutIntegrations$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DetailedJobOutIntegrations' from JSON")}Ge.DetailedJobOutRepositories$inboundSchema=jte.GithubRepositoryOut$inboundSchema;Ge.DetailedJobOutRepositories$outboundSchema=jte.GithubRepositoryOut$outboundSchema;var eOt;(function(t){t.inboundSchema=Ge.DetailedJobOutRepositories$inboundSchema,t.outboundSchema=Ge.DetailedJobOutRepositories$outboundSchema})(eOt||(Ge.DetailedJobOutRepositories$=eOt={}));function iVr(t){return JSON.stringify(Ge.DetailedJobOutRepositories$outboundSchema.parse(t))}function aVr(t){return(0,ROe.safeParse)(t,e=>Ge.DetailedJobOutRepositories$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DetailedJobOutRepositories' from JSON")}Ge.DetailedJobOut$inboundSchema=Nt.object({id:Nt.string(),auto_start:Nt.boolean(),hyperparameters:aOt.TrainingParameters$inboundSchema,model:Nt.string(),status:Ge.DetailedJobOutStatus$inboundSchema,job_type:Nt.string(),created_at:Nt.number().int(),modified_at:Nt.number().int(),training_files:Nt.array(Nt.string()),validation_files:Nt.nullable(Nt.array(Nt.string())).optional(),object:Nt.literal("job").default("job"),fine_tuned_model:Nt.nullable(Nt.string()).optional(),suffix:Nt.nullable(Nt.string()).optional(),integrations:Nt.nullable(Nt.array(Nte.WandbIntegrationOut$inboundSchema)).optional(),trained_tokens:Nt.nullable(Nt.number().int()).optional(),repositories:Nt.array(jte.GithubRepositoryOut$inboundSchema).optional(),metadata:Nt.nullable(iOt.JobMetadataOut$inboundSchema).optional(),events:Nt.array(oOt.EventOut$inboundSchema).optional(),checkpoints:Nt.array(nOt.CheckpointOut$inboundSchema).optional()}).transform(t=>(0,rOt.remap)(t,{auto_start:"autoStart",job_type:"jobType",created_at:"createdAt",modified_at:"modifiedAt",training_files:"trainingFiles",validation_files:"validationFiles",fine_tuned_model:"fineTunedModel",trained_tokens:"trainedTokens"}));Ge.DetailedJobOut$outboundSchema=Nt.object({id:Nt.string(),autoStart:Nt.boolean(),hyperparameters:aOt.TrainingParameters$outboundSchema,model:Nt.string(),status:Ge.DetailedJobOutStatus$outboundSchema,jobType:Nt.string(),createdAt:Nt.number().int(),modifiedAt:Nt.number().int(),trainingFiles:Nt.array(Nt.string()),validationFiles:Nt.nullable(Nt.array(Nt.string())).optional(),object:Nt.literal("job").default("job"),fineTunedModel:Nt.nullable(Nt.string()).optional(),suffix:Nt.nullable(Nt.string()).optional(),integrations:Nt.nullable(Nt.array(Nte.WandbIntegrationOut$outboundSchema)).optional(),trainedTokens:Nt.nullable(Nt.number().int()).optional(),repositories:Nt.array(jte.GithubRepositoryOut$outboundSchema).optional(),metadata:Nt.nullable(iOt.JobMetadataOut$outboundSchema).optional(),events:Nt.array(oOt.EventOut$outboundSchema).optional(),checkpoints:Nt.array(nOt.CheckpointOut$outboundSchema).optional()}).transform(t=>(0,rOt.remap)(t,{autoStart:"auto_start",jobType:"job_type",createdAt:"created_at",modifiedAt:"modified_at",trainingFiles:"training_files",validationFiles:"validation_files",fineTunedModel:"fine_tuned_model",trainedTokens:"trained_tokens"}));var tOt;(function(t){t.inboundSchema=Ge.DetailedJobOut$inboundSchema,t.outboundSchema=Ge.DetailedJobOut$outboundSchema})(tOt||(Ge.DetailedJobOut$=tOt={}));function sVr(t){return JSON.stringify(Ge.DetailedJobOut$outboundSchema.parse(t))}function uVr(t){return(0,ROe.safeParse)(t,e=>Ge.DetailedJobOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DetailedJobOut' from JSON")}});var fOt=b(to=>{"use strict";var lVr=to&&to.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cVr=to&&to.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dVr=to&&to.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lVr(e,t,r);return cVr(e,t),e};Object.defineProperty(to,"__esModule",{value:!0});to.EmbeddingRequest$=to.EmbeddingRequest$outboundSchema=to.EmbeddingRequest$inboundSchema=to.Inputs$=to.Inputs$outboundSchema=to.Inputs$inboundSchema=void 0;to.inputsToJSON=fVr;to.inputsFromJSON=pVr;to.embeddingRequestToJSON=hVr;to.embeddingRequestFromJSON=mVr;var Ki=dVr(ge()),cOt=Ee(),dOt=de();to.Inputs$inboundSchema=Ki.union([Ki.string(),Ki.array(Ki.string())]);to.Inputs$outboundSchema=Ki.union([Ki.string(),Ki.array(Ki.string())]);var uOt;(function(t){t.inboundSchema=to.Inputs$inboundSchema,t.outboundSchema=to.Inputs$outboundSchema})(uOt||(to.Inputs$=uOt={}));function fVr(t){return JSON.stringify(to.Inputs$outboundSchema.parse(t))}function pVr(t){return(0,dOt.safeParse)(t,e=>to.Inputs$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Inputs' from JSON")}to.EmbeddingRequest$inboundSchema=Ki.object({input:Ki.union([Ki.string(),Ki.array(Ki.string())]),model:Ki.string().default("mistral-embed"),encoding_format:Ki.nullable(Ki.string()).optional()}).transform(t=>(0,cOt.remap)(t,{input:"inputs",encoding_format:"encodingFormat"}));to.EmbeddingRequest$outboundSchema=Ki.object({inputs:Ki.union([Ki.string(),Ki.array(Ki.string())]),model:Ki.string().default("mistral-embed"),encodingFormat:Ki.nullable(Ki.string()).optional()}).transform(t=>(0,cOt.remap)(t,{inputs:"input",encodingFormat:"encoding_format"}));var lOt;(function(t){t.inboundSchema=to.EmbeddingRequest$inboundSchema,t.outboundSchema=to.EmbeddingRequest$outboundSchema})(lOt||(to.EmbeddingRequest$=lOt={}));function hVr(t){return JSON.stringify(to.EmbeddingRequest$outboundSchema.parse(t))}function mVr(t){return(0,dOt.safeParse)(t,e=>to.EmbeddingRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'EmbeddingRequest' from JSON")}});var IOe=b(tu=>{"use strict";var gVr=tu&&tu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yVr=tu&&tu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bVr=tu&&tu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gVr(e,t,r);return yVr(e,t),e};Object.defineProperty(tu,"__esModule",{value:!0});tu.EmbeddingResponseData$=tu.EmbeddingResponseData$outboundSchema=tu.EmbeddingResponseData$inboundSchema=void 0;tu.embeddingResponseDataToJSON=vVr;tu.embeddingResponseDataFromJSON=wVr;var fS=bVr(ge()),_Vr=de();tu.EmbeddingResponseData$inboundSchema=fS.object({object:fS.string().optional(),embedding:fS.array(fS.number()).optional(),index:fS.number().int().optional()});tu.EmbeddingResponseData$outboundSchema=fS.object({object:fS.string().optional(),embedding:fS.array(fS.number()).optional(),index:fS.number().int().optional()});var pOt;(function(t){t.inboundSchema=tu.EmbeddingResponseData$inboundSchema,t.outboundSchema=tu.EmbeddingResponseData$outboundSchema})(pOt||(tu.EmbeddingResponseData$=pOt={}));function vVr(t){return JSON.stringify(tu.EmbeddingResponseData$outboundSchema.parse(t))}function wVr(t){return(0,_Vr.safeParse)(t,e=>tu.EmbeddingResponseData$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'EmbeddingResponseData' from JSON")}});var yOt=b(ru=>{"use strict";var SVr=ru&&ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xVr=ru&&ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CVr=ru&&ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SVr(e,t,r);return xVr(e,t),e};Object.defineProperty(ru,"__esModule",{value:!0});ru.EmbeddingResponse$=ru.EmbeddingResponse$outboundSchema=ru.EmbeddingResponse$inboundSchema=void 0;ru.embeddingResponseToJSON=EVr;ru.embeddingResponseFromJSON=PVr;var pS=CVr(ge()),OVr=de(),mOt=IOe(),gOt=Rk();ru.EmbeddingResponse$inboundSchema=pS.object({id:pS.string(),object:pS.string(),model:pS.string(),usage:gOt.UsageInfo$inboundSchema,data:pS.array(mOt.EmbeddingResponseData$inboundSchema)});ru.EmbeddingResponse$outboundSchema=pS.object({id:pS.string(),object:pS.string(),model:pS.string(),usage:gOt.UsageInfo$outboundSchema,data:pS.array(mOt.EmbeddingResponseData$outboundSchema)});var hOt;(function(t){t.inboundSchema=ru.EmbeddingResponse$inboundSchema,t.outboundSchema=ru.EmbeddingResponse$outboundSchema})(hOt||(ru.EmbeddingResponse$=hOt={}));function EVr(t){return JSON.stringify(ru.EmbeddingResponse$outboundSchema.parse(t))}function PVr(t){return(0,OVr.safeParse)(t,e=>ru.EmbeddingResponse$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'EmbeddingResponse' from JSON")}});var f8=b(nu=>{"use strict";var TVr=nu&&nu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MVr=nu&&nu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AVr=nu&&nu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TVr(e,t,r);return MVr(e,t),e};Object.defineProperty(nu,"__esModule",{value:!0});nu.FilePurpose$=nu.FilePurpose$outboundSchema=nu.FilePurpose$inboundSchema=nu.FilePurpose=void 0;var tD=AVr(ge()),RVr=PT();nu.FilePurpose={FineTune:"fine-tune",Batch:"batch"};nu.FilePurpose$inboundSchema=tD.union([tD.nativeEnum(nu.FilePurpose),tD.string().transform(RVr.catchUnrecognizedEnum)]);nu.FilePurpose$outboundSchema=tD.union([tD.nativeEnum(nu.FilePurpose),tD.string().and(tD.custom())]);var bOt;(function(t){t.inboundSchema=nu.FilePurpose$inboundSchema,t.outboundSchema=nu.FilePurpose$outboundSchema})(bOt||(nu.FilePurpose$=bOt={}))});var p8=b(ou=>{"use strict";var IVr=ou&&ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DVr=ou&&ou.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jVr=ou&&ou.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IVr(e,t,r);return DVr(e,t),e};Object.defineProperty(ou,"__esModule",{value:!0});ou.SampleType$=ou.SampleType$outboundSchema=ou.SampleType$inboundSchema=ou.SampleType=void 0;var rD=jVr(ge()),NVr=PT();ou.SampleType={Pretrain:"pretrain",Instruct:"instruct",BatchRequest:"batch_request",BatchResult:"batch_result",BatchError:"batch_error"};ou.SampleType$inboundSchema=rD.union([rD.nativeEnum(ou.SampleType),rD.string().transform(NVr.catchUnrecognizedEnum)]);ou.SampleType$outboundSchema=rD.union([rD.nativeEnum(ou.SampleType),rD.string().and(rD.custom())]);var _Ot;(function(t){t.inboundSchema=ou.SampleType$inboundSchema,t.outboundSchema=ou.SampleType$outboundSchema})(_Ot||(ou.SampleType$=_Ot={}))});var h8=b(iu=>{"use strict";var LVr=iu&&iu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FVr=iu&&iu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BVr=iu&&iu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LVr(e,t,r);return FVr(e,t),e};Object.defineProperty(iu,"__esModule",{value:!0});iu.Source$=iu.Source$outboundSchema=iu.Source$inboundSchema=iu.Source=void 0;var nD=BVr(ge()),kVr=PT();iu.Source={Upload:"upload",Repository:"repository",Mistral:"mistral"};iu.Source$inboundSchema=nD.union([nD.nativeEnum(iu.Source),nD.string().transform(kVr.catchUnrecognizedEnum)]);iu.Source$outboundSchema=nD.union([nD.nativeEnum(iu.Source),nD.string().and(nD.custom())]);var vOt;(function(t){t.inboundSchema=iu.Source$inboundSchema,t.outboundSchema=iu.Source$outboundSchema})(vOt||(iu.Source$=vOt={}))});var DOe=b(au=>{"use strict";var $Vr=au&&au.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qVr=au&&au.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UVr=au&&au.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Vr(e,t,r);return qVr(e,t),e};Object.defineProperty(au,"__esModule",{value:!0});au.FileSchema$=au.FileSchema$outboundSchema=au.FileSchema$inboundSchema=void 0;au.fileSchemaToJSON=HVr;au.fileSchemaFromJSON=VVr;var ld=UVr(ge()),SOt=Ee(),zVr=de(),xOt=f8(),COt=p8(),OOt=h8();au.FileSchema$inboundSchema=ld.object({id:ld.string(),object:ld.string(),bytes:ld.number().int(),created_at:ld.number().int(),filename:ld.string(),purpose:xOt.FilePurpose$inboundSchema,sample_type:COt.SampleType$inboundSchema,num_lines:ld.nullable(ld.number().int()).optional(),source:OOt.Source$inboundSchema}).transform(t=>(0,SOt.remap)(t,{bytes:"sizeBytes",created_at:"createdAt",sample_type:"sampleType",num_lines:"numLines"}));au.FileSchema$outboundSchema=ld.object({id:ld.string(),object:ld.string(),sizeBytes:ld.number().int(),createdAt:ld.number().int(),filename:ld.string(),purpose:xOt.FilePurpose$outboundSchema,sampleType:COt.SampleType$outboundSchema,numLines:ld.nullable(ld.number().int()).optional(),source:OOt.Source$outboundSchema}).transform(t=>(0,SOt.remap)(t,{sizeBytes:"bytes",createdAt:"created_at",sampleType:"sample_type",numLines:"num_lines"}));var wOt;(function(t){t.inboundSchema=au.FileSchema$inboundSchema,t.outboundSchema=au.FileSchema$outboundSchema})(wOt||(au.FileSchema$=wOt={}));function HVr(t){return JSON.stringify(au.FileSchema$outboundSchema.parse(t))}function VVr(t){return(0,zVr.safeParse)(t,e=>au.FileSchema$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FileSchema' from JSON")}});var POt=b(su=>{"use strict";var WVr=su&&su.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JVr=su&&su.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GVr=su&&su.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WVr(e,t,r);return JVr(e,t),e};Object.defineProperty(su,"__esModule",{value:!0});su.FileSignedURL$=su.FileSignedURL$outboundSchema=su.FileSignedURL$inboundSchema=void 0;su.fileSignedURLToJSON=YVr;su.fileSignedURLFromJSON=XVr;var Lte=GVr(ge()),KVr=de();su.FileSignedURL$inboundSchema=Lte.object({url:Lte.string()});su.FileSignedURL$outboundSchema=Lte.object({url:Lte.string()});var EOt;(function(t){t.inboundSchema=su.FileSignedURL$inboundSchema,t.outboundSchema=su.FileSignedURL$outboundSchema})(EOt||(su.FileSignedURL$=EOt={}));function YVr(t){return JSON.stringify(su.FileSignedURL$outboundSchema.parse(t))}function XVr(t){return(0,KVr.safeParse)(t,e=>su.FileSignedURL$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FileSignedURL' from JSON")}});var IOt=b(ro=>{"use strict";var ZVr=ro&&ro.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QVr=ro&&ro.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),e5r=ro&&ro.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZVr(e,t,r);return QVr(e,t),e};Object.defineProperty(ro,"__esModule",{value:!0});ro.FIMCompletionRequest$=ro.FIMCompletionRequest$outboundSchema=ro.FIMCompletionRequest$inboundSchema=ro.FIMCompletionRequestStop$=ro.FIMCompletionRequestStop$outboundSchema=ro.FIMCompletionRequestStop$inboundSchema=void 0;ro.fimCompletionRequestStopToJSON=t5r;ro.fimCompletionRequestStopFromJSON=r5r;ro.fimCompletionRequestToJSON=n5r;ro.fimCompletionRequestFromJSON=o5r;var Ht=e5r(ge()),AOt=Ee(),ROt=de();ro.FIMCompletionRequestStop$inboundSchema=Ht.union([Ht.string(),Ht.array(Ht.string())]);ro.FIMCompletionRequestStop$outboundSchema=Ht.union([Ht.string(),Ht.array(Ht.string())]);var TOt;(function(t){t.inboundSchema=ro.FIMCompletionRequestStop$inboundSchema,t.outboundSchema=ro.FIMCompletionRequestStop$outboundSchema})(TOt||(ro.FIMCompletionRequestStop$=TOt={}));function t5r(t){return JSON.stringify(ro.FIMCompletionRequestStop$outboundSchema.parse(t))}function r5r(t){return(0,ROt.safeParse)(t,e=>ro.FIMCompletionRequestStop$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FIMCompletionRequestStop' from JSON")}ro.FIMCompletionRequest$inboundSchema=Ht.object({model:Ht.nullable(Ht.string()),temperature:Ht.nullable(Ht.number()).optional(),top_p:Ht.number().default(1),max_tokens:Ht.nullable(Ht.number().int()).optional(),stream:Ht.boolean().default(!1),stop:Ht.union([Ht.string(),Ht.array(Ht.string())]).optional(),random_seed:Ht.nullable(Ht.number().int()).optional(),prompt:Ht.string(),suffix:Ht.nullable(Ht.string()).optional(),min_tokens:Ht.nullable(Ht.number().int()).optional()}).transform(t=>(0,AOt.remap)(t,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",min_tokens:"minTokens"}));ro.FIMCompletionRequest$outboundSchema=Ht.object({model:Ht.nullable(Ht.string()),temperature:Ht.nullable(Ht.number()).optional(),topP:Ht.number().default(1),maxTokens:Ht.nullable(Ht.number().int()).optional(),stream:Ht.boolean().default(!1),stop:Ht.union([Ht.string(),Ht.array(Ht.string())]).optional(),randomSeed:Ht.nullable(Ht.number().int()).optional(),prompt:Ht.string(),suffix:Ht.nullable(Ht.string()).optional(),minTokens:Ht.nullable(Ht.number().int()).optional()}).transform(t=>(0,AOt.remap)(t,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",minTokens:"min_tokens"}));var MOt;(function(t){t.inboundSchema=ro.FIMCompletionRequest$inboundSchema,t.outboundSchema=ro.FIMCompletionRequest$outboundSchema})(MOt||(ro.FIMCompletionRequest$=MOt={}));function n5r(t){return JSON.stringify(ro.FIMCompletionRequest$outboundSchema.parse(t))}function o5r(t){return(0,ROt.safeParse)(t,e=>ro.FIMCompletionRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FIMCompletionRequest' from JSON")}});var LOt=b(uu=>{"use strict";var i5r=uu&&uu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a5r=uu&&uu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s5r=uu&&uu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i5r(e,t,r);return a5r(e,t),e};Object.defineProperty(uu,"__esModule",{value:!0});uu.FIMCompletionResponse$=uu.FIMCompletionResponse$outboundSchema=uu.FIMCompletionResponse$inboundSchema=void 0;uu.fimCompletionResponseToJSON=l5r;uu.fimCompletionResponseFromJSON=c5r;var dm=s5r(ge()),u5r=de(),jOt=hte(),NOt=Rk();uu.FIMCompletionResponse$inboundSchema=dm.object({id:dm.string(),object:dm.string(),model:dm.string(),usage:NOt.UsageInfo$inboundSchema,created:dm.number().int().optional(),choices:dm.array(jOt.ChatCompletionChoice$inboundSchema).optional()});uu.FIMCompletionResponse$outboundSchema=dm.object({id:dm.string(),object:dm.string(),model:dm.string(),usage:NOt.UsageInfo$outboundSchema,created:dm.number().int().optional(),choices:dm.array(jOt.ChatCompletionChoice$outboundSchema).optional()});var DOt;(function(t){t.inboundSchema=uu.FIMCompletionResponse$inboundSchema,t.outboundSchema=uu.FIMCompletionResponse$outboundSchema})(DOt||(uu.FIMCompletionResponse$=DOt={}));function l5r(t){return JSON.stringify(uu.FIMCompletionResponse$outboundSchema.parse(t))}function c5r(t){return(0,u5r.safeParse)(t,e=>uu.FIMCompletionResponse$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FIMCompletionResponse' from JSON")}});var qOt=b(no=>{"use strict";var d5r=no&&no.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f5r=no&&no.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p5r=no&&no.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d5r(e,t,r);return f5r(e,t),e};Object.defineProperty(no,"__esModule",{value:!0});no.FIMCompletionStreamRequest$=no.FIMCompletionStreamRequest$outboundSchema=no.FIMCompletionStreamRequest$inboundSchema=no.FIMCompletionStreamRequestStop$=no.FIMCompletionStreamRequestStop$outboundSchema=no.FIMCompletionStreamRequestStop$inboundSchema=void 0;no.fimCompletionStreamRequestStopToJSON=h5r;no.fimCompletionStreamRequestStopFromJSON=m5r;no.fimCompletionStreamRequestToJSON=g5r;no.fimCompletionStreamRequestFromJSON=y5r;var Vt=p5r(ge()),kOt=Ee(),$Ot=de();no.FIMCompletionStreamRequestStop$inboundSchema=Vt.union([Vt.string(),Vt.array(Vt.string())]);no.FIMCompletionStreamRequestStop$outboundSchema=Vt.union([Vt.string(),Vt.array(Vt.string())]);var FOt;(function(t){t.inboundSchema=no.FIMCompletionStreamRequestStop$inboundSchema,t.outboundSchema=no.FIMCompletionStreamRequestStop$outboundSchema})(FOt||(no.FIMCompletionStreamRequestStop$=FOt={}));function h5r(t){return JSON.stringify(no.FIMCompletionStreamRequestStop$outboundSchema.parse(t))}function m5r(t){return(0,$Ot.safeParse)(t,e=>no.FIMCompletionStreamRequestStop$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FIMCompletionStreamRequestStop' from JSON")}no.FIMCompletionStreamRequest$inboundSchema=Vt.object({model:Vt.nullable(Vt.string()),temperature:Vt.nullable(Vt.number()).optional(),top_p:Vt.number().default(1),max_tokens:Vt.nullable(Vt.number().int()).optional(),stream:Vt.boolean().default(!0),stop:Vt.union([Vt.string(),Vt.array(Vt.string())]).optional(),random_seed:Vt.nullable(Vt.number().int()).optional(),prompt:Vt.string(),suffix:Vt.nullable(Vt.string()).optional(),min_tokens:Vt.nullable(Vt.number().int()).optional()}).transform(t=>(0,kOt.remap)(t,{top_p:"topP",max_tokens:"maxTokens",random_seed:"randomSeed",min_tokens:"minTokens"}));no.FIMCompletionStreamRequest$outboundSchema=Vt.object({model:Vt.nullable(Vt.string()),temperature:Vt.nullable(Vt.number()).optional(),topP:Vt.number().default(1),maxTokens:Vt.nullable(Vt.number().int()).optional(),stream:Vt.boolean().default(!0),stop:Vt.union([Vt.string(),Vt.array(Vt.string())]).optional(),randomSeed:Vt.nullable(Vt.number().int()).optional(),prompt:Vt.string(),suffix:Vt.nullable(Vt.string()).optional(),minTokens:Vt.nullable(Vt.number().int()).optional()}).transform(t=>(0,kOt.remap)(t,{topP:"top_p",maxTokens:"max_tokens",randomSeed:"random_seed",minTokens:"min_tokens"}));var BOt;(function(t){t.inboundSchema=no.FIMCompletionStreamRequest$inboundSchema,t.outboundSchema=no.FIMCompletionStreamRequest$outboundSchema})(BOt||(no.FIMCompletionStreamRequest$=BOt={}));function g5r(t){return JSON.stringify(no.FIMCompletionStreamRequest$outboundSchema.parse(t))}function y5r(t){return(0,$Ot.safeParse)(t,e=>no.FIMCompletionStreamRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FIMCompletionStreamRequest' from JSON")}});var jOe=b(lu=>{"use strict";var b5r=lu&&lu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_5r=lu&&lu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v5r=lu&&lu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b5r(e,t,r);return _5r(e,t),e};Object.defineProperty(lu,"__esModule",{value:!0});lu.FTModelCapabilitiesOut$=lu.FTModelCapabilitiesOut$outboundSchema=lu.FTModelCapabilitiesOut$inboundSchema=void 0;lu.ftModelCapabilitiesOutToJSON=S5r;lu.ftModelCapabilitiesOutFromJSON=x5r;var hS=v5r(ge()),zOt=Ee(),w5r=de();lu.FTModelCapabilitiesOut$inboundSchema=hS.object({completion_chat:hS.boolean().default(!0),completion_fim:hS.boolean().default(!1),function_calling:hS.boolean().default(!1),fine_tuning:hS.boolean().default(!1)}).transform(t=>(0,zOt.remap)(t,{completion_chat:"completionChat",completion_fim:"completionFim",function_calling:"functionCalling",fine_tuning:"fineTuning"}));lu.FTModelCapabilitiesOut$outboundSchema=hS.object({completionChat:hS.boolean().default(!0),completionFim:hS.boolean().default(!1),functionCalling:hS.boolean().default(!1),fineTuning:hS.boolean().default(!1)}).transform(t=>(0,zOt.remap)(t,{completionChat:"completion_chat",completionFim:"completion_fim",functionCalling:"function_calling",fineTuning:"fine_tuning"}));var UOt;(function(t){t.inboundSchema=lu.FTModelCapabilitiesOut$inboundSchema,t.outboundSchema=lu.FTModelCapabilitiesOut$outboundSchema})(UOt||(lu.FTModelCapabilitiesOut$=UOt={}));function S5r(t){return JSON.stringify(lu.FTModelCapabilitiesOut$outboundSchema.parse(t))}function x5r(t){return(0,w5r.safeParse)(t,e=>lu.FTModelCapabilitiesOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FTModelCapabilitiesOut' from JSON")}});var NOe=b(oo=>{"use strict";var C5r=oo&&oo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O5r=oo&&oo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),E5r=oo&&oo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C5r(e,t,r);return O5r(e,t),e};Object.defineProperty(oo,"__esModule",{value:!0});oo.FTModelCard$=oo.FTModelCard$outboundSchema=oo.FTModelCard$inboundSchema=oo.FTModelCardType$=oo.FTModelCardType$outboundSchema=oo.FTModelCardType$inboundSchema=oo.FTModelCardType=void 0;oo.ftModelCardToJSON=T5r;oo.ftModelCardFromJSON=M5r;var Tr=E5r(ge()),WOt=Ee(),P5r=de(),JOt=fte();oo.FTModelCardType={FineTuned:"fine-tuned"};oo.FTModelCardType$inboundSchema=Tr.nativeEnum(oo.FTModelCardType);oo.FTModelCardType$outboundSchema=oo.FTModelCardType$inboundSchema;var HOt;(function(t){t.inboundSchema=oo.FTModelCardType$inboundSchema,t.outboundSchema=oo.FTModelCardType$outboundSchema})(HOt||(oo.FTModelCardType$=HOt={}));oo.FTModelCard$inboundSchema=Tr.object({id:Tr.string(),object:Tr.string().default("model"),created:Tr.number().int().optional(),owned_by:Tr.string().default("mistralai"),capabilities:JOt.ModelCapabilities$inboundSchema,name:Tr.nullable(Tr.string()).optional(),description:Tr.nullable(Tr.string()).optional(),max_context_length:Tr.number().int().default(32768),aliases:Tr.array(Tr.string()).optional(),deprecation:Tr.nullable(Tr.string().datetime({offset:!0}).transform(t=>new Date(t))).optional(),default_model_temperature:Tr.nullable(Tr.number()).optional(),type:Tr.literal("fine-tuned").default("fine-tuned"),job:Tr.string(),root:Tr.string(),archived:Tr.boolean().default(!1)}).transform(t=>(0,WOt.remap)(t,{owned_by:"ownedBy",max_context_length:"maxContextLength",default_model_temperature:"defaultModelTemperature"}));oo.FTModelCard$outboundSchema=Tr.object({id:Tr.string(),object:Tr.string().default("model"),created:Tr.number().int().optional(),ownedBy:Tr.string().default("mistralai"),capabilities:JOt.ModelCapabilities$outboundSchema,name:Tr.nullable(Tr.string()).optional(),description:Tr.nullable(Tr.string()).optional(),maxContextLength:Tr.number().int().default(32768),aliases:Tr.array(Tr.string()).optional(),deprecation:Tr.nullable(Tr.date().transform(t=>t.toISOString())).optional(),defaultModelTemperature:Tr.nullable(Tr.number()).optional(),type:Tr.literal("fine-tuned").default("fine-tuned"),job:Tr.string(),root:Tr.string(),archived:Tr.boolean().default(!1)}).transform(t=>(0,WOt.remap)(t,{ownedBy:"owned_by",maxContextLength:"max_context_length",defaultModelTemperature:"default_model_temperature"}));var VOt;(function(t){t.inboundSchema=oo.FTModelCard$inboundSchema,t.outboundSchema=oo.FTModelCard$outboundSchema})(VOt||(oo.FTModelCard$=VOt={}));function T5r(t){return JSON.stringify(oo.FTModelCard$outboundSchema.parse(t))}function M5r(t){return(0,P5r.safeParse)(t,e=>oo.FTModelCard$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FTModelCard' from JSON")}});var ZOt=b(io=>{"use strict";var A5r=io&&io.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R5r=io&&io.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I5r=io&&io.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A5r(e,t,r);return R5r(e,t),e};Object.defineProperty(io,"__esModule",{value:!0});io.FTModelOut$=io.FTModelOut$outboundSchema=io.FTModelOut$inboundSchema=io.FTModelOutObject$=io.FTModelOutObject$outboundSchema=io.FTModelOutObject$inboundSchema=io.FTModelOutObject=void 0;io.ftModelOutToJSON=j5r;io.ftModelOutFromJSON=N5r;var xo=I5r(ge()),YOt=Ee(),D5r=de(),XOt=jOe();io.FTModelOutObject={Model:"model"};io.FTModelOutObject$inboundSchema=xo.nativeEnum(io.FTModelOutObject);io.FTModelOutObject$outboundSchema=io.FTModelOutObject$inboundSchema;var GOt;(function(t){t.inboundSchema=io.FTModelOutObject$inboundSchema,t.outboundSchema=io.FTModelOutObject$outboundSchema})(GOt||(io.FTModelOutObject$=GOt={}));io.FTModelOut$inboundSchema=xo.object({id:xo.string(),object:xo.literal("model").default("model"),created:xo.number().int(),owned_by:xo.string(),root:xo.string(),archived:xo.boolean(),name:xo.nullable(xo.string()).optional(),description:xo.nullable(xo.string()).optional(),capabilities:XOt.FTModelCapabilitiesOut$inboundSchema,max_context_length:xo.number().int().default(32768),aliases:xo.array(xo.string()).optional(),job:xo.string()}).transform(t=>(0,YOt.remap)(t,{owned_by:"ownedBy",max_context_length:"maxContextLength"}));io.FTModelOut$outboundSchema=xo.object({id:xo.string(),object:xo.literal("model").default("model"),created:xo.number().int(),ownedBy:xo.string(),root:xo.string(),archived:xo.boolean(),name:xo.nullable(xo.string()).optional(),description:xo.nullable(xo.string()).optional(),capabilities:XOt.FTModelCapabilitiesOut$outboundSchema,maxContextLength:xo.number().int().default(32768),aliases:xo.array(xo.string()).optional(),job:xo.string()}).transform(t=>(0,YOt.remap)(t,{ownedBy:"owned_by",maxContextLength:"max_context_length"}));var KOt;(function(t){t.inboundSchema=io.FTModelOut$inboundSchema,t.outboundSchema=io.FTModelOut$outboundSchema})(KOt||(io.FTModelOut$=KOt={}));function j5r(t){return JSON.stringify(io.FTModelOut$outboundSchema.parse(t))}function N5r(t){return(0,D5r.safeParse)(t,e=>io.FTModelOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FTModelOut' from JSON")}});var LOe=b(ao=>{"use strict";var L5r=ao&&ao.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F5r=ao&&ao.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B5r=ao&&ao.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L5r(e,t,r);return F5r(e,t),e};Object.defineProperty(ao,"__esModule",{value:!0});ao.GithubRepositoryIn$=ao.GithubRepositoryIn$outboundSchema=ao.GithubRepositoryIn$inboundSchema=ao.GithubRepositoryInType$=ao.GithubRepositoryInType$outboundSchema=ao.GithubRepositoryInType$inboundSchema=ao.GithubRepositoryInType=void 0;ao.githubRepositoryInToJSON=$5r;ao.githubRepositoryInFromJSON=q5r;var _c=B5r(ge()),k5r=de();ao.GithubRepositoryInType={Github:"github"};ao.GithubRepositoryInType$inboundSchema=_c.nativeEnum(ao.GithubRepositoryInType);ao.GithubRepositoryInType$outboundSchema=ao.GithubRepositoryInType$inboundSchema;var QOt;(function(t){t.inboundSchema=ao.GithubRepositoryInType$inboundSchema,t.outboundSchema=ao.GithubRepositoryInType$outboundSchema})(QOt||(ao.GithubRepositoryInType$=QOt={}));ao.GithubRepositoryIn$inboundSchema=_c.object({type:_c.literal("github").default("github"),name:_c.string(),owner:_c.string(),ref:_c.nullable(_c.string()).optional(),weight:_c.number().default(1),token:_c.string()});ao.GithubRepositoryIn$outboundSchema=_c.object({type:_c.literal("github").default("github"),name:_c.string(),owner:_c.string(),ref:_c.nullable(_c.string()).optional(),weight:_c.number().default(1),token:_c.string()});var eEt;(function(t){t.inboundSchema=ao.GithubRepositoryIn$inboundSchema,t.outboundSchema=ao.GithubRepositoryIn$outboundSchema})(eEt||(ao.GithubRepositoryIn$=eEt={}));function $5r(t){return JSON.stringify(ao.GithubRepositoryIn$outboundSchema.parse(t))}function q5r(t){return(0,k5r.safeParse)(t,e=>ao.GithubRepositoryIn$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'GithubRepositoryIn' from JSON")}});var FOe=b(cu=>{"use strict";var U5r=cu&&cu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z5r=cu&&cu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H5r=cu&&cu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U5r(e,t,r);return z5r(e,t),e};Object.defineProperty(cu,"__esModule",{value:!0});cu.TrainingFile$=cu.TrainingFile$outboundSchema=cu.TrainingFile$inboundSchema=void 0;cu.trainingFileToJSON=W5r;cu.trainingFileFromJSON=J5r;var Dk=H5r(ge()),rEt=Ee(),V5r=de();cu.TrainingFile$inboundSchema=Dk.object({file_id:Dk.string(),weight:Dk.number().default(1)}).transform(t=>(0,rEt.remap)(t,{file_id:"fileId"}));cu.TrainingFile$outboundSchema=Dk.object({fileId:Dk.string(),weight:Dk.number().default(1)}).transform(t=>(0,rEt.remap)(t,{fileId:"file_id"}));var tEt;(function(t){t.inboundSchema=cu.TrainingFile$inboundSchema,t.outboundSchema=cu.TrainingFile$outboundSchema})(tEt||(cu.TrainingFile$=tEt={}));function W5r(t){return JSON.stringify(cu.TrainingFile$outboundSchema.parse(t))}function J5r(t){return(0,V5r.safeParse)(t,e=>cu.TrainingFile$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'TrainingFile' from JSON")}});var BOe=b(du=>{"use strict";var G5r=du&&du.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K5r=du&&du.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y5r=du&&du.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&G5r(e,t,r);return K5r(e,t),e};Object.defineProperty(du,"__esModule",{value:!0});du.TrainingParametersIn$=du.TrainingParametersIn$outboundSchema=du.TrainingParametersIn$inboundSchema=void 0;du.trainingParametersInToJSON=Z5r;du.trainingParametersInFromJSON=Q5r;var Wo=Y5r(ge()),oEt=Ee(),X5r=de();du.TrainingParametersIn$inboundSchema=Wo.object({training_steps:Wo.nullable(Wo.number().int()).optional(),learning_rate:Wo.number().default(1e-4),weight_decay:Wo.nullable(Wo.number()).optional(),warmup_fraction:Wo.nullable(Wo.number()).optional(),epochs:Wo.nullable(Wo.number()).optional(),fim_ratio:Wo.nullable(Wo.number()).optional(),seq_len:Wo.nullable(Wo.number().int()).optional()}).transform(t=>(0,oEt.remap)(t,{training_steps:"trainingSteps",learning_rate:"learningRate",weight_decay:"weightDecay",warmup_fraction:"warmupFraction",fim_ratio:"fimRatio",seq_len:"seqLen"}));du.TrainingParametersIn$outboundSchema=Wo.object({trainingSteps:Wo.nullable(Wo.number().int()).optional(),learningRate:Wo.number().default(1e-4),weightDecay:Wo.nullable(Wo.number()).optional(),warmupFraction:Wo.nullable(Wo.number()).optional(),epochs:Wo.nullable(Wo.number()).optional(),fimRatio:Wo.nullable(Wo.number()).optional(),seqLen:Wo.nullable(Wo.number().int()).optional()}).transform(t=>(0,oEt.remap)(t,{trainingSteps:"training_steps",learningRate:"learning_rate",weightDecay:"weight_decay",warmupFraction:"warmup_fraction",fimRatio:"fim_ratio",seqLen:"seq_len"}));var nEt;(function(t){t.inboundSchema=du.TrainingParametersIn$inboundSchema,t.outboundSchema=du.TrainingParametersIn$outboundSchema})(nEt||(du.TrainingParametersIn$=nEt={}));function Z5r(t){return JSON.stringify(du.TrainingParametersIn$outboundSchema.parse(t))}function Q5r(t){return(0,X5r.safeParse)(t,e=>du.TrainingParametersIn$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'TrainingParametersIn' from JSON")}});var kOe=b(so=>{"use strict";var e9r=so&&so.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t9r=so&&so.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r9r=so&&so.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e9r(e,t,r);return t9r(e,t),e};Object.defineProperty(so,"__esModule",{value:!0});so.WandbIntegration$=so.WandbIntegration$outboundSchema=so.WandbIntegration$inboundSchema=so.WandbIntegrationType$=so.WandbIntegrationType$outboundSchema=so.WandbIntegrationType$inboundSchema=so.WandbIntegrationType=void 0;so.wandbIntegrationToJSON=o9r;so.wandbIntegrationFromJSON=i9r;var vc=r9r(ge()),sEt=Ee(),n9r=de();so.WandbIntegrationType={Wandb:"wandb"};so.WandbIntegrationType$inboundSchema=vc.nativeEnum(so.WandbIntegrationType);so.WandbIntegrationType$outboundSchema=so.WandbIntegrationType$inboundSchema;var iEt;(function(t){t.inboundSchema=so.WandbIntegrationType$inboundSchema,t.outboundSchema=so.WandbIntegrationType$outboundSchema})(iEt||(so.WandbIntegrationType$=iEt={}));so.WandbIntegration$inboundSchema=vc.object({type:vc.literal("wandb").default("wandb"),project:vc.string(),name:vc.nullable(vc.string()).optional(),api_key:vc.string(),run_name:vc.nullable(vc.string()).optional()}).transform(t=>(0,sEt.remap)(t,{api_key:"apiKey",run_name:"runName"}));so.WandbIntegration$outboundSchema=vc.object({type:vc.literal("wandb").default("wandb"),project:vc.string(),name:vc.nullable(vc.string()).optional(),apiKey:vc.string(),runName:vc.nullable(vc.string()).optional()}).transform(t=>(0,sEt.remap)(t,{apiKey:"api_key",runName:"run_name"}));var aEt;(function(t){t.inboundSchema=so.WandbIntegration$inboundSchema,t.outboundSchema=so.WandbIntegration$outboundSchema})(aEt||(so.WandbIntegration$=aEt={}));function o9r(t){return JSON.stringify(so.WandbIntegration$outboundSchema.parse(t))}function i9r(t){return(0,n9r.safeParse)(t,e=>so.WandbIntegration$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'WandbIntegration' from JSON")}});var hEt=b(cr=>{"use strict";var a9r=cr&&cr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s9r=cr&&cr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u9r=cr&&cr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&a9r(e,t,r);return s9r(e,t),e};Object.defineProperty(cr,"__esModule",{value:!0});cr.JobIn$=cr.JobIn$outboundSchema=cr.JobIn$inboundSchema=cr.JobInRepositories$=cr.JobInRepositories$outboundSchema=cr.JobInRepositories$inboundSchema=cr.JobInIntegrations$=cr.JobInIntegrations$outboundSchema=cr.JobInIntegrations$inboundSchema=void 0;cr.jobInIntegrationsToJSON=l9r;cr.jobInIntegrationsFromJSON=c9r;cr.jobInRepositoriesToJSON=d9r;cr.jobInRepositoriesFromJSON=f9r;cr.jobInToJSON=p9r;cr.jobInFromJSON=h9r;var Yi=u9r(ge()),dEt=Ee(),$Oe=de(),Fte=LOe(),fEt=FOe(),pEt=BOe(),Bte=kOe();cr.JobInIntegrations$inboundSchema=Bte.WandbIntegration$inboundSchema;cr.JobInIntegrations$outboundSchema=Bte.WandbIntegration$outboundSchema;var uEt;(function(t){t.inboundSchema=cr.JobInIntegrations$inboundSchema,t.outboundSchema=cr.JobInIntegrations$outboundSchema})(uEt||(cr.JobInIntegrations$=uEt={}));function l9r(t){return JSON.stringify(cr.JobInIntegrations$outboundSchema.parse(t))}function c9r(t){return(0,$Oe.safeParse)(t,e=>cr.JobInIntegrations$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobInIntegrations' from JSON")}cr.JobInRepositories$inboundSchema=Fte.GithubRepositoryIn$inboundSchema;cr.JobInRepositories$outboundSchema=Fte.GithubRepositoryIn$outboundSchema;var lEt;(function(t){t.inboundSchema=cr.JobInRepositories$inboundSchema,t.outboundSchema=cr.JobInRepositories$outboundSchema})(lEt||(cr.JobInRepositories$=lEt={}));function d9r(t){return JSON.stringify(cr.JobInRepositories$outboundSchema.parse(t))}function f9r(t){return(0,$Oe.safeParse)(t,e=>cr.JobInRepositories$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobInRepositories' from JSON")}cr.JobIn$inboundSchema=Yi.object({model:Yi.string(),training_files:Yi.array(fEt.TrainingFile$inboundSchema).optional(),validation_files:Yi.nullable(Yi.array(Yi.string())).optional(),hyperparameters:pEt.TrainingParametersIn$inboundSchema,suffix:Yi.nullable(Yi.string()).optional(),integrations:Yi.nullable(Yi.array(Bte.WandbIntegration$inboundSchema)).optional(),repositories:Yi.array(Fte.GithubRepositoryIn$inboundSchema).optional(),auto_start:Yi.boolean().optional()}).transform(t=>(0,dEt.remap)(t,{training_files:"trainingFiles",validation_files:"validationFiles",auto_start:"autoStart"}));cr.JobIn$outboundSchema=Yi.object({model:Yi.string(),trainingFiles:Yi.array(fEt.TrainingFile$outboundSchema).optional(),validationFiles:Yi.nullable(Yi.array(Yi.string())).optional(),hyperparameters:pEt.TrainingParametersIn$outboundSchema,suffix:Yi.nullable(Yi.string()).optional(),integrations:Yi.nullable(Yi.array(Bte.WandbIntegration$outboundSchema)).optional(),repositories:Yi.array(Fte.GithubRepositoryIn$outboundSchema).optional(),autoStart:Yi.boolean().optional()}).transform(t=>(0,dEt.remap)(t,{trainingFiles:"training_files",validationFiles:"validation_files",autoStart:"auto_start"}));var cEt;(function(t){t.inboundSchema=cr.JobIn$inboundSchema,t.outboundSchema=cr.JobIn$outboundSchema})(cEt||(cr.JobIn$=cEt={}));function p9r(t){return JSON.stringify(cr.JobIn$outboundSchema.parse(t))}function h9r(t){return(0,$Oe.safeParse)(t,e=>cr.JobIn$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobIn' from JSON")}});var UOe=b(Ke=>{"use strict";var m9r=Ke&&Ke.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),g9r=Ke&&Ke.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),y9r=Ke&&Ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m9r(e,t,r);return g9r(e,t),e};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.JobOut$=Ke.JobOut$outboundSchema=Ke.JobOut$inboundSchema=Ke.Repositories$=Ke.Repositories$outboundSchema=Ke.Repositories$inboundSchema=Ke.Integrations$=Ke.Integrations$outboundSchema=Ke.Integrations$inboundSchema=Ke.ObjectT$=Ke.ObjectT$outboundSchema=Ke.ObjectT$inboundSchema=Ke.Status$=Ke.Status$outboundSchema=Ke.Status$inboundSchema=Ke.ObjectT=Ke.Status=void 0;Ke.integrationsToJSON=b9r;Ke.integrationsFromJSON=_9r;Ke.repositoriesToJSON=v9r;Ke.repositoriesFromJSON=w9r;Ke.jobOutToJSON=S9r;Ke.jobOutFromJSON=x9r;var Wt=y9r(ge()),vEt=Ee(),qOe=de(),kte=Ate(),wEt=Rte(),SEt=Ite(),$te=Dte();Ke.Status={Queued:"QUEUED",Started:"STARTED",Validating:"VALIDATING",Validated:"VALIDATED",Running:"RUNNING",FailedValidation:"FAILED_VALIDATION",Failed:"FAILED",Success:"SUCCESS",Cancelled:"CANCELLED",CancellationRequested:"CANCELLATION_REQUESTED"};Ke.ObjectT={Job:"job"};Ke.Status$inboundSchema=Wt.nativeEnum(Ke.Status);Ke.Status$outboundSchema=Ke.Status$inboundSchema;var mEt;(function(t){t.inboundSchema=Ke.Status$inboundSchema,t.outboundSchema=Ke.Status$outboundSchema})(mEt||(Ke.Status$=mEt={}));Ke.ObjectT$inboundSchema=Wt.nativeEnum(Ke.ObjectT);Ke.ObjectT$outboundSchema=Ke.ObjectT$inboundSchema;var gEt;(function(t){t.inboundSchema=Ke.ObjectT$inboundSchema,t.outboundSchema=Ke.ObjectT$outboundSchema})(gEt||(Ke.ObjectT$=gEt={}));Ke.Integrations$inboundSchema=$te.WandbIntegrationOut$inboundSchema;Ke.Integrations$outboundSchema=$te.WandbIntegrationOut$outboundSchema;var yEt;(function(t){t.inboundSchema=Ke.Integrations$inboundSchema,t.outboundSchema=Ke.Integrations$outboundSchema})(yEt||(Ke.Integrations$=yEt={}));function b9r(t){return JSON.stringify(Ke.Integrations$outboundSchema.parse(t))}function _9r(t){return(0,qOe.safeParse)(t,e=>Ke.Integrations$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Integrations' from JSON")}Ke.Repositories$inboundSchema=kte.GithubRepositoryOut$inboundSchema;Ke.Repositories$outboundSchema=kte.GithubRepositoryOut$outboundSchema;var bEt;(function(t){t.inboundSchema=Ke.Repositories$inboundSchema,t.outboundSchema=Ke.Repositories$outboundSchema})(bEt||(Ke.Repositories$=bEt={}));function v9r(t){return JSON.stringify(Ke.Repositories$outboundSchema.parse(t))}function w9r(t){return(0,qOe.safeParse)(t,e=>Ke.Repositories$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Repositories' from JSON")}Ke.JobOut$inboundSchema=Wt.object({id:Wt.string(),auto_start:Wt.boolean(),hyperparameters:SEt.TrainingParameters$inboundSchema,model:Wt.string(),status:Ke.Status$inboundSchema,job_type:Wt.string(),created_at:Wt.number().int(),modified_at:Wt.number().int(),training_files:Wt.array(Wt.string()),validation_files:Wt.nullable(Wt.array(Wt.string())).optional(),object:Wt.literal("job").default("job"),fine_tuned_model:Wt.nullable(Wt.string()).optional(),suffix:Wt.nullable(Wt.string()).optional(),integrations:Wt.nullable(Wt.array($te.WandbIntegrationOut$inboundSchema)).optional(),trained_tokens:Wt.nullable(Wt.number().int()).optional(),repositories:Wt.array(kte.GithubRepositoryOut$inboundSchema).optional(),metadata:Wt.nullable(wEt.JobMetadataOut$inboundSchema).optional()}).transform(t=>(0,vEt.remap)(t,{auto_start:"autoStart",job_type:"jobType",created_at:"createdAt",modified_at:"modifiedAt",training_files:"trainingFiles",validation_files:"validationFiles",fine_tuned_model:"fineTunedModel",trained_tokens:"trainedTokens"}));Ke.JobOut$outboundSchema=Wt.object({id:Wt.string(),autoStart:Wt.boolean(),hyperparameters:SEt.TrainingParameters$outboundSchema,model:Wt.string(),status:Ke.Status$outboundSchema,jobType:Wt.string(),createdAt:Wt.number().int(),modifiedAt:Wt.number().int(),trainingFiles:Wt.array(Wt.string()),validationFiles:Wt.nullable(Wt.array(Wt.string())).optional(),object:Wt.literal("job").default("job"),fineTunedModel:Wt.nullable(Wt.string()).optional(),suffix:Wt.nullable(Wt.string()).optional(),integrations:Wt.nullable(Wt.array($te.WandbIntegrationOut$outboundSchema)).optional(),trainedTokens:Wt.nullable(Wt.number().int()).optional(),repositories:Wt.array(kte.GithubRepositoryOut$outboundSchema).optional(),metadata:Wt.nullable(wEt.JobMetadataOut$outboundSchema).optional()}).transform(t=>(0,vEt.remap)(t,{autoStart:"auto_start",jobType:"job_type",createdAt:"created_at",modifiedAt:"modified_at",trainingFiles:"training_files",validationFiles:"validation_files",fineTunedModel:"fine_tuned_model",trainedTokens:"trained_tokens"}));var _Et;(function(t){t.inboundSchema=Ke.JobOut$inboundSchema,t.outboundSchema=Ke.JobOut$outboundSchema})(_Et||(Ke.JobOut$=_Et={}));function S9r(t){return JSON.stringify(Ke.JobOut$outboundSchema.parse(t))}function x9r(t){return(0,qOe.safeParse)(t,e=>Ke.JobOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobOut' from JSON")}});var EEt=b(uo=>{"use strict";var C9r=uo&&uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O9r=uo&&uo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),E9r=uo&&uo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C9r(e,t,r);return O9r(e,t),e};Object.defineProperty(uo,"__esModule",{value:!0});uo.JobsOut$=uo.JobsOut$outboundSchema=uo.JobsOut$inboundSchema=uo.JobsOutObject$=uo.JobsOutObject$outboundSchema=uo.JobsOutObject$inboundSchema=uo.JobsOutObject=void 0;uo.jobsOutToJSON=T9r;uo.jobsOutFromJSON=M9r;var IC=E9r(ge()),P9r=de(),OEt=UOe();uo.JobsOutObject={List:"list"};uo.JobsOutObject$inboundSchema=IC.nativeEnum(uo.JobsOutObject);uo.JobsOutObject$outboundSchema=uo.JobsOutObject$inboundSchema;var xEt;(function(t){t.inboundSchema=uo.JobsOutObject$inboundSchema,t.outboundSchema=uo.JobsOutObject$outboundSchema})(xEt||(uo.JobsOutObject$=xEt={}));uo.JobsOut$inboundSchema=IC.object({data:IC.array(OEt.JobOut$inboundSchema).optional(),object:IC.literal("list").default("list"),total:IC.number().int()});uo.JobsOut$outboundSchema=IC.object({data:IC.array(OEt.JobOut$outboundSchema).optional(),object:IC.literal("list").default("list"),total:IC.number().int()});var CEt;(function(t){t.inboundSchema=uo.JobsOut$inboundSchema,t.outboundSchema=uo.JobsOut$outboundSchema})(CEt||(uo.JobsOut$=CEt={}));function T9r(t){return JSON.stringify(uo.JobsOut$outboundSchema.parse(t))}function M9r(t){return(0,P9r.safeParse)(t,e=>uo.JobsOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsOut' from JSON")}});var AEt=b(lo=>{"use strict";var A9r=lo&&lo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R9r=lo&&lo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I9r=lo&&lo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A9r(e,t,r);return R9r(e,t),e};Object.defineProperty(lo,"__esModule",{value:!0});lo.LegacyJobMetadataOut$=lo.LegacyJobMetadataOut$outboundSchema=lo.LegacyJobMetadataOut$inboundSchema=lo.LegacyJobMetadataOutObject$=lo.LegacyJobMetadataOutObject$outboundSchema=lo.LegacyJobMetadataOutObject$inboundSchema=lo.LegacyJobMetadataOutObject=void 0;lo.legacyJobMetadataOutToJSON=j9r;lo.legacyJobMetadataOutFromJSON=N9r;var ar=I9r(ge()),MEt=Ee(),D9r=de();lo.LegacyJobMetadataOutObject={JobMetadata:"job.metadata"};lo.LegacyJobMetadataOutObject$inboundSchema=ar.nativeEnum(lo.LegacyJobMetadataOutObject);lo.LegacyJobMetadataOutObject$outboundSchema=lo.LegacyJobMetadataOutObject$inboundSchema;var PEt;(function(t){t.inboundSchema=lo.LegacyJobMetadataOutObject$inboundSchema,t.outboundSchema=lo.LegacyJobMetadataOutObject$outboundSchema})(PEt||(lo.LegacyJobMetadataOutObject$=PEt={}));lo.LegacyJobMetadataOut$inboundSchema=ar.object({expected_duration_seconds:ar.nullable(ar.number().int()).optional(),cost:ar.nullable(ar.number()).optional(),cost_currency:ar.nullable(ar.string()).optional(),train_tokens_per_step:ar.nullable(ar.number().int()).optional(),train_tokens:ar.nullable(ar.number().int()).optional(),data_tokens:ar.nullable(ar.number().int()).optional(),estimated_start_time:ar.nullable(ar.number().int()).optional(),deprecated:ar.boolean().default(!0),details:ar.string(),epochs:ar.nullable(ar.number()).optional(),training_steps:ar.nullable(ar.number().int()).optional(),object:ar.literal("job.metadata").default("job.metadata")}).transform(t=>(0,MEt.remap)(t,{expected_duration_seconds:"expectedDurationSeconds",cost_currency:"costCurrency",train_tokens_per_step:"trainTokensPerStep",train_tokens:"trainTokens",data_tokens:"dataTokens",estimated_start_time:"estimatedStartTime",training_steps:"trainingSteps"}));lo.LegacyJobMetadataOut$outboundSchema=ar.object({expectedDurationSeconds:ar.nullable(ar.number().int()).optional(),cost:ar.nullable(ar.number()).optional(),costCurrency:ar.nullable(ar.string()).optional(),trainTokensPerStep:ar.nullable(ar.number().int()).optional(),trainTokens:ar.nullable(ar.number().int()).optional(),dataTokens:ar.nullable(ar.number().int()).optional(),estimatedStartTime:ar.nullable(ar.number().int()).optional(),deprecated:ar.boolean().default(!0),details:ar.string(),epochs:ar.nullable(ar.number()).optional(),trainingSteps:ar.nullable(ar.number().int()).optional(),object:ar.literal("job.metadata").default("job.metadata")}).transform(t=>(0,MEt.remap)(t,{expectedDurationSeconds:"expected_duration_seconds",costCurrency:"cost_currency",trainTokensPerStep:"train_tokens_per_step",trainTokens:"train_tokens",dataTokens:"data_tokens",estimatedStartTime:"estimated_start_time",trainingSteps:"training_steps"}));var TEt;(function(t){t.inboundSchema=lo.LegacyJobMetadataOut$inboundSchema,t.outboundSchema=lo.LegacyJobMetadataOut$outboundSchema})(TEt||(lo.LegacyJobMetadataOut$=TEt={}));function j9r(t){return JSON.stringify(lo.LegacyJobMetadataOut$outboundSchema.parse(t))}function N9r(t){return(0,D9r.safeParse)(t,e=>lo.LegacyJobMetadataOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'LegacyJobMetadataOut' from JSON")}});var DEt=b(fu=>{"use strict";var L9r=fu&&fu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F9r=fu&&fu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B9r=fu&&fu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L9r(e,t,r);return F9r(e,t),e};Object.defineProperty(fu,"__esModule",{value:!0});fu.ListFilesOut$=fu.ListFilesOut$outboundSchema=fu.ListFilesOut$inboundSchema=void 0;fu.listFilesOutToJSON=$9r;fu.listFilesOutFromJSON=q9r;var DT=B9r(ge()),k9r=de(),IEt=DOe();fu.ListFilesOut$inboundSchema=DT.object({data:DT.array(IEt.FileSchema$inboundSchema),object:DT.string(),total:DT.number().int()});fu.ListFilesOut$outboundSchema=DT.object({data:DT.array(IEt.FileSchema$outboundSchema),object:DT.string(),total:DT.number().int()});var REt;(function(t){t.inboundSchema=fu.ListFilesOut$inboundSchema,t.outboundSchema=fu.ListFilesOut$outboundSchema})(REt||(fu.ListFilesOut$=REt={}));function $9r(t){return JSON.stringify(fu.ListFilesOut$outboundSchema.parse(t))}function q9r(t){return(0,k9r.safeParse)(t,e=>fu.ListFilesOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ListFilesOut' from JSON")}});var FEt=b(co=>{"use strict";var U9r=co&&co.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z9r=co&&co.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H9r=co&&co.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U9r(e,t,r);return z9r(e,t),e};Object.defineProperty(co,"__esModule",{value:!0});co.ModelList$=co.ModelList$outboundSchema=co.ModelList$inboundSchema=co.Data$=co.Data$outboundSchema=co.Data$inboundSchema=void 0;co.dataToJSON=V9r;co.dataFromJSON=W9r;co.modelListToJSON=J9r;co.modelListFromJSON=G9r;var ci=H9r(ge()),LEt=de(),qte=vOe(),Ute=NOe();co.Data$inboundSchema=ci.union([qte.BaseModelCard$inboundSchema.and(ci.object({type:ci.literal("base")}).transform(t=>({type:t.type}))),Ute.FTModelCard$inboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(t=>({type:t.type})))]);co.Data$outboundSchema=ci.union([qte.BaseModelCard$outboundSchema.and(ci.object({type:ci.literal("base")}).transform(t=>({type:t.type}))),Ute.FTModelCard$outboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(t=>({type:t.type})))]);var jEt;(function(t){t.inboundSchema=co.Data$inboundSchema,t.outboundSchema=co.Data$outboundSchema})(jEt||(co.Data$=jEt={}));function V9r(t){return JSON.stringify(co.Data$outboundSchema.parse(t))}function W9r(t){return(0,LEt.safeParse)(t,e=>co.Data$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Data' from JSON")}co.ModelList$inboundSchema=ci.object({object:ci.string().default("list"),data:ci.array(ci.union([qte.BaseModelCard$inboundSchema.and(ci.object({type:ci.literal("base")}).transform(t=>({type:t.type}))),Ute.FTModelCard$inboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(t=>({type:t.type})))])).optional()});co.ModelList$outboundSchema=ci.object({object:ci.string().default("list"),data:ci.array(ci.union([qte.BaseModelCard$outboundSchema.and(ci.object({type:ci.literal("base")}).transform(t=>({type:t.type}))),Ute.FTModelCard$outboundSchema.and(ci.object({type:ci.literal("fine-tuned")}).transform(t=>({type:t.type})))])).optional()});var NEt;(function(t){t.inboundSchema=co.ModelList$inboundSchema,t.outboundSchema=co.ModelList$outboundSchema})(NEt||(co.ModelList$=NEt={}));function J9r(t){return JSON.stringify(co.ModelList$outboundSchema.parse(t))}function G9r(t){return(0,LEt.safeParse)(t,e=>co.ModelList$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ModelList' from JSON")}});var zEt=b(pu=>{"use strict";var K9r=pu&&pu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y9r=pu&&pu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X9r=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K9r(e,t,r);return Y9r(e,t),e};Object.defineProperty(pu,"__esModule",{value:!0});pu.RetrieveFileOut$=pu.RetrieveFileOut$outboundSchema=pu.RetrieveFileOut$inboundSchema=void 0;pu.retrieveFileOutToJSON=Q9r;pu.retrieveFileOutFromJSON=eWr;var Fl=X9r(ge()),kEt=Ee(),Z9r=de(),$Et=f8(),qEt=p8(),UEt=h8();pu.RetrieveFileOut$inboundSchema=Fl.object({id:Fl.string(),object:Fl.string(),bytes:Fl.number().int(),created_at:Fl.number().int(),filename:Fl.string(),purpose:$Et.FilePurpose$inboundSchema,sample_type:qEt.SampleType$inboundSchema,num_lines:Fl.nullable(Fl.number().int()).optional(),source:UEt.Source$inboundSchema,deleted:Fl.boolean()}).transform(t=>(0,kEt.remap)(t,{bytes:"sizeBytes",created_at:"createdAt",sample_type:"sampleType",num_lines:"numLines"}));pu.RetrieveFileOut$outboundSchema=Fl.object({id:Fl.string(),object:Fl.string(),sizeBytes:Fl.number().int(),createdAt:Fl.number().int(),filename:Fl.string(),purpose:$Et.FilePurpose$outboundSchema,sampleType:qEt.SampleType$outboundSchema,numLines:Fl.nullable(Fl.number().int()).optional(),source:UEt.Source$outboundSchema,deleted:Fl.boolean()}).transform(t=>(0,kEt.remap)(t,{sizeBytes:"bytes",createdAt:"created_at",sampleType:"sample_type",numLines:"num_lines"}));var BEt;(function(t){t.inboundSchema=pu.RetrieveFileOut$inboundSchema,t.outboundSchema=pu.RetrieveFileOut$outboundSchema})(BEt||(pu.RetrieveFileOut$=BEt={}));function Q9r(t){return JSON.stringify(pu.RetrieveFileOut$outboundSchema.parse(t))}function eWr(t){return(0,Z9r.safeParse)(t,e=>pu.RetrieveFileOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'RetrieveFileOut' from JSON")}});var WEt=b(hu=>{"use strict";var tWr=hu&&hu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rWr=hu&&hu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nWr=hu&&hu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tWr(e,t,r);return rWr(e,t),e};Object.defineProperty(hu,"__esModule",{value:!0});hu.Security$=hu.Security$outboundSchema=hu.Security$inboundSchema=void 0;hu.securityToJSON=iWr;hu.securityFromJSON=aWr;var zte=nWr(ge()),VEt=Ee(),oWr=de();hu.Security$inboundSchema=zte.object({ApiKey:zte.string().optional()}).transform(t=>(0,VEt.remap)(t,{ApiKey:"apiKey"}));hu.Security$outboundSchema=zte.object({apiKey:zte.string().optional()}).transform(t=>(0,VEt.remap)(t,{apiKey:"ApiKey"}));var HEt;(function(t){t.inboundSchema=hu.Security$inboundSchema,t.outboundSchema=hu.Security$outboundSchema})(HEt||(hu.Security$=HEt={}));function iWr(t){return JSON.stringify(hu.Security$outboundSchema.parse(t))}function aWr(t){return(0,oWr.safeParse)(t,e=>hu.Security$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Security' from JSON")}});var KEt=b(fo=>{"use strict";var sWr=fo&&fo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uWr=fo&&fo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lWr=fo&&fo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sWr(e,t,r);return uWr(e,t),e};Object.defineProperty(fo,"__esModule",{value:!0});fo.UnarchiveFTModelOut$=fo.UnarchiveFTModelOut$outboundSchema=fo.UnarchiveFTModelOut$inboundSchema=fo.UnarchiveFTModelOutObject$=fo.UnarchiveFTModelOutObject$outboundSchema=fo.UnarchiveFTModelOutObject$inboundSchema=fo.UnarchiveFTModelOutObject=void 0;fo.unarchiveFTModelOutToJSON=dWr;fo.unarchiveFTModelOutFromJSON=fWr;var DC=lWr(ge()),cWr=de();fo.UnarchiveFTModelOutObject={Model:"model"};fo.UnarchiveFTModelOutObject$inboundSchema=DC.nativeEnum(fo.UnarchiveFTModelOutObject);fo.UnarchiveFTModelOutObject$outboundSchema=fo.UnarchiveFTModelOutObject$inboundSchema;var JEt;(function(t){t.inboundSchema=fo.UnarchiveFTModelOutObject$inboundSchema,t.outboundSchema=fo.UnarchiveFTModelOutObject$outboundSchema})(JEt||(fo.UnarchiveFTModelOutObject$=JEt={}));fo.UnarchiveFTModelOut$inboundSchema=DC.object({id:DC.string(),object:DC.literal("model").default("model"),archived:DC.boolean().default(!1)});fo.UnarchiveFTModelOut$outboundSchema=DC.object({id:DC.string(),object:DC.literal("model").default("model"),archived:DC.boolean().default(!1)});var GEt;(function(t){t.inboundSchema=fo.UnarchiveFTModelOut$inboundSchema,t.outboundSchema=fo.UnarchiveFTModelOut$outboundSchema})(GEt||(fo.UnarchiveFTModelOut$=GEt={}));function dWr(t){return JSON.stringify(fo.UnarchiveFTModelOut$outboundSchema.parse(t))}function fWr(t){return(0,cWr.safeParse)(t,e=>fo.UnarchiveFTModelOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'UnarchiveFTModelOut' from JSON")}});var XEt=b(mu=>{"use strict";var pWr=mu&&mu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hWr=mu&&mu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mWr=mu&&mu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pWr(e,t,r);return hWr(e,t),e};Object.defineProperty(mu,"__esModule",{value:!0});mu.UpdateFTModelIn$=mu.UpdateFTModelIn$outboundSchema=mu.UpdateFTModelIn$inboundSchema=void 0;mu.updateFTModelInToJSON=yWr;mu.updateFTModelInFromJSON=bWr;var mS=mWr(ge()),gWr=de();mu.UpdateFTModelIn$inboundSchema=mS.object({name:mS.nullable(mS.string()).optional(),description:mS.nullable(mS.string()).optional()});mu.UpdateFTModelIn$outboundSchema=mS.object({name:mS.nullable(mS.string()).optional(),description:mS.nullable(mS.string()).optional()});var YEt;(function(t){t.inboundSchema=mu.UpdateFTModelIn$inboundSchema,t.outboundSchema=mu.UpdateFTModelIn$outboundSchema})(YEt||(mu.UpdateFTModelIn$=YEt={}));function yWr(t){return JSON.stringify(mu.UpdateFTModelIn$outboundSchema.parse(t))}function bWr(t){return(0,gWr.safeParse)(t,e=>mu.UpdateFTModelIn$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'UpdateFTModelIn' from JSON")}});var nPt=b(gu=>{"use strict";var _Wr=gu&&gu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vWr=gu&&gu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wWr=gu&&gu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Wr(e,t,r);return vWr(e,t),e};Object.defineProperty(gu,"__esModule",{value:!0});gu.UploadFileOut$=gu.UploadFileOut$outboundSchema=gu.UploadFileOut$inboundSchema=void 0;gu.uploadFileOutToJSON=xWr;gu.uploadFileOutFromJSON=CWr;var cd=wWr(ge()),QEt=Ee(),SWr=de(),ePt=f8(),tPt=p8(),rPt=h8();gu.UploadFileOut$inboundSchema=cd.object({id:cd.string(),object:cd.string(),bytes:cd.number().int(),created_at:cd.number().int(),filename:cd.string(),purpose:ePt.FilePurpose$inboundSchema,sample_type:tPt.SampleType$inboundSchema,num_lines:cd.nullable(cd.number().int()).optional(),source:rPt.Source$inboundSchema}).transform(t=>(0,QEt.remap)(t,{bytes:"sizeBytes",created_at:"createdAt",sample_type:"sampleType",num_lines:"numLines"}));gu.UploadFileOut$outboundSchema=cd.object({id:cd.string(),object:cd.string(),sizeBytes:cd.number().int(),createdAt:cd.number().int(),filename:cd.string(),purpose:ePt.FilePurpose$outboundSchema,sampleType:tPt.SampleType$outboundSchema,numLines:cd.nullable(cd.number().int()).optional(),source:rPt.Source$outboundSchema}).transform(t=>(0,QEt.remap)(t,{sizeBytes:"bytes",createdAt:"created_at",sampleType:"sample_type",numLines:"num_lines"}));var ZEt;(function(t){t.inboundSchema=gu.UploadFileOut$inboundSchema,t.outboundSchema=gu.UploadFileOut$outboundSchema})(ZEt||(gu.UploadFileOut$=ZEt={}));function xWr(t){return JSON.stringify(gu.UploadFileOut$outboundSchema.parse(t))}function CWr(t){return(0,SWr.safeParse)(t,e=>gu.UploadFileOut$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'UploadFileOut' from JSON")}});var sPt=b(po=>{"use strict";var OWr=po&&po.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EWr=po&&po.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PWr=po&&po.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OWr(e,t,r);return EWr(e,t),e};Object.defineProperty(po,"__esModule",{value:!0});po.ValidationError$=po.ValidationError$outboundSchema=po.ValidationError$inboundSchema=po.Loc$=po.Loc$outboundSchema=po.Loc$inboundSchema=void 0;po.locToJSON=TWr;po.locFromJSON=MWr;po.validationErrorToJSON=AWr;po.validationErrorFromJSON=RWr;var yu=PWr(ge()),aPt=de();po.Loc$inboundSchema=yu.union([yu.string(),yu.number().int()]);po.Loc$outboundSchema=yu.union([yu.string(),yu.number().int()]);var oPt;(function(t){t.inboundSchema=po.Loc$inboundSchema,t.outboundSchema=po.Loc$outboundSchema})(oPt||(po.Loc$=oPt={}));function TWr(t){return JSON.stringify(po.Loc$outboundSchema.parse(t))}function MWr(t){return(0,aPt.safeParse)(t,e=>po.Loc$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'Loc' from JSON")}po.ValidationError$inboundSchema=yu.object({loc:yu.array(yu.union([yu.string(),yu.number().int()])),msg:yu.string(),type:yu.string()});po.ValidationError$outboundSchema=yu.object({loc:yu.array(yu.union([yu.string(),yu.number().int()])),msg:yu.string(),type:yu.string()});var iPt;(function(t){t.inboundSchema=po.ValidationError$inboundSchema,t.outboundSchema=po.ValidationError$outboundSchema})(iPt||(po.ValidationError$=iPt={}));function AWr(t){return JSON.stringify(po.ValidationError$outboundSchema.parse(t))}function RWr(t){return(0,aPt.safeParse)(t,e=>po.ValidationError$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'ValidationError' from JSON")}});var un=b(Me=>{"use strict";var IWr=Me&&Me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),je=Me&&Me.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&IWr(e,t,r)};Object.defineProperty(Me,"__esModule",{value:!0});je(HSt(),Me);je(QSt(),Me);je(_Oe(),Me);je(nxt(),Me);je(TT(),Me);je(vOe(),Me);je(wOe(),Me);je(hxt(),Me);je(xOe(),Me);je(Cxt(),Me);je(SOe(),Me);je(Axt(),Me);je(hte(),Me);je(zxt(),Me);je(Kxt(),Me);je(oCt(),Me);je(OOe(),Me);je(EOe(),Me);je(gCt(),Me);je(_Ct(),Me);je(MOe(),Me);je(jCt(),Me);je(TOe(),Me);je(xk(),Me);je(LCt(),Me);je(BCt(),Me);je(POe(),Me);je(sOt(),Me);je(fOt(),Me);je(yOt(),Me);je(IOe(),Me);je(AOe(),Me);je(f8(),Me);je(DOe(),Me);je(POt(),Me);je(IOt(),Me);je(LOt(),Me);je(qOt(),Me);je(jOe(),Me);je(NOe(),Me);je(ZOt(),Me);je(yOe(),Me);je(pOe(),Me);je(bOe(),Me);je(LOe(),Me);je(Ate(),Me);je(cOe(),Me);je(dOe(),Me);je(hEt(),Me);je(Rte(),Me);je(UOe(),Me);je(EEt(),Me);je(mOe(),Me);je(AEt(),Me);je(DEt(),Me);je(COe(),Me);je(fte(),Me);je(FEt(),Me);je(Ok(),Me);je(fOe(),Me);je(Ek(),Me);je(gOe(),Me);je(zEt(),Me);je(p8(),Me);je(WEt(),Me);je(h8(),Me);je(X1(),Me);je(Hee(),Me);je(Pk(),Me);je(Vee(),Me);je(Tk(),Me);je(Mk(),Me);je(Z1(),Me);je(c8(),Me);je(FOe(),Me);je(Ite(),Me);je(BOe(),Me);je(KEt(),Me);je(XEt(),Me);je(nPt(),Me);je(Rk(),Me);je(Q1(),Me);je(sPt(),Me);je(kOe(),Me);je(Dte(),Me)});var dPt=b(Bl=>{"use strict";var DWr=Bl&&Bl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jWr=Bl&&Bl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lPt=Bl&&Bl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DWr(e,t,r);return jWr(e,t),e};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.HTTPValidationError$=Bl.HTTPValidationError$outboundSchema=Bl.HTTPValidationError$inboundSchema=Bl.HTTPValidationError=void 0;var m8=lPt(ge()),cPt=lPt(un()),g8=class extends Error{constructor(e){let r="message"in e&&typeof e.message=="string"?e.message:`API error occurred: ${JSON.stringify(e)}`;super(r),this.data$=e,e.detail!=null&&(this.detail=e.detail),this.name="HTTPValidationError"}};Bl.HTTPValidationError=g8;Bl.HTTPValidationError$inboundSchema=m8.object({detail:m8.array(cPt.ValidationError$inboundSchema).optional()}).transform(t=>new g8(t));Bl.HTTPValidationError$outboundSchema=m8.instanceof(g8).transform(t=>t.data$).pipe(m8.object({detail:m8.array(cPt.ValidationError$outboundSchema).optional()}));var uPt;(function(t){t.inboundSchema=Bl.HTTPValidationError$inboundSchema,t.outboundSchema=Bl.HTTPValidationError$outboundSchema})(uPt||(Bl.HTTPValidationError$=uPt={}))});var kp=b(gS=>{"use strict";var NWr=gS&&gS.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hte=gS&&gS.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&NWr(e,t,r)};Object.defineProperty(gS,"__esModule",{value:!0});Hte(FCe(),gS);Hte(dPt(),gS);Hte(nOe(),gS);Hte(uOe(),gS)});var hPt=b(jC=>{"use strict";var LWr=jC&&jC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FWr=jC&&jC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zOe=jC&&jC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LWr(e,t,r);return FWr(e,t),e};Object.defineProperty(jC,"__esModule",{value:!0});jC.agentsComplete=zWr;var BWr=vo(),y8=zOe(wo()),kWr=Ee(),$Wr=de(),fPt=So(),qWr=Hn(),pPt=zOe(un()),UWr=zOe(kp());async function zWr(t,e,r){let n=(0,$Wr.safeParse)(e,_=>pPt.AgentsCompletionRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,BWr.encodeJSON)("body",o,{explode:!0}),a=(0,qWr.pathToFunc)("/v1/agents/completions")(),s=new Headers((0,kWr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,fPt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,fPt.resolveGlobalSecurity)(l),d={operationID:"agents_completion_v1_agents_completions_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await y8.match(y8.json(200,pPt.ChatCompletionResponse$inboundSchema),y8.jsonErr(422,UWr.HTTPValidationError$inboundSchema),y8.fail("4XX"),y8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var yPt=b(NC=>{"use strict";var HWr=NC&&NC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VWr=NC&&NC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vte=NC&&NC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HWr(e,t,r);return VWr(e,t),e};Object.defineProperty(NC,"__esModule",{value:!0});NC.agentsStream=QWr;var WWr=Vte(ge()),JWr=vo(),GWr=s8(),b8=Vte(wo()),KWr=Ee(),YWr=de(),mPt=So(),XWr=Hn(),gPt=Vte(un()),ZWr=Vte(kp());async function QWr(t,e,r){let n=(0,YWr.safeParse)(e,_=>gPt.AgentsCompletionStreamRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,JWr.encodeJSON)("body",o,{explode:!0}),a=(0,XWr.pathToFunc)("/v1/agents/completions#stream")(),s=new Headers((0,KWr.compactMap)({"Content-Type":"application/json",Accept:"text/event-stream"})),u=await(0,mPt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,mPt.resolveGlobalSecurity)(l),d={operationID:"stream_agents",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await b8.match(b8.sse(200,WWr.instanceof(ReadableStream).transform(_=>new GWr.EventStream({stream:_,decoder(S){return gPt.CompletionEvent$inboundSchema.parse(S)}})),{sseSentinel:"[DONE]"}),b8.jsonErr(422,ZWr.HTTPValidationError$inboundSchema),b8.fail("4XX"),b8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var _Pt=b(Wte=>{"use strict";Object.defineProperty(Wte,"__esModule",{value:!0});Wte.Agents=void 0;var eJr=hPt(),tJr=yPt(),rJr=Fp(),bPt=Yh(),HOe=class extends rJr.ClientSDK{async complete(e,r){return(0,bPt.unwrapAsync)((0,eJr.agentsComplete)(this,e,r))}async stream(e,r){return(0,bPt.unwrapAsync)((0,tJr.agentsStream)(this,e,r))}};Wte.Agents=HOe});var SPt=b(bu=>{"use strict";var nJr=bu&&bu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oJr=bu&&bu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iJr=bu&&bu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nJr(e,t,r);return oJr(e,t),e};Object.defineProperty(bu,"__esModule",{value:!0});bu.DeleteModelV1ModelsModelIdDeleteRequest$=bu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema=bu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema=void 0;bu.deleteModelV1ModelsModelIdDeleteRequestToJSON=sJr;bu.deleteModelV1ModelsModelIdDeleteRequestFromJSON=uJr;var Jte=iJr(ge()),wPt=Ee(),aJr=de();bu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema=Jte.object({model_id:Jte.string()}).transform(t=>(0,wPt.remap)(t,{model_id:"modelId"}));bu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema=Jte.object({modelId:Jte.string()}).transform(t=>(0,wPt.remap)(t,{modelId:"model_id"}));var vPt;(function(t){t.inboundSchema=bu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema,t.outboundSchema=bu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema})(vPt||(bu.DeleteModelV1ModelsModelIdDeleteRequest$=vPt={}));function sJr(t){return JSON.stringify(bu.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema.parse(t))}function uJr(t){return(0,aJr.safeParse)(t,e=>bu.DeleteModelV1ModelsModelIdDeleteRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'DeleteModelV1ModelsModelIdDeleteRequest' from JSON")}});var OPt=b(_u=>{"use strict";var lJr=_u&&_u.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cJr=_u&&_u.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dJr=_u&&_u.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lJr(e,t,r);return cJr(e,t),e};Object.defineProperty(_u,"__esModule",{value:!0});_u.FilesApiRoutesDeleteFileRequest$=_u.FilesApiRoutesDeleteFileRequest$outboundSchema=_u.FilesApiRoutesDeleteFileRequest$inboundSchema=void 0;_u.filesApiRoutesDeleteFileRequestToJSON=pJr;_u.filesApiRoutesDeleteFileRequestFromJSON=hJr;var Gte=dJr(ge()),CPt=Ee(),fJr=de();_u.FilesApiRoutesDeleteFileRequest$inboundSchema=Gte.object({file_id:Gte.string()}).transform(t=>(0,CPt.remap)(t,{file_id:"fileId"}));_u.FilesApiRoutesDeleteFileRequest$outboundSchema=Gte.object({fileId:Gte.string()}).transform(t=>(0,CPt.remap)(t,{fileId:"file_id"}));var xPt;(function(t){t.inboundSchema=_u.FilesApiRoutesDeleteFileRequest$inboundSchema,t.outboundSchema=_u.FilesApiRoutesDeleteFileRequest$outboundSchema})(xPt||(_u.FilesApiRoutesDeleteFileRequest$=xPt={}));function pJr(t){return JSON.stringify(_u.FilesApiRoutesDeleteFileRequest$outboundSchema.parse(t))}function hJr(t){return(0,fJr.safeParse)(t,e=>_u.FilesApiRoutesDeleteFileRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FilesApiRoutesDeleteFileRequest' from JSON")}});var TPt=b(vu=>{"use strict";var mJr=vu&&vu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gJr=vu&&vu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yJr=vu&&vu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mJr(e,t,r);return gJr(e,t),e};Object.defineProperty(vu,"__esModule",{value:!0});vu.FilesApiRoutesDownloadFileRequest$=vu.FilesApiRoutesDownloadFileRequest$outboundSchema=vu.FilesApiRoutesDownloadFileRequest$inboundSchema=void 0;vu.filesApiRoutesDownloadFileRequestToJSON=_Jr;vu.filesApiRoutesDownloadFileRequestFromJSON=vJr;var Kte=yJr(ge()),PPt=Ee(),bJr=de();vu.FilesApiRoutesDownloadFileRequest$inboundSchema=Kte.object({file_id:Kte.string()}).transform(t=>(0,PPt.remap)(t,{file_id:"fileId"}));vu.FilesApiRoutesDownloadFileRequest$outboundSchema=Kte.object({fileId:Kte.string()}).transform(t=>(0,PPt.remap)(t,{fileId:"file_id"}));var EPt;(function(t){t.inboundSchema=vu.FilesApiRoutesDownloadFileRequest$inboundSchema,t.outboundSchema=vu.FilesApiRoutesDownloadFileRequest$outboundSchema})(EPt||(vu.FilesApiRoutesDownloadFileRequest$=EPt={}));function _Jr(t){return JSON.stringify(vu.FilesApiRoutesDownloadFileRequest$outboundSchema.parse(t))}function vJr(t){return(0,bJr.safeParse)(t,e=>vu.FilesApiRoutesDownloadFileRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FilesApiRoutesDownloadFileRequest' from JSON")}});var RPt=b(wu=>{"use strict";var wJr=wu&&wu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SJr=wu&&wu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xJr=wu&&wu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wJr(e,t,r);return SJr(e,t),e};Object.defineProperty(wu,"__esModule",{value:!0});wu.FilesApiRoutesGetSignedUrlRequest$=wu.FilesApiRoutesGetSignedUrlRequest$outboundSchema=wu.FilesApiRoutesGetSignedUrlRequest$inboundSchema=void 0;wu.filesApiRoutesGetSignedUrlRequestToJSON=OJr;wu.filesApiRoutesGetSignedUrlRequestFromJSON=EJr;var jk=xJr(ge()),APt=Ee(),CJr=de();wu.FilesApiRoutesGetSignedUrlRequest$inboundSchema=jk.object({file_id:jk.string(),expiry:jk.number().int().default(24)}).transform(t=>(0,APt.remap)(t,{file_id:"fileId"}));wu.FilesApiRoutesGetSignedUrlRequest$outboundSchema=jk.object({fileId:jk.string(),expiry:jk.number().int().default(24)}).transform(t=>(0,APt.remap)(t,{fileId:"file_id"}));var MPt;(function(t){t.inboundSchema=wu.FilesApiRoutesGetSignedUrlRequest$inboundSchema,t.outboundSchema=wu.FilesApiRoutesGetSignedUrlRequest$outboundSchema})(MPt||(wu.FilesApiRoutesGetSignedUrlRequest$=MPt={}));function OJr(t){return JSON.stringify(wu.FilesApiRoutesGetSignedUrlRequest$outboundSchema.parse(t))}function EJr(t){return(0,CJr.safeParse)(t,e=>wu.FilesApiRoutesGetSignedUrlRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FilesApiRoutesGetSignedUrlRequest' from JSON")}});var NPt=b(xu=>{"use strict";var PJr=xu&&xu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TJr=xu&&xu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DPt=xu&&xu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PJr(e,t,r);return TJr(e,t),e};Object.defineProperty(xu,"__esModule",{value:!0});xu.FilesApiRoutesListFilesRequest$=xu.FilesApiRoutesListFilesRequest$outboundSchema=xu.FilesApiRoutesListFilesRequest$inboundSchema=void 0;xu.filesApiRoutesListFilesRequestToJSON=AJr;xu.filesApiRoutesListFilesRequestFromJSON=RJr;var Su=DPt(ge()),jPt=Ee(),MJr=de(),Nk=DPt(un());xu.FilesApiRoutesListFilesRequest$inboundSchema=Su.object({page:Su.number().int().default(0),page_size:Su.number().int().default(100),sample_type:Su.nullable(Su.array(Nk.SampleType$inboundSchema)).optional(),source:Su.nullable(Su.array(Nk.Source$inboundSchema)).optional(),search:Su.nullable(Su.string()).optional(),purpose:Su.nullable(Nk.FilePurpose$inboundSchema).optional()}).transform(t=>(0,jPt.remap)(t,{page_size:"pageSize",sample_type:"sampleType"}));xu.FilesApiRoutesListFilesRequest$outboundSchema=Su.object({page:Su.number().int().default(0),pageSize:Su.number().int().default(100),sampleType:Su.nullable(Su.array(Nk.SampleType$outboundSchema)).optional(),source:Su.nullable(Su.array(Nk.Source$outboundSchema)).optional(),search:Su.nullable(Su.string()).optional(),purpose:Su.nullable(Nk.FilePurpose$outboundSchema).optional()}).transform(t=>(0,jPt.remap)(t,{pageSize:"page_size",sampleType:"sample_type"}));var IPt;(function(t){t.inboundSchema=xu.FilesApiRoutesListFilesRequest$inboundSchema,t.outboundSchema=xu.FilesApiRoutesListFilesRequest$outboundSchema})(IPt||(xu.FilesApiRoutesListFilesRequest$=IPt={}));function AJr(t){return JSON.stringify(xu.FilesApiRoutesListFilesRequest$outboundSchema.parse(t))}function RJr(t){return(0,MJr.safeParse)(t,e=>xu.FilesApiRoutesListFilesRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FilesApiRoutesListFilesRequest' from JSON")}});var BPt=b(Cu=>{"use strict";var IJr=Cu&&Cu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DJr=Cu&&Cu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jJr=Cu&&Cu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IJr(e,t,r);return DJr(e,t),e};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.FilesApiRoutesRetrieveFileRequest$=Cu.FilesApiRoutesRetrieveFileRequest$outboundSchema=Cu.FilesApiRoutesRetrieveFileRequest$inboundSchema=void 0;Cu.filesApiRoutesRetrieveFileRequestToJSON=LJr;Cu.filesApiRoutesRetrieveFileRequestFromJSON=FJr;var Yte=jJr(ge()),FPt=Ee(),NJr=de();Cu.FilesApiRoutesRetrieveFileRequest$inboundSchema=Yte.object({file_id:Yte.string()}).transform(t=>(0,FPt.remap)(t,{file_id:"fileId"}));Cu.FilesApiRoutesRetrieveFileRequest$outboundSchema=Yte.object({fileId:Yte.string()}).transform(t=>(0,FPt.remap)(t,{fileId:"file_id"}));var LPt;(function(t){t.inboundSchema=Cu.FilesApiRoutesRetrieveFileRequest$inboundSchema,t.outboundSchema=Cu.FilesApiRoutesRetrieveFileRequest$outboundSchema})(LPt||(Cu.FilesApiRoutesRetrieveFileRequest$=LPt={}));function LJr(t){return JSON.stringify(Cu.FilesApiRoutesRetrieveFileRequest$outboundSchema.parse(t))}function FJr(t){return(0,NJr.safeParse)(t,e=>Cu.FilesApiRoutesRetrieveFileRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FilesApiRoutesRetrieveFileRequest' from JSON")}});var VOe=b(zg=>{"use strict";var BJr=zg&&zg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kJr=zg&&zg.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Jr=zg&&zg.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BJr(e,t,r);return kJr(e,t),e};Object.defineProperty(zg,"__esModule",{value:!0});zg.blobLikeSchema=void 0;zg.isBlobLike=kPt;var qJr=$Jr(ge());zg.blobLikeSchema=qJr.custom(kPt,{message:"expected a Blob, File or Blob-like object",fatal:!0});function kPt(t){if(t instanceof Blob)return!0;if(typeof t!="object"||t==null||!(Symbol.toStringTag in t))return!1;let e=t[Symbol.toStringTag];return typeof e!="string"||e!=="Blob"&&e!=="File"?!1:"stream"in t&&typeof t.stream=="function"}});var VPt=b(An=>{"use strict";var UJr=An&&An.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zJr=An&&An.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UPt=An&&An.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UJr(e,t,r);return zJr(e,t),e};Object.defineProperty(An,"__esModule",{value:!0});An.FilesApiRoutesUploadFileMultiPartBodyParams$=An.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema=An.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema=An.FileT$=An.FileT$outboundSchema=An.FileT$inboundSchema=void 0;An.fileToJSON=VJr;An.fileFromJSON=WJr;An.filesApiRoutesUploadFileMultiPartBodyParamsToJSON=JJr;An.filesApiRoutesUploadFileMultiPartBodyParamsFromJSON=GJr;var kl=UPt(ge()),zPt=de(),HJr=VOe(),HPt=UPt(un());An.FileT$inboundSchema=kl.object({fileName:kl.string(),content:kl.union([kl.instanceof(ReadableStream),kl.instanceof(Blob),kl.instanceof(ArrayBuffer),kl.instanceof(Uint8Array)])});An.FileT$outboundSchema=kl.object({fileName:kl.string(),content:kl.union([kl.instanceof(ReadableStream),kl.instanceof(Blob),kl.instanceof(ArrayBuffer),kl.instanceof(Uint8Array)])});var $Pt;(function(t){t.inboundSchema=An.FileT$inboundSchema,t.outboundSchema=An.FileT$outboundSchema})($Pt||(An.FileT$=$Pt={}));function VJr(t){return JSON.stringify(An.FileT$outboundSchema.parse(t))}function WJr(t){return(0,zPt.safeParse)(t,e=>An.FileT$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FileT' from JSON")}An.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema=kl.object({file:kl.lazy(()=>An.FileT$inboundSchema),purpose:HPt.FilePurpose$inboundSchema.optional()});An.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema=kl.object({file:kl.lazy(()=>An.FileT$outboundSchema).or(HJr.blobLikeSchema),purpose:HPt.FilePurpose$outboundSchema.optional()});var qPt;(function(t){t.inboundSchema=An.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema,t.outboundSchema=An.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema})(qPt||(An.FilesApiRoutesUploadFileMultiPartBodyParams$=qPt={}));function JJr(t){return JSON.stringify(An.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema.parse(t))}function GJr(t){return(0,zPt.safeParse)(t,e=>An.FilesApiRoutesUploadFileMultiPartBodyParams$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'FilesApiRoutesUploadFileMultiPartBodyParams' from JSON")}});var GPt=b(Ou=>{"use strict";var KJr=Ou&&Ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YJr=Ou&&Ou.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XJr=Ou&&Ou.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KJr(e,t,r);return YJr(e,t),e};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.JobsApiRoutesBatchCancelBatchJobRequest$=Ou.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema=Ou.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema=void 0;Ou.jobsApiRoutesBatchCancelBatchJobRequestToJSON=QJr;Ou.jobsApiRoutesBatchCancelBatchJobRequestFromJSON=eGr;var Xte=XJr(ge()),JPt=Ee(),ZJr=de();Ou.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema=Xte.object({job_id:Xte.string()}).transform(t=>(0,JPt.remap)(t,{job_id:"jobId"}));Ou.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema=Xte.object({jobId:Xte.string()}).transform(t=>(0,JPt.remap)(t,{jobId:"job_id"}));var WPt;(function(t){t.inboundSchema=Ou.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema,t.outboundSchema=Ou.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema})(WPt||(Ou.JobsApiRoutesBatchCancelBatchJobRequest$=WPt={}));function QJr(t){return JSON.stringify(Ou.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema.parse(t))}function eGr(t){return(0,ZJr.safeParse)(t,e=>Ou.JobsApiRoutesBatchCancelBatchJobRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesBatchCancelBatchJobRequest' from JSON")}});var XPt=b(Eu=>{"use strict";var tGr=Eu&&Eu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rGr=Eu&&Eu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nGr=Eu&&Eu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tGr(e,t,r);return rGr(e,t),e};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.JobsApiRoutesBatchGetBatchJobRequest$=Eu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema=Eu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema=void 0;Eu.jobsApiRoutesBatchGetBatchJobRequestToJSON=iGr;Eu.jobsApiRoutesBatchGetBatchJobRequestFromJSON=aGr;var Zte=nGr(ge()),YPt=Ee(),oGr=de();Eu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema=Zte.object({job_id:Zte.string()}).transform(t=>(0,YPt.remap)(t,{job_id:"jobId"}));Eu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema=Zte.object({jobId:Zte.string()}).transform(t=>(0,YPt.remap)(t,{jobId:"job_id"}));var KPt;(function(t){t.inboundSchema=Eu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema,t.outboundSchema=Eu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema})(KPt||(Eu.JobsApiRoutesBatchGetBatchJobRequest$=KPt={}));function iGr(t){return JSON.stringify(Eu.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema.parse(t))}function aGr(t){return(0,oGr.safeParse)(t,e=>Eu.JobsApiRoutesBatchGetBatchJobRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesBatchGetBatchJobRequest' from JSON")}});var rTt=b(Pu=>{"use strict";var sGr=Pu&&Pu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uGr=Pu&&Pu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QPt=Pu&&Pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sGr(e,t,r);return uGr(e,t),e};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.JobsApiRoutesBatchGetBatchJobsRequest$=Pu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema=Pu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema=void 0;Pu.jobsApiRoutesBatchGetBatchJobsRequestToJSON=cGr;Pu.jobsApiRoutesBatchGetBatchJobsRequestFromJSON=dGr;var Xi=QPt(ge()),eTt=Ee(),lGr=de(),tTt=QPt(un());Pu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema=Xi.object({page:Xi.number().int().default(0),page_size:Xi.number().int().default(100),model:Xi.nullable(Xi.string()).optional(),metadata:Xi.nullable(Xi.record(Xi.any())).optional(),created_after:Xi.nullable(Xi.string().datetime({offset:!0}).transform(t=>new Date(t))).optional(),created_by_me:Xi.boolean().default(!1),status:Xi.nullable(tTt.BatchJobStatus$inboundSchema).optional()}).transform(t=>(0,eTt.remap)(t,{page_size:"pageSize",created_after:"createdAfter",created_by_me:"createdByMe"}));Pu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema=Xi.object({page:Xi.number().int().default(0),pageSize:Xi.number().int().default(100),model:Xi.nullable(Xi.string()).optional(),metadata:Xi.nullable(Xi.record(Xi.any())).optional(),createdAfter:Xi.nullable(Xi.date().transform(t=>t.toISOString())).optional(),createdByMe:Xi.boolean().default(!1),status:Xi.nullable(tTt.BatchJobStatus$outboundSchema).optional()}).transform(t=>(0,eTt.remap)(t,{pageSize:"page_size",createdAfter:"created_after",createdByMe:"created_by_me"}));var ZPt;(function(t){t.inboundSchema=Pu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema,t.outboundSchema=Pu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema})(ZPt||(Pu.JobsApiRoutesBatchGetBatchJobsRequest$=ZPt={}));function cGr(t){return JSON.stringify(Pu.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema.parse(t))}function dGr(t){return(0,lGr.safeParse)(t,e=>Pu.JobsApiRoutesBatchGetBatchJobsRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesBatchGetBatchJobsRequest' from JSON")}});var iTt=b(Tu=>{"use strict";var fGr=Tu&&Tu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pGr=Tu&&Tu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hGr=Tu&&Tu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fGr(e,t,r);return pGr(e,t),e};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$=Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema=Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema=void 0;Tu.jobsApiRoutesFineTuningArchiveFineTunedModelRequestToJSON=gGr;Tu.jobsApiRoutesFineTuningArchiveFineTunedModelRequestFromJSON=yGr;var Qte=hGr(ge()),oTt=Ee(),mGr=de();Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema=Qte.object({model_id:Qte.string()}).transform(t=>(0,oTt.remap)(t,{model_id:"modelId"}));Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema=Qte.object({modelId:Qte.string()}).transform(t=>(0,oTt.remap)(t,{modelId:"model_id"}));var nTt;(function(t){t.inboundSchema=Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema,t.outboundSchema=Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema})(nTt||(Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$=nTt={}));function gGr(t){return JSON.stringify(Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema.parse(t))}function yGr(t){return(0,mGr.safeParse)(t,e=>Tu.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningArchiveFineTunedModelRequest' from JSON")}});var uTt=b(Mu=>{"use strict";var bGr=Mu&&Mu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Gr=Mu&&Mu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vGr=Mu&&Mu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bGr(e,t,r);return _Gr(e,t),e};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$=Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema=Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema=void 0;Mu.jobsApiRoutesFineTuningCancelFineTuningJobRequestToJSON=SGr;Mu.jobsApiRoutesFineTuningCancelFineTuningJobRequestFromJSON=xGr;var ere=vGr(ge()),sTt=Ee(),wGr=de();Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema=ere.object({job_id:ere.string()}).transform(t=>(0,sTt.remap)(t,{job_id:"jobId"}));Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema=ere.object({jobId:ere.string()}).transform(t=>(0,sTt.remap)(t,{jobId:"job_id"}));var aTt;(function(t){t.inboundSchema=Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema,t.outboundSchema=Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema})(aTt||(Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$=aTt={}));function SGr(t){return JSON.stringify(Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema.parse(t))}function xGr(t){return(0,wGr.safeParse)(t,e=>Mu.JobsApiRoutesFineTuningCancelFineTuningJobRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningCancelFineTuningJobRequest' from JSON")}});var fTt=b(Au=>{"use strict";var CGr=Au&&Au.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OGr=Au&&Au.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cTt=Au&&Au.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CGr(e,t,r);return OGr(e,t),e};Object.defineProperty(Au,"__esModule",{value:!0});Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$=Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema=Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema=void 0;Au.jobsApiRoutesFineTuningCreateFineTuningJobResponseToJSON=PGr;Au.jobsApiRoutesFineTuningCreateFineTuningJobResponseFromJSON=TGr;var dTt=cTt(ge()),EGr=de(),tre=cTt(un());Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema=dTt.union([tre.LegacyJobMetadataOut$inboundSchema,tre.JobOut$inboundSchema]);Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema=dTt.union([tre.LegacyJobMetadataOut$outboundSchema,tre.JobOut$outboundSchema]);var lTt;(function(t){t.inboundSchema=Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema,t.outboundSchema=Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema})(lTt||(Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$=lTt={}));function PGr(t){return JSON.stringify(Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$outboundSchema.parse(t))}function TGr(t){return(0,EGr.safeParse)(t,e=>Au.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningCreateFineTuningJobResponse' from JSON")}});var mTt=b(Ru=>{"use strict";var MGr=Ru&&Ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AGr=Ru&&Ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RGr=Ru&&Ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MGr(e,t,r);return AGr(e,t),e};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$=Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema=Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema=void 0;Ru.jobsApiRoutesFineTuningGetFineTuningJobRequestToJSON=DGr;Ru.jobsApiRoutesFineTuningGetFineTuningJobRequestFromJSON=jGr;var rre=RGr(ge()),hTt=Ee(),IGr=de();Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema=rre.object({job_id:rre.string()}).transform(t=>(0,hTt.remap)(t,{job_id:"jobId"}));Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema=rre.object({jobId:rre.string()}).transform(t=>(0,hTt.remap)(t,{jobId:"job_id"}));var pTt;(function(t){t.inboundSchema=Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema,t.outboundSchema=Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema})(pTt||(Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$=pTt={}));function DGr(t){return JSON.stringify(Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema.parse(t))}function jGr(t){return(0,IGr.safeParse)(t,e=>Ru.JobsApiRoutesFineTuningGetFineTuningJobRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningGetFineTuningJobRequest' from JSON")}});var _Tt=b(Rn=>{"use strict";var NGr=Rn&&Rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LGr=Rn&&Rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FGr=Rn&&Rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NGr(e,t,r);return LGr(e,t),e};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$=Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema=Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema=Rn.Status$=Rn.Status$outboundSchema=Rn.Status$inboundSchema=Rn.Status=void 0;Rn.jobsApiRoutesFineTuningGetFineTuningJobsRequestToJSON=kGr;Rn.jobsApiRoutesFineTuningGetFineTuningJobsRequestFromJSON=$Gr;var Co=FGr(ge()),bTt=Ee(),BGr=de();Rn.Status={Queued:"QUEUED",Started:"STARTED",Validating:"VALIDATING",Validated:"VALIDATED",Running:"RUNNING",FailedValidation:"FAILED_VALIDATION",Failed:"FAILED",Success:"SUCCESS",Cancelled:"CANCELLED",CancellationRequested:"CANCELLATION_REQUESTED"};Rn.Status$inboundSchema=Co.nativeEnum(Rn.Status);Rn.Status$outboundSchema=Rn.Status$inboundSchema;var gTt;(function(t){t.inboundSchema=Rn.Status$inboundSchema,t.outboundSchema=Rn.Status$outboundSchema})(gTt||(Rn.Status$=gTt={}));Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema=Co.object({page:Co.number().int().default(0),page_size:Co.number().int().default(100),model:Co.nullable(Co.string()).optional(),created_after:Co.nullable(Co.string().datetime({offset:!0}).transform(t=>new Date(t))).optional(),created_by_me:Co.boolean().default(!1),status:Co.nullable(Rn.Status$inboundSchema).optional(),wandb_project:Co.nullable(Co.string()).optional(),wandb_name:Co.nullable(Co.string()).optional(),suffix:Co.nullable(Co.string()).optional()}).transform(t=>(0,bTt.remap)(t,{page_size:"pageSize",created_after:"createdAfter",created_by_me:"createdByMe",wandb_project:"wandbProject",wandb_name:"wandbName"}));Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema=Co.object({page:Co.number().int().default(0),pageSize:Co.number().int().default(100),model:Co.nullable(Co.string()).optional(),createdAfter:Co.nullable(Co.date().transform(t=>t.toISOString())).optional(),createdByMe:Co.boolean().default(!1),status:Co.nullable(Rn.Status$outboundSchema).optional(),wandbProject:Co.nullable(Co.string()).optional(),wandbName:Co.nullable(Co.string()).optional(),suffix:Co.nullable(Co.string()).optional()}).transform(t=>(0,bTt.remap)(t,{pageSize:"page_size",createdAfter:"created_after",createdByMe:"created_by_me",wandbProject:"wandb_project",wandbName:"wandb_name"}));var yTt;(function(t){t.inboundSchema=Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema,t.outboundSchema=Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema})(yTt||(Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$=yTt={}));function kGr(t){return JSON.stringify(Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema.parse(t))}function $Gr(t){return(0,BGr.safeParse)(t,e=>Rn.JobsApiRoutesFineTuningGetFineTuningJobsRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningGetFineTuningJobsRequest' from JSON")}});var STt=b(Iu=>{"use strict";var qGr=Iu&&Iu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UGr=Iu&&Iu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zGr=Iu&&Iu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qGr(e,t,r);return UGr(e,t),e};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$=Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema=Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema=void 0;Iu.jobsApiRoutesFineTuningStartFineTuningJobRequestToJSON=VGr;Iu.jobsApiRoutesFineTuningStartFineTuningJobRequestFromJSON=WGr;var nre=zGr(ge()),wTt=Ee(),HGr=de();Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema=nre.object({job_id:nre.string()}).transform(t=>(0,wTt.remap)(t,{job_id:"jobId"}));Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema=nre.object({jobId:nre.string()}).transform(t=>(0,wTt.remap)(t,{jobId:"job_id"}));var vTt;(function(t){t.inboundSchema=Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema,t.outboundSchema=Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema})(vTt||(Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$=vTt={}));function VGr(t){return JSON.stringify(Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema.parse(t))}function WGr(t){return(0,HGr.safeParse)(t,e=>Iu.JobsApiRoutesFineTuningStartFineTuningJobRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningStartFineTuningJobRequest' from JSON")}});var OTt=b(Du=>{"use strict";var JGr=Du&&Du.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GGr=Du&&Du.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KGr=Du&&Du.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JGr(e,t,r);return GGr(e,t),e};Object.defineProperty(Du,"__esModule",{value:!0});Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$=Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema=Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema=void 0;Du.jobsApiRoutesFineTuningUnarchiveFineTunedModelRequestToJSON=XGr;Du.jobsApiRoutesFineTuningUnarchiveFineTunedModelRequestFromJSON=ZGr;var ore=KGr(ge()),CTt=Ee(),YGr=de();Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema=ore.object({model_id:ore.string()}).transform(t=>(0,CTt.remap)(t,{model_id:"modelId"}));Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema=ore.object({modelId:ore.string()}).transform(t=>(0,CTt.remap)(t,{modelId:"model_id"}));var xTt;(function(t){t.inboundSchema=Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema,t.outboundSchema=Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema})(xTt||(Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$=xTt={}));function XGr(t){return JSON.stringify(Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema.parse(t))}function ZGr(t){return(0,YGr.safeParse)(t,e=>Du.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest' from JSON")}});var ATt=b(ju=>{"use strict";var QGr=ju&&ju.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eKr=ju&&ju.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PTt=ju&&ju.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QGr(e,t,r);return eKr(e,t),e};Object.defineProperty(ju,"__esModule",{value:!0});ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$=ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema=ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema=void 0;ju.jobsApiRoutesFineTuningUpdateFineTunedModelRequestToJSON=rKr;ju.jobsApiRoutesFineTuningUpdateFineTunedModelRequestFromJSON=nKr;var ire=PTt(ge()),TTt=Ee(),tKr=de(),MTt=PTt(un());ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema=ire.object({model_id:ire.string(),UpdateFTModelIn:MTt.UpdateFTModelIn$inboundSchema}).transform(t=>(0,TTt.remap)(t,{model_id:"modelId",UpdateFTModelIn:"updateFTModelIn"}));ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema=ire.object({modelId:ire.string(),updateFTModelIn:MTt.UpdateFTModelIn$outboundSchema}).transform(t=>(0,TTt.remap)(t,{modelId:"model_id",updateFTModelIn:"UpdateFTModelIn"}));var ETt;(function(t){t.inboundSchema=ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema,t.outboundSchema=ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema})(ETt||(ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$=ETt={}));function rKr(t){return JSON.stringify(ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema.parse(t))}function nKr(t){return(0,tKr.safeParse)(t,e=>ju.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'JobsApiRoutesFineTuningUpdateFineTunedModelRequest' from JSON")}});var LTt=b(ho=>{"use strict";var oKr=ho&&ho.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iKr=ho&&ho.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DTt=ho&&ho.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oKr(e,t,r);return iKr(e,t),e};Object.defineProperty(ho,"__esModule",{value:!0});ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$=ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema=void 0;ho.retrieveModelV1ModelsModelIdGetRequestToJSON=aKr;ho.retrieveModelV1ModelsModelIdGetRequestFromJSON=sKr;ho.retrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGetToJSON=uKr;ho.retrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGetFromJSON=lKr;var Hf=DTt(ge()),jTt=Ee(),NTt=de(),are=DTt(un());ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema=Hf.object({model_id:Hf.string()}).transform(t=>(0,jTt.remap)(t,{model_id:"modelId"}));ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema=Hf.object({modelId:Hf.string()}).transform(t=>(0,jTt.remap)(t,{modelId:"model_id"}));var RTt;(function(t){t.inboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema,t.outboundSchema=ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema})(RTt||(ho.RetrieveModelV1ModelsModelIdGetRequest$=RTt={}));function aKr(t){return JSON.stringify(ho.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema.parse(t))}function sKr(t){return(0,NTt.safeParse)(t,e=>ho.RetrieveModelV1ModelsModelIdGetRequest$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'RetrieveModelV1ModelsModelIdGetRequest' from JSON")}ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema=Hf.union([are.BaseModelCard$inboundSchema.and(Hf.object({type:Hf.literal("base")}).transform(t=>({type:t.type}))),are.FTModelCard$inboundSchema.and(Hf.object({type:Hf.literal("fine-tuned")}).transform(t=>({type:t.type})))]);ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema=Hf.union([are.BaseModelCard$outboundSchema.and(Hf.object({type:Hf.literal("base")}).transform(t=>({type:t.type}))),are.FTModelCard$outboundSchema.and(Hf.object({type:Hf.literal("fine-tuned")}).transform(t=>({type:t.type})))]);var ITt;(function(t){t.inboundSchema=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema,t.outboundSchema=ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema})(ITt||(ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$=ITt={}));function uKr(t){return JSON.stringify(ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$outboundSchema.parse(t))}function lKr(t){return(0,NTt.safeParse)(t,e=>ho.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema.parse(JSON.parse(e)),"Failed to parse 'RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet' from JSON")}});var Nu=b(Ai=>{"use strict";var cKr=Ai&&Ai.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sl=Ai&&Ai.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cKr(e,t,r)};Object.defineProperty(Ai,"__esModule",{value:!0});sl(SPt(),Ai);sl(OPt(),Ai);sl(TPt(),Ai);sl(RPt(),Ai);sl(NPt(),Ai);sl(BPt(),Ai);sl(VPt(),Ai);sl(GPt(),Ai);sl(XPt(),Ai);sl(rTt(),Ai);sl(iTt(),Ai);sl(uTt(),Ai);sl(fTt(),Ai);sl(mTt(),Ai);sl(_Tt(),Ai);sl(STt(),Ai);sl(OTt(),Ai);sl(ATt(),Ai);sl(LTt(),Ai)});var BTt=b(LC=>{"use strict";var dKr=LC&&LC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fKr=LC&&LC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WOe=LC&&LC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dKr(e,t,r);return fKr(e,t),e};Object.defineProperty(LC,"__esModule",{value:!0});LC.batchJobsCancel=_Kr;var pKr=vo(),sre=WOe(wo()),hKr=Ee(),mKr=de(),FTt=So(),gKr=Hn(),yKr=WOe(un()),bKr=WOe(Nu());async function _Kr(t,e,r){let n=(0,mKr.safeParse)(e,_=>bKr.JobsApiRoutesBatchCancelBatchJobRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,pKr.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,gKr.pathToFunc)("/v1/batch/jobs/{job_id}/cancel")(a),u=new Headers((0,hKr.compactMap)({Accept:"application/json"})),l=await(0,FTt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,FTt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_batch_cancel_batch_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await sre.match(sre.json(200,yKr.BatchJobOut$inboundSchema),sre.fail("4XX"),sre.fail("5XX"))(v);return g.ok,g}});var UTt=b(FC=>{"use strict";var vKr=FC&&FC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wKr=FC&&FC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qTt=FC&&FC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vKr(e,t,r);return wKr(e,t),e};Object.defineProperty(FC,"__esModule",{value:!0});FC.batchJobsCreate=EKr;var SKr=vo(),ure=qTt(wo()),xKr=Ee(),CKr=de(),kTt=So(),OKr=Hn(),$Tt=qTt(un());async function EKr(t,e,r){let n=(0,CKr.safeParse)(e,g=>$Tt.BatchJobIn$outboundSchema.parse(g),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,SKr.encodeJSON)("body",o,{explode:!0}),a=(0,OKr.pathToFunc)("/v1/batch/jobs")(),s=new Headers((0,xKr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,kTt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,kTt.resolveGlobalSecurity)(l),d={operationID:"jobs_api_routes_batch_create_batch_job",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,[v]=await ure.match(ure.json(200,$Tt.BatchJobOut$inboundSchema),ure.fail("4XX"),ure.fail("5XX"))(h);return v.ok,v}});var HTt=b(BC=>{"use strict";var PKr=BC&&BC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TKr=BC&&BC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JOe=BC&&BC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PKr(e,t,r);return TKr(e,t),e};Object.defineProperty(BC,"__esModule",{value:!0});BC.batchJobsGet=NKr;var MKr=vo(),lre=JOe(wo()),AKr=Ee(),RKr=de(),zTt=So(),IKr=Hn(),DKr=JOe(un()),jKr=JOe(Nu());async function NKr(t,e,r){let n=(0,RKr.safeParse)(e,_=>jKr.JobsApiRoutesBatchGetBatchJobRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,MKr.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,IKr.pathToFunc)("/v1/batch/jobs/{job_id}")(a),u=new Headers((0,AKr.compactMap)({Accept:"application/json"})),l=await(0,zTt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,zTt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_batch_get_batch_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await lre.match(lre.json(200,DKr.BatchJobOut$inboundSchema),lre.fail("4XX"),lre.fail("5XX"))(v);return g.ok,g}});var WTt=b(kC=>{"use strict";var LKr=kC&&kC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FKr=kC&&kC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GOe=kC&&kC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LKr(e,t,r);return FKr(e,t),e};Object.defineProperty(kC,"__esModule",{value:!0});kC.batchJobsList=HKr;var BKr=vo(),cre=GOe(wo()),kKr=Ee(),$Kr=de(),VTt=So(),qKr=Hn(),UKr=GOe(un()),zKr=GOe(Nu());async function HKr(t,e,r){let n=(0,$Kr.safeParse)(e,_=>zKr.JobsApiRoutesBatchGetBatchJobsRequest$outboundSchema.optional().parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a=(0,qKr.pathToFunc)("/v1/batch/jobs")(),s=(0,BKr.encodeFormQuery)({created_after:o?.created_after,created_by_me:o?.created_by_me,metadata:o?.metadata,model:o?.model,page:o?.page,page_size:o?.page_size,status:o?.status}),u=new Headers((0,kKr.compactMap)({Accept:"application/json"})),l=await(0,VTt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,VTt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_batch_get_batch_jobs",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:a,headers:u,query:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await cre.match(cre.json(200,UKr.BatchJobsOut$inboundSchema),cre.fail("4XX"),cre.fail("5XX"))(v);return g.ok,g}});var JTt=b(fre=>{"use strict";Object.defineProperty(fre,"__esModule",{value:!0});fre.MistralJobs=void 0;var VKr=BTt(),WKr=UTt(),JKr=HTt(),GKr=WTt(),KKr=Fp(),dre=Yh(),KOe=class extends KKr.ClientSDK{async list(e,r){return(0,dre.unwrapAsync)((0,GKr.batchJobsList)(this,e,r))}async create(e,r){return(0,dre.unwrapAsync)((0,WKr.batchJobsCreate)(this,e,r))}async get(e,r){return(0,dre.unwrapAsync)((0,JKr.batchJobsGet)(this,e,r))}async cancel(e,r){return(0,dre.unwrapAsync)((0,VKr.batchJobsCancel)(this,e,r))}};fre.MistralJobs=KOe});var GTt=b(pre=>{"use strict";Object.defineProperty(pre,"__esModule",{value:!0});pre.Batch=void 0;var YKr=Fp(),XKr=JTt(),YOe=class extends YKr.ClientSDK{get jobs(){return this._jobs??(this._jobs=new XKr.MistralJobs(this._options))}};pre.Batch=YOe});var XTt=b($C=>{"use strict";var ZKr=$C&&$C.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QKr=$C&&$C.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XOe=$C&&$C.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZKr(e,t,r);return QKr(e,t),e};Object.defineProperty($C,"__esModule",{value:!0});$C.chatComplete=i7r;var e7r=vo(),_8=XOe(wo()),t7r=Ee(),r7r=de(),KTt=So(),n7r=Hn(),YTt=XOe(un()),o7r=XOe(kp());async function i7r(t,e,r){let n=(0,r7r.safeParse)(e,_=>YTt.ChatCompletionRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,e7r.encodeJSON)("body",o,{explode:!0}),a=(0,n7r.pathToFunc)("/v1/chat/completions")(),s=new Headers((0,t7r.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,KTt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,KTt.resolveGlobalSecurity)(l),d={operationID:"chat_completion_v1_chat_completions_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await _8.match(_8.json(200,YTt.ChatCompletionResponse$inboundSchema),_8.jsonErr(422,o7r.HTTPValidationError$inboundSchema),_8.fail("4XX"),_8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var eMt=b(qC=>{"use strict";var a7r=qC&&qC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s7r=qC&&qC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hre=qC&&qC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&a7r(e,t,r);return s7r(e,t),e};Object.defineProperty(qC,"__esModule",{value:!0});qC.chatStream=m7r;var u7r=hre(ge()),l7r=vo(),c7r=s8(),v8=hre(wo()),d7r=Ee(),f7r=de(),ZTt=So(),p7r=Hn(),QTt=hre(un()),h7r=hre(kp());async function m7r(t,e,r){let n=(0,f7r.safeParse)(e,_=>QTt.ChatCompletionStreamRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,l7r.encodeJSON)("body",o,{explode:!0}),a=(0,p7r.pathToFunc)("/v1/chat/completions#stream")(),s=new Headers((0,d7r.compactMap)({"Content-Type":"application/json",Accept:"text/event-stream"})),u=await(0,ZTt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,ZTt.resolveGlobalSecurity)(l),d={operationID:"stream_chat",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await v8.match(v8.sse(200,u7r.instanceof(ReadableStream).transform(_=>new c7r.EventStream({stream:_,decoder(S){return QTt.CompletionEvent$inboundSchema.parse(S)}})),{sseSentinel:"[DONE]"}),v8.jsonErr(422,h7r.HTTPValidationError$inboundSchema),v8.fail("4XX"),v8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var mre=b(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.getDefaultOptions=yS.defaultOptions=yS.ignoreOverride=void 0;yS.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");yS.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};var g7r=t=>typeof t=="string"?{...yS.defaultOptions,name:t}:{...yS.defaultOptions,...t};yS.getDefaultOptions=g7r});var ZOe=b(gre=>{"use strict";Object.defineProperty(gre,"__esModule",{value:!0});gre.getRefs=void 0;var y7r=mre(),b7r=t=>{let e=(0,y7r.getDefaultOptions)(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}};gre.getRefs=b7r});var jT=b(Lk=>{"use strict";Object.defineProperty(Lk,"__esModule",{value:!0});Lk.setResponseValueAndErrors=Lk.addErrorMessage=void 0;function tMt(t,e,r,n){n?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}Lk.addErrorMessage=tMt;function _7r(t,e,r,n,o){t[e]=r,tMt(t,e,n,o)}Lk.setResponseValueAndErrors=_7r});var QOe=b(yre=>{"use strict";Object.defineProperty(yre,"__esModule",{value:!0});yre.parseAnyDef=void 0;function v7r(){return{}}yre.parseAnyDef=v7r});var eEe=b(_re=>{"use strict";Object.defineProperty(_re,"__esModule",{value:!0});_re.parseArrayDef=void 0;var w7r=ge(),bre=jT(),S7r=Lu();function x7r(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==w7r.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,S7r.parseDef)(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&(0,bre.setResponseValueAndErrors)(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&(0,bre.setResponseValueAndErrors)(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&((0,bre.setResponseValueAndErrors)(r,"minItems",t.exactLength.value,t.exactLength.message,e),(0,bre.setResponseValueAndErrors)(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}_re.parseArrayDef=x7r});var tEe=b(vre=>{"use strict";Object.defineProperty(vre,"__esModule",{value:!0});vre.parseBigintDef=void 0;var oD=jT();function C7r(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?(0,oD.setResponseValueAndErrors)(r,"minimum",n.value,n.message,e):(0,oD.setResponseValueAndErrors)(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),(0,oD.setResponseValueAndErrors)(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,oD.setResponseValueAndErrors)(r,"maximum",n.value,n.message,e):(0,oD.setResponseValueAndErrors)(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),(0,oD.setResponseValueAndErrors)(r,"maximum",n.value,n.message,e));break;case"multipleOf":(0,oD.setResponseValueAndErrors)(r,"multipleOf",n.value,n.message,e);break}return r}vre.parseBigintDef=C7r});var rEe=b(wre=>{"use strict";Object.defineProperty(wre,"__esModule",{value:!0});wre.parseBooleanDef=void 0;function O7r(){return{type:"boolean"}}wre.parseBooleanDef=O7r});var xre=b(Sre=>{"use strict";Object.defineProperty(Sre,"__esModule",{value:!0});Sre.parseBrandedDef=void 0;var E7r=Lu();function P7r(t,e){return(0,E7r.parseDef)(t.type._def,e)}Sre.parseBrandedDef=P7r});var nEe=b(Cre=>{"use strict";Object.defineProperty(Cre,"__esModule",{value:!0});Cre.parseCatchDef=void 0;var T7r=Lu(),M7r=(t,e)=>(0,T7r.parseDef)(t.innerType._def,e);Cre.parseCatchDef=M7r});var oEe=b(Ore=>{"use strict";Object.defineProperty(Ore,"__esModule",{value:!0});Ore.parseDateDef=void 0;var rMt=jT();function nMt(t,e,r){let n=r??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>nMt(t,e,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return A7r(t,e)}}Ore.parseDateDef=nMt;var A7r=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let n of t.checks)switch(n.kind){case"min":(0,rMt.setResponseValueAndErrors)(r,"minimum",n.value,n.message,e);break;case"max":(0,rMt.setResponseValueAndErrors)(r,"maximum",n.value,n.message,e);break}return r}});var iEe=b(Ere=>{"use strict";Object.defineProperty(Ere,"__esModule",{value:!0});Ere.parseDefaultDef=void 0;var R7r=Lu();function I7r(t,e){return{...(0,R7r.parseDef)(t.innerType._def,e),default:t.defaultValue()}}Ere.parseDefaultDef=I7r});var aEe=b(Pre=>{"use strict";Object.defineProperty(Pre,"__esModule",{value:!0});Pre.parseEffectsDef=void 0;var D7r=Lu();function j7r(t,e){return e.effectStrategy==="input"?(0,D7r.parseDef)(t.schema._def,e):{}}Pre.parseEffectsDef=j7r});var sEe=b(Tre=>{"use strict";Object.defineProperty(Tre,"__esModule",{value:!0});Tre.parseEnumDef=void 0;function N7r(t){return{type:"string",enum:Array.from(t.values)}}Tre.parseEnumDef=N7r});var uEe=b(Mre=>{"use strict";Object.defineProperty(Mre,"__esModule",{value:!0});Mre.parseIntersectionDef=void 0;var oMt=Lu(),L7r=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function F7r(t,e){let r=[(0,oMt.parseDef)(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),(0,oMt.parseDef)(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(L7r(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...u}=i;a=u}else n=void 0;o.push(a)}}),o.length?{allOf:o,...n}:void 0}Mre.parseIntersectionDef=F7r});var lEe=b(Are=>{"use strict";Object.defineProperty(Are,"__esModule",{value:!0});Are.parseLiteralDef=void 0;function B7r(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}Are.parseLiteralDef=B7r});var Rre=b(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.parseStringDef=wc.zodPatterns=void 0;var iD=jT(),cEe;wc.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(cEe===void 0&&(cEe=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),cEe),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function k7r(t,e){let r={type:"string"};if(t.checks)for(let n of t.checks)switch(n.kind){case"min":(0,iD.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e);break;case"max":(0,iD.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Hg(r,"email",n.message,e);break;case"format:idn-email":Hg(r,"idn-email",n.message,e);break;case"pattern:zod":Wd(r,wc.zodPatterns.email,n.message,e);break}break;case"url":Hg(r,"uri",n.message,e);break;case"uuid":Hg(r,"uuid",n.message,e);break;case"regex":Wd(r,n.regex,n.message,e);break;case"cuid":Wd(r,wc.zodPatterns.cuid,n.message,e);break;case"cuid2":Wd(r,wc.zodPatterns.cuid2,n.message,e);break;case"startsWith":Wd(r,RegExp(`^${dEe(n.value,e)}`),n.message,e);break;case"endsWith":Wd(r,RegExp(`${dEe(n.value,e)}$`),n.message,e);break;case"datetime":Hg(r,"date-time",n.message,e);break;case"date":Hg(r,"date",n.message,e);break;case"time":Hg(r,"time",n.message,e);break;case"duration":Hg(r,"duration",n.message,e);break;case"length":(0,iD.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e),(0,iD.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"includes":{Wd(r,RegExp(dEe(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&Hg(r,"ipv4",n.message,e),n.version!=="v4"&&Hg(r,"ipv6",n.message,e);break}case"base64url":Wd(r,wc.zodPatterns.base64url,n.message,e);break;case"jwt":Wd(r,wc.zodPatterns.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&Wd(r,wc.zodPatterns.ipv4Cidr,n.message,e),n.version!=="v4"&&Wd(r,wc.zodPatterns.ipv6Cidr,n.message,e);break}case"emoji":Wd(r,wc.zodPatterns.emoji(),n.message,e);break;case"ulid":{Wd(r,wc.zodPatterns.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Hg(r,"binary",n.message,e);break}case"contentEncoding:base64":{(0,iD.setResponseValueAndErrors)(r,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{Wd(r,wc.zodPatterns.base64,n.message,e);break}}break}case"nanoid":Wd(r,wc.zodPatterns.nanoid,n.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:(o=>{})(n)}return r}wc.parseStringDef=k7r;function dEe(t,e){return e.patternStrategy==="escape"?q7r(t):t}var $7r=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function q7r(t){let e="";for(let r=0;r<t.length;r++)$7r.has(t[r])||(e+="\\"),e+=t[r];return e}function Hg(t,e,r,n){t.format||t.anyOf?.some(o=>o.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):(0,iD.setResponseValueAndErrors)(t,"format",e,r,n)}function Wd(t,e,r,n){t.pattern||t.allOf?.some(o=>o.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:iMt(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):(0,iD.setResponseValueAndErrors)(t,"pattern",iMt(e,n),r,n)}function iMt(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},n=r.i?t.source.toLowerCase():t.source,o="",i=!1,a=!1,s=!1;for(let u=0;u<n.length;u++){if(i){o+=n[u],i=!1;continue}if(r.i){if(a){if(n[u].match(/[a-z]/)){s?(o+=n[u],o+=`${n[u-2]}-${n[u]}`.toUpperCase(),s=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(o+=n[u],s=!0):o+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){o+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){o+=a?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}o+=n[u],n[u]==="\\"?i=!0:a&&n[u]==="]"?a=!1:!a&&n[u]==="["&&(a=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return o}});var Dre=b(Ire=>{"use strict";Object.defineProperty(Ire,"__esModule",{value:!0});Ire.parseRecordDef=void 0;var w8=ge(),aMt=Lu(),U7r=Rre(),z7r=xre();function H7r(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===w8.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((n,o)=>({...n,[o]:(0,aMt.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",o]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:(0,aMt.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===w8.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.checks?.length){let{type:n,...o}=(0,U7r.parseStringDef)(t.keyType._def,e);return{...r,propertyNames:o}}else{if(t.keyType?._def.typeName===w8.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===w8.ZodFirstPartyTypeKind.ZodBranded&&t.keyType._def.type._def.typeName===w8.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.type._def.checks?.length){let{type:n,...o}=(0,z7r.parseBrandedDef)(t.keyType._def,e);return{...r,propertyNames:o}}}return r}Ire.parseRecordDef=H7r});var fEe=b(jre=>{"use strict";Object.defineProperty(jre,"__esModule",{value:!0});jre.parseMapDef=void 0;var sMt=Lu(),V7r=Dre();function W7r(t,e){if(e.mapStrategy==="record")return(0,V7r.parseRecordDef)(t,e);let r=(0,sMt.parseDef)(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},n=(0,sMt.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}jre.parseMapDef=W7r});var pEe=b(Nre=>{"use strict";Object.defineProperty(Nre,"__esModule",{value:!0});Nre.parseNativeEnumDef=void 0;function J7r(t){let e=t.values,n=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}Nre.parseNativeEnumDef=J7r});var hEe=b(Lre=>{"use strict";Object.defineProperty(Lre,"__esModule",{value:!0});Lre.parseNeverDef=void 0;function G7r(){return{not:{}}}Lre.parseNeverDef=G7r});var mEe=b(Fre=>{"use strict";Object.defineProperty(Fre,"__esModule",{value:!0});Fre.parseNullDef=void 0;function K7r(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}Fre.parseNullDef=K7r});var Bre=b(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});NT.parseUnionDef=NT.primitiveMappings=void 0;var Y7r=Lu();NT.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function X7r(t,e){if(e.target==="openApi3")return uMt(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in NT.primitiveMappings&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let a=NT.primitiveMappings[i._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,a,s)=>s.indexOf(i)===a);return{type:o.length>1?o:o[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return uMt(t,e)}NT.parseUnionDef=X7r;var uMt=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,o)=>(0,Y7r.parseDef)(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0}});var gEe=b(kre=>{"use strict";Object.defineProperty(kre,"__esModule",{value:!0});kre.parseNullableDef=void 0;var lMt=Lu(),cMt=Bre();function Z7r(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:cMt.primitiveMappings[t.innerType._def.typeName],nullable:!0}:{type:[cMt.primitiveMappings[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=(0,lMt.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=(0,lMt.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}kre.parseNullableDef=Z7r});var yEe=b($re=>{"use strict";Object.defineProperty($re,"__esModule",{value:!0});$re.parseNumberDef=void 0;var LT=jT();function Q7r(t,e){let r={type:"number"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"int":r.type="integer",(0,LT.addErrorMessage)(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?(0,LT.setResponseValueAndErrors)(r,"minimum",n.value,n.message,e):(0,LT.setResponseValueAndErrors)(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),(0,LT.setResponseValueAndErrors)(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?(0,LT.setResponseValueAndErrors)(r,"maximum",n.value,n.message,e):(0,LT.setResponseValueAndErrors)(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),(0,LT.setResponseValueAndErrors)(r,"maximum",n.value,n.message,e));break;case"multipleOf":(0,LT.setResponseValueAndErrors)(r,"multipleOf",n.value,n.message,e);break}return r}$re.parseNumberDef=Q7r});var _Ee=b(qre=>{"use strict";Object.defineProperty(qre,"__esModule",{value:!0});qre.parseObjectDef=void 0;var eYr=ge(),bEe=Lu();function tYr(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":(0,bEe.parseDef)(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":(0,bEe.parseDef)(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function rYr(t,e){let r=e.target==="openAi",n={type:"object",...Object.entries(t.shape()).reduce((o,[i,a])=>{if(a===void 0||a._def===void 0)return o;let s=a.isOptional();s&&r&&(a instanceof eYr.ZodOptional&&(a=a._def.innerType),a.isNullable()||(a=a.nullable()),s=!1);let u=(0,bEe.parseDef)(a._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});return u===void 0?o:{properties:{...o.properties,[i]:u},required:s?o.required:[...o.required,i]}},{properties:{},required:[]}),additionalProperties:tYr(t,e)};return n.required.length||delete n.required,n}qre.parseObjectDef=rYr});var vEe=b(Ure=>{"use strict";Object.defineProperty(Ure,"__esModule",{value:!0});Ure.parseOptionalDef=void 0;var dMt=Lu(),nYr=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return(0,dMt.parseDef)(t.innerType._def,e);let r=(0,dMt.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};Ure.parseOptionalDef=nYr});var wEe=b(Hre=>{"use strict";Object.defineProperty(Hre,"__esModule",{value:!0});Hre.parsePipelineDef=void 0;var zre=Lu(),oYr=(t,e)=>{if(e.pipeStrategy==="input")return(0,zre.parseDef)(t.in._def,e);if(e.pipeStrategy==="output")return(0,zre.parseDef)(t.out._def,e);let r=(0,zre.parseDef)(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=(0,zre.parseDef)(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}};Hre.parsePipelineDef=oYr});var SEe=b(Vre=>{"use strict";Object.defineProperty(Vre,"__esModule",{value:!0});Vre.parsePromiseDef=void 0;var iYr=Lu();function aYr(t,e){return(0,iYr.parseDef)(t.type._def,e)}Vre.parsePromiseDef=aYr});var xEe=b(Wre=>{"use strict";Object.defineProperty(Wre,"__esModule",{value:!0});Wre.parseSetDef=void 0;var fMt=jT(),sYr=Lu();function uYr(t,e){let n={type:"array",uniqueItems:!0,items:(0,sYr.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&(0,fMt.setResponseValueAndErrors)(n,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&(0,fMt.setResponseValueAndErrors)(n,"maxItems",t.maxSize.value,t.maxSize.message,e),n}Wre.parseSetDef=uYr});var OEe=b(Jre=>{"use strict";Object.defineProperty(Jre,"__esModule",{value:!0});Jre.parseTupleDef=void 0;var CEe=Lu();function lYr(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>(0,CEe.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:(0,CEe.parseDef)(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>(0,CEe.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}Jre.parseTupleDef=lYr});var EEe=b(Gre=>{"use strict";Object.defineProperty(Gre,"__esModule",{value:!0});Gre.parseUndefinedDef=void 0;function cYr(){return{not:{}}}Gre.parseUndefinedDef=cYr});var PEe=b(Kre=>{"use strict";Object.defineProperty(Kre,"__esModule",{value:!0});Kre.parseUnknownDef=void 0;function dYr(){return{}}Kre.parseUnknownDef=dYr});var TEe=b(Yre=>{"use strict";Object.defineProperty(Yre,"__esModule",{value:!0});Yre.parseReadonlyDef=void 0;var fYr=Lu(),pYr=(t,e)=>(0,fYr.parseDef)(t.innerType._def,e);Yre.parseReadonlyDef=pYr});var Lu=b(Xre=>{"use strict";Object.defineProperty(Xre,"__esModule",{value:!0});Xre.parseDef=void 0;var ln=ge(),hYr=QOe(),mYr=eEe(),gYr=tEe(),yYr=rEe(),bYr=xre(),_Yr=nEe(),vYr=oEe(),wYr=iEe(),SYr=aEe(),xYr=sEe(),CYr=uEe(),OYr=lEe(),EYr=fEe(),PYr=pEe(),TYr=hEe(),MYr=mEe(),AYr=gEe(),RYr=yEe(),IYr=_Ee(),DYr=vEe(),jYr=wEe(),NYr=SEe(),LYr=Dre(),FYr=xEe(),BYr=Rre(),kYr=OEe(),$Yr=EEe(),qYr=Bre(),UYr=PEe(),zYr=TEe(),HYr=mre();function pMt(t,e,r=!1){let n=e.seen.get(t);if(e.override){let a=e.override?.(t,e,n,r);if(a!==HYr.ignoreOverride)return a}if(n&&!r){let a=VYr(n,e);if(a!==void 0)return a}let o={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,o);let i=JYr(t,t.typeName,e);return i&&GYr(t,e,i),o.jsonSchema=i,i}Xre.parseDef=pMt;var VYr=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:WYr(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,n)=>e.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},WYr=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},JYr=(t,e,r)=>{switch(e){case ln.ZodFirstPartyTypeKind.ZodString:return(0,BYr.parseStringDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodNumber:return(0,RYr.parseNumberDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodObject:return(0,IYr.parseObjectDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodBigInt:return(0,gYr.parseBigintDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodBoolean:return(0,yYr.parseBooleanDef)();case ln.ZodFirstPartyTypeKind.ZodDate:return(0,vYr.parseDateDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodUndefined:return(0,$Yr.parseUndefinedDef)();case ln.ZodFirstPartyTypeKind.ZodNull:return(0,MYr.parseNullDef)(r);case ln.ZodFirstPartyTypeKind.ZodArray:return(0,mYr.parseArrayDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodUnion:case ln.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,qYr.parseUnionDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodIntersection:return(0,CYr.parseIntersectionDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodTuple:return(0,kYr.parseTupleDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodRecord:return(0,LYr.parseRecordDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodLiteral:return(0,OYr.parseLiteralDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodEnum:return(0,xYr.parseEnumDef)(t);case ln.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,PYr.parseNativeEnumDef)(t);case ln.ZodFirstPartyTypeKind.ZodNullable:return(0,AYr.parseNullableDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodOptional:return(0,DYr.parseOptionalDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodMap:return(0,EYr.parseMapDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodSet:return(0,FYr.parseSetDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodLazy:return pMt(t.getter()._def,r);case ln.ZodFirstPartyTypeKind.ZodPromise:return(0,NYr.parsePromiseDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodNaN:case ln.ZodFirstPartyTypeKind.ZodNever:return(0,TYr.parseNeverDef)();case ln.ZodFirstPartyTypeKind.ZodEffects:return(0,SYr.parseEffectsDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodAny:return(0,hYr.parseAnyDef)();case ln.ZodFirstPartyTypeKind.ZodUnknown:return(0,UYr.parseUnknownDef)();case ln.ZodFirstPartyTypeKind.ZodDefault:return(0,wYr.parseDefaultDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodBranded:return(0,bYr.parseBrandedDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodReadonly:return(0,zYr.parseReadonlyDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodCatch:return(0,_Yr.parseCatchDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodPipeline:return(0,jYr.parsePipelineDef)(t,r);case ln.ZodFirstPartyTypeKind.ZodFunction:case ln.ZodFirstPartyTypeKind.ZodVoid:case ln.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(n=>{})(e)}},GYr=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r)});var MEe=b(Zre=>{"use strict";Object.defineProperty(Zre,"__esModule",{value:!0});Zre.zodToJsonSchema=void 0;var hMt=Lu(),KYr=ZOe(),YYr=(t,e)=>{let r=(0,KYr.getRefs)(e),n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[l,c])=>({...u,[l]:(0,hMt.parseDef)(c._def,{...r,currentPath:[...r.basePath,r.definitionPath,l]},!0)??{}}),{}):void 0,o=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=(0,hMt.parseDef)(t._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(i.title=a);let s=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};Zre.zodToJsonSchema=YYr});var mMt=b(Sr=>{"use strict";var XYr=Sr&&Sr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vn=Sr&&Sr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XYr(e,t,r)};Object.defineProperty(Sr,"__esModule",{value:!0});vn(mre(),Sr);vn(ZOe(),Sr);vn(jT(),Sr);vn(Lu(),Sr);vn(QOe(),Sr);vn(eEe(),Sr);vn(tEe(),Sr);vn(rEe(),Sr);vn(xre(),Sr);vn(nEe(),Sr);vn(oEe(),Sr);vn(iEe(),Sr);vn(aEe(),Sr);vn(sEe(),Sr);vn(uEe(),Sr);vn(lEe(),Sr);vn(fEe(),Sr);vn(pEe(),Sr);vn(hEe(),Sr);vn(mEe(),Sr);vn(gEe(),Sr);vn(yEe(),Sr);vn(_Ee(),Sr);vn(vEe(),Sr);vn(wEe(),Sr);vn(SEe(),Sr);vn(TEe(),Sr);vn(Dre(),Sr);vn(xEe(),Sr);vn(Rre(),Sr);vn(OEe(),Sr);vn(EEe(),Sr);vn(Bre(),Sr);vn(PEe(),Sr);vn(MEe(),Sr);var ZYr=MEe();Sr.default=ZYr.zodToJsonSchema});var yMt=b(S8=>{"use strict";Object.defineProperty(S8,"__esModule",{value:!0});S8.transformToChatCompletionRequest=eXr;S8.convertToParsedChatCompletionResponse=tXr;S8.responseFormatFromZodObject=gMt;var QYr=mMt();function eXr(t){let{responseFormat:e,...r}=t,n=gMt(e);return{...r,responseFormat:n}}function tXr(t,e){if(t.choices===void 0||t.choices.length===0)return{...t,choices:t.choices===void 0?void 0:[]};let r=[];for(let n of t.choices)n.message===null||typeof n.message>"u"?r.push({...n,message:void 0}):n.message.content!==null&&typeof n.message.content<"u"&&!Array.isArray(n.message.content)&&r.push({...n,message:{...n.message,parsed:e.safeParse(JSON.parse(n.message.content)).data}});return{...t,choices:r}}function gMt(t){return{type:"json_schema",jsonSchema:{name:"placeholderName",schemaDefinition:(0,QYr.zodToJsonSchema)(t),strict:!0}}}});var vMt=b(ene=>{"use strict";Object.defineProperty(ene,"__esModule",{value:!0});ene.Chat=void 0;var bMt=XTt(),_Mt=eMt(),rXr=Fp(),Qre=Yh(),AEe=yMt(),REe=class extends rXr.ClientSDK{async parse(e,r){let n=(0,AEe.transformToChatCompletionRequest)(e),o=await(0,Qre.unwrapAsync)((0,bMt.chatComplete)(this,n,r));return(0,AEe.convertToParsedChatCompletionResponse)(o,e.responseFormat)}async parseStream(e,r){let n=(0,AEe.transformToChatCompletionRequest)(e);return(0,Qre.unwrapAsync)((0,_Mt.chatStream)(this,n,r))}async complete(e,r){return(0,Qre.unwrapAsync)((0,bMt.chatComplete)(this,e,r))}async stream(e,r){return(0,Qre.unwrapAsync)((0,_Mt.chatStream)(this,e,r))}};ene.Chat=REe});var xMt=b(UC=>{"use strict";var nXr=UC&&UC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oXr=UC&&UC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IEe=UC&&UC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nXr(e,t,r);return oXr(e,t),e};Object.defineProperty(UC,"__esModule",{value:!0});UC.classifiersModerate=cXr;var iXr=vo(),x8=IEe(wo()),aXr=Ee(),sXr=de(),wMt=So(),uXr=Hn(),SMt=IEe(un()),lXr=IEe(kp());async function cXr(t,e,r){let n=(0,sXr.safeParse)(e,_=>SMt.ClassificationRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,iXr.encodeJSON)("body",o,{explode:!0}),a=(0,uXr.pathToFunc)("/v1/moderations")(),s=new Headers((0,aXr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,wMt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,wMt.resolveGlobalSecurity)(l),d={operationID:"moderations_v1_moderations_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await x8.match(x8.json(200,SMt.ClassificationResponse$inboundSchema),x8.jsonErr(422,lXr.HTTPValidationError$inboundSchema),x8.fail("4XX"),x8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var EMt=b(zC=>{"use strict";var dXr=zC&&zC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fXr=zC&&zC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DEe=zC&&zC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dXr(e,t,r);return fXr(e,t),e};Object.defineProperty(zC,"__esModule",{value:!0});zC.classifiersModerateChat=bXr;var pXr=vo(),C8=DEe(wo()),hXr=Ee(),mXr=de(),CMt=So(),gXr=Hn(),OMt=DEe(un()),yXr=DEe(kp());async function bXr(t,e,r){let n=(0,mXr.safeParse)(e,_=>OMt.ChatClassificationRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,pXr.encodeJSON)("body",o,{explode:!0}),a=(0,gXr.pathToFunc)("/v1/chat/moderations")(),s=new Headers((0,hXr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,CMt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,CMt.resolveGlobalSecurity)(l),d={operationID:"moderations_chat_v1_chat_moderations_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await C8.match(C8.json(200,OMt.ClassificationResponse$inboundSchema),C8.jsonErr(422,yXr.HTTPValidationError$inboundSchema),C8.fail("4XX"),C8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var TMt=b(tne=>{"use strict";Object.defineProperty(tne,"__esModule",{value:!0});tne.Classifiers=void 0;var _Xr=xMt(),vXr=EMt(),wXr=Fp(),PMt=Yh(),jEe=class extends wXr.ClientSDK{async moderate(e,r){return(0,PMt.unwrapAsync)((0,_Xr.classifiersModerate)(this,e,r))}async moderateChat(e,r){return(0,PMt.unwrapAsync)((0,vXr.classifiersModerateChat)(this,e,r))}};tne.Classifiers=jEe});var RMt=b(HC=>{"use strict";var SXr=HC&&HC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xXr=HC&&HC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NEe=HC&&HC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SXr(e,t,r);return xXr(e,t),e};Object.defineProperty(HC,"__esModule",{value:!0});HC.embeddingsCreate=MXr;var CXr=vo(),O8=NEe(wo()),OXr=Ee(),EXr=de(),MMt=So(),PXr=Hn(),AMt=NEe(un()),TXr=NEe(kp());async function MXr(t,e,r){let n=(0,EXr.safeParse)(e,_=>AMt.EmbeddingRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,CXr.encodeJSON)("body",o,{explode:!0}),a=(0,PXr.pathToFunc)("/v1/embeddings")(),s=new Headers((0,OXr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,MMt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,MMt.resolveGlobalSecurity)(l),d={operationID:"embeddings_v1_embeddings_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await O8.match(O8.json(200,AMt.EmbeddingResponse$inboundSchema),O8.jsonErr(422,TXr.HTTPValidationError$inboundSchema),O8.fail("4XX"),O8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var IMt=b(rne=>{"use strict";Object.defineProperty(rne,"__esModule",{value:!0});rne.Embeddings=void 0;var AXr=RMt(),RXr=Fp(),IXr=Yh(),LEe=class extends RXr.ClientSDK{async create(e,r){return(0,IXr.unwrapAsync)((0,AXr.embeddingsCreate)(this,e,r))}};rne.Embeddings=LEe});var jMt=b(VC=>{"use strict";var DXr=VC&&VC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jXr=VC&&VC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FEe=VC&&VC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DXr(e,t,r);return jXr(e,t),e};Object.defineProperty(VC,"__esModule",{value:!0});VC.filesDelete=qXr;var NXr=vo(),nne=FEe(wo()),LXr=Ee(),FXr=de(),DMt=So(),BXr=Hn(),kXr=FEe(un()),$Xr=FEe(Nu());async function qXr(t,e,r){let n=(0,FXr.safeParse)(e,_=>$Xr.FilesApiRoutesDeleteFileRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,NXr.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,BXr.pathToFunc)("/v1/files/{file_id}")(a),u=new Headers((0,LXr.compactMap)({Accept:"application/json"})),l=await(0,DMt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,DMt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_delete_file",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"DELETE",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await nne.match(nne.json(200,kXr.DeleteFileOut$inboundSchema),nne.fail("4XX"),nne.fail("5XX"))(v);return g.ok,g}});var LMt=b(WC=>{"use strict";var UXr=WC&&WC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zXr=WC&&WC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BEe=WC&&WC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UXr(e,t,r);return zXr(e,t),e};Object.defineProperty(WC,"__esModule",{value:!0});WC.filesDownload=YXr;var HXr=BEe(ge()),VXr=vo(),one=BEe(wo()),WXr=Ee(),JXr=de(),NMt=So(),GXr=Hn(),KXr=BEe(Nu());async function YXr(t,e,r){let n=(0,JXr.safeParse)(e,_=>KXr.FilesApiRoutesDownloadFileRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,VXr.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,GXr.pathToFunc)("/v1/files/{file_id}/content")(a),u=new Headers((0,WXr.compactMap)({Accept:"application/octet-stream"})),l=await(0,NMt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,NMt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_download_file",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await one.match(one.stream(200,HXr.instanceof(ReadableStream)),one.fail("4XX"),one.fail("5XX"))(v);return g.ok,g}});var kMt=b(JC=>{"use strict";var XXr=JC&&JC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZXr=JC&&JC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kEe=JC&&JC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XXr(e,t,r);return ZXr(e,t),e};Object.defineProperty(JC,"__esModule",{value:!0});JC.filesGetSignedUrl=oZr;var FMt=vo(),ine=kEe(wo()),QXr=Ee(),eZr=de(),BMt=So(),tZr=Hn(),rZr=kEe(un()),nZr=kEe(Nu());async function oZr(t,e,r){let n=(0,eZr.safeParse)(e,S=>nZr.FilesApiRoutesGetSignedUrlRequest$outboundSchema.parse(S),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,FMt.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,tZr.pathToFunc)("/v1/files/{file_id}/url")(a),u=(0,FMt.encodeFormQuery)({expiry:o.expiry}),l=new Headers((0,QXr.compactMap)({Accept:"application/json"})),c=await(0,BMt.extractSecurity)(t._options.apiKey),d=c==null?{}:{apiKey:c},f=(0,BMt.resolveGlobalSecurity)(d),p={operationID:"files_api_routes_get_signed_url",oAuth2Scopes:[],resolvedSecurity:f,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},m=t._createRequest(p,{security:f,method:"GET",baseURL:r?.serverURL,path:s,headers:l,query:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!m.ok)return m;let h=m.value,v=await t._do(h,{context:p,errorCodes:["4XX","5XX"],retryConfig:p.retryConfig,retryCodes:p.retryCodes});if(!v.ok)return v;let g=v.value,[_]=await ine.match(ine.json(200,rZr.FileSignedURL$inboundSchema),ine.fail("4XX"),ine.fail("5XX"))(g);return _.ok,_}});var qMt=b(GC=>{"use strict";var iZr=GC&&GC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aZr=GC&&GC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Ee=GC&&GC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iZr(e,t,r);return aZr(e,t),e};Object.defineProperty(GC,"__esModule",{value:!0});GC.filesList=pZr;var sZr=vo(),ane=$Ee(wo()),uZr=Ee(),lZr=de(),$Mt=So(),cZr=Hn(),dZr=$Ee(un()),fZr=$Ee(Nu());async function pZr(t,e,r){let n=(0,lZr.safeParse)(e,_=>fZr.FilesApiRoutesListFilesRequest$outboundSchema.optional().parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a=(0,cZr.pathToFunc)("/v1/files")(),s=(0,sZr.encodeFormQuery)({page:o?.page,page_size:o?.page_size,purpose:o?.purpose,sample_type:o?.sample_type,search:o?.search,source:o?.source}),u=new Headers((0,uZr.compactMap)({Accept:"application/json"})),l=await(0,$Mt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,$Mt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_list_files",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:a,headers:u,query:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await ane.match(ane.json(200,dZr.ListFilesOut$inboundSchema),ane.fail("4XX"),ane.fail("5XX"))(v);return g.ok,g}});var zMt=b(KC=>{"use strict";var hZr=KC&&KC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mZr=KC&&KC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qEe=KC&&KC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hZr(e,t,r);return mZr(e,t),e};Object.defineProperty(KC,"__esModule",{value:!0});KC.filesRetrieve=SZr;var gZr=vo(),sne=qEe(wo()),yZr=Ee(),bZr=de(),UMt=So(),_Zr=Hn(),vZr=qEe(un()),wZr=qEe(Nu());async function SZr(t,e,r){let n=(0,bZr.safeParse)(e,_=>wZr.FilesApiRoutesRetrieveFileRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={file_id:(0,gZr.encodeSimple)("file_id",o.file_id,{explode:!1,charEncoding:"percent"})},s=(0,_Zr.pathToFunc)("/v1/files/{file_id}")(a),u=new Headers((0,yZr.compactMap)({Accept:"application/json"})),l=await(0,UMt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,UMt.resolveGlobalSecurity)(c),f={operationID:"files_api_routes_retrieve_file",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await sne.match(sne.json(200,vZr.RetrieveFileOut$inboundSchema),sne.fail("4XX"),sne.fail("5XX"))(v);return g.ok,g}});var HMt=b(UEe=>{"use strict";Object.defineProperty(UEe,"__esModule",{value:!0});UEe.isReadableStream=xZr;function xZr(t){if(typeof t!="object"||t===null)return!1;let e=t;return typeof e.getReader=="function"&&typeof e.cancel=="function"&&typeof e.tee=="function"}});var WMt=b(YC=>{"use strict";var CZr=YC&&YC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OZr=YC&&YC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zEe=YC&&YC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CZr(e,t,r);return OZr(e,t),e};Object.defineProperty(YC,"__esModule",{value:!0});YC.filesUpload=jZr;var une=vo(),EZr=PCe(),lne=zEe(wo()),PZr=Ee(),TZr=de(),VMt=So(),MZr=Hn(),AZr=zEe(un()),RZr=zEe(Nu()),IZr=VOe(),DZr=HMt();async function jZr(t,e,r){let n=(0,TZr.safeParse)(e,g=>RZr.FilesApiRoutesUploadFileMultiPartBodyParams$outboundSchema.parse(g),"Input validation failed");if(!n.ok)return n;let o=n.value,i=new FormData;if((0,IZr.isBlobLike)(o.file))(0,une.appendForm)(i,"file",o.file);else if((0,DZr.isReadableStream)(o.file.content)){let g=await(0,EZr.readableStreamToArrayBuffer)(o.file.content),_=new Blob([g],{type:"application/octet-stream"});(0,une.appendForm)(i,"file",_)}else(0,une.appendForm)(i,"file",new Blob([o.file.content],{type:"application/octet-stream"}),o.file.fileName);o.purpose!==void 0&&(0,une.appendForm)(i,"purpose",o.purpose);let a=(0,MZr.pathToFunc)("/v1/files")(),s=new Headers((0,PZr.compactMap)({Accept:"application/json"})),u=await(0,VMt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,VMt.resolveGlobalSecurity)(l),d={operationID:"files_api_routes_upload_file",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,[v]=await lne.match(lne.json(200,AZr.UploadFileOut$inboundSchema),lne.fail("4XX"),lne.fail("5XX"))(h);return v.ok,v}});var JMt=b(cne=>{"use strict";Object.defineProperty(cne,"__esModule",{value:!0});cne.Files=void 0;var NZr=jMt(),LZr=LMt(),FZr=kMt(),BZr=qMt(),kZr=zMt(),$Zr=WMt(),qZr=Fp(),Fk=Yh(),HEe=class extends qZr.ClientSDK{async upload(e,r){return(0,Fk.unwrapAsync)((0,$Zr.filesUpload)(this,e,r))}async list(e,r){return(0,Fk.unwrapAsync)((0,BZr.filesList)(this,e,r))}async retrieve(e,r){return(0,Fk.unwrapAsync)((0,kZr.filesRetrieve)(this,e,r))}async delete(e,r){return(0,Fk.unwrapAsync)((0,NZr.filesDelete)(this,e,r))}async download(e,r){return(0,Fk.unwrapAsync)((0,LZr.filesDownload)(this,e,r))}async getSignedUrl(e,r){return(0,Fk.unwrapAsync)((0,FZr.filesGetSignedUrl)(this,e,r))}};cne.Files=HEe});var YMt=b(XC=>{"use strict";var UZr=XC&&XC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zZr=XC&&XC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VEe=XC&&XC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UZr(e,t,r);return zZr(e,t),e};Object.defineProperty(XC,"__esModule",{value:!0});XC.fimComplete=KZr;var HZr=vo(),E8=VEe(wo()),VZr=Ee(),WZr=de(),GMt=So(),JZr=Hn(),KMt=VEe(un()),GZr=VEe(kp());async function KZr(t,e,r){let n=(0,WZr.safeParse)(e,_=>KMt.FIMCompletionRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,HZr.encodeJSON)("body",o,{explode:!0}),a=(0,JZr.pathToFunc)("/v1/fim/completions")(),s=new Headers((0,VZr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,GMt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,GMt.resolveGlobalSecurity)(l),d={operationID:"fim_completion_v1_fim_completions_post",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await E8.match(E8.json(200,KMt.FIMCompletionResponse$inboundSchema),E8.jsonErr(422,GZr.HTTPValidationError$inboundSchema),E8.fail("4XX"),E8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var QMt=b(ZC=>{"use strict";var YZr=ZC&&ZC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XZr=ZC&&ZC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dne=ZC&&ZC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YZr(e,t,r);return XZr(e,t),e};Object.defineProperty(ZC,"__esModule",{value:!0});ZC.fimStream=iQr;var ZZr=dne(ge()),QZr=vo(),eQr=s8(),P8=dne(wo()),tQr=Ee(),rQr=de(),XMt=So(),nQr=Hn(),ZMt=dne(un()),oQr=dne(kp());async function iQr(t,e,r){let n=(0,rQr.safeParse)(e,_=>ZMt.FIMCompletionStreamRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,QZr.encodeJSON)("body",o,{explode:!0}),a=(0,nQr.pathToFunc)("/v1/fim/completions#stream")(),s=new Headers((0,tQr.compactMap)({"Content-Type":"application/json",Accept:"text/event-stream"})),u=await(0,XMt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,XMt.resolveGlobalSecurity)(l),d={operationID:"stream_fim",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["422","4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,v={HttpMeta:{Response:h,Request:p}},[g]=await P8.match(P8.sse(200,ZZr.instanceof(ReadableStream).transform(_=>new eQr.EventStream({stream:_,decoder(S){return ZMt.CompletionEvent$inboundSchema.parse(S)}})),{sseSentinel:"[DONE]"}),P8.jsonErr(422,oQr.HTTPValidationError$inboundSchema),P8.fail("4XX"),P8.fail("5XX"))(h,{extraFields:v});return g.ok,g}});var tAt=b(fne=>{"use strict";Object.defineProperty(fne,"__esModule",{value:!0});fne.Fim=void 0;var aQr=YMt(),sQr=QMt(),uQr=Fp(),eAt=Yh(),WEe=class extends uQr.ClientSDK{async complete(e,r){return(0,eAt.unwrapAsync)((0,aQr.fimComplete)(this,e,r))}async stream(e,r){return(0,eAt.unwrapAsync)((0,sQr.fimStream)(this,e,r))}};fne.Fim=WEe});var nAt=b(QC=>{"use strict";var lQr=QC&&QC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cQr=QC&&QC.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JEe=QC&&QC.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lQr(e,t,r);return cQr(e,t),e};Object.defineProperty(QC,"__esModule",{value:!0});QC.fineTuningJobsCancel=yQr;var dQr=vo(),pne=JEe(wo()),fQr=Ee(),pQr=de(),rAt=So(),hQr=Hn(),mQr=JEe(un()),gQr=JEe(Nu());async function yQr(t,e,r){let n=(0,pQr.safeParse)(e,_=>gQr.JobsApiRoutesFineTuningCancelFineTuningJobRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,dQr.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,hQr.pathToFunc)("/v1/fine_tuning/jobs/{job_id}/cancel")(a),u=new Headers((0,fQr.compactMap)({Accept:"application/json"})),l=await(0,rAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,rAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_cancel_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await pne.match(pne.json(200,mQr.DetailedJobOut$inboundSchema),pne.fail("4XX"),pne.fail("5XX"))(v);return g.ok,g}});var iAt=b(eO=>{"use strict";var bQr=eO&&eO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Qr=eO&&eO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GEe=eO&&eO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bQr(e,t,r);return _Qr(e,t),e};Object.defineProperty(eO,"__esModule",{value:!0});eO.fineTuningJobsCreate=EQr;var vQr=vo(),hne=GEe(wo()),wQr=Ee(),SQr=de(),oAt=So(),xQr=Hn(),CQr=GEe(un()),OQr=GEe(Nu());async function EQr(t,e,r){let n=(0,SQr.safeParse)(e,g=>CQr.JobIn$outboundSchema.parse(g),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,vQr.encodeJSON)("body",o,{explode:!0}),a=(0,xQr.pathToFunc)("/v1/fine_tuning/jobs")(),s=new Headers((0,wQr.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),u=await(0,oAt.extractSecurity)(t._options.apiKey),l=u==null?{}:{apiKey:u},c=(0,oAt.resolveGlobalSecurity)(l),d={operationID:"jobs_api_routes_fine_tuning_create_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:c,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},f=t._createRequest(d,{security:c,method:"POST",baseURL:r?.serverURL,path:a,headers:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!f.ok)return f;let p=f.value,m=await t._do(p,{context:d,errorCodes:["4XX","5XX"],retryConfig:d.retryConfig,retryCodes:d.retryCodes});if(!m.ok)return m;let h=m.value,[v]=await hne.match(hne.json(200,OQr.JobsApiRoutesFineTuningCreateFineTuningJobResponse$inboundSchema),hne.fail("4XX"),hne.fail("5XX"))(h);return v.ok,v}});var sAt=b(tO=>{"use strict";var PQr=tO&&tO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TQr=tO&&tO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KEe=tO&&tO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PQr(e,t,r);return TQr(e,t),e};Object.defineProperty(tO,"__esModule",{value:!0});tO.fineTuningJobsGet=NQr;var MQr=vo(),mne=KEe(wo()),AQr=Ee(),RQr=de(),aAt=So(),IQr=Hn(),DQr=KEe(un()),jQr=KEe(Nu());async function NQr(t,e,r){let n=(0,RQr.safeParse)(e,_=>jQr.JobsApiRoutesFineTuningGetFineTuningJobRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,MQr.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,IQr.pathToFunc)("/v1/fine_tuning/jobs/{job_id}")(a),u=new Headers((0,AQr.compactMap)({Accept:"application/json"})),l=await(0,aAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,aAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_get_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await mne.match(mne.json(200,DQr.DetailedJobOut$inboundSchema),mne.fail("4XX"),mne.fail("5XX"))(v);return g.ok,g}});var lAt=b(rO=>{"use strict";var LQr=rO&&rO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FQr=rO&&rO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YEe=rO&&rO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LQr(e,t,r);return FQr(e,t),e};Object.defineProperty(rO,"__esModule",{value:!0});rO.fineTuningJobsList=HQr;var BQr=vo(),gne=YEe(wo()),kQr=Ee(),$Qr=de(),uAt=So(),qQr=Hn(),UQr=YEe(un()),zQr=YEe(Nu());async function HQr(t,e,r){let n=(0,$Qr.safeParse)(e,_=>zQr.JobsApiRoutesFineTuningGetFineTuningJobsRequest$outboundSchema.optional().parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a=(0,qQr.pathToFunc)("/v1/fine_tuning/jobs")(),s=(0,BQr.encodeFormQuery)({created_after:o?.created_after,created_by_me:o?.created_by_me,model:o?.model,page:o?.page,page_size:o?.page_size,status:o?.status,suffix:o?.suffix,wandb_name:o?.wandb_name,wandb_project:o?.wandb_project}),u=new Headers((0,kQr.compactMap)({Accept:"application/json"})),l=await(0,uAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,uAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_get_fine_tuning_jobs",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:a,headers:u,query:s,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await gne.match(gne.json(200,UQr.JobsOut$inboundSchema),gne.fail("4XX"),gne.fail("5XX"))(v);return g.ok,g}});var dAt=b(nO=>{"use strict";var VQr=nO&&nO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WQr=nO&&nO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XEe=nO&&nO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VQr(e,t,r);return WQr(e,t),e};Object.defineProperty(nO,"__esModule",{value:!0});nO.fineTuningJobsStart=QQr;var JQr=vo(),yne=XEe(wo()),GQr=Ee(),KQr=de(),cAt=So(),YQr=Hn(),XQr=XEe(un()),ZQr=XEe(Nu());async function QQr(t,e,r){let n=(0,KQr.safeParse)(e,_=>ZQr.JobsApiRoutesFineTuningStartFineTuningJobRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={job_id:(0,JQr.encodeSimple)("job_id",o.job_id,{explode:!1,charEncoding:"percent"})},s=(0,YQr.pathToFunc)("/v1/fine_tuning/jobs/{job_id}/start")(a),u=new Headers((0,GQr.compactMap)({Accept:"application/json"})),l=await(0,cAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,cAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_start_fine_tuning_job",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await yne.match(yne.json(200,XQr.DetailedJobOut$inboundSchema),yne.fail("4XX"),yne.fail("5XX"))(v);return g.ok,g}});var fAt=b(bne=>{"use strict";Object.defineProperty(bne,"__esModule",{value:!0});bne.Jobs=void 0;var een=nAt(),ten=iAt(),ren=sAt(),nen=lAt(),oen=dAt(),ien=Fp(),T8=Yh(),ZEe=class extends ien.ClientSDK{async list(e,r){return(0,T8.unwrapAsync)((0,nen.fineTuningJobsList)(this,e,r))}async create(e,r){return(0,T8.unwrapAsync)((0,ten.fineTuningJobsCreate)(this,e,r))}async get(e,r){return(0,T8.unwrapAsync)((0,ren.fineTuningJobsGet)(this,e,r))}async cancel(e,r){return(0,T8.unwrapAsync)((0,een.fineTuningJobsCancel)(this,e,r))}async start(e,r){return(0,T8.unwrapAsync)((0,oen.fineTuningJobsStart)(this,e,r))}};bne.Jobs=ZEe});var pAt=b(_ne=>{"use strict";Object.defineProperty(_ne,"__esModule",{value:!0});_ne.FineTuning=void 0;var aen=Fp(),sen=fAt(),QEe=class extends aen.ClientSDK{get jobs(){return this._jobs??(this._jobs=new sen.Jobs(this._options))}};_ne.FineTuning=QEe});var mAt=b(oO=>{"use strict";var uen=oO&&oO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),len=oO&&oO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ePe=oO&&oO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uen(e,t,r);return len(e,t),e};Object.defineProperty(oO,"__esModule",{value:!0});oO.modelsArchive=gen;var cen=vo(),vne=ePe(wo()),den=Ee(),fen=de(),hAt=So(),pen=Hn(),hen=ePe(un()),men=ePe(Nu());async function gen(t,e,r){let n=(0,fen.safeParse)(e,_=>men.JobsApiRoutesFineTuningArchiveFineTunedModelRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,cen.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,pen.pathToFunc)("/v1/fine_tuning/models/{model_id}/archive")(a),u=new Headers((0,den.compactMap)({Accept:"application/json"})),l=await(0,hAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,hAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_archive_fine_tuned_model",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"POST",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await vne.match(vne.json(200,hen.ArchiveFTModelOut$inboundSchema),vne.fail("4XX"),vne.fail("5XX"))(v);return g.ok,g}});var yAt=b(iO=>{"use strict";var yen=iO&&iO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ben=iO&&iO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wne=iO&&iO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yen(e,t,r);return ben(e,t),e};Object.defineProperty(iO,"__esModule",{value:!0});iO.modelsDelete=Een;var _en=vo(),M8=wne(wo()),ven=Ee(),wen=de(),gAt=So(),Sen=Hn(),xen=wne(un()),Cen=wne(kp()),Oen=wne(Nu());async function Een(t,e,r){let n=(0,wen.safeParse)(e,S=>Oen.DeleteModelV1ModelsModelIdDeleteRequest$outboundSchema.parse(S),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,_en.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,Sen.pathToFunc)("/v1/models/{model_id}")(a),u=new Headers((0,ven.compactMap)({Accept:"application/json"})),l=await(0,gAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,gAt.resolveGlobalSecurity)(c),f={operationID:"delete_model_v1_models__model_id__delete",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"DELETE",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["422","4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,g={HttpMeta:{Response:v,Request:m}},[_]=await M8.match(M8.json(200,xen.DeleteModelOut$inboundSchema),M8.jsonErr(422,Cen.HTTPValidationError$inboundSchema),M8.fail("4XX"),M8.fail("5XX"))(v,{extraFields:g});return _.ok,_}});var _At=b(aO=>{"use strict";var Pen=aO&&aO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ten=aO&&aO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tPe=aO&&aO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pen(e,t,r);return Ten(e,t),e};Object.defineProperty(aO,"__esModule",{value:!0});aO.modelsList=Den;var A8=tPe(wo()),Men=Ee(),bAt=So(),Aen=Hn(),Ren=tPe(un()),Ien=tPe(kp());async function Den(t,e){let r=(0,Aen.pathToFunc)("/v1/models")(),n=new Headers((0,Men.compactMap)({Accept:"application/json"})),o=await(0,bAt.extractSecurity)(t._options.apiKey),i=o==null?{}:{apiKey:o},a=(0,bAt.resolveGlobalSecurity)(i),s={operationID:"list_models_v1_models_get",oAuth2Scopes:[],resolvedSecurity:a,securitySource:t._options.apiKey,retryConfig:e?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:e?.retryCodes||["429","500","502","503","504"]},u=t._createRequest(s,{security:a,method:"GET",baseURL:e?.serverURL,path:r,headers:n,timeoutMs:e?.timeoutMs||t._options.timeoutMs||-1},e);if(!u.ok)return u;let l=u.value,c=await t._do(l,{context:s,errorCodes:["422","4XX","5XX"],retryConfig:s.retryConfig,retryCodes:s.retryCodes});if(!c.ok)return c;let d=c.value,f={HttpMeta:{Response:d,Request:l}},[p]=await A8.match(A8.json(200,Ren.ModelList$inboundSchema),A8.jsonErr(422,Ien.HTTPValidationError$inboundSchema),A8.fail("4XX"),A8.fail("5XX"))(d,{extraFields:f});return p.ok,p}});var SAt=b(sO=>{"use strict";var jen=sO&&sO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nen=sO&&sO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rPe=sO&&sO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jen(e,t,r);return Nen(e,t),e};Object.defineProperty(sO,"__esModule",{value:!0});sO.modelsRetrieve=qen;var Len=vo(),R8=rPe(wo()),Fen=Ee(),Ben=de(),vAt=So(),ken=Hn(),$en=rPe(kp()),wAt=rPe(Nu());async function qen(t,e,r){let n=(0,Ben.safeParse)(e,S=>wAt.RetrieveModelV1ModelsModelIdGetRequest$outboundSchema.parse(S),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,Len.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,ken.pathToFunc)("/v1/models/{model_id}")(a),u=new Headers((0,Fen.compactMap)({Accept:"application/json"})),l=await(0,vAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,vAt.resolveGlobalSecurity)(c),f={operationID:"retrieve_model_v1_models__model_id__get",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"GET",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["422","4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,g={HttpMeta:{Response:v,Request:m}},[_]=await R8.match(R8.json(200,wAt.RetrieveModelV1ModelsModelIdGetResponseRetrieveModelV1ModelsModelIdGet$inboundSchema),R8.jsonErr(422,$en.HTTPValidationError$inboundSchema),R8.fail("4XX"),R8.fail("5XX"))(v,{extraFields:g});return _.ok,_}});var CAt=b(uO=>{"use strict";var Uen=uO&&uO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zen=uO&&uO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nPe=uO&&uO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Uen(e,t,r);return zen(e,t),e};Object.defineProperty(uO,"__esModule",{value:!0});uO.modelsUnarchive=Yen;var Hen=vo(),Sne=nPe(wo()),Ven=Ee(),Wen=de(),xAt=So(),Jen=Hn(),Gen=nPe(un()),Ken=nPe(Nu());async function Yen(t,e,r){let n=(0,Wen.safeParse)(e,_=>Ken.JobsApiRoutesFineTuningUnarchiveFineTunedModelRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=null,a={model_id:(0,Hen.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,Jen.pathToFunc)("/v1/fine_tuning/models/{model_id}/archive")(a),u=new Headers((0,Ven.compactMap)({Accept:"application/json"})),l=await(0,xAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,xAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_unarchive_fine_tuned_model",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"DELETE",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await Sne.match(Sne.json(200,Gen.UnarchiveFTModelOut$inboundSchema),Sne.fail("4XX"),Sne.fail("5XX"))(v);return g.ok,g}});var PAt=b(lO=>{"use strict";var Xen=lO&&lO.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zen=lO&&lO.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oPe=lO&&lO.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xen(e,t,r);return Zen(e,t),e};Object.defineProperty(lO,"__esModule",{value:!0});lO.modelsUpdate=otn;var OAt=vo(),xne=oPe(wo()),Qen=Ee(),etn=de(),EAt=So(),ttn=Hn(),rtn=oPe(un()),ntn=oPe(Nu());async function otn(t,e,r){let n=(0,etn.safeParse)(e,_=>ntn.JobsApiRoutesFineTuningUpdateFineTunedModelRequest$outboundSchema.parse(_),"Input validation failed");if(!n.ok)return n;let o=n.value,i=(0,OAt.encodeJSON)("body",o.UpdateFTModelIn,{explode:!0}),a={model_id:(0,OAt.encodeSimple)("model_id",o.model_id,{explode:!1,charEncoding:"percent"})},s=(0,ttn.pathToFunc)("/v1/fine_tuning/models/{model_id}")(a),u=new Headers((0,Qen.compactMap)({"Content-Type":"application/json",Accept:"application/json"})),l=await(0,EAt.extractSecurity)(t._options.apiKey),c=l==null?{}:{apiKey:l},d=(0,EAt.resolveGlobalSecurity)(c),f={operationID:"jobs_api_routes_fine_tuning_update_fine_tuned_model",oAuth2Scopes:[],resolvedSecurity:d,securitySource:t._options.apiKey,retryConfig:r?.retries||t._options.retryConfig||{strategy:"none"},retryCodes:r?.retryCodes||["429","500","502","503","504"]},p=t._createRequest(f,{security:d,method:"PATCH",baseURL:r?.serverURL,path:s,headers:u,body:i,timeoutMs:r?.timeoutMs||t._options.timeoutMs||-1},r);if(!p.ok)return p;let m=p.value,h=await t._do(m,{context:f,errorCodes:["4XX","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!h.ok)return h;let v=h.value,[g]=await xne.match(xne.json(200,rtn.FTModelOut$inboundSchema),xne.fail("4XX"),xne.fail("5XX"))(v);return g.ok,g}});var TAt=b(Cne=>{"use strict";Object.defineProperty(Cne,"__esModule",{value:!0});Cne.Models=void 0;var itn=mAt(),atn=yAt(),stn=_At(),utn=SAt(),ltn=CAt(),ctn=PAt(),dtn=Fp(),Bk=Yh(),iPe=class extends dtn.ClientSDK{async list(e){return(0,Bk.unwrapAsync)((0,stn.modelsList)(this,e))}async retrieve(e,r){return(0,Bk.unwrapAsync)((0,utn.modelsRetrieve)(this,e,r))}async delete(e,r){return(0,Bk.unwrapAsync)((0,atn.modelsDelete)(this,e,r))}async update(e,r){return(0,Bk.unwrapAsync)((0,ctn.modelsUpdate)(this,e,r))}async archive(e,r){return(0,Bk.unwrapAsync)((0,itn.modelsArchive)(this,e,r))}async unarchive(e,r){return(0,Bk.unwrapAsync)((0,ltn.modelsUnarchive)(this,e,r))}};Cne.Models=iPe});var MAt=b(One=>{"use strict";Object.defineProperty(One,"__esModule",{value:!0});One.Mistral=void 0;var ftn=Fp(),ptn=_Pt(),htn=GTt(),mtn=vMt(),gtn=TMt(),ytn=IMt(),btn=JMt(),_tn=tAt(),vtn=pAt(),wtn=TAt(),aPe=class extends ftn.ClientSDK{get models(){return this._models??(this._models=new wtn.Models(this._options))}get files(){return this._files??(this._files=new btn.Files(this._options))}get fineTuning(){return this._fineTuning??(this._fineTuning=new vtn.FineTuning(this._options))}get batch(){return this._batch??(this._batch=new htn.Batch(this._options))}get chat(){return this._chat??(this._chat=new mtn.Chat(this._options))}get fim(){return this._fim??(this._fim=new _tn.Fim(this._options))}get agents(){return this._agents??(this._agents=new ptn.Agents(this._options))}get embeddings(){return this._embeddings??(this._embeddings=new ytn.Embeddings(this._options))}get classifiers(){return this._classifiers??(this._classifiers=new gtn.Classifiers(this._options))}};One.Mistral=aPe});var IAt=b(Vf=>{"use strict";var AAt=Vf&&Vf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Stn=Vf&&Vf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RAt=Vf&&Vf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&AAt(e,t,r)},xtn=Vf&&Vf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AAt(e,t,r);return Stn(e,t),e};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.files=void 0;RAt(Oee(),Vf);Vf.files=xtn(PCe());RAt(MAt(),Vf)});var $At=b((fPe,pPe)=>{(function(t,e){typeof fPe=="object"&&typeof pPe<"u"?pPe.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_quarterOfYear=e()})(fPe,function(){"use strict";var t="month",e="quarter";return function(r,n){var o=n.prototype;o.quarter=function(s){return this.$utils().u(s)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(s-1))};var i=o.add;o.add=function(s,u){return s=Number(s),this.$utils().p(u)===e?this.add(3*s,t):i.bind(this)(s,u)};var a=o.startOf;o.startOf=function(s,u){var l=this.$utils(),c=!!l.u(u)||u;if(l.p(s)===e){var d=this.quarter()-1;return c?this.month(3*d).startOf(t).startOf("day"):this.month(3*d+2).endOf(t).endOf("day")}return a.bind(this)(s,u)}}})});var BT=b((hPe,mPe)=>{(function(t,e){typeof hPe=="object"&&typeof mPe<"u"?mPe.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(hPe,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",i="minute",a="hour",s="day",u="week",l="month",c="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var B=["th","st","nd","rd"],L=F%100;return"["+F+(B[(L-20)%10]||B[L]||B[0])+"]"}},g=function(F,B,L){var q=String(F);return!q||q.length>=B?F:""+Array(B+1-q.length).join(L)+F},_={s:g,z:function(F){var B=-F.utcOffset(),L=Math.abs(B),q=Math.floor(L/60),U=L%60;return(B<=0?"+":"-")+g(q,2,"0")+":"+g(U,2,"0")},m:function F(B,L){if(B.date()<L.date())return-F(L,B);var q=12*(L.year()-B.year())+(L.month()-B.month()),U=B.clone().add(q,l),J=L-U<0,H=B.clone().add(q+(J?-1:1),l);return+(-(q+(L-U)/(J?U-H:H-U))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:l,y:d,w:u,d:s,D:f,h:a,m:i,s:o,ms:n,Q:c}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},S="en",x={};x[S]=v;var O="$isDayjsObject",T=function(F){return F instanceof N||!(!F||!F[O])},E=function F(B,L,q){var U;if(!B)return S;if(typeof B=="string"){var J=B.toLowerCase();x[J]&&(U=J),L&&(x[J]=L,U=J);var H=B.split("-");if(!U&&H.length>1)return F(H[0])}else{var I=B.name;x[I]=B,U=I}return!q&&U&&(S=U),U||!q&&S},M=function(F,B){if(T(F))return F.clone();var L=typeof B=="object"?B:{};return L.date=F,L.args=arguments,new N(L)},R=_;R.l=E,R.i=T,R.w=function(F,B){return M(F,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var N=function(){function F(L){this.$L=E(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[O]=!0}var B=F.prototype;return B.parse=function(L){this.$d=function(q){var U=q.date,J=q.utc;if(U===null)return new Date(NaN);if(R.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var H=U.match(m);if(H){var I=H[2]-1||0,V=(H[7]||"0").substring(0,3);return J?new Date(Date.UTC(H[1],I,H[3]||1,H[4]||0,H[5]||0,H[6]||0,V)):new Date(H[1],I,H[3]||1,H[4]||0,H[5]||0,H[6]||0,V)}}return new Date(U)}(L),this.init()},B.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},B.$utils=function(){return R},B.isValid=function(){return this.$d.toString()!==p},B.isSame=function(L,q){var U=M(L);return this.startOf(q)<=U&&U<=this.endOf(q)},B.isAfter=function(L,q){return M(L)<this.startOf(q)},B.isBefore=function(L,q){return this.endOf(q)<M(L)},B.$g=function(L,q,U){return R.u(L)?this[q]:this.set(U,L)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(L,q){var U=this,J=!!R.u(q)||q,H=R.p(L),I=function(le,Ae){var mt=R.w(U.$u?Date.UTC(U.$y,Ae,le):new Date(U.$y,Ae,le),U);return J?mt:mt.endOf(s)},V=function(le,Ae){return R.w(U.toDate()[le].apply(U.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(Ae)),U)},W=this.$W,K=this.$M,ne=this.$D,Be="set"+(this.$u?"UTC":"");switch(H){case d:return J?I(1,0):I(31,11);case l:return J?I(1,K):I(0,K+1);case u:var X=this.$locale().weekStart||0,Q=(W<X?W+7:W)-X;return I(J?ne-Q:ne+(6-Q),K);case s:case f:return V(Be+"Hours",0);case a:return V(Be+"Minutes",1);case i:return V(Be+"Seconds",2);case o:return V(Be+"Milliseconds",3);default:return this.clone()}},B.endOf=function(L){return this.startOf(L,!1)},B.$set=function(L,q){var U,J=R.p(L),H="set"+(this.$u?"UTC":""),I=(U={},U[s]=H+"Date",U[f]=H+"Date",U[l]=H+"Month",U[d]=H+"FullYear",U[a]=H+"Hours",U[i]=H+"Minutes",U[o]=H+"Seconds",U[n]=H+"Milliseconds",U)[J],V=J===s?this.$D+(q-this.$W):q;if(J===l||J===d){var W=this.clone().set(f,1);W.$d[I](V),W.init(),this.$d=W.set(f,Math.min(this.$D,W.daysInMonth())).$d}else I&&this.$d[I](V);return this.init(),this},B.set=function(L,q){return this.clone().$set(L,q)},B.get=function(L){return this[R.p(L)]()},B.add=function(L,q){var U,J=this;L=Number(L);var H=R.p(q),I=function(K){var ne=M(J);return R.w(ne.date(ne.date()+Math.round(K*L)),J)};if(H===l)return this.set(l,this.$M+L);if(H===d)return this.set(d,this.$y+L);if(H===s)return I(1);if(H===u)return I(7);var V=(U={},U[i]=e,U[a]=r,U[o]=t,U)[H]||1,W=this.$d.getTime()+L*V;return R.w(W,this)},B.subtract=function(L,q){return this.add(-1*L,q)},B.format=function(L){var q=this,U=this.$locale();if(!this.isValid())return U.invalidDate||p;var J=L||"YYYY-MM-DDTHH:mm:ssZ",H=R.z(this),I=this.$H,V=this.$m,W=this.$M,K=U.weekdays,ne=U.months,Be=U.meridiem,X=function(Ae,mt,we,ae){return Ae&&(Ae[mt]||Ae(q,J))||we[mt].slice(0,ae)},Q=function(Ae){return R.s(I%12||12,Ae,"0")},le=Be||function(Ae,mt,we){var ae=Ae<12?"AM":"PM";return we?ae.toLowerCase():ae};return J.replace(h,function(Ae,mt){return mt||function(we){switch(we){case"YY":return String(q.$y).slice(-2);case"YYYY":return R.s(q.$y,4,"0");case"M":return W+1;case"MM":return R.s(W+1,2,"0");case"MMM":return X(U.monthsShort,W,ne,3);case"MMMM":return X(ne,W);case"D":return q.$D;case"DD":return R.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return X(U.weekdaysMin,q.$W,K,2);case"ddd":return X(U.weekdaysShort,q.$W,K,3);case"dddd":return K[q.$W];case"H":return String(I);case"HH":return R.s(I,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return le(I,V,!0);case"A":return le(I,V,!1);case"m":return String(V);case"mm":return R.s(V,2,"0");case"s":return String(q.$s);case"ss":return R.s(q.$s,2,"0");case"SSS":return R.s(q.$ms,3,"0");case"Z":return H}return null}(Ae)||H.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(L,q,U){var J,H=this,I=R.p(q),V=M(L),W=(V.utcOffset()-this.utcOffset())*e,K=this-V,ne=function(){return R.m(H,V)};switch(I){case d:J=ne()/12;break;case l:J=ne();break;case c:J=ne()/3;break;case u:J=(K-W)/6048e5;break;case s:J=(K-W)/864e5;break;case a:J=K/r;break;case i:J=K/e;break;case o:J=K/t;break;default:J=K}return U?J:R.a(J)},B.daysInMonth=function(){return this.endOf(l).$D},B.$locale=function(){return x[this.$L]},B.locale=function(L,q){if(!L)return this.$L;var U=this.clone(),J=E(L,q,!0);return J&&(U.$L=J),U},B.clone=function(){return R.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},F}(),j=N.prototype;return M.prototype=j,[["$ms",n],["$s",o],["$m",i],["$H",a],["$W",s],["$M",l],["$y",d],["$D",f]].forEach(function(F){j[F[1]]=function(B){return this.$g(B,F[0],F[1])}}),M.extend=function(F,B){return F.$i||(F(B,N,M),F.$i=!0),M},M.locale=E,M.isDayjs=T,M.unix=function(F){return M(1e3*F)},M.en=x[S],M.Ls=x,M.p={},M})});var KIt=C(()=>{YO()});var YIt=C(()=>{Uh();KIt();rx();nC()});var XIt=C(()=>{eE()});var yTe=C(()=>{nC();xA();rx();YIt();XIt()});var SLt=b((R2o,wLt)=>{"use strict";var Uun="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";wLt.exports=Uun});var ELt=b((I2o,OLt)=>{"use strict";var zun=SLt();function xLt(){}function CLt(){}CLt.resetWarningCache=xLt;OLt.exports=function(){function t(n,o,i,a,s,u){if(u!==zun){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CLt,resetWarningCache:xLt};return r.PropTypes=r,r}});var TLt=b((N2o,PLt)=>{PLt.exports=ELt()();var D2o,j2o});var jLt=b(KMe=>{"use strict";KMe.__esModule=!0;KMe.default=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(",");if(r.length===0)return!0;var n=t.name||"",o=(t.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):o===s})}return!0}});var Qhn={};Qd(Qhn,{default:()=>iae});module.exports=ml(Qhn);eE();xA();rx();var zue=t=>t.map(e=>e.pageContent).join(`

`);var Yq=class{static createNewLLMChain(e){let{llm:r,memory:n,prompt:o,abortController:i}=e,a=r.bind({signal:i?.signal}),s=ni.from([{input:u=>u.input,memory:()=>n.loadMemoryVariables({})},{input:u=>u.input,history:u=>u.memory.history},o,a]);return Yq.instances.set("llm_chain",s),console.log("New LLM chain created."),s}static getLLMChainFromMap(e){let r=Yq.instances.get("llm_chain");return r||(r=Yq.createNewLLMChain(e)),r}static createConversationalRetrievalChain(e,r,n){let{llm:o,retriever:i,systemMessage:a}=e,s=`Given the following conversation and a follow up question,
    summarize the conversation as context and keep the follow up question unchanged, in its original language.
    If the follow up question is unrelated to its preceding messages, return this follow up question directly.
    If it is related, then combine the summary and the follow up question to construct a standalone question.
    Make sure to keep any [[]] wrapped note titles in the question unchanged.

    Chat History:
    {chat_history}
    Follow Up Input: {question}
    Standalone question:`,u=ms.fromTemplate(s),l=`{system_message}

Answer the question with as detailed as possible based only on the following context:
{context}

Question: {question}
`,c=ms.fromTemplate(l),d=v=>v.map(_=>`Human: ${_[0]}
Assistant: ${_[1]}`).join(`
`),f=ni.from([{question:v=>(n&&console.log("Input Question: ",v.question),v.question),chat_history:v=>{let g=d(v.chat_history);return n&&console.log("Formatted Chat History: ",g),g}},u,o,new C5,v=>(n&&console.log("Standalone Question: ",v),v)]),p=async v=>(r(v),zue(v)),m=ni.from([{context:i.pipe(p),question:new Bi,system_message:()=>a},c,o]);return f.pipe(m)}},T5=Yq;T5.instances=new Map;var M5=T5;var CA="https://api.brevilabs.com/v1",bl="copilot-chat-view",To="user",Ty="ai",Hue=`You are Obsidian Copilot, a helpful assistant that integrates AI to Obsidian note-taking.
  1. Never mention that you do not have access to something. Always rely on the user provided context.
  2. Always answer to the best of your knowledge. If you are unsure about something, say so and ask the user to provide more context.
  3. If the user mentions "note", it most likely means an Obsidian note in the vault, not the generic meaning of a note.
  4. If the user mentions "@vault", it means the user wants you to search the Obsidian vault for information relevant to the query. The search results will be provided to you in the context. If there's no relevant information in the vault, just say so.
  5. If the user mentions any other tool with the @ symbol, check the context for their results. If nothing is found, just ignore the @ symbol in the query.
  6. Always use $'s instead of \\[ etc. for LaTeX equations.
  7. When showing note titles, use [[title]] format and do not wrap them in \` \`.
  8. When showing **Obsidian internal** image links, use ![[link]] format and do not wrap them in \` \`.
  9. When showing **web** image links, use ![link](url) format and do not wrap them in \` \`.
  10. Always respond in the language of the user's query.
  11. Do NOT mention the additional context provided such as getCurrentTime and getTimeRangeMs if it's irrelevant to the user message.`,A5=`Copilot index does not exist. Please index your vault first!

1. Set a working embedding model in QA settings. If it's not a local model, don't forget to set the API key. 

2. Click 'Refresh Index for Vault' and wait for indexing to complete. If you encounter the rate limiting error, please turn your request per second down in QA setting.`,CFe=6e3,Vue=.4,OFe=.4,Wue=15,Jue=448e3,oE={DEFAULT:"",READING_FILES:"Reading files",SEARCHING_WEB:"Searching the web"},iE={SETTINGS:"settings",EXPIRED_MODAL:"expired_modal",CHAT_MODE_SELECT:"chat_mode_select",MODE_SELECT_TOOLTIP:"mode_select_tooltip"};var OA=(f=>(f.OPENAI="openai",f.AZURE_OPENAI="azure openai",f.ANTHROPIC="anthropic",f.COHEREAI="cohereai",f.GOOGLE="google",f.OPENROUTERAI="openrouterai",f.GROQ="groq",f.OLLAMA="ollama",f.LM_STUDIO="lm-studio",f.OPENAI_FORMAT="3rd party (openai-format)",f.COPILOT_PLUS="copilot-plus",f.MISTRAL="mistralai",f))(OA||{});var aE={reasoning:"This model supports general reasoning tasks.",vision:"This model supports image inputs.",websearch:"This model can access the internet."},sE=[{name:"copilot-plus-flash",provider:"copilot-plus",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"gpt-4o",provider:"openai",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"gpt-4o-mini",provider:"openai",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"o1-mini",provider:"openai",enabled:!0,isBuiltIn:!0,capabilities:["reasoning"]},{name:"o3-mini",provider:"openai",enabled:!0,isBuiltIn:!0,capabilities:["reasoning"]},{name:"claude-3-5-sonnet-latest",provider:"anthropic",enabled:!0,isBuiltIn:!0,core:!0,capabilities:["vision"]},{name:"claude-3-5-haiku-latest",provider:"anthropic",enabled:!0,isBuiltIn:!0},{name:"command-r",provider:"cohereai",enabled:!0,isBuiltIn:!0},{name:"command-r-plus",provider:"cohereai",enabled:!0,isBuiltIn:!0},{name:"gemini-2.0-pro-exp",provider:"google",enabled:!0,isBuiltIn:!0,capabilities:["vision"]},{name:"gemini-2.0-flash",provider:"google",enabled:!0,isBuiltIn:!0,capabilities:["vision"]},{name:"azure-openai",provider:"azure openai",enabled:!0,isBuiltIn:!0}],uE=(l=>(l.OPENAI="openai",l.COHEREAI="cohereai",l.GOOGLE="google",l.AZURE_OPENAI="azure openai",l.OLLAMA="ollama",l.LM_STUDIO="lm-studio",l.OPENAI_FORMAT="3rd party (openai-format)",l.COPILOT_PLUS="copilot-plus",l.COPILOT_PLUS_JINA="copilot-plus-jina",l))(uE||{});var Xq=[{name:"copilot-plus-small",provider:"copilot-plus",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0},{name:"copilot-plus-large",provider:"copilot-plus-jina",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0,believerExclusive:!0,dimensions:1024},{name:"copilot-plus-multilingual",provider:"copilot-plus-jina",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0,dimensions:512},{name:"text-embedding-3-small",provider:"openai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0,core:!0},{name:"text-embedding-3-large",provider:"openai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0},{name:"embed-multilingual-light-v3.0",provider:"cohereai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0},{name:"text-embedding-004",provider:"google",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0},{name:"azure-openai",provider:"azure openai",enabled:!0,isBuiltIn:!0,isEmbeddingModel:!0}],Gue="nomic-embed-text",Zq={["openai"]:{label:"OpenAI",host:"https://api.openai.com",keyManagementURL:"https://platform.openai.com/api-keys",testModel:"gpt-4o"},["azure openai"]:{label:"Azure OpenAI",host:"",keyManagementURL:"",testModel:"azure-openai"},["anthropic"]:{label:"Anthropic",host:"https://api.anthropic.com/",keyManagementURL:"https://console.anthropic.com/settings/keys",testModel:"claude-3-5-sonnet-latest"},["cohereai"]:{label:"Cohere",host:"https://api.cohere.com",keyManagementURL:"https://dashboard.cohere.ai/api-keys",testModel:"command-r"},["google"]:{label:"Gemini",host:"https://generativelanguage.googleapis.com",keyManagementURL:"https://makersuite.google.com/app/apikey",testModel:"gemini-2.0-flash"},["openrouterai"]:{label:"OpenRouter",host:"https://openrouter.ai/api/v1/",keyManagementURL:"https://openrouter.ai/keys",testModel:"openai/chatgpt-4o-latest"},["groq"]:{label:"Groq",host:"https://api.groq.com/openai",keyManagementURL:"https://console.groq.com/keys",testModel:"llama3-8b-8192"},["ollama"]:{label:"Ollama",host:"http://localhost:11434/v1/",keyManagementURL:""},["lm-studio"]:{label:"LM Studio",host:"http://localhost:1234/v1",keyManagementURL:""},["3rd party (openai-format)"]:{label:"OpenAI Format",host:"https://api.example.com/v1",keyManagementURL:""},["mistralai"]:{label:"Mistral",host:"https://api.mistral.ai/v1",keyManagementURL:"https://console.mistral.ai/api-keys",testModel:"mistral-tiny-latest"},["copilot-plus"]:{label:"Copilot Plus",host:"https://api.brevilabs.com/v1",keyManagementURL:""},["copilot-plus-jina"]:{label:"Copilot Plus",host:"https://api.brevilabs.com/v1",keyManagementURL:""}},lE={anthropic:"anthropicApiKey",openai:"openAIApiKey","azure openai":"azureOpenAIApiKey",google:"googleApiKey",groq:"groqApiKey",openrouterai:"openRouterAiApiKey",cohereai:"cohereApiKey","copilot-plus":"plusLicenseKey",mistralai:"mistralApiKey"};var EFe=["NEVER","ON STARTUP","ON MODE SWITCH"];var te={ADD_CUSTOM_PROMPT:"add-custom-prompt",APPLY_ADHOC_PROMPT:"apply-adhoc-prompt",APPLY_CUSTOM_PROMPT:"apply-custom-prompt",CHANGE_TONE:"change-tone-prompt",CLEAR_LOCAL_COPILOT_INDEX:"clear-local-copilot-index",CLEAR_COPILOT_CACHE:"clear-copilot-cache",COUNT_WORD_AND_TOKENS_SELECTION:"count-word-and-tokens-selection",COUNT_TOTAL_VAULT_TOKENS:"count-total-vault-tokens",DELETE_CUSTOM_PROMPT:"delete-custom-prompt",EDIT_CUSTOM_PROMPT:"edit-custom-prompt",ELI5:"eli5-prompt",EMOJIFY:"emojify-prompt",FIND_RELEVANT_NOTES:"find-relevant-notes",FIX_GRAMMAR:"fix-grammar-prompt",FORCE_REINDEX_VAULT_TO_COPILOT_INDEX:"force-reindex-vault-to-copilot-index",GARBAGE_COLLECT_COPILOT_INDEX:"garbage-collect-copilot-index",GENERATE_GLOSSARY:"generate-glossary-prompt",GENERATE_TOC:"generate-toc-prompt",INDEX_VAULT_TO_COPILOT_INDEX:"index-vault-to-copilot-index",INSPECT_COPILOT_INDEX_BY_NOTE_PATHS:"copilot-inspect-index-by-note-paths",LIST_INDEXED_FILES:"copilot-list-indexed-files",LOAD_COPILOT_CHAT_CONVERSATION:"load-copilot-chat-conversation",MAKE_LONGER:"make-longer-prompt",MAKE_SHORTER:"make-shorter-prompt",OPEN_COPILOT_CHAT_WINDOW:"chat-open-window",PRESS_RELEASE:"press-release-prompt",REMOVE_FILES_FROM_COPILOT_INDEX:"remove-files-from-copilot-index",REMOVE_URLS:"remove-urls-prompt",REWRITE_TWEET:"rewrite-tweet-prompt",REWRITE_TWEET_THREAD:"rewrite-tweet-thread-prompt",SEARCH_ORAMA_DB:"copilot-search-orama-db",SIMPLIFY:"simplify-prompt",SUMMARIZE:"summarize-prompt",TOGGLE_COPILOT_CHAT_WINDOW:"chat-toggle-window",TRANSLATE:"translate-selection-prompt"},My={[te.ADD_CUSTOM_PROMPT]:"Add custom prompt",[te.APPLY_ADHOC_PROMPT]:"Apply ad-hoc custom prompt",[te.APPLY_CUSTOM_PROMPT]:"Apply custom prompt",[te.CHANGE_TONE]:"Change tone of selection",[te.CLEAR_LOCAL_COPILOT_INDEX]:"Clear local Copilot index",[te.CLEAR_COPILOT_CACHE]:"Clear Copilot cache",[te.COUNT_TOTAL_VAULT_TOKENS]:"Count total tokens in your vault",[te.COUNT_WORD_AND_TOKENS_SELECTION]:"Count words and tokens in selection",[te.DELETE_CUSTOM_PROMPT]:"Delete custom prompt",[te.EDIT_CUSTOM_PROMPT]:"Edit custom prompt",[te.ELI5]:"Explain selection like I'm 5",[te.EMOJIFY]:"Emojify selection",[te.FIND_RELEVANT_NOTES]:"Find relevant notes",[te.FIX_GRAMMAR]:"Fix grammar and spelling of selection",[te.FORCE_REINDEX_VAULT_TO_COPILOT_INDEX]:"Force reindex vault",[te.GARBAGE_COLLECT_COPILOT_INDEX]:"Garbage collect Copilot index (remove files that no longer exist in vault)",[te.GENERATE_GLOSSARY]:"Generate glossary for selection",[te.GENERATE_TOC]:"Generate table of contents for selection",[te.INDEX_VAULT_TO_COPILOT_INDEX]:"Index (refresh) vault",[te.INSPECT_COPILOT_INDEX_BY_NOTE_PATHS]:"Inspect Copilot index by note paths (debug)",[te.LIST_INDEXED_FILES]:"List all indexed files (debug)",[te.LOAD_COPILOT_CHAT_CONVERSATION]:"Load Copilot chat conversation",[te.MAKE_LONGER]:"Make selection longer",[te.MAKE_SHORTER]:"Make selection shorter",[te.OPEN_COPILOT_CHAT_WINDOW]:"Open Copilot Chat Window",[te.PRESS_RELEASE]:"Rewrite selection to a press release",[te.REMOVE_FILES_FROM_COPILOT_INDEX]:"Remove files from Copilot index (debug)",[te.REMOVE_URLS]:"Remove URLs from selection",[te.REWRITE_TWEET]:"Rewrite selection to a tweet",[te.REWRITE_TWEET_THREAD]:"Rewrite selection to a tweet thread",[te.SEARCH_ORAMA_DB]:"Search OramaDB (debug)",[te.SIMPLIFY]:"Simplify selection",[te.SUMMARIZE]:"Summarize selection",[te.TOGGLE_COPILOT_CHAT_WINDOW]:"Toggle Copilot Chat Window",[te.TRANSLATE]:"Translate selection"},R5=[te.FIX_GRAMMAR,te.SUMMARIZE,te.GENERATE_TOC,te.GENERATE_GLOSSARY,te.SIMPLIFY,te.EMOJIFY,te.REMOVE_URLS,te.REWRITE_TWEET,te.REWRITE_TWEET_THREAD,te.MAKE_SHORTER,te.MAKE_LONGER,te.ELI5,te.PRESS_RELEASE,te.TRANSLATE,te.CHANGE_TONE],PFe=[te.SUMMARIZE,te.FIX_GRAMMAR,te.SIMPLIFY,te.EMOJIFY,te.MAKE_LONGER,te.MAKE_SHORTER,te.TRANSLATE],eOn=[te.FIX_GRAMMAR,te.SUMMARIZE,te.GENERATE_TOC,te.GENERATE_GLOSSARY,te.SIMPLIFY,te.EMOJIFY,te.REMOVE_URLS,te.REWRITE_TWEET,te.REWRITE_TWEET_THREAD,te.MAKE_SHORTER,te.MAKE_LONGER,te.ELI5,te.PRESS_RELEASE,te.TRANSLATE,te.CHANGE_TONE],nx={isPlusUser:!1,plusLicenseKey:"",openAIApiKey:"",openAIOrgId:"",huggingfaceApiKey:"",cohereApiKey:"",anthropicApiKey:"",azureOpenAIApiKey:"",azureOpenAIApiInstanceName:"",azureOpenAIApiDeploymentName:"",azureOpenAIApiVersion:"",azureOpenAIApiEmbeddingDeploymentName:"",googleApiKey:"",openRouterAiApiKey:"",defaultChainType:"llm_chain",defaultModelKey:"gpt-4o"+"|"+"openai",embeddingModelKey:"text-embedding-3-small"+"|"+"openai",temperature:.1,maxTokens:1e3,contextTurns:15,userSystemPrompt:"",openAIProxyBaseUrl:"",openAIEmbeddingProxyBaseUrl:"",stream:!0,defaultSaveFolder:"copilot-conversations",defaultConversationTag:"copilot-conversation",autosaveChat:!1,defaultOpenArea:"view",customPromptsFolder:"copilot-custom-prompts",indexVaultToVectorStore:"ON MODE SWITCH",qaExclusions:"",qaInclusions:"",chatNoteContextPath:"",chatNoteContextTags:[],enableIndexSync:!0,debug:!1,enableEncryption:!1,maxSourceChunks:3,groqApiKey:"",mistralApiKey:"",activeModels:sE,activeEmbeddingModels:Xq,embeddingRequestsPerMin:90,embeddingBatchSize:16,disableIndexOnMobile:!0,showSuggestedPrompts:!0,showRelevantNotes:!0,numPartitions:1,enabledCommands:{},promptUsageTimestamps:{},defaultConversationNoteName:"{$topic}@{$date}_{$time}"},ox={CHAT_IS_VISIBLE:"chat-is-visible",ACTIVE_LEAF_CHANGE:"active-leaf-change"};var AFe=require("obsidian"),I5=null;function Qq(){return AFe.Platform.isDesktop&&I5||(I5=require("electron")?.remote?.safeStorage),I5}var Kue="enc_desk_",Yue="enc_web_",Zue="enc_",j5="dec_",fWt=new TextEncoder().encode("obsidian-copilot-v1"),D5={name:"AES-GCM",iv:new Uint8Array(12)};async function Xue(){return await crypto.subtle.importKey("raw",fWt,D5.name,!1,["encrypt","decrypt"])}async function RFe(t){if(!t.enableEncryption)return t;let e={...t},r=Object.keys(t).filter(n=>n.toLowerCase().includes("apikey")||n==="plusLicenseKey");for(let n of r){let o=t[n];e[n]=await TFe(o)}return Array.isArray(t.activeModels)&&(e.activeModels=await Promise.all(t.activeModels.map(async n=>({...n,apiKey:await TFe(n.apiKey||"")})))),e}async function TFe(t){if(!t||t.startsWith(Zue))return t;IFe(t)&&(t=t.replace(j5,""));try{if(Qq()?.isEncryptionAvailable()){let o=Qq().encryptString(t);return Kue+o.toString("base64")}let e=await Xue(),r=new TextEncoder().encode(t),n=await crypto.subtle.encrypt(D5,e,r);return Yue+hWt(n)}catch(e){return console.error("Encryption failed:",e),t}}async function oi(t){if(!t||pWt(t))return t;if(IFe(t))return t.replace(j5,"");if(t.startsWith(Kue)){let r=t.replace(Kue,""),n=Buffer.from(r,"base64");return Qq().decryptString(n)}if(t.startsWith(Yue)){let r=t.replace(Yue,""),n=await Xue(),o=MFe(r),i=await crypto.subtle.decrypt(D5,n,o);return new TextDecoder().decode(i)}let e=t.replace(Zue,"");try{if(Qq()?.isEncryptionAvailable())try{let i=Buffer.from(e,"base64");return Qq().decryptString(i)}catch{}let r=await Xue(),n=MFe(e),o=await crypto.subtle.decrypt(D5,r,n);return new TextDecoder().decode(o)}catch(r){return console.error("Decryption failed:",r),"Copilot failed to decrypt API keys!"}}function pWt(t){return!t.startsWith(Zue)&&!t.startsWith(j5)}function IFe(t){return t.startsWith(j5)}function hWt(t){let e=new Uint8Array(t),r="";for(let n=0;n<e.byteLength;n++)r+=String.fromCharCode(e[n]);return window.btoa(r)}function MFe(t){let e=window.atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r.buffer}var ki={},mWt=0;function EA(t,e){let r=`atom${++mWt}`,n={toString(){return(ki.env?ki.env.MODE:void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof t=="function"?n.read=t:(n.init=t,n.read=gWt,n.write=yWt),e&&(n.write=e),n}function gWt(t){return t(this)}function yWt(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}var DFe=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Que=t=>"init"in t,ele=t=>!!t.write,L5=new WeakMap,rle=t=>{var e;return nle(t)&&!((e=L5.get(t))!=null&&e[1])},bWt=(t,e)=>{let r=L5.get(t);if(r)r[1]=!0,r[0].forEach(n=>n(e));else if((ki.env?ki.env.MODE:void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},_Wt=t=>{if(L5.has(t))return;let e=[new Set,!1];L5.set(t,e);let r=()=>{e[1]=!0};t.then(r,r),t.onCancel=n=>{e[0].add(n)}},nle=t=>typeof t?.then=="function",jFe=t=>"v"in t||"e"in t,N5=t=>{if("e"in t)throw t.e;if((ki.env?ki.env.MODE:void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},FFe=(t,e,r)=>{r.p.has(t)||(r.p.add(t),e.then(()=>{r.p.delete(t)},()=>{r.p.delete(t)}))},NFe=(t,e,r,n,o)=>{var i;if((ki.env?ki.env.MODE:void 0)!=="production"&&n===e)throw new Error("[Bug] atom cannot depend on itself");r.d.set(n,o.n),rle(r.v)&&FFe(e,r.v,o),(i=o.m)==null||i.t.add(e),t&&vWt(t,n,e)},jj=()=>[new Map,new Map,new Set],tle=(t,e,r)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,r)},vWt=(t,e,r)=>{let n=t[0].get(e);n&&n.add(r)},wWt=(t,e)=>t[0].get(e),LFe=(t,e)=>{t[2].add(e)},cE=t=>{let e,r=!1,n=o=>{try{o()}catch(i){r||(e=i,r=!0)}};for(;t[1].size||t[2].size;){t[0].clear();let o=new Set(t[1].values());t[1].clear();let i=new Set(t[2]);t[2].clear(),o.forEach(a=>{var s;return(s=a.m)==null?void 0:s.l.forEach(n)}),i.forEach(n)}if(r)throw e},BFe=(...[t,e,r,n])=>{let o;(ki.env?ki.env.MODE:void 0)!=="production"&&(o=new Set);let i=(S,x,O)=>{let T="v"in x,E=x.v,M=rle(x.v)?x.v:null;if(nle(O)){_Wt(O);for(let R of x.d.keys())FFe(S,O,t(R));x.v=O,delete x.e}else x.v=O,delete x.e;(!T||!Object.is(E,x.v))&&(++x.n,M&&bWt(M,O))},a=(S,x,O)=>{var T;let E=t(x);if(jFe(E)&&(E.m&&!O?.has(x)||Array.from(E.d).every(([B,L])=>a(S,B,O).n===L)))return E;E.d.clear();let M=!0,R=B=>{if(DFe(x,B)){let q=t(B);if(!jFe(q))if(Que(B))i(B,q,B.init);else throw new Error("no atom init");return N5(q)}let L=a(S,B,O);try{return N5(L)}finally{if(M)NFe(S,x,E,B,L);else{let q=jj();NFe(q,x,E,B,L),p(q,x,E),cE(q)}}},N,j,F={get signal(){return N||(N=new AbortController),N.signal},get setSelf(){return(ki.env?ki.env.MODE:void 0)!=="production"&&!ele(x)&&console.warn("setSelf function cannot be used with read-only atom"),!j&&ele(x)&&(j=(...B)=>{if((ki.env?ki.env.MODE:void 0)!=="production"&&M&&console.warn("setSelf function cannot be called in sync"),!M)return f(x,...B)}),j}};try{let B=e(x,R,F);if(i(x,E,B),nle(B)){(T=B.onCancel)==null||T.call(B,()=>N?.abort());let L=()=>{if(E.m){let q=jj();p(q,x,E),cE(q)}};B.then(L,L)}return E}catch(B){return delete E.v,E.e=B,++E.n,E}finally{M=!1}},s=S=>N5(a(void 0,S)),u=(S,x,O)=>{var T,E;let M=new Map;for(let R of((T=O.m)==null?void 0:T.t)||[])M.set(R,t(R));for(let R of O.p)M.set(R,t(R));return(E=wWt(S,x))==null||E.forEach(R=>{M.set(R,t(R))}),M};function l(S,x,O){let T=[],E=new Set,M=new Set,R=[[x,O]];for(;R.length>0;){let[N,j]=R[R.length-1];if(M.has(N)){R.pop();continue}if(E.has(N)){T.push([N,j,j.n]),M.add(N),R.pop();continue}E.add(N);for(let[F,B]of u(S,N,j))N!==F&&!E.has(F)&&R.push([F,B])}return[T,M]}let c=(S,x,O)=>{let[T,E]=l(S,x,O),M=new Set([x]);for(let R=T.length-1;R>=0;--R){let[N,j,F]=T[R],B=!1;for(let L of j.d.keys())if(L!==N&&M.has(L)){B=!0;break}B&&(a(S,N,E),p(S,N,j),F!==j.n&&(tle(S,N,j),M.add(N))),E.delete(N)}},d=(S,x,...O)=>{let T=!0,E=R=>N5(a(S,R)),M=(R,...N)=>{let j=t(R);try{if(DFe(x,R)){if(!Que(R))throw new Error("atom not writable");let F=j.n,B=N[0];i(R,j,B),p(S,R,j),F!==j.n&&(tle(S,R,j),c(S,R,j));return}else return d(S,R,...N)}finally{T||cE(S)}};try{return r(x,E,M,...O)}finally{T=!1}},f=(S,...x)=>{let O=jj();try{return d(O,S,...x)}finally{cE(O)}},p=(S,x,O)=>{if(O.m&&!rle(O.v)){for(let T of O.d.keys())O.m.d.has(T)||(m(S,T,t(T)).t.add(x),O.m.d.add(T));for(let T of O.m.d||[])if(!O.d.has(T)){O.m.d.delete(T);let E=h(S,T,t(T));E?.t.delete(x)}}},m=(S,x,O)=>{if(!O.m){a(S,x);for(let T of O.d.keys())m(S,T,t(T)).t.add(x);if(O.m={l:new Set,d:new Set(O.d.keys()),t:new Set},(ki.env?ki.env.MODE:void 0)!=="production"&&o.add(x),ele(x)){let T=O.m,E,M=(R,N)=>{let j=!0;E=(...F)=>{try{return d(R,x,...F)}finally{j||cE(R)}};try{return N()}finally{j=!1}};LFe(S,()=>{let R=M(S,()=>n(x,(...N)=>E(...N)));R&&(T.u=N=>M(N,R))})}}return O.m},h=(S,x,O)=>{if(O.m&&!O.m.l.size&&!Array.from(O.m.t).some(T=>{var E;return(E=t(T).m)==null?void 0:E.d.has(x)})){let T=O.m.u;T&&LFe(S,()=>T(S)),delete O.m,(ki.env?ki.env.MODE:void 0)!=="production"&&o.delete(x);for(let E of O.d.keys()){let M=h(S,E,t(E));M?.t.delete(x)}return}return O.m},_={get:s,set:f,sub:(S,x)=>{let O=jj(),T=t(S),M=m(O,S,T).l;return M.add(x),cE(O),()=>{M.delete(x);let R=jj();h(R,S,T),cE(R)}},unstable_derive:S=>BFe(...S(t,e,r,n))};return(ki.env?ki.env.MODE:void 0)!=="production"&&Object.assign(_,{dev4_get_internal_weak_map:()=>({get:x=>{let O=t(x);if(O.n!==0)return O}}),dev4_get_mounted_atoms:()=>o,dev4_restore_atoms:x=>{let O=jj();for(let[T,E]of x)if(Que(T)){let M=t(T),R=M.n;i(T,M,E),p(O,T,M),R!==M.n&&(tle(O,T,M),c(O,T,M))}cE(O)}}),_},F5=()=>{let t=new WeakMap;return BFe(r=>{if((ki.env?ki.env.MODE:void 0)!=="production"&&!r)throw new Error("Atom is undefined or null");let n=t.get(r);return n||(n={d:new Map,p:new Set,n:0},t.set(r,n)),n},(r,...n)=>r.read(...n),(r,...n)=>r.write(...n),(r,...n)=>{var o;return(o=r.onMount)==null?void 0:o.call(r,...n)})},eU,kFe=()=>(eU||(eU=F5(),(ki.env?ki.env.MODE:void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=eU),globalThis.__JOTAI_DEFAULT_STORE__!==eU&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),eU);var Hc=k(Z(),1);var q5={},FWt=(0,Hc.createContext)(void 0),QFe=t=>{let e=(0,Hc.useContext)(FWt);return t?.store||e||kFe()};var cle=t=>typeof t?.then=="function",eBe=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},BWt=Hc.default.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(eBe(t),t)}),lle=new WeakMap,ZFe=t=>{let e=lle.get(t);return e||(e=new Promise((r,n)=>{let o=t,i=u=>l=>{o===u&&r(l)},a=u=>l=>{o===u&&n(l)},s=u=>{"onCancel"in u&&typeof u.onCancel=="function"&&u.onCancel(l=>{if((q5.env?q5.env.MODE:void 0)!=="production"&&l===u)throw new Error("[Bug] p is not updated even after cancelation");cle(l)?(lle.set(l,e),o=l,l.then(i(l),a(l)),s(l)):r(l)})};t.then(i(t),a(t)),s(t)}),lle.set(t,e)),e};function dle(t,e){let r=QFe(e),[[n,o,i],a]=(0,Hc.useReducer)(l=>{let c=r.get(t);return Object.is(l[0],c)&&l[1]===r&&l[2]===t?l:[c,r,t]},void 0,()=>[r.get(t),r,t]),s=n;(o!==r||i!==t)&&(a(),s=r.get(t));let u=e?.delay;if((0,Hc.useEffect)(()=>{let l=r.sub(t,()=>{if(typeof u=="number"){let c=r.get(t);cle(c)&&eBe(ZFe(c)),setTimeout(a,u);return}a()});return a(),l},[r,t,u]),(0,Hc.useDebugValue)(s),cle(s)){let l=ZFe(s);return BWt(l)}return s}function kWt(t,e){let r=QFe(e);return(0,Hc.useCallback)((...o)=>{if((q5.env?q5.env.MODE:void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return r.set(t,...o)},[r,t])}function fle(t,e){return[dle(t,e),kWt(t,e)]}var lp=F5(),PA=EA(nx);function dE(t){let e=$Wt({...fe(),...t});lp.set(PA,e)}function Ft(t,e){let r=fe();dE({...r,[t]:e})}function fe(){return lp.get(PA)}function rBe(){let t={...nx,activeModels:sE.map(e=>({...e,enabled:!0})),activeEmbeddingModels:Xq.map(e=>({...e,enabled:!0}))};dE(t)}function _l(t){return lp.sub(PA,t)}function La(){return dle(PA,{store:lp})}function nBe(t){let e=t||nx;e.activeEmbeddingModels?e.activeEmbeddingModels=e.activeEmbeddingModels.map(u=>({...u,provider:u.provider==="azure_openai"?"azure openai":u.provider})):e.activeEmbeddingModels=Xq.map(u=>({...u,enabled:!0}));let r={...e},n=Number(e.temperature);r.temperature=isNaN(n)?nx.temperature:n;let o=Number(e.maxTokens);r.maxTokens=isNaN(o)?nx.maxTokens:o;let i=Number(e.contextTurns);r.contextTurns=isNaN(i)?nx.contextTurns:i;let a=Number(e.embeddingRequestsPerMin);r.embeddingRequestsPerMin=isNaN(a)?nx.embeddingRequestsPerMin:a;let s=Number(e.embeddingBatchSize);return r.embeddingBatchSize=isNaN(s)?nx.embeddingBatchSize:s,r}function TA(){let t=fe().userSystemPrompt;return t?`${Hue}

${t}`:Hue}function $Wt(t){return t.activeModels=tBe(t.activeModels,sE),t.activeEmbeddingModels=tBe(t.activeEmbeddingModels,Xq),t}function tn(t){return`${t.name}|${t.provider}`}function tBe(t,e){let r=new Map;return e.filter(n=>n.core).forEach(n=>{r.set(tn(n),{...n})}),t.forEach(n=>{let o=tn(n),i=r.get(o);if(i){let a=e.find(s=>s.name===n.name&&s.provider===n.provider);a?r.set(o,{...a,...n,isBuiltIn:!0,believerExclusive:a.believerExclusive}):r.set(o,{...n,isBuiltIn:i.isBuiltIn})}else r.set(o,n)}),Array.from(r.values())}function Ln(...t){fe().debug&&console.log(...t)}function Yo(...t){fe().debug&&console.error(...t)}var oBe=EA(null),U5=EA(t=>{let e=t(oBe);return e!==null?e:t(PA).defaultModelKey},(t,e,r)=>{e(oBe,r)}),iBe=EA(null),z5=EA(t=>{let e=t(iBe);return e!==null?e:t(PA).defaultChainType},(t,e,r)=>{e(iBe,r)});function H5(t){lp.set(U5,t)}function V5(){return lp.get(U5)}function aBe(t){return lp.sub(U5,t)}function W5(){return fle(U5,{store:lp})}function Ym(){return lp.get(z5)}function Lj(t){lp.set(z5,t)}function sBe(t){return lp.sub(z5,t)}function Ay(){return fle(z5,{store:lp})}var $y=k(Z()),Kqe=require("obsidian"),Yqe=k(DE());var hW=k(Z());var Zl=k(Z(),1);var Mqe=k(Z(),1);function UGt(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pde(...t){return e=>t.forEach(r=>UGt(r,e))}function Uo(...t){return Mqe.useCallback(Pde(...t),t)}var fN=k(ct(),1),Fy=Zl.forwardRef((t,e)=>{let{children:r,...n}=t,o=Zl.Children.toArray(r),i=o.find(YGt);if(i){let a=i.props.children,s=o.map(u=>u===i?Zl.Children.count(a)>1?Zl.Children.only(null):Zl.isValidElement(a)?a.props.children:null:u);return(0,fN.jsx)(Tde,{...n,ref:e,children:Zl.isValidElement(a)?Zl.cloneElement(a,void 0,s):null})}return(0,fN.jsx)(Tde,{...n,ref:e,children:r})});Fy.displayName="Slot";var Tde=Zl.forwardRef((t,e)=>{let{children:r,...n}=t;if(Zl.isValidElement(r)){let o=ZGt(r);return Zl.cloneElement(r,{...XGt(n,r.props),ref:e?Pde(e,o):o})}return Zl.Children.count(r)>1?Zl.Children.only(null):null});Tde.displayName="SlotClone";var KGt=({children:t})=>(0,fN.jsx)(fN.Fragment,{children:t});function YGt(t){return Zl.isValidElement(t)&&t.type===KGt}function XGt(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function ZGt(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Dqe(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=Dqe(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pW(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=Dqe(t))&&(n&&(n+=" "),n+=e);return n}var jqe=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nqe=pW,pN=(t,e)=>r=>{var n;if(e?.variants==null)return Nqe(t,r?.class,r?.className);let{variants:o,defaultVariants:i}=e,a=Object.keys(o).map(l=>{let c=r?.[l],d=i?.[l];if(c===null)return null;let f=jqe(c)||jqe(d);return o[l][f]}),s=r&&Object.entries(r).reduce((l,c)=>{let[d,f]=c;return f===void 0||(l[d]=f),l},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,c)=>{let{class:d,className:f,...p}=c;return Object.entries(p).every(m=>{let[h,v]=m;return Array.isArray(v)?v.includes({...i,...s}[h]):{...i,...s}[h]===v})?[...l,d,f]:l},[]);return Nqe(t,a,u,r?.class,r?.className)};var Rde="-",QGt=t=>{let e=tKt(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{let s=a.split(Rde);return s[0]===""&&s.length!==1&&s.shift(),$qe(s,e)||eKt(a)},getConflictingClassGroupIds:(a,s)=>{let u=r[a]||[];return s&&n[a]?[...u,...n[a]]:u}}},$qe=(t,e)=>{if(t.length===0)return e.classGroupId;let r=t[0],n=e.nextPart.get(r),o=n?$qe(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;let i=t.join(Rde);return e.validators.find(({validator:a})=>a(i))?.classGroupId},Lqe=/^\[(.+)\]$/,eKt=t=>{if(Lqe.test(t)){let e=Lqe.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},tKt=t=>{let{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return nKt(Object.entries(t.classGroups),r).forEach(([i,a])=>{Ade(a,n,i,e)}),n},Ade=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){let i=o===""?e:Fqe(e,o);i.classGroupId=r;return}if(typeof o=="function"){if(rKt(o)){Ade(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,a])=>{Ade(a,Fqe(e,i),r,n)})})},Fqe=(t,e)=>{let r=t;return e.split(Rde).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rKt=t=>t.isThemeGetter,nKt=(t,e)=>e?t.map(([r,n])=>{let o=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,s])=>[e+a,s])):i);return[r,o]}):t,oKt=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map,o=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return o(i,a),a},set(i,a){r.has(i)?r.set(i,a):o(i,a)}}},qqe="!",iKt=t=>{let{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],i=e.length,a=s=>{let u=[],l=0,c=0,d;for(let v=0;v<s.length;v++){let g=s[v];if(l===0){if(g===o&&(n||s.slice(v,v+i)===e)){u.push(s.slice(c,v)),c=v+i;continue}if(g==="/"){d=v;continue}}g==="["?l++:g==="]"&&l--}let f=u.length===0?s:s.substring(c),p=f.startsWith(qqe),m=p?f.substring(1):f,h=d&&d>c?d-c:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:h}};return r?s=>r({className:s,parseClassName:a}):a},aKt=t=>{if(t.length<=1)return t;let e=[],r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},sKt=t=>({cache:oKt(t.cacheSize),parseClassName:iKt(t),...QGt(t)}),uKt=/\s+/,lKt=(t,e)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,i=[],a=t.trim().split(uKt),s="";for(let u=a.length-1;u>=0;u-=1){let l=a[u],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=r(l),m=Boolean(p),h=n(m?f.substring(0,p):f);if(!h){if(!m){s=l+(s.length>0?" "+s:s);continue}if(h=n(f),!h){s=l+(s.length>0?" "+s:s);continue}m=!1}let v=aKt(c).join(":"),g=d?v+qqe:v,_=g+h;if(i.includes(_))continue;i.push(_);let S=o(h,m);for(let x=0;x<S.length;++x){let O=S[x];i.push(g+O)}s=l+(s.length>0?" "+s:s)}return s};function cKt(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Uqe(e))&&(n&&(n+=" "),n+=r);return n}var Uqe=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Uqe(t[n]))&&(r&&(r+=" "),r+=e);return r};function Bqe(t,...e){let r,n,o,i=a;function a(u){let l=e.reduce((c,d)=>d(c),t());return r=sKt(l),n=r.cache.get,o=r.cache.set,i=s,s(u)}function s(u){let l=n(u);if(l)return l;let c=lKt(u,r);return o(u,c),c}return function(){return i(cKt.apply(null,arguments))}}var wi=t=>{let e=r=>r[t]||[];return e.isThemeGetter=!0,e},zqe=/^\[(?:([a-z-]+):)?(.+)\]$/i,dKt=/^\d+\/\d+$/,fKt=new Set(["px","full","screen"]),pKt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hKt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mKt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gKt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yKt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mx=t=>hN(t)||fKt.has(t)||dKt.test(t),jE=t=>mN(t,"length",OKt),hN=t=>Boolean(t)&&!Number.isNaN(Number(t)),Mde=t=>mN(t,"number",hN),JU=t=>Boolean(t)&&Number.isInteger(Number(t)),bKt=t=>t.endsWith("%")&&hN(t.slice(0,-1)),Or=t=>zqe.test(t),NE=t=>pKt.test(t),_Kt=new Set(["length","size","percentage"]),vKt=t=>mN(t,_Kt,Hqe),wKt=t=>mN(t,"position",Hqe),SKt=new Set(["image","url"]),xKt=t=>mN(t,SKt,PKt),CKt=t=>mN(t,"",EKt),GU=()=>!0,mN=(t,e,r)=>{let n=zqe.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},OKt=t=>hKt.test(t)&&!mKt.test(t),Hqe=()=>!1,EKt=t=>gKt.test(t),PKt=t=>yKt.test(t);var kqe=()=>{let t=wi("colors"),e=wi("spacing"),r=wi("blur"),n=wi("brightness"),o=wi("borderColor"),i=wi("borderRadius"),a=wi("borderSpacing"),s=wi("borderWidth"),u=wi("contrast"),l=wi("grayscale"),c=wi("hueRotate"),d=wi("invert"),f=wi("gap"),p=wi("gradientColorStops"),m=wi("gradientColorStopPositions"),h=wi("inset"),v=wi("margin"),g=wi("opacity"),_=wi("padding"),S=wi("saturate"),x=wi("scale"),O=wi("sepia"),T=wi("skew"),E=wi("space"),M=wi("translate"),R=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Or,e],F=()=>[Or,e],B=()=>["",mx,jE],L=()=>["auto",hN,Or],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Or],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[hN,Or];return{cacheSize:500,separator:":",theme:{colors:[GU],spacing:[mx,jE],blur:["none","",NE,Or],brightness:W(),borderColor:[t],borderRadius:["none","","full",NE,Or],borderSpacing:F(),borderWidth:B(),contrast:W(),grayscale:I(),hueRotate:W(),invert:I(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[bKt,jE],inset:j(),margin:j(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:I(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Or]}],container:["container"],columns:[{columns:[NE]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Or]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",JU,Or]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Or]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",JU,Or]}],"grid-cols":[{"grid-cols":[GU]}],"col-start-end":[{col:["auto",{span:["full",JU,Or]},Or]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[GU]}],"row-start-end":[{row:["auto",{span:[JU,Or]},Or]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Or]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Or,e]}],"min-w":[{"min-w":[Or,e,"min","max","fit"]}],"max-w":[{"max-w":[Or,e,"none","full","min","max","fit","prose",{screen:[NE]},NE]}],h:[{h:[Or,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Or,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Or,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Or,e,"auto","min","max","fit"]}],"font-size":[{text:["base",NE,jE]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mde]}],"font-family":[{font:[GU]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Or]}],"line-clamp":[{"line-clamp":["none",hN,Mde]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mx,Or]}],"list-image":[{"list-image":["none",Or]}],"list-style-type":[{list:["none","disc","decimal",Or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mx,jE]}],"underline-offset":[{"underline-offset":["auto",mx,Or]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),wKt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vKt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xKt]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[mx,Or]}],"outline-w":[{outline:[mx,jE]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[mx,jE]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",NE,CKt]}],"shadow-color":[{shadow:[GU]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",NE,Or]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Or]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Or]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[JU,Or]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Or]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Or]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Or]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mx,jE,Mde]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TKt=(t,{cacheSize:e,prefix:r,separator:n,experimentalParseClassName:o,extend:i={},override:a={}})=>{KU(t,"cacheSize",e),KU(t,"prefix",r),KU(t,"separator",n),KU(t,"experimentalParseClassName",o);for(let s in a)MKt(t[s],a[s]);for(let s in i)AKt(t[s],i[s]);return t},KU=(t,e,r)=>{r!==void 0&&(t[e]=r)},MKt=(t,e)=>{if(e)for(let r in e)KU(t,r,e[r])},AKt=(t,e)=>{if(e)for(let r in e){let n=e[r];n!==void 0&&(t[r]=(t[r]||[]).concat(n))}},Vqe=(t,...e)=>typeof t=="function"?Bqe(kqe,t,...e):Bqe(()=>TKt(kqe(),t),...e);var RKt=Vqe({extend:{classGroups:{"text-color":["text-muted","text-success","text-warning","text-error","text-accent"],"font-size":["text-smallest","text-smaller","text-small","text-ui-smaller","text-ui-small","text-ui-medium","text-ui-larger"]}}});function Te(...t){return RKt(pW(t))}var IKt=pN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:shrink-0",{variants:{variant:{default:"bg-interactive-accent text-on-accent shadow hover:bg-interactive-accent/90",destructive:"bg-modifier-error text-normal shadow-sm hover:bg-modifier-error/90",outline:"border border-border bg-primary shadow-sm hover:bg-interactive-accent hover:text-on-accent",secondary:"bg-secondary text-normal shadow-sm hover:bg-secondary/80",ghost:"clickable-icon bg-transparent hover:bg-interactive-accent hover:text-on-accent",link:"text-accent underline-offset-4 hover:underline",ghost2:"text-faint clickable-icon bg-transparent hover:bg-opacity-100 hover:text-normal hover:bg-transparent outline-none focus-visible:outline-none focus-visible:text-normal focus-visible:ring-0"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"size-7",fit:"px-1 text-xs gap-1"}},defaultVariants:{variant:"default",size:"default"}}),gt=hW.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...o},i)=>hW.createElement(n?Fy:"button",{className:Te(IKt({variant:e,size:r,className:t})),ref:i,...o}));gt.displayName="Button";var gW=k(Z());var Wqe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mW=(...t)=>t.filter((e,r,n)=>Boolean(e)&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var YU=k(Z());var Jqe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var Gqe=(0,YU.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...s},u)=>(0,YU.createElement)("svg",{ref:u,...Jqe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:mW("lucide",o),...s},[...a.map(([l,c])=>(0,YU.createElement)(l,c)),...Array.isArray(i)?i:[i]]));var Se=(t,e)=>{let r=(0,gW.forwardRef)(({className:n,...o},i)=>(0,gW.createElement)(Gqe,{ref:i,iconNode:e,className:mW(`lucide-${Wqe(t)}`,n),...o}));return r.displayName=`${t}`,r};var gN=Se("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);var XU=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var ZU=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var ig=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var Sl=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var HA=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var VA=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var xl=Se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var ag=Se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var LE=Se("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var QU=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var ez=Se("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);var tz=Se("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);var WA=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var JA=Se("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);var rz=Se("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);var nz=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var oz=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var FE=Se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var GA=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var iz=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var gx=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var az=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var KA=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var sz=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var uz=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var lz=Se("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var cz=Se("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);var YA=Se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var bf=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var dz=Se("MessageCirclePlus",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var yN=Se("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);var BE=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var bN=Se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var XA=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var fz=Se("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var pz=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var hz=Se("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var By=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var kE=Se("SquareArrowOutUpRight",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]]);var _f=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var mz=Se("TextCursorInput",[["path",{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1",key:"18xjzo"}],["path",{d:"M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5",key:"fj48gi"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1",key:"1n9rhb"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7",key:"13ksps"}],["path",{d:"M9 7v10",key:"1vc8ob"}]]);var yx=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var _h=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var gz=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var yz=Se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var ky=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function DKt({onCancel:t}){let e=fe(),r=Ide(e.defaultModelKey)&&Ide(e.embeddingModelKey);return $y.default.createElement("div",{className:"flex flex-col gap-4"},$y.default.createElement("div",{className:"flex flex-col gap-2"},$y.default.createElement("div",null,"Your Copilot Plus license key is no longer valid. Please renew your subscription to continue using Copilot Plus."),r&&$y.default.createElement("div",{className:"text-sm text-warning"},"The Copilot Plus exclusive models will stop working. You can switch to the default models in the Settings.")),$y.default.createElement("div",{className:"flex gap-2 justify-end w-full"},$y.default.createElement(gt,{variant:"ghost",onClick:t},"Close"),$y.default.createElement(gt,{variant:"default",onClick:()=>{_N(iE.EXPIRED_MODAL)}},"Renew Now ",$y.default.createElement(GA,{className:"size-4"}))))}var yW=class extends Kqe.Modal{constructor(r){super(r);this.setTitle("Thanks for being a Copilot Plus user \u{1F44B}")}onOpen(){let{contentEl:r}=this;this.root=(0,Yqe.createRoot)(r);let n=()=>{this.close()};this.root.render($y.default.createElement(DKt,{onCancel:n}))}onClose(){this.root.unmount()}};var pr=class extends Error{constructor(r,n){super(r);this.code=n,Object.setPrototypeOf(this,pr.prototype)}};var Nde=k(Xqe()),vh=require("obsidian"),jde={INVALID_LICENSE_KEY_USER:"Invalid Copilot Plus license key. Please check your license key in settings.",UNKNOWN_ERROR:"An unknown error occurred",REQUEST_FAILED:t=>`Request failed, status ${t}`};function bW(t){let e=t?.json?.detail||t?.json||{};return{status:e.status,message:e.message||t?.message,reason:e.reason}}function jKt(t){let e=bW(t);return e.reason==="Invalid license key"||t?.message==="Invalid license key"||t?.message?.includes("status 403")||e.status===403}function Zqe(t){let e=bW(t);return jKt(t)?jde.INVALID_LICENSE_KEY_USER:e.message||(e.reason?`Error: ${e.reason}`:jde.UNKNOWN_ERROR)}async function _W(t,e){let r=t.getMarkdownFiles();for(let n of r)if(n.basename===e)return n;return null}var Lde=(t,e)=>{let r=t.getMarkdownFiles();if(e==="/")return r;let n=e.toLowerCase().replace(/^\/|\/$/g,"");return r.filter(o=>{let a=o.path.toLowerCase().split("/"),s=n.split("/"),u=0;for(let l of s){for(;u<a.length&&a[u]!==l;)u++;if(u>=a.length)return!1}return!0})};function wN(t){return t.replace(/^#/,"").trim().toLowerCase()}function Fde(t,e=!0){let r=app.metadataCache.getFileCache(t),n=r?.frontmatter?.tags,o=new Set;if(!e){let i=r?.tags?.map(a=>a.tag);i&&i.forEach(a=>o.add(wN(a)))}return n&&(Array.isArray(n)?n.forEach(i=>{typeof i=="string"&&o.add(wN(i))}):typeof n=="string"&&o.add(wN(n))),Array.from(o)}function Qqe(t,e,r){if(e.length===0)return[];e=e.map(i=>wN(i));let n=r&&r.length>0?r:Lde(t,"/"),o=[];for(let i of n){let a=Fde(i);e.some(s=>a.includes(s))&&o.push(i)}return o}function eUe(t,e){if(!e)return!1;let r=t.split("/").pop()?.toLowerCase(),n=t.toLowerCase();return e.split(",").map(o=>o.trim().replace(/^\[\[|\]\]$/g,"").replace(/^\//,"").toLowerCase()).some(o=>{let i=n===o||n.startsWith(o+"/")||n.endsWith("/"+o)||n.includes("/"+o+"/"),a=r===o+".md";return i||a})}var NKt=t=>t.last.bound.modelName||t.last.bound.model,LKt=t=>t.last.bound.retriever!==void 0,tUe=t=>NKt(t)||LKt(t);var bs=(t,e="local")=>{let r=(0,Nde.default)(t);return e==="utc"&&r.utc(),{fileName:r.format("YYYYMMDD_HHmmss"),display:r.format("YYYY/MM/DD HH:mm:ss"),epoch:r.valueOf()}};function Bde(t){let e=(0,Nde.default)(t,"YYYY/MM/DD HH:mm:ss");return e.isValid()?{fileName:e.format("YYYYMMDD_HHmmss"),display:e.format("YYYY/MM/DD HH:mm:ss"),epoch:e.valueOf()}:bs(new Date)}async function SN(t,e){return t.extension!="md"?null:await e.cachedRead(t)}function vW(t){return t.basename}function rUe(t,e){return!t||!e?!1:t.includes(Gue)&&e.includes(Gue)||t==="small"&&e==="cohereai"||t==="cohereai"&&e==="small"?!0:t===e}function xN(t){let e=[],{history:r}=t;for(let n=0;n<r.length;n+=2){let o=r[n]?.content||"",i=r[n+1]?.content||"";e.push([o,i])}return e}function _x(t){let e=/\[\[(.*?)\]\]/g,r=t.match(e),n=new Set(r?r.map(o=>o.slice(2,-2)):[]);return Array.from(n)}function nUe(t){return t=t.trim(),t.startsWith("[[")&&t.endsWith("]]")?`${t.slice(2,-2).trim()}.md`:t}function oUe(t){let e=new Set;return t.forEach(r=>{r.metadata?.title&&e.add(r.metadata?.title)}),Array.from(e)}var iUe=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|shorts\/)|youtu\.be\/)([^\s&]+)/;function aUe(t){return iUe.test(t)}function bz(t){let e=t.match(iUe);return e?e[0]:null}var bx=class{static async isImageUrl(e){try{let r=new URL(e);if(this.IMAGE_EXTENSIONS.some(a=>r.pathname.toLowerCase().endsWith(a)))return!0;try{if((await Zu(e,{method:"HEAD",headers:{}})).headers.get("content-type")?.startsWith("image/"))return!0}catch(a){console.debug("Error checking content-type:",a)}let n=r.searchParams;return[n.has("w")||n.has("width"),n.has("h")||n.has("height"),n.has("format"),n.has("fit"),n.has("q")||n.has("quality"),r.pathname.includes("/image/"),r.pathname.includes("/images/"),r.pathname.includes("/img/"),n.has("auto"),n.has("crop")].filter(Boolean).length>=2}catch(r){return console.error("Error checking if URL is image:",r),!1}}static async convertToBase64(e,r){return{type:"image_url",image_url:{url:await this.imageToBase64(e,r)}}}static async imageToBase64(e,r){return e.startsWith("data:")?e:e.startsWith("app://")?await this.handleLocalImage(e,r):await this.handleWebImage(e)}static async handleLocalImage(e,r){let n=decodeURIComponent(e.replace("app://","")),o=r.getAbstractFileByPath(n);if(!o||!(o instanceof vh.TFile))throw new Error(`Local image not found: ${n}`);let i=await r.readBinary(o),s=Buffer.from(i).toString("base64");return`data:${`image/${o.extension}`};base64,${s}`}static async handleWebImage(e){try{let r=await Zu(e,{method:"GET",headers:{}});if(!r.ok)throw new Error(`Failed to fetch image: ${r.statusText}`);let n=r.headers.get("content-type");if(!n?.startsWith("image/"))throw new Error(`Invalid content type: ${n}`);let o=await r.arrayBuffer(),a=Buffer.from(o).toString("base64");return`data:${n};base64,${a}`}catch(r){throw console.error("Error converting image to base64:",r),r}}};bx.IMAGE_EXTENSIONS=[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"];async function Zu(t,e={}){let r=e.headers?{...e.headers}:{};if(delete r["content-length"],typeof e.body=="string"){let a=JSON.parse(e.body??{});delete a.frequency_penalty,e.body=JSON.stringify(a)}let n=e.method?.toLowerCase()||"post",i=await(0,vh.requestUrl)({url:t,contentType:"application/json",headers:r,method:n,...["post","put","patch"].includes(n)&&{body:e.body?.toString()},throw:!1});if(i.status>=400){let a;try{a=typeof i.json=="string"?JSON.parse(i.json):i.json}catch{try{a=typeof i.text=="string"?JSON.parse(i.text):i.text}catch{a=null}}let s=new Error(jde.REQUEST_FAILED(i.status));if(s.json=a,a?.detail?.reason==="Invalid license key"||a?.reason==="Invalid license key")s.message="Invalid license key";else if(a?.detail?.message||a?.message){let u=a?.detail?.message||a?.message,l=a?.detail?.reason||a?.reason;s.message=l?`${u}: ${l}`:u}else a?.detail&&(s.message=JSON.stringify(a.detail));throw s}return{ok:i.status>=200&&i.status<300,status:i.status,statusText:i.status.toString(),headers:new Headers(i.headers),url:t,type:"basic",redirected:!1,bytes:()=>Promise.resolve(new Uint8Array(0)),body:FKt(i.text),bodyUsed:!0,json:()=>i.json,text:async()=>i.text,arrayBuffer:async()=>{if(i.arrayBuffer)return i.arrayBuffer;let a=i.text.replace(/^data:.*;base64,/,""),s=atob(a),u=new Uint8Array(s.length);for(let l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return u.buffer},blob:()=>{throw new Error("not implemented")},formData:()=>{throw new Error("not implemented")},clone:()=>{throw new Error("not implemented")}}}function FKt(t){return new ReadableStream({start(e){let n=new TextEncoder().encode(t);e.enqueue(n),e.close()}})}function sa(t,e=!1){return t instanceof Error?t.message+`
${t?.cause?"more message: "+t.cause.message:""}
${e?t.stack:""}`:JSON.stringify(t)}function kde(t,e){let r={...t};return e.forEach(n=>{delete r[n]}),r}function sUe(t,e){let[r,n]=t.split("|"),o=e.find(i=>i.name===r&&i.provider===n);if(!o)throw new Error(`No model configuration found for: ${t}`);return o}function ZA(t){let e=Zq[t];return{...e,label:e.label||t}}function wh(t,e){let r=Zq[t]?.label||t;return r+(e?.believerExclusive&&r==="Copilot Plus"?"(Believer)":"")}async function _z(t,e=!1){let r=app.workspace.getMostRecentLeaf();if(!r){new vh.Notice("No active leaf found.");return}if(r.view instanceof vh.MarkdownView||(r=app.workspace.getLeaf(!1),await r.setViewState({type:"markdown",state:r.view.getState()})),!(r.view instanceof vh.MarkdownView)){new vh.Notice("Failed to open a markdown view.");return}let n=r.view.editor,o=n.getCursor("from"),i=n.getCursor("to");e?n.replaceRange(t,o,i):n.replaceRange(t,i),new vh.Notice("Message inserted into the active note.")}function uUe(t,e){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>t(...n),e)}}function lUe(t,e){let r=t.split(".").map(Number),n=e.split(".").map(Number);for(let o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}async function cUe(){try{return{version:(await(0,vh.requestUrl)({url:"https://api.github.com/repos/logancyang/obsidian-copilot/releases/latest",method:"GET"})).json.tag_name.replace("v",""),error:null}}catch(t){return{version:null,error:t instanceof Error?t.message:"Failed to check for updates"}}}function QA(t){if(typeof t=="string")return t.startsWith("o1")||t.startsWith("o3");let e=t.modelName||t.model||"";return e.startsWith("o1")||e.startsWith("o3")}function dUe(t,e="system"){return QA(t)?"human":e}function wW(t,e){let r=lE[t.provider];return!t.apiKey&&!e[r]?{hasApiKey:!1,errorNotice:`Please configure API Key for ${t.name} in settings first.
Path: Settings > copilot plugin > Basic Tab > Set Keys`}:{hasApiKey:!0}}var Zmt=k(Q4(),1);ch();yA();nC();ch();df();function Nf(t){return typeof t?.parse=="function"}function QX(t,e){let r=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:Fi(t.schema),...r?.strict!==void 0?{strict:r.strict}:{}}}function VF(t,e){let r=typeof e=="number"?void 0:e,n;return Pg(t)?n={type:"function",function:QX(t)}:n=t,r?.strict!==void 0&&(n.function.strict=r.strict),n}function Djr(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function jjr(t){return t!==void 0&&Qr.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function Njr(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&Nf(t.schema)}function Pg(t){return Njr(t)||jjr(t)||Djr(t)}ch();yA();wj();e3();YO();df();Oy();w5();xq();var ya=class extends HF{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){let[r,n]=super._separateRunnableConfigFromCallOptions(e);return n.signal=r.signal,[r,n]}async invoke(e,r){let n=ya._convertInputToPromptValue(e);return(await this.generatePrompt([n],r,r?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,r,n){throw new Error("Not implemented.")}async*_streamIterator(e,r){if(this._streamResponseChunks===ya.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,r);else{let o=ya._convertInputToPromptValue(e).toChatMessages(),[i,a]=this._separateRunnableConfigFromCallOptionsCompat(r),s={...i.metadata,...this.getLsParams(a)},u=await bi.configure(i.callbacks,this.callbacks,i.tags,this.tags,s,this.metadata,{verbose:this.verbose}),l={options:a,invocation_params:this?.invocationParams(a),batch_size:1},c=await u?.handleChatModelStart(this.toJSON(),[o],i.runId,void 0,l,void 0,void 0,i.runName),d,f;try{for await(let p of this._streamResponseChunks(o,a,c?.[0])){if(p.message.id==null){let m=c?.at(0)?.runId;m!=null&&p.message._updateId(`run-${m}`)}p.message.response_metadata={...p.generationInfo,...p.message.response_metadata},yield p.message,d?d=d.concat(p):d=p,Mse(p.message)&&p.message.usage_metadata!==void 0&&(f={tokenUsage:{promptTokens:p.message.usage_metadata.input_tokens,completionTokens:p.message.usage_metadata.output_tokens,totalTokens:p.message.usage_metadata.total_tokens}})}}catch(p){throw await Promise.all((c??[]).map(m=>m?.handleLLMError(p))),p}await Promise.all((c??[]).map(p=>p?.handleLLMEnd({generations:[[d]],llmOutput:f})))}}getLsParams(e){let r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:r}}async _generateUncached(e,r,n,o){let i=e.map(d=>d.map(Um)),a;if(o!==void 0&&o.length===i.length)a=o;else{let d={...n.metadata,...this.getLsParams(r)},f=await bi.configure(n.callbacks,this.callbacks,n.tags,this.tags,d,this.metadata,{verbose:this.verbose}),p={options:r,invocation_params:this?.invocationParams(r),batch_size:1};a=await f?.handleChatModelStart(this.toJSON(),i,n.runId,void 0,p,void 0,void 0,n.runName)}let s=[],u=[];if(!!a?.[0].handlers.find(xse)&&!this.disableStreaming&&i.length===1&&this._streamResponseChunks!==ya.prototype._streamResponseChunks)try{let d=await this._streamResponseChunks(i[0],r,a?.[0]),f,p;for await(let m of d){if(m.message.id==null){let h=a?.at(0)?.runId;h!=null&&m.message._updateId(`run-${h}`)}f===void 0?f=m:f=yl(f,m),Mse(m.message)&&m.message.usage_metadata!==void 0&&(p={tokenUsage:{promptTokens:m.message.usage_metadata.input_tokens,completionTokens:m.message.usage_metadata.output_tokens,totalTokens:m.message.usage_metadata.total_tokens}})}if(f===void 0)throw new Error("Received empty response from chat model call.");s.push([f]),await a?.[0].handleLLMEnd({generations:s,llmOutput:p})}catch(d){throw await a?.[0].handleLLMError(d),d}else{let d=await Promise.allSettled(i.map((f,p)=>this._generate(f,{...r,promptIndex:p},a?.[p])));await Promise.all(d.map(async(f,p)=>{if(f.status==="fulfilled"){let m=f.value;for(let h of m.generations){if(h.message.id==null){let v=a?.at(0)?.runId;v!=null&&h.message._updateId(`run-${v}`)}h.message.response_metadata={...h.generationInfo,...h.message.response_metadata}}return m.generations.length===1&&(m.generations[0].message.response_metadata={...m.llmOutput,...m.generations[0].message.response_metadata}),s[p]=m.generations,u[p]=m.llmOutput,a?.[p]?.handleLLMEnd({generations:[m.generations],llmOutput:m.llmOutput})}else return await a?.[p]?.handleLLMError(f.reason),Promise.reject(f.reason)}))}let c={generations:s,llmOutput:u.length?this._combineLLMOutput?.(...u):void 0};return Object.defineProperty(c,Iq,{value:a?{runIds:a?.map(d=>d.runId)}:void 0,configurable:!0}),c}async _generateCached({messages:e,cache:r,llmStringKey:n,parsedOptions:o,handledOptions:i}){let a=e.map(v=>v.map(Um)),s={...i.metadata,...this.getLsParams(o)},u=await bi.configure(i.callbacks,this.callbacks,i.tags,this.tags,s,this.metadata,{verbose:this.verbose}),l={options:o,invocation_params:this?.invocationParams(o),batch_size:1},c=await u?.handleChatModelStart(this.toJSON(),a,i.runId,void 0,l,void 0,void 0,i.runName),d=[],p=(await Promise.allSettled(a.map(async(v,g)=>{let _=ya._convertInputToPromptValue(v).toString(),S=await r.lookup(_,n);return S==null&&d.push(g),S}))).map((v,g)=>({result:v,runManager:c?.[g]})).filter(({result:v})=>v.status==="fulfilled"&&v.value!=null||v.status==="rejected"),m=[];await Promise.all(p.map(async({result:v,runManager:g},_)=>{if(v.status==="fulfilled"){let S=v.value;return m[_]=S.map(x=>("message"in x&&sh(x.message)&&Ju(x.message)&&(x.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),x.generationInfo={...x.generationInfo,tokenUsage:{}},x)),S.length&&await g?.handleLLMNewToken(S[0].text),g?.handleLLMEnd({generations:[S]},void 0,void 0,void 0,{cached:!0})}else return await g?.handleLLMError(v.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(v.reason)}));let h={generations:m,missingPromptIndices:d,startedRunManagers:c};return Object.defineProperty(h,Iq,{value:c?{runIds:c?.map(v=>v.runId)}:void 0,configurable:!0}),h}async generate(e,r,n){let o;Array.isArray(r)?o={stop:r}:o=r;let i=e.map(m=>m.map(Um)),[a,s]=this._separateRunnableConfigFromCallOptionsCompat(o);if(a.callbacks=a.callbacks??n,!this.cache)return this._generateUncached(i,s,a);let{cache:u}=this,l=this._getSerializedCacheKeyParametersForCall(s),{generations:c,missingPromptIndices:d,startedRunManagers:f}=await this._generateCached({messages:i,cache:u,llmStringKey:l,parsedOptions:s,handledOptions:a}),p={};if(d.length>0){let m=await this._generateUncached(d.map(h=>i[h]),s,a,f!==void 0?d.map(h=>f?.[h]):void 0);await Promise.all(m.generations.map(async(h,v)=>{let g=d[v];c[g]=h;let _=ya._convertInputToPromptValue(i[g]).toString();return u.update(_,l,h)})),p=m.llmOutput??{}}return{generations:c,llmOutput:p}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,r,n){let o=e.map(i=>i.toChatMessages());return this.generate(o,r,n)}async call(e,r,n){return(await this.generate([e.map(Um)],r,n)).generations[0][0].message}async callPrompt(e,r,n){let o=e.toChatMessages();return this.call(o,r,n)}async predictMessages(e,r,n){return this.call(e,r,n)}async predict(e,r,n){let o=new Xa(e),i=await this.call([o],r,n);if(typeof i.content!="string")throw new Error("Cannot use predict when output is not a string.");return i.content}withStructuredOutput(e,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r?.strict)throw new Error('"strict" mode is not supported for this model by default.');let n=e,o=r?.name,i=n.description??"A function available to call.",a=r?.method,s=r?.includeRaw;if(a==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let u=o??"extract",l;Nf(n)?l=[{type:"function",function:{name:u,description:i,parameters:Fi(n)}}]:("name"in n&&(u=n.name),l=[{type:"function",function:{name:u,description:i,parameters:n}}]);let c=this.bindTools(l),d=Jm.from(h=>{if(!h.tool_calls||h.tool_calls.length===0)throw new Error("No tool calls found in the response.");let v=h.tool_calls.find(g=>g.name===u);if(!v)throw new Error(`No tool call found with name ${u}.`);return v.args});if(!s)return c.pipe(d).withConfig({runName:"StructuredOutput"});let f=Bi.assign({parsed:(h,v)=>d.invoke(h.raw,v)}),p=Bi.assign({parsed:()=>null}),m=f.withFallbacks({fallbacks:[p]});return ni.from([{raw:c},m]).withConfig({runName:"StructuredOutputRunnable"})}};Uh();cA();var dc=[];for(eZ=0;eZ<256;++eZ)dc.push((eZ+256).toString(16).slice(1));var eZ;function Gmt(t,e=0){return(dc[t[e+0]]+dc[t[e+1]]+dc[t[e+2]]+dc[t[e+3]]+"-"+dc[t[e+4]]+dc[t[e+5]]+"-"+dc[t[e+6]]+dc[t[e+7]]+"-"+dc[t[e+8]]+dc[t[e+9]]+"-"+dc[t[e+10]]+dc[t[e+11]]+dc[t[e+12]]+dc[t[e+13]]+dc[t[e+14]]+dc[t[e+15]]).toLowerCase()}var tZ,Ljr=new Uint8Array(16);function Vwe(){if(!tZ&&(tZ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tZ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tZ(Ljr)}var Fjr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wwe={randomUUID:Fjr};function Bjr(t,e,r){if(Wwe.randomUUID&&!e&&!t)return Wwe.randomUUID();t=t||{};var n=t.random||(t.rng||Vwe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return Gmt(n)}var Jwe=Bjr;function Kmt(t){let e=[],r=[];typeof t=="string"?r=[{output:t}]:t instanceof Map||typeof t=="object"&&t!==null&&!Array.isArray(t)?r=[t]:Array.isArray(t)||(r=[{output:t}]);for(let n of r)!(n instanceof Map)&&(typeof n!="object"||n===null)&&(n={output:n}),e.push(n);return e}function rZ(t,e){let r=i=>{switch(i){case"system":return"SYSTEM";case"human":return"USER";case"ai":return"CHATBOT";case"tool":return"TOOL";default:throw new Error(`Unknown message type: '${i}'. Accepted types: 'human', 'ai', 'system', 'tool'`)}},n=i=>{if(typeof i=="string")return i;throw new Error(`ChatCohere does not support non text message content. Received: ${JSON.stringify(i,null,2)}`)},o=i=>Ju(i)&&i.tool_calls?i.tool_calls.map(a=>({name:a.name,parameters:a.args})):[];if(t._getType().toLowerCase()==="ai")return{role:r(t._getType()),message:n(t.content),toolCalls:o(t)};if(t._getType().toLowerCase()==="tool")return{role:r(t._getType()),message:n(t.content),toolResults:e};if(t._getType().toLowerCase()==="human"||t._getType().toLowerCase()==="system")return{role:r(t._getType()),message:n(t.content)};throw new Error("Got unknown message type. Supported types are AIMessage, ToolMessage, HumanMessage, and SystemMessage")}function $jr(t){return"name"in t&&"description"in t&&"parameterDefinitions"in t}function Ymt(t){return t._getType()==="tool"}function Xmt(t){let e="properties"in t?t.properties:{},r="required"in t?t.required:[],n={};return Object.keys(e).forEach(o=>{n[o]=e[o],r===void 0&&(r=[]),n[o].required=r.includes(o)}),n}function qjr(t){if(t){if(t.every($jr))return t;if(t.every(Uw))return t.map(e=>({name:e.function.name,description:e.function.description??"",parameterDefinitions:Xmt(e.function.parameters)}));if(t.every(Pg))return t.map(e=>{let r=Fi(e.schema);return{name:e.name,description:e.description??"",parameterDefinitions:Xmt(r)}});throw new Error("Can not pass in a mix of tool schema types to ChatCohere.")}else return}var nZ=class extends ya{static lc_name(){return"ChatCohere"}constructor(e){super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"command-r-plus"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.3}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0});let r=e?.apiKey??Kt("COHERE_API_KEY");if(!r)throw new Error("No API key provided for ChatCohere.");this.client=new Zmt.CohereClient({token:r}),this.model=e?.model??this.model,this.temperature=e?.temperature??this.temperature,this.streaming=e?.streaming??this.streaming,this.streamUsage=e?.streamUsage??this.streamUsage}getLsParams(e){let r=this.invocationParams(e);return{ls_provider:"cohere",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.temperature??void 0,ls_max_tokens:typeof r.maxTokens=="number"?r.maxTokens:void 0,ls_stop:Array.isArray(r.stopSequences)?r.stopSequences:void 0}}_llmType(){return"cohere"}invocationParams(e){if(e.tool_choice)throw new Error("'tool_choice' call option is not supported by ChatCohere.");let r={model:this.model,preamble:e.preamble,conversationId:e.conversationId,promptTruncation:e.promptTruncation,connectors:e.connectors,searchQueriesOnly:e.searchQueriesOnly,documents:e.documents,temperature:e.temperature??this.temperature,forceSingleStep:e.forceSingleStep,tools:e.tools};return Object.fromEntries(Object.entries(r).filter(([,n])=>n!==void 0))}bindTools(e,r){return this.bind({tools:qjr(e),...r})}_getChatRequest(e,r){let n=this.invocationParams(r),o=this._messagesToCohereToolResultsCurrChatTurn(e),i=[],a="",s=[];if(n.forceSingleStep){a="";for(let l=0;l<e.length-1;l+=1){let c=e[l];if(!(Ju(c)&&c.tool_calls))if(c._getType().toLowerCase()==="tool"){if(s=s.concat(this._messageToCohereToolResults(e,l)),l===e.length-1||e[l+1]._getType().toLowerCase()!=="tool"){let d=rZ(c,s);i.push(d),s=[]}}else i.push(rZ(c,[]))}for(let l=e.length-1;l>=0;l-=1){let c=e[l];if(c._getType().toLowerCase()==="human"&&c.content){a=c.content.toString();break}}}else{for(let l=0;l<e.length-1;l+=1){let c=e[l];if(c._getType().toLowerCase()==="tool"){if(s=s.concat(this._messageToCohereToolResults(e,l)),l===e.length-1||e[l+1]._getType().toLowerCase()!=="tool"){let d=rZ(c,s);i.push(d),s=[]}}else i.push(rZ(c,[]))}a=o.length>0?"":e[e.length-1].content.toString()}return{message:a,chatHistory:i,toolResults:o.length>0?o:void 0,...n}}_getCurrChatTurnMessages(e){let r=[];for(let n=e.length-1;n>=0;n-=1){let o=e[n];if(r.push(o),o._getType().toLowerCase()==="human")break}return r.reverse()}_messagesToCohereToolResultsCurrChatTurn(e){let r=[],n=this._getCurrChatTurnMessages(e);for(let o of n)if(Ymt(o)){let i=o,a=n.filter(s=>Ju(s)&&s.tool_calls!==void 0);if(a.length>0){let s=a[a.length-1];s.tool_calls&&r.push(...s.tool_calls.filter(u=>u.id===i.tool_call_id).map(u=>({call:{name:u.name,parameters:u.args},outputs:Kmt(i.content)})))}}return r}_messageToCohereToolResults(e,r){let n=[],o=e[r];if(!Ymt(o))throw new Error("The message index does not correspond to an instance of ToolMessage");let a=e.slice(0,r).filter(s=>Ju(s)&&s.tool_calls).slice(-1)[0];return a.tool_calls&&n.push(...a.tool_calls.filter(s=>s.id===o.tool_call_id).map(s=>({call:{name:s.name,parameters:s.args},outputs:Kmt(o.content)}))),n}_formatCohereToolCalls(e=null){if(!e)return[];let r=[];for(let n of e)r.push({id:Jwe().substring(0,32),function:{name:n.name,arguments:n.parameters},type:"function"});return r}_convertCohereToolCallToLangchain(e){return e.map(r=>({name:r.function.name,args:r.function.arguments,id:r.id,type:"tool_call"}))}async _generate(e,r,n){let o={},i=this._getChatRequest(e,r);if(this.streaming){let c=this._streamResponseChunks(e,r,n),d={};for await(let p of c){let m=p.generationInfo?.completion??0;d[m]===void 0?d[m]=p:d[m]=d[m].concat(p)}return{generations:Object.entries(d).sort(([p],[m])=>parseInt(p,10)-parseInt(m,10)).map(([p,m])=>m),llmOutput:{estimatedTokenUsage:o}}}let a=await this.caller.callWithOptions({signal:r.signal},async()=>{let c;try{c=await this.client.chat(i)}catch(d){throw d.status=d.status??d.statusCode,d}return c});if(a.meta?.tokens){let{inputTokens:c,outputTokens:d}=a.meta.tokens;d&&(o.completionTokens=(o.completionTokens??0)+d),c&&(o.promptTokens=(o.promptTokens??0)+c),o.totalTokens=(o.totalTokens??0)+(o.promptTokens??0)+(o.completionTokens??0)}let s={...a};delete s.text,a.toolCalls&&a.toolCalls.length>0&&(s.toolCalls=this._formatCohereToolCalls(a.toolCalls));let u=[];return"toolCalls"in s&&(u=this._convertCohereToolCallToLangchain(s.toolCalls)),{generations:[{text:a.text,message:new Po({content:a.text,additional_kwargs:s,tool_calls:u,usage_metadata:{input_tokens:o.promptTokens??0,output_tokens:o.completionTokens??0,total_tokens:o.totalTokens??0}}),generationInfo:s}],llmOutput:{estimatedTokenUsage:o}}}async*_streamResponseChunks(e,r,n){let o=this._getChatRequest(e,r),i=await this.caller.call(async()=>{let a;try{a=await this.client.chatStream(o)}catch(s){throw s.status=s.status??s.statusCode,s}return a});for await(let a of i)if(a.eventType==="text-generation")yield new qo({text:a.text,message:new Ar({content:a.text})}),await n?.handleLLMNewToken(a.text);else if(a.eventType!=="stream-end")yield new qo({text:"",message:new Ar({content:"",additional_kwargs:{...a}}),generationInfo:{...a}});else if(a.eventType==="stream-end"&&(this.streamUsage||r.streamUsage)){let s=a.response.meta?.tokens?.inputTokens??0,u=a.response.meta?.tokens?.outputTokens??0,l={...a.response};a.response.toolCalls&&a.response.toolCalls.length>0&&(l.toolCalls=this._formatCohereToolCalls(a.response.toolCalls));let c=[],d=l.toolCalls??[];d.length>0&&(c=d.map(f=>({name:f.function.name,args:f.function.arguments,id:f.id,index:f.index,type:"tool_call_chunk"}))),yield new qo({text:"",message:new Ar({content:"",additional_kwargs:{eventType:"stream-end"},tool_call_chunks:c,usage_metadata:{input_tokens:s,output_tokens:u,total_tokens:s+u}}),generationInfo:{eventType:"stream-end",...l}})}}_combineLLMOutput(...e){return e.reduce((r,n)=>{if(n&&n.estimatedTokenUsage){let o=r.estimatedTokenUsage?.completionTokens??0,i=r.estimatedTokenUsage?.promptTokens??0,a=r.estimatedTokenUsage?.totalTokens??0;o+=n.estimatedTokenUsage.completionTokens??0,i+=n.estimatedTokenUsage.promptTokens??0,a+=n.estimatedTokenUsage.totalTokens??0,r.estimatedTokenUsage={completionTokens:o,promptTokens:i,totalTokens:a}}return r},{estimatedTokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}};var Ujr=k(Q4(),1);yA();wj();YO();e3();Oy();xq();var egt=k(Q4(),1);Sj();var Mp=class{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new sp(e??{})}};var Tg=(t,e)=>t.reduce((r,n,o)=>{let i=Math.floor(o/e),a=r[i]||[];return r[i]=a.concat([n]),r},[]);var oZ=class extends Mp{constructor(e){let r={maxConcurrency:2,...e};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:48}),Object.defineProperty(this,"embeddingTypes",{enumerable:!0,configurable:!0,writable:!0,value:["float"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let n=r?.apiKey||Kt("COHERE_API_KEY");if(!n)throw new Error("Cohere API key not found");if(this.client=new egt.CohereClient({token:n}),this.model=r?.model??this.model,!this.model)throw new Error("Model not specified for CohereEmbeddings instance. Please provide a model name from the options here: https://docs.cohere.com/reference/embed");this.batchSize=r?.batchSize??this.batchSize,this.embeddingTypes=r?.embeddingTypes??this.embeddingTypes}async embedDocuments(e){let r=Tg(e,this.batchSize),n=r.map(a=>this.embeddingWithRetry({model:this.model,texts:a,inputType:"search_document",embeddingTypes:this.embeddingTypes})),o=await Promise.all(n),i=[];for(let a=0;a<o.length;a+=1){let s=r[a],{embeddings:u}=o[a];for(let l=0;l<s.length;l+=1)"float"in u&&u.float?i.push(u.float[l]):Array.isArray(u)&&i.push(u[l])}return i}async embedQuery(e){let{embeddings:r}=await this.embeddingWithRetry({model:this.model,texts:[e],inputType:"search_query",embeddingTypes:this.embeddingTypes});if("float"in r&&r.float)return r.float[0];if(Array.isArray(r))return r[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(r,null,2)}`)}async embed(e){let{embeddings:r}=await this.embeddingWithRetry(e);if("float"in r&&r.float)return r.float[0];if(Array.isArray(r))return r[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(r,null,2)}`)}async embeddingWithRetry(e){return this.caller.call(async()=>{let r;try{r=await this.client.embed(e)}catch(n){throw n.status=n.status??n.statusCode,n}return r})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}};var zjr=k(Q4(),1);var tgt;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(tgt||(tgt={}));var rgt;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(rgt||(rgt={}));var ngt;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ngt||(ngt={}));var ogt=["user","model","function","system"],jI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(jI||(jI={}));var NI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(NI||(NI={}));var igt;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(igt||(igt={}));var agt;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(agt||(agt={}));var t3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(t3||(t3={}));var sgt;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(sgt||(sgt={}));var LI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(LI||(LI={}));var ugt;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ugt||(ugt={}));var id=class extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}},WP=class extends id{constructor(e,r){super(e),this.response=r}},aZ=class extends id{constructor(e,r,n,o){super(e),this.status=r,this.statusText=n,this.errorDetails=o}},zw=class extends id{};var Hjr="https://generativelanguage.googleapis.com",Vjr="v1beta",Wjr="0.21.0",Jjr="genai-js",FI;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(FI||(FI={}));var Gwe=class{constructor(e,r,n,o,i){this.model=e,this.task=r,this.apiKey=n,this.stream=o,this.requestOptions=i}toString(){var e,r;let n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Vjr,i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Hjr}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}};function Gjr(t){let e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${Jjr}/${Wjr}`),e.join(" ")}async function Kjr(t){var e;let r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Gjr(t.requestOptions)),r.append("x-goog-api-key",t.apiKey);let n=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(o){throw new zw(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${o.message}`)}for(let[o,i]of n.entries()){if(o==="x-goog-api-key")throw new zw(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new zw(`Header name ${o} can only be set using the apiClient field`);r.append(o,i)}}return r}async function Yjr(t,e,r,n,o,i){let a=new Gwe(t,e,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},eNr(i)),{method:"POST",headers:await Kjr(a),body:o})}}async function o3(t,e,r,n,o,i={},a=fetch){let{url:s,fetchOptions:u}=await Yjr(t,e,r,n,o,i);return Xjr(s,u,a)}async function Xjr(t,e,r=fetch){let n;try{n=await r(t,e)}catch(o){Zjr(o,t)}return n.ok||await Qjr(n,t),n}function Zjr(t,e){let r=t;throw t instanceof aZ||t instanceof zw||(r=new id(`Error fetching from ${e.toString()}: ${t.message}`),r.stack=t.stack),r}async function Qjr(t,e){let r="",n;try{let o=await t.json();r=o.error.message,o.error.details&&(r+=` ${JSON.stringify(o.error.details)}`,n=o.error.details)}catch{}throw new aZ(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${r}`,t.status,t.statusText,n)}function eNr(t){let e={};if(t?.signal!==void 0||t?.timeout>=0){let r=new AbortController;t?.timeout>=0&&setTimeout(()=>r.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{r.abort()}),e.signal=r.signal}return e}function Ywe(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),iZ(t.candidates[0]))throw new WP(`${JP(t)}`,t);return tNr(t)}else if(t.promptFeedback)throw new WP(`Text not available. ${JP(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),iZ(t.candidates[0]))throw new WP(`${JP(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),lgt(t)[0]}else if(t.promptFeedback)throw new WP(`Function call not available. ${JP(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),iZ(t.candidates[0]))throw new WP(`${JP(t)}`,t);return lgt(t)}else if(t.promptFeedback)throw new WP(`Function call not available. ${JP(t)}`,t)},t}function tNr(t){var e,r,n,o;let i=[];if(!((r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0)&&r.parts)for(let a of(o=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||o===void 0?void 0:o.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function lgt(t){var e,r,n,o;let i=[];if(!((r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0)&&r.parts)for(let a of(o=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||o===void 0?void 0:o.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}var rNr=[t3.RECITATION,t3.SAFETY,t3.LANGUAGE];function iZ(t){return!!t.finishReason&&rNr.includes(t.finishReason)}function JP(t){var e,r,n;let o="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)o+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(o+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((n=t.candidates)===null||n===void 0)&&n[0]){let i=t.candidates[0];iZ(i)&&(o+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(o+=`: ${i.finishMessage}`))}return o}function r3(t){return this instanceof r3?(this.v=t,this):new r3(t)}function nNr(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){n[f]&&(o[f]=function(p){return new Promise(function(m,h){i.push([f,p,m,h])>1||s(f,p)})})}function s(f,p){try{u(n[f](p))}catch(m){d(i[0][3],m)}}function u(f){f.value instanceof r3?Promise.resolve(f.value.v).then(l,c):d(i[0][2],f)}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}}var cgt=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function oNr(t){let e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=sNr(e),[n,o]=r.tee();return{stream:aNr(n),response:iNr(o)}}async function iNr(t){let e=[],r=t.getReader();for(;;){let{done:n,value:o}=await r.read();if(n)return Ywe(uNr(e));e.push(o)}}function aNr(t){return nNr(this,arguments,function*(){let r=t.getReader();for(;;){let{value:n,done:o}=yield r3(r.read());if(o)break;yield yield r3(Ywe(n))}})}function sNr(t){let e=t.getReader();return new ReadableStream({start(n){let o="";return i();function i(){return e.read().then(({value:a,done:s})=>{if(s){if(o.trim()){n.error(new id("Failed to parse stream"));return}n.close();return}o+=a;let u=o.match(cgt),l;for(;u;){try{l=JSON.parse(u[1])}catch{n.error(new id(`Error parsing JSON response: "${u[1]}"`));return}n.enqueue(l),o=o.substring(u[0].length),u=o.match(cgt)}return i()})}}})}function uNr(t){let e=t[t.length-1],r={promptFeedback:e?.promptFeedback};for(let n of t){if(n.candidates)for(let o of n.candidates){let i=o.index;if(r.candidates||(r.candidates=[]),r.candidates[i]||(r.candidates[i]={index:o.index}),r.candidates[i].citationMetadata=o.citationMetadata,r.candidates[i].groundingMetadata=o.groundingMetadata,r.candidates[i].finishReason=o.finishReason,r.candidates[i].finishMessage=o.finishMessage,r.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[i].content||(r.candidates[i].content={role:o.content.role||"user",parts:[]});let a={};for(let s of o.content.parts)s.text&&(a.text=s.text),s.functionCall&&(a.functionCall=s.functionCall),s.executableCode&&(a.executableCode=s.executableCode),s.codeExecutionResult&&(a.codeExecutionResult=s.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[i].content.parts.push(a)}}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}async function hgt(t,e,r,n){let o=await o3(e,FI.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(r),n);return oNr(o)}async function mgt(t,e,r,n){let i=await(await o3(e,FI.GENERATE_CONTENT,t,!1,JSON.stringify(r),n)).json();return{response:Ywe(i)}}function ggt(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function n3(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(let r of t)typeof r=="string"?e.push({text:r}):e.push(r);return lNr(e)}function lNr(t){let e={role:"user",parts:[]},r={role:"function",parts:[]},n=!1,o=!1;for(let i of t)"functionResponse"in i?(r.parts.push(i),o=!0):(e.parts.push(i),n=!0);if(n&&o)throw new id("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!o)throw new id("No content is provided for sending chat message.");return n?e:r}function cNr(t,e){var r;let n={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(r=e?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]},o=t.generateContentRequest!=null;if(t.contents){if(o)throw new zw("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=t.contents}else if(o)n=Object.assign(Object.assign({},n),t.generateContentRequest);else{let i=n3(t);n.contents=[i]}return{generateContentRequest:n}}function dgt(t){let e;return t.contents?e=t:e={contents:[n3(t)]},t.systemInstruction&&(e.systemInstruction=ggt(t.systemInstruction)),e}function dNr(t){return typeof t=="string"||Array.isArray(t)?{content:n3(t)}:t}var fgt=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],fNr={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function pNr(t){let e=!1;for(let r of t){let{role:n,parts:o}=r;if(!e&&n!=="user")throw new id(`First content should be with role 'user', got ${n}`);if(!ogt.includes(n))throw new id(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(ogt)}`);if(!Array.isArray(o))throw new id("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new id("Each Content should have at least one part");let i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let s of o)for(let u of fgt)u in s&&(i[u]+=1);let a=fNr[n];for(let s of fgt)if(!a.includes(s)&&i[s]>0)throw new id(`Content with role '${n}' can't contain '${s}' part`);e=!0}}var pgt="SILENT_ERROR",Kwe=class{constructor(e,r,n,o={}){this.model=r,this.params=n,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n?.history&&(pNr(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,r={}){var n,o,i,a,s,u;await this._sendPromise;let l=n3(e),c={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(s=this.params)===null||s===void 0?void 0:s.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),r),f;return this._sendPromise=this._sendPromise.then(()=>mgt(this._apiKey,this.model,c,d)).then(p=>{var m;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(l);let h=Object.assign({parts:[],role:"model"},(m=p.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(h)}else{let h=JP(p.response);h&&console.warn(`sendMessage() was unsuccessful. ${h}. Inspect response object for details.`)}f=p}),await this._sendPromise,f}async sendMessageStream(e,r={}){var n,o,i,a,s,u;await this._sendPromise;let l=n3(e),c={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(s=this.params)===null||s===void 0?void 0:s.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),r),f=hgt(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(pgt)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(l);let m=Object.assign({},p.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{let m=JP(p);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(p=>{p.message!==pgt&&console.error(p)}),f}};async function hNr(t,e,r,n){return(await o3(e,FI.COUNT_TOKENS,t,!1,JSON.stringify(r),n)).json()}async function mNr(t,e,r,n){return(await o3(e,FI.EMBED_CONTENT,t,!1,JSON.stringify(r),n)).json()}async function gNr(t,e,r,n){let o=r.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await o3(e,FI.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:o}),n)).json()}var sZ=class{constructor(e,r,n={}){this.apiKey=e,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=ggt(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(e,r={}){var n;let o=dgt(e),i=Object.assign(Object.assign({},this._requestOptions),r);return mgt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},o),i)}async generateContentStream(e,r={}){var n;let o=dgt(e),i=Object.assign(Object.assign({},this._requestOptions),r);return hgt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},o),i)}startChat(e){var r;return new Kwe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},e),this._requestOptions)}async countTokens(e,r={}){let n=cNr(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),r);return hNr(this.apiKey,this.model,n,o)}async embedContent(e,r={}){let n=dNr(e),o=Object.assign(Object.assign({},this._requestOptions),r);return mNr(this.apiKey,this.model,n,o)}async batchEmbedContents(e,r={}){let n=Object.assign(Object.assign({},this._requestOptions),r);return gNr(this.apiKey,this.model,e,n)}};var BI=class{constructor(e){this.apiKey=e}getGenerativeModel(e,r){if(!e.model)throw new id("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new sZ(this.apiKey,e,r)}getGenerativeModelFromCachedContent(e,r,n){if(!e.name)throw new zw("Cached content must contain a `name` field.");if(!e.model)throw new zw("Cached content must contain a `model` field.");let o=["model","systemInstruction"];for(let a of o)if(r?.[a]&&e[a]&&r?.[a]!==e[a]){if(a==="model"){let s=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(s===u)continue}throw new zw(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${e[a]})`)}let i=Object.assign(Object.assign({},r),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new sZ(this.apiKey,i,n)}};rx();ch();function WF(t){if(typeof t=="object"&&t!==null){let e={...t};"additionalProperties"in e&&delete e.additionalProperties,"$schema"in e&&delete e.$schema;for(let r in e)r in e&&(Array.isArray(e[r])?e[r]=e[r].map(WF):typeof e[r]=="object"&&e[r]!==null&&(e[r]=WF(e[r])));return e}return t}function uZ(t){let e=WF(Fi(t)),{$schema:r,...n}=e;return n}function ygt(t){let e=WF(t),{$schema:r,...n}=e;return n}Uh();nC();function yNr(t){let e=t._getType();return Gl.isInstance(t)?t.role:e==="tool"?e:t.name??e}function bNr(t){switch(t){case"ai":case"model":return"model";case"system":return"system";case"human":return"user";case"tool":case"function":return"function";default:throw new Error(`Unknown / unsupported author: ${t}`)}}function _Nr(t){if("mimeType"in t&&"data"in t)return{inlineData:{mimeType:t.mimeType,data:t.data}};throw new Error("Invalid media content")}function vNr(t,e){if(typeof t.content=="string"&&t.content!=="")return[{text:t.content}];let r=[],n=[],o=[];return"tool_calls"in t&&Array.isArray(t.tool_calls)&&t.tool_calls.length>0?r=t.tool_calls.map(i=>({functionCall:{name:i.name,args:i.args}})):t.getType()==="tool"&&t.name&&t.content?n=[{functionResponse:{name:t.name,response:t.content}}]:Array.isArray(t.content)&&(o=t.content.map(i=>{if(i.type==="text")return{text:i.text};if(i.type==="executableCode")return{executableCode:i.executableCode};if(i.type==="codeExecutionResult")return{codeExecutionResult:i.codeExecutionResult};if(i.type==="image_url"){if(!e)throw new Error("This model does not support images");let a;if(typeof i.image_url=="string")a=i.image_url;else if(typeof i.image_url=="object"&&"url"in i.image_url)a=i.image_url.url;else throw new Error("Please provide image as base64 encoded data URL");let[s,u]=a.split(",");if(!s.startsWith("data:"))throw new Error("Please provide image as base64 encoded data URL");let[l,c]=s.replace(/^data:/,"").split(";");if(c!=="base64")throw new Error("Please provide image as base64 encoded data URL");return{inlineData:{data:u,mimeType:l}}}else{if(i.type==="media")return _Nr(i);if(i.type==="tool_use")return{functionCall:{name:i.name,args:i.input}}}throw new Error(`Unknown content type ${i.type}`)})),[...o,...r,...n]}function Xwe(t,e,r=!1){return t.reduce((n,o,i)=>{if(!sh(o))throw new Error("Unsupported message input");let a=yNr(o);if(a==="system"&&i!==0)throw new Error("System message should be the first one");let s=bNr(a),u=n.content[n.content.length];if(!n.mergeWithPreviousContent&&u&&u.role===s)throw new Error("Google Generative AI requires alternate messages between authors");let l=vNr(o,e);if(n.mergeWithPreviousContent){let f=n.content[n.content.length-1];if(!f)throw new Error("There was a problem parsing your system message. Please try a prompt without one.");return f.parts.push(...l),{mergeWithPreviousContent:!1,content:n.content}}let c=s;(c==="function"||c==="system"&&!r)&&(c="user");let d={role:c,parts:l};return{mergeWithPreviousContent:a==="system"&&!r,content:[...n.content,d]}},{content:[],mergeWithPreviousContent:!1}).content}function bgt(t,e){if(!t.candidates||t.candidates.length===0||!t.candidates[0])return{generations:[],llmOutput:{filters:t.promptFeedback}};let r=t.functionCalls(),[n]=t.candidates,{content:o,...i}=n,a;o?.parts.length===1&&o.parts[0].text?a=o.parts[0].text:a=o.parts.map(l=>"text"in l?{type:"text",text:l.text}:"executableCode"in l?{type:"executableCode",executableCode:l.executableCode}:"codeExecutionResult"in l?{type:"codeExecutionResult",codeExecutionResult:l.codeExecutionResult}:l);let s="";return typeof a=="string"?s=a:"text"in a[0]&&(s=a[0].text),{generations:[{text:s,message:new Po({content:a,tool_calls:r?.map(l=>({...l,type:"tool_call"})),additional_kwargs:{...i},usage_metadata:e?.usageMetadata}),generationInfo:i}]}}function _gt(t,e){if(!t.candidates||t.candidates.length===0)return null;let r=t.functionCalls(),[n]=t.candidates,{content:o,...i}=n,a;o?.parts&&o.parts.every(l=>"text"in l)?a=o.parts.map(l=>l.text).join(""):o.parts&&(a=o.parts.map(l=>"text"in l?{type:"text",text:l.text}:"executableCode"in l?{type:"executableCode",executableCode:l.executableCode}:"codeExecutionResult"in l?{type:"codeExecutionResult",codeExecutionResult:l.codeExecutionResult}:l));let s="";a&&typeof a=="string"?s=a:a&&typeof a=="object"&&"text"in a[0]&&(s=a[0].text);let u=[];return r&&u.push(...r.map(l=>({...l,args:JSON.stringify(l.args),index:e.index,type:"tool_call_chunk"}))),new qo({text:s,message:new Ar({content:a||"",name:o?o.role:void 0,tool_call_chunks:u,additional_kwargs:{},usage_metadata:e.usageMetadata}),generationInfo:i})}function vgt(t){return t.every(e=>"functionDeclarations"in e&&Array.isArray(e.functionDeclarations))?t:[{functionDeclarations:t.map(e=>{if(Pg(e)){let r=uZ(e.schema);return{name:e.name,description:e.description,parameters:r}}return Uw(e)?{name:e.function.name,description:e.function.description??"A function available to call.",parameters:ygt(e.function.parameters)}:e})}]}eE();var i3=class extends bA{static lc_name(){return"GoogleGenerativeAIToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","google_genai","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;let r=await this.zodSchema.safeParseAsync(e);if(r.success)return r.data;throw new up(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(r.error.errors)}`,JSON.stringify(e,null,2))}async parseResult(e){let r=e.flatMap(i=>{let{message:a}=i;return!("tool_calls"in a)||!Array.isArray(a.tool_calls)?[]:a.tool_calls});if(r[0]===void 0)throw new Error("No parseable tool calls provided to GoogleGenerativeAIToolsOutputParser.");let[n]=r;return await this._validateResult(n.args)}};nC();function Zwe(t,e){let r=wNr(t),n=xNr(r,e);return{tools:r,toolConfig:n}}function wNr(t){let e=[],r=[];return t.forEach(o=>{if(Pg(o)){let[i]=vgt([o]);i.functionDeclarations&&e.push(...i.functionDeclarations)}else if(Uw(o)){let{functionDeclarations:i}=SNr(o);if(i)e.push(...i);else throw new Error("Failed to convert OpenAI structured tool to GenerativeAI tool")}else r.push(o)}),r.find(o=>"functionDeclarations"in o)?r.map(o=>{if(e?.length>0&&"functionDeclarations"in o){let i={functionDeclarations:[...o.functionDeclarations||[],...e]};return e=[],i}return o}):[...r,...e.length>0?[{functionDeclarations:e}]:[]]}function SNr(t){return{functionDeclarations:[{name:t.function.name,description:t.function.description,parameters:WF(t.function.parameters)}]}}function xNr(t,e){if(!t.length||!e)return;let{toolChoice:r,allowedFunctionNames:n}=e,o={any:LI.ANY,auto:LI.AUTO,none:LI.NONE};if(r&&["any","auto","none"].includes(r))return{functionCallingConfig:{mode:o[r]??"MODE_UNSPECIFIED",allowedFunctionNames:n}};if(typeof r=="string"||n)return{functionCallingConfig:{mode:LI.ANY,allowedFunctionNames:[...n??[],...r&&typeof r=="string"?[r]:[]]}}}var lZ=class extends ya{static lc_name(){return"ChatGoogleGenerativeAI"}get lc_secrets(){return{apiKey:"GOOGLE_API_KEY"}}get lc_aliases(){return{apiKey:"google_api_key"}}get _isMultimodalModel(){return this.model.includes("vision")||this.model.startsWith("gemini-1.5")||this.model.startsWith("gemini-2")}constructor(e){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","google_genai"]}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOutputTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"safetySettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"convertSystemMessageToHumanContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model?.replace(/^models\//,"")??e?.modelName?.replace(/^models\//,"")??this.model,this.model=this.modelName,this.maxOutputTokens=e?.maxOutputTokens??this.maxOutputTokens,this.maxOutputTokens&&this.maxOutputTokens<0)throw new Error("`maxOutputTokens` must be a positive integer");if(this.temperature=e?.temperature??this.temperature,this.temperature&&(this.temperature<0||this.temperature>1))throw new Error("`temperature` must be in the range of [0.0,1.0]");if(this.topP=e?.topP??this.topP,this.topP&&this.topP<0)throw new Error("`topP` must be a positive integer");if(this.topP&&this.topP>1)throw new Error("`topP` must be below 1.");if(this.topK=e?.topK??this.topK,this.topK&&this.topK<0)throw new Error("`topK` must be a positive integer");if(this.stopSequences=e?.stopSequences??this.stopSequences,this.apiKey=e?.apiKey??Kt("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environment variable GOOGLE_API_KEY or in the `apiKey` field of the ChatGoogleGenerativeAI constructor");if(this.safetySettings=e?.safetySettings??this.safetySettings,this.safetySettings&&this.safetySettings.length>0&&new Set(this.safetySettings.map(n=>n.category)).size!==this.safetySettings.length)throw new Error("The categories in `safetySettings` array must be unique");this.streaming=e?.streaming??this.streaming,this.client=new BI(this.apiKey).getGenerativeModel({model:this.model,safetySettings:this.safetySettings,generationConfig:{candidateCount:1,stopSequences:this.stopSequences,maxOutputTokens:this.maxOutputTokens,temperature:this.temperature,topP:this.topP,topK:this.topK,...e?.json?{responseMimeType:"application/json"}:{}}},{apiVersion:e?.apiVersion,baseUrl:e?.baseUrl}),this.streamUsage=e?.streamUsage??this.streamUsage}useCachedContent(e,r,n){this.apiKey&&(this.client=new BI(this.apiKey).getGenerativeModelFromCachedContent(e,r,n))}get useSystemInstruction(){return typeof this.convertSystemMessageToHumanContent=="boolean"?!this.convertSystemMessageToHumanContent:this.computeUseSystemInstruction}get computeUseSystemInstruction(){return this.modelName==="gemini-1.0-pro-001"||this.modelName.startsWith("gemini-pro-vision")||this.modelName.startsWith("gemini-1.0-pro-vision")?!1:this.modelName!=="gemini-pro"}getLsParams(e){return{ls_provider:"google_genai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.client.generationConfig.temperature,ls_max_tokens:this.client.generationConfig.maxOutputTokens,ls_stop:e.stop}}_combineLLMOutput(){return[]}_llmType(){return"googlegenerativeai"}bindTools(e,r){return this.bind({tools:Zwe(e)?.tools,...r})}invocationParams(e){let r=e?.tools?.length?Zwe(e.tools,{toolChoice:e.tool_choice,allowedFunctionNames:e.allowedFunctionNames}):void 0;return{...r?.tools?{tools:r.tools}:{},...r?.toolConfig?{toolConfig:r.toolConfig}:{}}}async _generate(e,r,n){let o=Xwe(e,this._isMultimodalModel,this.useSystemInstruction),i=o;if(o[0].role==="system"){let[c]=o;this.client.systemInstruction=c,i=o.slice(1)}let a=this.invocationParams(r);if(this.streaming){let c={},d=this._streamResponseChunks(e,r,n),f={};for await(let m of d){let h=m.generationInfo?.completion??0;f[h]===void 0?f[h]=m:f[h]=f[h].concat(m)}return{generations:Object.entries(f).sort(([m],[h])=>parseInt(m,10)-parseInt(h,10)).map(([m,h])=>h),llmOutput:{estimatedTokenUsage:c}}}let s=await this.completionWithRetry({...a,contents:i}),u;if("usageMetadata"in s.response){let c=s.response.usageMetadata;u={input_tokens:c.promptTokenCount??0,output_tokens:c.candidatesTokenCount??0,total_tokens:c.totalTokenCount??0}}let l=bgt(s.response,{usageMetadata:u});return await n?.handleLLMNewToken(l.generations[0].text??""),l}async*_streamResponseChunks(e,r,n){let o=Xwe(e,this._isMultimodalModel,this.useSystemInstruction),i=o;if(o[0].role==="system"){let[d]=o;this.client.systemInstruction=d,i=o.slice(1)}let s={...this.invocationParams(r),contents:i},u=await this.caller.callWithOptions({signal:r?.signal},async()=>{let{stream:d}=await this.client.generateContentStream(s);return d}),l,c=0;for await(let d of u){if("usageMetadata"in d&&this.streamUsage!==!1&&r.streamUsage!==!1){let p=d.usageMetadata;if(!l)l={input_tokens:p.promptTokenCount,output_tokens:p.candidatesTokenCount,total_tokens:p.totalTokenCount};else{let m=p.candidatesTokenCount-l.output_tokens;l={input_tokens:0,output_tokens:m,total_tokens:m}}}let f=_gt(d,{usageMetadata:l,index:c});c+=1,f&&(yield f,await n?.handleLLMNewToken(f.text??""))}}async completionWithRetry(e,r){return this.caller.callWithOptions({signal:r?.signal},async()=>{try{return await this.client.generateContent(e)}catch(n){throw n.message?.includes("400 Bad Request")&&(n.status=400),n}})}withStructuredOutput(e,r){let n=e,o=r?.name,i=r?.method,a=r?.includeRaw;if(i==="jsonMode")throw new Error('ChatGoogleGenerativeAI only supports "functionCalling" as a method.');let s=o??"extract",u,l;if(Nf(n)){let m=uZ(n);l=[{functionDeclarations:[{name:s,description:m.description??"A function available to call.",parameters:m}]}],u=new i3({returnSingle:!0,keyName:s,zodSchema:n})}else{let m;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(m=n,s=n.name):m={name:s,description:n.description??"",parameters:n},l=[{functionDeclarations:[m]}],u=new i3({returnSingle:!0,keyName:s})}let c=this.bind({tools:l,tool_choice:s});if(!a)return c.pipe(u).withConfig({runName:"ChatGoogleGenerativeAIStructuredOutput"});let d=Bi.assign({parsed:(m,h)=>u.invoke(m.raw,h)}),f=Bi.assign({parsed:()=>null}),p=d.withFallbacks({fallbacks:[f]});return ni.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}};var cZ=class extends Mp{constructor(e){if(super(e??{}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"taskType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxBatchSize",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model?.replace(/^models\//,"")??e?.modelName?.replace(/^models\//,"")??this.modelName,this.model=this.modelName,this.taskType=e?.taskType??this.taskType,this.title=e?.title??this.title,this.title&&this.taskType!=="RETRIEVAL_DOCUMENT")throw new Error("title can only be sepcified with TaskType.RETRIEVAL_DOCUMENT");if(this.apiKey=e?.apiKey??Kt("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environmentb variable GOOGLE_API_KEY or in the `apiKey` field of the GoogleGenerativeAIEmbeddings constructor");this.client=new BI(this.apiKey).getGenerativeModel({model:this.model})}_convertToContent(e){return{content:{role:"user",parts:[{text:this.stripNewLines?e.replace(/\n/g," "):e}]},taskType:this.taskType,title:this.title}}async _embedQueryContent(e){let r=this._convertToContent(e);return(await this.client.embedContent(r)).embedding.values??[]}async _embedDocumentsContent(e){let r=Tg(e,this.maxBatchSize),n=r.map(a=>({requests:a.map(s=>this._convertToContent(s))}));return(await Promise.allSettled(n.map(a=>this.client.batchEmbedContents(a)))).flatMap((a,s)=>a.status==="fulfilled"?a.value.embeddings.map(u=>u.values||[]):Array(r[s].length).fill([]))}embedQuery(e){return this.caller.call(this._embedQueryContent.bind(this),e)}embedDocuments(e){return this.caller.call(this._embedDocumentsContent.bind(this),e)}};var fc=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window||{},kd={searchParams:"URLSearchParams"in fc,iterable:"Symbol"in fc&&"iterator"in Symbol,blob:"FileReader"in fc&&"Blob"in fc&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in fc,arrayBuffer:"ArrayBuffer"in fc};function CNr(t){return t&&DataView.prototype.isPrototypeOf(t)}kd.arrayBuffer&&(wgt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],xgt=ArrayBuffer.isView||function(t){return t&&wgt.indexOf(Object.prototype.toString.call(t))>-1});var wgt,xgt;function JF(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function eSe(t){return typeof t!="string"&&(t=String(t)),t}function tSe(t){var e={next:function(){var r=t.shift();return{done:r===void 0,value:r}}};return kd.iterable&&(e[Symbol.iterator]=function(){return e}),e}function nl(t){this.map={},t instanceof nl?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}nl.prototype.append=function(t,e){t=JF(t),e=eSe(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};nl.prototype.delete=function(t){delete this.map[JF(t)]};nl.prototype.get=function(t){return t=JF(t),this.has(t)?this.map[t]:null};nl.prototype.has=function(t){return this.map.hasOwnProperty(JF(t))};nl.prototype.set=function(t,e){this.map[JF(t)]=eSe(e)};nl.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};nl.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),tSe(t)};nl.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),tSe(t)};nl.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),tSe(t)};kd.iterable&&(nl.prototype[Symbol.iterator]=nl.prototype.entries);function Qwe(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Cgt(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function ONr(t){var e=new FileReader,r=Cgt(e);return e.readAsArrayBuffer(t),r}function ENr(t){var e=new FileReader,r=Cgt(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),o=n?n[1]:"utf-8";return e.readAsText(t,o),r}function PNr(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function Sgt(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ogt(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:kd.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:kd.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:kd.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():kd.arrayBuffer&&kd.blob&&CNr(t)?(this._bodyArrayBuffer=Sgt(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):kd.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||xgt(t))?this._bodyArrayBuffer=Sgt(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):kd.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},kd.blob&&(this.blob=function(){var t=Qwe(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Qwe(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(kd.blob)return this.blob().then(ONr);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=Qwe(this);if(t)return t;if(this._bodyBlob)return ENr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(PNr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},kd.formData&&(this.formData=function(){return this.text().then(ANr)}),this.json=function(){return this.text().then(JSON.parse)},this}var TNr=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function MNr(t){var e=t.toUpperCase();return TNr.indexOf(e)>-1?e:t}function $I(t,e){if(!(this instanceof $I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof $I){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new nl(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new nl(e.headers)),this.method=MNr(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in fc){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$I.prototype.clone=function(){return new $I(this,{body:this._bodyInit})};function ANr(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(i))}}),e}function RNr(t){var e=new nl,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var o=n.split(":"),i=o.shift().trim();if(i){var a=o.join(":").trim();try{e.append(i,a)}catch(s){console.warn("Response "+s.message)}}}),e}Ogt.call($I.prototype);function Hw(t,e){if(!(this instanceof Hw))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new nl(e.headers),this.url=e.url||"",this._initBody(t)}Ogt.call(Hw.prototype);Hw.prototype.clone=function(){return new Hw(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new nl(this.headers),url:this.url})};Hw.error=function(){var t=new Hw(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var INr=[301,302,303,307,308];Hw.redirect=function(t,e){if(INr.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Hw(null,{status:e,headers:{location:t}})};var kI=fc.DOMException;try{new kI}catch{kI=function(e,r){this.message=e,this.name=r;var n=Error(e);this.stack=n.stack},kI.prototype=Object.create(Error.prototype),kI.prototype.constructor=kI}function Egt(t,e){return new Promise(function(r,n){var o=new $I(t,e);if(o.signal&&o.signal.aborted)return n(new kI("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var l={statusText:i.statusText,headers:RNr(i.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(i.status<200||i.status>599)?l.status=200:l.status=i.status,l.url="responseURL"in i?i.responseURL:l.headers.get("X-Request-URL");var c="response"in i?i.response:i.responseText;setTimeout(function(){r(new Hw(c,l))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new kI("Aborted","AbortError"))},0)};function s(l){try{return l===""&&fc.location.href?fc.location.href:l}catch{return l}}if(i.open(o.method,s(o.url),!0),o.credentials==="include"?i.withCredentials=!0:o.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(kd.blob?i.responseType="blob":kd.arrayBuffer&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof nl||fc.Headers&&e.headers instanceof fc.Headers)){var u=[];Object.getOwnPropertyNames(e.headers).forEach(function(l){u.push(JF(l)),i.setRequestHeader(l,eSe(e.headers[l]))}),o.headers.forEach(function(l,c){u.indexOf(c)===-1&&i.setRequestHeader(c,l)})}else o.headers.forEach(function(l,c){i.setRequestHeader(c,l)});o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&o.signal.removeEventListener("abort",a)}),i.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}Egt.polyfill=!0;fc.fetch||(fc.fetch=Egt,fc.Headers=nl,fc.Request=$I,fc.Response=Hw);var DNr="0.5.9",jNr=Object.defineProperty,NNr=(t,e,r)=>e in t?jNr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rSe=(t,e,r)=>(NNr(t,typeof e!="symbol"?e+"":e,r),r),a3=class extends Error{constructor(e,r){super(e),this.error=e,this.status_code=r,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,a3)}},oSe=class{constructor(e,r,n){rSe(this,"abortController"),rSe(this,"itr"),rSe(this,"doneCallback"),this.abortController=e,this.itr=r,this.doneCallback=n}abort(){this.abortController.abort()}async*[Symbol.asyncIterator](){for await(let e of this.itr){if("error"in e)throw new Error(e.error);if(yield e,e.done||e.status==="success"){this.doneCallback();return}}throw new Error("Did not receive done or success response in stream.")}},iSe=async t=>{if(t.ok)return;let e=`Error ${t.status}: ${t.statusText}`,r=null;if(t.headers.get("content-type")?.includes("application/json"))try{r=await t.json(),e=r.error||e}catch{console.log("Failed to parse error response as JSON")}else try{console.log("Getting text from response"),e=await t.text()||e}catch{console.log("Failed to get text from error response")}throw new a3(e,t.status)};function LNr(){return typeof window<"u"&&window.navigator?`${window.navigator.platform.toLowerCase()} Browser/${navigator.userAgent};`:typeof process<"u"?`${process.arch} ${process.platform} Node.js/${process.version}`:""}var aSe=async(t,e,r={})=>{let n={"Content-Type":"application/json",Accept:"application/json","User-Agent":`ollama-js/${DNr} (${LNr()})`};return r.headers||(r.headers={}),r.headers={...n,...r.headers},t(e,r)},Pgt=async(t,e)=>{let r=await aSe(t,e);return await iSe(r),r};var GF=async(t,e,r,n)=>{let i=(s=>s!==null&&typeof s=="object"&&!Array.isArray(s))(r)?JSON.stringify(r):r,a=await aSe(t,e,{method:"POST",body:i,signal:n?.signal,headers:n?.headers});return await iSe(a),a},FNr=async(t,e,r)=>{let n=await aSe(t,e,{method:"DELETE",body:JSON.stringify(r)});return await iSe(n),n},BNr=async function*(t){let e=new TextDecoder("utf-8"),r="",n=t.getReader();for(;;){let{done:o,value:i}=await n.read();if(o)break;r+=e.decode(i);let a=r.split(`
`);r=a.pop()??"";for(let s of a)try{yield JSON.parse(s)}catch{console.warn("invalid json: ",s)}}for(let o of r.split(`
`).filter(i=>i!==""))try{yield JSON.parse(o)}catch{console.warn("invalid json: ",o)}},kNr=t=>{if(!t)return"http://127.0.0.1:11434";let e=t.includes("://");t.startsWith(":")&&(t=`http://127.0.0.1${t}`,e=!0),e||(t=`http://${t}`);let r=new URL(t),n=r.port;n||(e?n=r.protocol==="https:"?"443":"80":n="11434");let o=`${r.protocol}//${r.hostname}:${n}${r.pathname}`;return o.endsWith("/")&&(o=o.slice(0,-1)),o},$Nr=Object.defineProperty,qNr=(t,e,r)=>e in t?$Nr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nSe=(t,e,r)=>(qNr(t,typeof e!="symbol"?e+"":e,r),r),qI=class{constructor(e){nSe(this,"config"),nSe(this,"fetch"),nSe(this,"ongoingStreamedRequests",[]),this.config={host:""},e?.proxy||(this.config.host=kNr(e?.host??"http://127.0.0.1:11434")),this.fetch=fetch,e?.fetch!=null&&(this.fetch=e.fetch)}abort(){for(let e of this.ongoingStreamedRequests)e.abort();this.ongoingStreamedRequests.length=0}async processStreamableRequest(e,r){r.stream=r.stream??!1;let n=`${this.config.host}/api/${e}`;if(r.stream){let i=new AbortController,a=await GF(this.fetch,n,r,{signal:i.signal,headers:this.config.headers});if(!a.body)throw new Error("Missing body");let s=BNr(a.body),u=new oSe(i,s,()=>{let l=this.ongoingStreamedRequests.indexOf(u);l>-1&&this.ongoingStreamedRequests.splice(l,1)});return this.ongoingStreamedRequests.push(u),u}return await(await GF(this.fetch,n,r,{headers:this.config.headers})).json()}async encodeImage(e){if(typeof e!="string"){let r=new Uint8Array(e),n="",o=r.byteLength;for(let i=0;i<o;i++)n+=String.fromCharCode(r[i]);return btoa(n)}return e}async generate(e){return e.images&&(e.images=await Promise.all(e.images.map(this.encodeImage.bind(this)))),this.processStreamableRequest("generate",e)}async chat(e){if(e.messages)for(let r of e.messages)r.images&&(r.images=await Promise.all(r.images.map(this.encodeImage.bind(this))));return this.processStreamableRequest("chat",e)}async create(e){return this.processStreamableRequest("create",{name:e.model,stream:e.stream,modelfile:e.modelfile,quantize:e.quantize})}async pull(e){return this.processStreamableRequest("pull",{name:e.model,stream:e.stream,insecure:e.insecure})}async push(e){return this.processStreamableRequest("push",{name:e.model,stream:e.stream,insecure:e.insecure})}async delete(e){return await FNr(this.fetch,`${this.config.host}/api/delete`,{name:e.model}),{status:"success"}}async copy(e){return await GF(this.fetch,`${this.config.host}/api/copy`,{...e}),{status:"success"}}async list(){return await(await Pgt(this.fetch,`${this.config.host}/api/tags`)).json()}async show(e){return await(await GF(this.fetch,`${this.config.host}/api/show`,{...e})).json()}async embed(e){return await(await GF(this.fetch,`${this.config.host}/api/embed`,{...e})).json()}async embeddings(e){return await(await GF(this.fetch,`${this.config.host}/api/embeddings`,{...e})).json()}async ps(){return await(await Pgt(this.fetch,`${this.config.host}/api/ps`)).json()}},UNr=new qI;Uh();Oy();var pc=[];for(dZ=0;dZ<256;++dZ)pc.push((dZ+256).toString(16).slice(1));var dZ;function Tgt(t,e=0){return(pc[t[e+0]]+pc[t[e+1]]+pc[t[e+2]]+pc[t[e+3]]+"-"+pc[t[e+4]]+pc[t[e+5]]+"-"+pc[t[e+6]]+pc[t[e+7]]+"-"+pc[t[e+8]]+pc[t[e+9]]+"-"+pc[t[e+10]]+pc[t[e+11]]+pc[t[e+12]]+pc[t[e+13]]+pc[t[e+14]]+pc[t[e+15]]).toLowerCase()}var fZ,zNr=new Uint8Array(16);function sSe(){if(!fZ&&(fZ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fZ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fZ(zNr)}var HNr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uSe={randomUUID:HNr};function VNr(t,e,r){if(uSe.randomUUID&&!e&&!t)return uSe.randomUUID();t=t||{};var n=t.random||(t.rng||sSe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return Tgt(n)}var lSe=VNr;function cSe(t,e){return new Ar({content:t.content??"",tool_call_chunks:t.tool_calls?.map(r=>({name:r.function.name,args:JSON.stringify(r.function.arguments),type:"tool_call_chunk",index:0,id:lSe()})),response_metadata:e?.responseMetadata,usage_metadata:e?.usageMetadata})}function Mgt(t){let e=t.match(/^data:.*?;base64,(.*)$/);return e?e[1]:""}function WNr(t){if(typeof t.content=="string")return[{role:"assistant",content:t.content}];let r=t.content.filter(o=>o.type==="text"&&typeof o.text=="string").map(o=>({role:"assistant",content:o.text})),n;if(t.content.find(o=>o.type==="tool_use")&&t.tool_calls?.length){let o=t.tool_calls?.map(i=>({id:i.id,type:"function",function:{name:i.name,arguments:i.args}}));o&&(n={role:"assistant",tool_calls:o,content:""})}else if(t.content.find(o=>o.type==="tool_use")&&!t.tool_calls?.length)throw new Error("'tool_use' content type is not supported without tool calls.");return[...r,...n?[n]:[]]}function JNr(t){return typeof t.content=="string"?[{role:"user",content:t.content}]:t.content.map(e=>{if(e.type==="text")return{role:"user",content:e.text};if(e.type==="image_url"){if(typeof e.image_url=="string")return{role:"user",content:"",images:[Mgt(e.image_url)]};if(e.image_url.url&&typeof e.image_url.url=="string")return{role:"user",content:"",images:[Mgt(e.image_url.url)]}}throw new Error(`Unsupported content type: ${e.type}`)})}function GNr(t){if(typeof t.content=="string")return[{role:"system",content:t.content}];if(t.content.every(e=>e.type==="text"&&typeof e.text=="string"))return t.content.map(e=>({role:"system",content:e.text}));throw new Error(`Unsupported content type(s): ${t.content.map(e=>e.type).join(", ")}`)}function KNr(t){if(typeof t.content!="string")throw new Error("Non string tool message content is not supported");return[{role:"tool",content:t.content}]}function Agt(t){return t.flatMap(e=>{if(["human","generic"].includes(e._getType()))return JNr(e);if(e._getType()==="ai")return WNr(e);if(e._getType()==="system")return GNr(e);if(e._getType()==="tool")return KNr(e);throw new Error(`Unsupported message type: ${e._getType()}`)})}var pZ=class extends ya{static lc_name(){return"ChatOllama"}constructor(e){super(e??{}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"llama3"}),Object.defineProperty(this,"numa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCtx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numBatch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mainGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowVram",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"f16Kv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitsAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vocabOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMmap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"embeddingOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numThread",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numKeep",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numPredict",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tfsZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"typicalP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatLastN",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatTau",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatEta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"penalizeNewline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:"5m"}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"checkOrPullModel",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://127.0.0.1:11434"}),this.client=new qI({host:e?.baseUrl,headers:e?.headers}),this.baseUrl=e?.baseUrl??this.baseUrl,this.model=e?.model??this.model,this.numa=e?.numa,this.numCtx=e?.numCtx,this.numBatch=e?.numBatch,this.numGpu=e?.numGpu,this.mainGpu=e?.mainGpu,this.lowVram=e?.lowVram,this.f16Kv=e?.f16Kv,this.logitsAll=e?.logitsAll,this.vocabOnly=e?.vocabOnly,this.useMmap=e?.useMmap,this.useMlock=e?.useMlock,this.embeddingOnly=e?.embeddingOnly,this.numThread=e?.numThread,this.numKeep=e?.numKeep,this.seed=e?.seed,this.numPredict=e?.numPredict,this.topK=e?.topK,this.topP=e?.topP,this.tfsZ=e?.tfsZ,this.typicalP=e?.typicalP,this.repeatLastN=e?.repeatLastN,this.temperature=e?.temperature,this.repeatPenalty=e?.repeatPenalty,this.presencePenalty=e?.presencePenalty,this.frequencyPenalty=e?.frequencyPenalty,this.mirostat=e?.mirostat,this.mirostatTau=e?.mirostatTau,this.mirostatEta=e?.mirostatEta,this.penalizeNewline=e?.penalizeNewline,this.streaming=e?.streaming,this.format=e?.format,this.keepAlive=e?.keepAlive??this.keepAlive,this.checkOrPullModel=e?.checkOrPullModel??this.checkOrPullModel}_llmType(){return"ollama"}async pull(e,r){let{stream:n,insecure:o,logProgress:i}={stream:!0,...r};if(n)for await(let a of await this.client.pull({model:e,insecure:o,stream:n}))i&&console.log(a);else{let a=await this.client.pull({model:e,insecure:o});i&&console.log(a)}}bindTools(e,r){return this.bind({tools:e.map(n=>VF(n)),...r})}getLsParams(e){let r=this.invocationParams(e);return{ls_provider:"ollama",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.options?.temperature??void 0,ls_max_tokens:r.options?.num_predict??void 0,ls_stop:e.stop}}invocationParams(e){if(e?.tool_choice)throw new Error("Tool choice is not supported for ChatOllama.");return{model:this.model,format:this.format,keep_alive:this.keepAlive,options:{numa:this.numa,num_ctx:this.numCtx,num_batch:this.numBatch,num_gpu:this.numGpu,main_gpu:this.mainGpu,low_vram:this.lowVram,f16_kv:this.f16Kv,logits_all:this.logitsAll,vocab_only:this.vocabOnly,use_mmap:this.useMmap,use_mlock:this.useMlock,embedding_only:this.embeddingOnly,num_thread:this.numThread,num_keep:this.numKeep,seed:this.seed,num_predict:this.numPredict,top_k:this.topK,top_p:this.topP,tfs_z:this.tfsZ,typical_p:this.typicalP,repeat_last_n:this.repeatLastN,temperature:this.temperature,repeat_penalty:this.repeatPenalty,presence_penalty:this.presencePenalty,frequency_penalty:this.frequencyPenalty,mirostat:this.mirostat,mirostat_tau:this.mirostatTau,mirostat_eta:this.mirostatEta,penalize_newline:this.penalizeNewline,stop:e?.stop},tools:e?.tools?.length?e.tools.map(r=>VF(r)):void 0}}async checkModelExistsOnMachine(e){let{models:r}=await this.client.list();return!!r.find(n=>n.name===e||n.name===`${e}:latest`)}async _generate(e,r,n){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));let o;for await(let a of this._streamResponseChunks(e,r,n))o?o=yl(o,a.message):o=a.message;let i=new Po({id:o?.id,content:o?.content??"",tool_calls:o?.tool_calls,response_metadata:o?.response_metadata,usage_metadata:o?.usage_metadata});return{generations:[{text:typeof i.content=="string"?i.content:"",message:i}]}}async*_streamResponseChunks(e,r,n){this.checkOrPullModel&&(await this.checkModelExistsOnMachine(this.model)||await this.pull(this.model,{logProgress:!0}));let o=this.invocationParams(r),i=Agt(e),a={input_tokens:0,output_tokens:0,total_tokens:0};if(o.tools&&o.tools.length>0){let l=await this.client.chat({...o,messages:i,stream:!1}),{message:c,...d}=l;return a.input_tokens+=d.prompt_eval_count??0,a.output_tokens+=d.eval_count??0,a.total_tokens=a.input_tokens+a.output_tokens,yield new qo({text:c.content,message:cSe(c,{responseMetadata:d,usageMetadata:a})}),n?.handleLLMNewToken(c.content)}let s=await this.client.chat({...o,messages:i,stream:!0}),u;for await(let l of s){r.signal?.aborted&&this.client.abort();let{message:c,...d}=l;a.input_tokens+=d.prompt_eval_count??0,a.output_tokens+=d.eval_count??0,a.total_tokens=a.input_tokens+a.output_tokens,u=d,yield new qo({text:c.content??"",message:cSe(c)}),await n?.handleLLMNewToken(c.content??"")}yield new qo({text:"",message:new Ar({content:"",response_metadata:u,usage_metadata:a})})}};var hZ=class extends Mp{constructor(e){super({maxConcurrency:1,...e}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mxbai-embed-large"}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://localhost:11434"}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:"5m"}),Object.defineProperty(this,"requestOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"truncate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.client=new qI({host:e?.baseUrl,headers:e?.headers}),this.baseUrl=e?.baseUrl??this.baseUrl,this.model=e?.model??this.model,this.keepAlive=e?.keepAlive??this.keepAlive,this.truncate=e?.truncate??this.truncate,this.requestOptions=e?.requestOptions?this._convertOptions(e?.requestOptions):void 0}_convertOptions(e){let r={},n={embeddingOnly:"embedding_only",frequencyPenalty:"frequency_penalty",keepAlive:"keep_alive",logitsAll:"logits_all",lowVram:"low_vram",mainGpu:"main_gpu",mirostat:"mirostat",mirostatEta:"mirostat_eta",mirostatTau:"mirostat_tau",numBatch:"num_batch",numCtx:"num_ctx",numGpu:"num_gpu",numKeep:"num_keep",numPredict:"num_predict",numThread:"num_thread",penalizeNewline:"penalize_newline",presencePenalty:"presence_penalty",repeatLastN:"repeat_last_n",repeatPenalty:"repeat_penalty",temperature:"temperature",stop:"stop",tfsZ:"tfs_z",topK:"top_k",topP:"top_p",typicalP:"typical_p",useMlock:"use_mlock",useMmap:"use_mmap",vocabOnly:"vocab_only",f16Kv:"f16_kv",numa:"numa",seed:"seed"};for(let[o,i]of Object.entries(e)){let a=n[o];a&&(r[a]=i)}return r}async embedDocuments(e){return this.embeddingWithRetry(e)}async embedQuery(e){return(await this.embeddingWithRetry([e]))[0]}async embeddingWithRetry(e){return(await this.caller.call(()=>this.client.embed({model:this.model,input:e,keep_alive:this.keepAlive,options:this.requestOptions,truncate:this.truncate}))).embeddings}};Uh();var mZ="RFC3986",gZ={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},Rgt="RFC1738";var YNr=Array.isArray,Vw=(()=>{let t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();var dSe=1024,Igt=(t,e,r,n,o)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"});let a="";for(let s=0;s<i.length;s+=dSe){let u=i.length>=dSe?i.slice(s,s+dSe):i,l=[];for(let c=0;c<u.length;++c){let d=u.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Rgt&&(d===40||d===41)){l[l.length]=u.charAt(c);continue}if(d<128){l[l.length]=Vw[d];continue}if(d<2048){l[l.length]=Vw[192|d>>6]+Vw[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=Vw[224|d>>12]+Vw[128|d>>6&63]+Vw[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|u.charCodeAt(c)&1023),l[l.length]=Vw[240|d>>18]+Vw[128|d>>12&63]+Vw[128|d>>6&63]+Vw[128|d&63]}a+=l.join("")}return a};function Dgt(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function fSe(t,e){if(YNr(t)){let r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}var XNr=Object.prototype.hasOwnProperty,jgt={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Ww=Array.isArray,ZNr=Array.prototype.push,Ngt=function(t,e){ZNr.apply(t,Ww(e)?e:[e])},QNr=Date.prototype.toISOString,ol={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Igt,encodeValuesOnly:!1,format:mZ,formatter:gZ[mZ],indices:!1,serializeDate(t){return QNr.call(t)},skipNulls:!1,strictNullHandling:!1};function eLr(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}var pSe={};function Lgt(t,e,r,n,o,i,a,s,u,l,c,d,f,p,m,h,v,g){let _=t,S=g,x=0,O=!1;for(;(S=S.get(pSe))!==void 0&&!O;){let N=S.get(t);if(x+=1,typeof N<"u"){if(N===x)throw new RangeError("Cyclic object value");O=!0}typeof S.get(pSe)>"u"&&(x=0)}if(typeof l=="function"?_=l(e,_):_ instanceof Date?_=f?.(_):r==="comma"&&Ww(_)&&(_=fSe(_,function(N){return N instanceof Date?f?.(N):N})),_===null){if(i)return u&&!h?u(e,ol.encoder,v,"key",p):e;_=""}if(eLr(_)||Dgt(_)){if(u){let N=h?e:u(e,ol.encoder,v,"key",p);return[m?.(N)+"="+m?.(u(_,ol.encoder,v,"value",p))]}return[m?.(e)+"="+m?.(String(_))]}let T=[];if(typeof _>"u")return T;let E;if(r==="comma"&&Ww(_))h&&u&&(_=fSe(_,u)),E=[{value:_.length>0?_.join(",")||null:void 0}];else if(Ww(l))E=l;else{let N=Object.keys(_);E=c?N.sort(c):N}let M=s?String(e).replace(/\./g,"%2E"):String(e),R=n&&Ww(_)&&_.length===1?M+"[]":M;if(o&&Ww(_)&&_.length===0)return R+"[]";for(let N=0;N<E.length;++N){let j=E[N],F=typeof j=="object"&&typeof j.value<"u"?j.value:_[j];if(a&&F===null)continue;let B=d&&s?j.replace(/\./g,"%2E"):j,L=Ww(_)?typeof r=="function"?r(R,B):R:R+(d?"."+B:"["+B+"]");g.set(t,x);let q=new WeakMap;q.set(pSe,g),Ngt(T,Lgt(F,L,r,n,o,i,a,s,r==="comma"&&h&&Ww(_)?null:u,l,c,d,f,p,m,h,v,q))}return T}function tLr(t=ol){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");let e=t.charset||ol.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=mZ;if(typeof t.format<"u"){if(!XNr.call(gZ,t.format))throw new TypeError("Unknown format option provided.");r=t.format}let n=gZ[r],o=ol.filter;(typeof t.filter=="function"||Ww(t.filter))&&(o=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in jgt?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=ol.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ol.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ol.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ol.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ol.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ol.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ol.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ol.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ol.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ol.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ol.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ol.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ol.strictNullHandling}}function hSe(t,e={}){let r=t,n=tLr(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Ww(n.filter)&&(i=n.filter,o=i);let a=[];if(typeof r!="object"||r===null)return"";let s=jgt[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);let l=new WeakMap;for(let f=0;f<o.length;++f){let p=o[f];n.skipNulls&&r[p]===null||Ngt(a,Lgt(r[p],p,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let c=a.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}var UI="4.83.0";var Fgt=!1,zI,mSe,nLr,oLr,iLr,gSe,aLr,yZ,ySe,bSe,_Se,bZ,vSe;function Bgt(t,e={auto:!1}){if(Fgt)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(zI)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${zI}'\``);Fgt=e.auto,zI=t.kind,mSe=t.fetch,nLr=t.Request,oLr=t.Response,iLr=t.Headers,gSe=t.FormData,aLr=t.Blob,yZ=t.File,ySe=t.ReadableStream,bSe=t.getMultipartRequestOptions,_Se=t.getDefaultAgent,bZ=t.fileFromPath,vSe=t.isFsReadStream}var _Z=class{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}};function kgt({manuallyImported:t}={}){let e=t?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n",r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new _Z(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}zI||Bgt(kgt(),{auto:!0});var Ut=class extends Error{},ba=class extends Ut{constructor(e,r,n,o){super(`${ba.makeMessage(e,r,n)}`),this.status=e,this.headers=o,this.request_id=o?.["x-request-id"],this.error=r;let i=r;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,r,n){let o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,r,n,o){if(!e||!o)return new oC({message:n,cause:vZ(r)});let i=r?.error;return e===400?new KF(e,i,n,o):e===401?new YF(e,i,n,o):e===403?new XF(e,i,n,o):e===404?new ZF(e,i,n,o):e===409?new QF(e,i,n,o):e===422?new eB(e,i,n,o):e===429?new tB(e,i,n,o):e>=500?new rB(e,i,n,o):new ba(e,i,n,o)}},ss=class extends ba{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},oC=class extends ba{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},Mg=class extends oC{constructor({message:e}={}){super({message:e??"Request timed out."})}},KF=class extends ba{},YF=class extends ba{},XF=class extends ba{},ZF=class extends ba{},QF=class extends ba{},eB=class extends ba{},tB=class extends ba{},rB=class extends ba{},nB=class extends Ut{constructor(){super("Could not parse response content as the length limit was reached")}},oB=class extends Ut{constructor(){super("Could not parse response content as the request was rejected by the content filter")}};var Jw=class{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let r=this.decodeText(e);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=Jw.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(Jw.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Ut(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Ut(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Ut("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}};Jw.NEWLINE_CHARS=new Set([`
`,"\r"]);Jw.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function wSe(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var $d=class{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(let a of lLr(e,r))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let s;try{s=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(s&&s.error)throw new ba(void 0,s.error,void 0,void 0);yield s}else{let s;try{s=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(a.event=="error")throw new ba(void 0,s.error,s.message,void 0);yield{event:a.event,data:s}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||r.abort()}}return new $d(o,r)}static fromReadableStream(e,r){let n=!1;async function*o(){let a=new Jw,s=wSe(e);for await(let u of s)for(let l of a.decode(u))yield l;for(let u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(let s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new $d(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();e.push(a),r.push(a)}return i.shift()}});return[new $d(()=>o(e),this.controller),new $d(()=>o(r),this.controller)]}toReadableStream(){let e=this,r,n=new TextEncoder;return new ySe({async start(){r=e[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:a}=await r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){await r.return?.()}})}};async function*lLr(t,e){if(!t.body)throw e.abort(),new Ut("Attempted to iterate over a response with no body");let r=new SSe,n=new Jw,o=wSe(t.body);for await(let i of cLr(o))for(let a of n.decode(i)){let s=r.decode(a);s&&(yield s)}for(let i of n.flush()){let a=r.decode(i);a&&(yield a)}}async function*cLr(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r,o=new Uint8Array(e.length+n.length);o.set(e),o.set(n,e.length),e=o;let i;for(;(i=dLr(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function dLr(t){for(let n=0;n<t.length-2;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var SSe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,o]=fLr(e,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}};function fLr(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}var $gt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",qgt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&s3(t),s3=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",pLr=t=>qgt(t)||$gt(t)||vSe(t);async function OSe(t,e,r){if(t=await t,qgt(t))return t;if($gt(t)){let o=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");let i=s3(o)?[await o.arrayBuffer()]:[o];return new yZ(i,e,r)}let n=await hLr(t);if(e||(e=gLr(t)??"unknown_file"),!r?.type){let o=n[0]?.type;typeof o=="string"&&(r={...r,type:o})}return new yZ(n,e,r)}async function hLr(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(s3(t))e.push(await t.arrayBuffer());else if(yLr(t))for await(let r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${mLr(t)}`);return e}function mLr(t){return`[${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}function gLr(t){return xSe(t.name)||xSe(t.filename)||xSe(t.path)?.split(/[\\/]/).pop()}var xSe=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},yLr=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",ESe=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody";var zh=async t=>{let e=await Ugt(t.body);return bSe(e,t)},Ugt=async t=>{let e=new gSe;return await Promise.all(Object.entries(t||{}).map(([r,n])=>CSe(e,r,n))),e};var CSe=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(pLr(r)){let n=await OSe(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>CSe(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,o])=>CSe(t,`${e}[${n}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var _Lr=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},vLr=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},wZ;async function Ggt(t){let{response:e}=t;if(t.options.stream)return iB("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):$d.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;let r=e.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let i=await e.json();return iB("response",e.status,e.url,e.headers,i),Kgt(i,e)}let o=await e.text();return iB("response",e.status,e.url,e.headers,o),o}function Kgt(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var aB=class extends Promise{constructor(e,r=Ggt){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new aB(this.responsePromise,async r=>Kgt(e(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},xZ=class{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:o,fetch:i}){this.baseURL=e,this.maxRetries=PSe("maxRetries",r),this.timeout=PSe("timeout",n),this.httpAgent=o,this.fetch=i??mSe}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...OLr(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return`stainless-node-retry-${MLr()}`}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async o=>{let i=o&&s3(o?.body)?new DataView(await o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return{method:e,path:r,...o,body:i}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:r=0}={}){e={...e};let{method:n,path:o,query:i,headers:a={}}=e,s=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:ESe(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,u=this.calculateContentLength(s),l=this.buildURL(o,i);"timeout"in e&&PSe("timeout",e.timeout),e.timeout=e.timeout??this.timeout;let c=e.httpAgent??this.httpAgent??_Se(l),d=e.timeout+1e3;typeof c?.options?.timeout=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);let f=this.buildHeaders({options:e,headers:a,contentLength:u,retryCount:r});return{req:{method:n,...s&&{body:s},headers:f,...c&&{agent:c},signal:e.signal??null},url:l,timeout:e.timeout}}buildHeaders({options:e,headers:r,contentLength:n,retryCount:o}){let i={};n&&(i["content-length"]=n);let a=this.defaultHeaders(e);return Wgt(i,a),Wgt(i,r),ESe(e.body)&&zI!=="node"&&delete i["content-type"],SZ(a,"x-stainless-retry-count")===void 0&&SZ(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),SZ(a,"x-stainless-timeout")===void 0&&SZ(r,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,r),i}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,o){return ba.generate(e,r,n,o)}request(e,r=null){return new aB(this.makeRequest(e,r))}async makeRequest(e,r){let n=await e,o=n.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(n);let{req:i,url:a,timeout:s}=this.buildRequest(n,{retryCount:o-r});if(await this.prepareRequest(i,{url:a,options:n}),iB("request",a,n,i.headers),n.signal?.aborted)throw new ss;let u=new AbortController,l=await this.fetchWithTimeout(a,i,s,u).catch(vZ);if(l instanceof Error){if(n.signal?.aborted)throw new ss;if(r)return this.retryRequest(n,r);throw l.name==="AbortError"?new Mg:new oC({cause:l})}let c=wLr(l.headers);if(!l.ok){if(r&&this.shouldRetry(l)){let v=`retrying, ${r} attempts remaining`;return iB(`response (error; ${v})`,l.status,a,c),this.retryRequest(n,r,c)}let d=await l.text().catch(v=>vZ(v).message),f=ELr(d),p=f?void 0:d;throw iB(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,l.status,a,c,p),this.makeStatusError(l.status,f,p,c)}return{response:l,options:n,controller:u}}requestAPIList(e,r){let n=this.makeRequest(r,null);return new TSe(this,n,e)}buildURL(e,r){let n=TLr(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Ygt(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Ut(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,r,n,o){let{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());let s=setTimeout(()=>o.abort(),n),u={signal:o.signal,...a};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,e,u).finally(()=>{clearTimeout(s)})}shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){let o,i=n?.["retry-after-ms"];if(i){let s=parseFloat(i);Number.isNaN(s)||(o=s)}let a=n?.["retry-after"];if(a&&!o){let s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){let s=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await iC(o),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){let i=r-e,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${UI}`}},u3=class{constructor(e,r,n,o){wZ.set(this,void 0),_Lr(this,wZ,e,"f"),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new Ut("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){let n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(let[o,i]of n)e.url.searchParams.set(o,i);r.query=void 0,r.path=e.url.toString()}return await vLr(this,wZ,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(wZ=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},TSe=class extends aB{constructor(e,r,n){super(r,async o=>new n(e,o.response,await Ggt(o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},wLr=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){let n=r.toString();return e[n.toLowerCase()]||e[n]}}),SLr={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ui=t=>typeof t=="object"&&t!==null&&!Ygt(t)&&Object.keys(t).every(e=>Xgt(SLr,e)),xLr=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":UI,"X-Stainless-OS":Hgt(Deno.build.os),"X-Stainless-Arch":zgt(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":UI,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":UI,"X-Stainless-OS":Hgt(process.platform),"X-Stainless-Arch":zgt(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let t=CLr();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":UI,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":UI,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function CLr(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:e,version:`${o}.${i}.${a}`}}}return null}var zgt=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Hgt=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Vgt,OLr=()=>Vgt??(Vgt=xLr()),ELr=t=>{try{return JSON.parse(t)}catch{return}},PLr=/^[a-z][a-z0-9+.-]*:/i,TLr=t=>PLr.test(t),iC=t=>new Promise(e=>setTimeout(e,t)),PSe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ut(`${t} must be an integer`);if(e<0)throw new Ut(`${t} must be a positive integer`);return e},vZ=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)};var l3=t=>{if(typeof process<"u")return process.env?.[t]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(t)?.trim()};function Ygt(t){if(!t)return!0;for(let e in t)return!1;return!0}function Xgt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wgt(t,e){for(let r in e){if(!Xgt(e,r))continue;let n=r.toLowerCase();if(!n)continue;let o=e[r];o===null?delete t[n]:o!==void 0&&(t[n]=o)}}var Jgt=new Set(["authorization","api-key"]);function iB(t,...e){if(typeof process<"u"&&process?.env?.DEBUG==="true"){let r=e.map(n=>{if(!n)return n;if(n.headers){let i={...n,headers:{...n.headers}};for(let a in n.headers)Jgt.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let o=null;for(let i in n)Jgt.has(i.toLowerCase())&&(o??(o={...n}),o[i]="REDACTED");return o??n});console.log(`OpenAI:DEBUG:${t}`,...r)}}var MLr=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Zgt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",ALr=t=>typeof t?.get=="function";var SZ=(t,e)=>{let r=e.toLowerCase();if(ALr(t)){let n=e[0]?.toUpperCase()+e.substring(1).replace(/([^\w])(\w)/g,(o,i,a)=>i+a.toUpperCase());for(let o of[e,r,e.toUpperCase(),n]){let i=t.get(o);if(i)return i}}for(let[n,o]of Object.entries(t))if(n.toLowerCase()===r)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${e} header, using the first entry.`),o[0]):o};function c3(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}var CZ=class extends u3{constructor(e,r,n,o){super(e,r,n,o),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}},_a=class extends u3{constructor(e,r,n,o){super(e,r,n,o),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){let e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;let r=Object.fromEntries(e.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){let e=this.getPaginatedItems();if(!e.length)return null;let r=e[e.length-1]?.id;return r?{params:{after:r}}:null}};var lt=class{constructor(e){this._client=e}};var sB=class extends lt{create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}};var GP=class extends lt{constructor(){super(...arguments),this.completions=new sB(this._client)}};GP.Completions=sB;var uB=class extends lt{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:{Accept:"application/octet-stream",...r?.headers},__binaryResponse:!0})}};var lB=class extends lt{create(e,r){return this._client.post("/audio/transcriptions",zh({body:e,...r,__metadata:{model:e.model}}))}};var cB=class extends lt{create(e,r){return this._client.post("/audio/translations",zh({body:e,...r,__metadata:{model:e.model}}))}};var Gw=class extends lt{constructor(){super(...arguments),this.transcriptions=new lB(this._client),this.translations=new cB(this._client),this.speech=new uB(this._client)}};Gw.Transcriptions=lB;Gw.Translations=cB;Gw.Speech=uB;var KP=class extends lt{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(`/batches/${e}`,r)}list(e={},r){return ui(e)?this.list({},e):this._client.getAPIList("/batches",VI,{query:e,...r})}cancel(e,r){return this._client.post(`/batches/${e}/cancel`,r)}},VI=class extends _a{};KP.BatchesPage=VI;var WI=class extends lt{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,r){return this._client.get(`/assistants/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,r,n){return this._client.post(`/assistants/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},r){return ui(e)?this.list({},e):this._client.getAPIList("/assistants",dB,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,r){return this._client.delete(`/assistants/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}},dB=class extends _a{};WI.AssistantsPage=dB;function MSe(t){return typeof t.parse=="function"}var YP=t=>t?.role==="assistant",ASe=t=>t?.role==="function",RSe=t=>t?.role==="tool";var Ag=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},va=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ISe,OZ,EZ,d3,f3,PZ,p3,aC,h3,TZ,MZ,fB,Qgt,pB=class{constructor(){ISe.add(this),this.controller=new AbortController,OZ.set(this,void 0),EZ.set(this,()=>{}),d3.set(this,()=>{}),f3.set(this,void 0),PZ.set(this,()=>{}),p3.set(this,()=>{}),aC.set(this,{}),h3.set(this,!1),TZ.set(this,!1),MZ.set(this,!1),fB.set(this,!1),Ag(this,OZ,new Promise((e,r)=>{Ag(this,EZ,e,"f"),Ag(this,d3,r,"f")}),"f"),Ag(this,f3,new Promise((e,r)=>{Ag(this,PZ,e,"f"),Ag(this,p3,r,"f")}),"f"),va(this,OZ,"f").catch(()=>{}),va(this,f3,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},va(this,ISe,"m",Qgt).bind(this))},0)}_connected(){this.ended||(va(this,EZ,"f").call(this),this._emit("connect"))}get ended(){return va(this,h3,"f")}get errored(){return va(this,TZ,"f")}get aborted(){return va(this,MZ,"f")}abort(){this.controller.abort()}on(e,r){return(va(this,aC,"f")[e]||(va(this,aC,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=va(this,aC,"f")[e];if(!n)return this;let o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(e,r){return(va(this,aC,"f")[e]||(va(this,aC,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Ag(this,fB,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Ag(this,fB,!0,"f"),await va(this,f3,"f")}_emit(e,...r){if(va(this,h3,"f"))return;e==="end"&&(Ag(this,h3,!0,"f"),va(this,PZ,"f").call(this));let n=va(this,aC,"f")[e];if(n&&(va(this,aC,"f")[e]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),e==="abort"){let o=r[0];!va(this,fB,"f")&&!n?.length&&Promise.reject(o),va(this,d3,"f").call(this,o),va(this,p3,"f").call(this,o),this._emit("end");return}if(e==="error"){let o=r[0];!va(this,fB,"f")&&!n?.length&&Promise.reject(o),va(this,d3,"f").call(this,o),va(this,p3,"f").call(this,o),this._emit("end")}}_emitFinal(){}};OZ=new WeakMap,EZ=new WeakMap,d3=new WeakMap,f3=new WeakMap,PZ=new WeakMap,p3=new WeakMap,aC=new WeakMap,h3=new WeakMap,TZ=new WeakMap,MZ=new WeakMap,fB=new WeakMap,ISe=new WeakSet,Qgt=function(e){if(Ag(this,TZ,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ss),e instanceof ss)return Ag(this,MZ,!0,"f"),this._emit("abort",e);if(e instanceof Ut)return this._emit("error",e);if(e instanceof Error){let r=new Ut(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new Ut(String(e)))};function eyt(t,e){let r={...t};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),r}function DSe(t){return t?.$brand==="auto-parseable-response-format"}function tyt(t,{parser:e,callback:r}){let n={...t};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:e,enumerable:!1},$callback:{value:r,enumerable:!1}}),n}function JI(t){return t?.$brand==="auto-parseable-tool"}function ryt(t,e){return!e||!jSe(e)?{...t,choices:t.choices.map(r=>({...r,message:{...r.message,parsed:null,tool_calls:r.message.tool_calls??[]}}))}:m3(t,e)}function m3(t,e){let r=t.choices.map(n=>{if(n.finish_reason==="length")throw new nB;if(n.finish_reason==="content_filter")throw new oB;return{...n,message:{...n.message,tool_calls:n.message.tool_calls?.map(o=>FLr(e,o))??[],parsed:n.message.content&&!n.message.refusal?LLr(e,n.message.content):null}}});return{...t,choices:r}}function LLr(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function FLr(t,e){let r=t.tools?.find(n=>n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:JI(r)?r.$parseRaw(e.function.arguments):r?.function.strict?JSON.parse(e.function.arguments):null}}}function nyt(t,e){if(!t)return!1;let r=t.tools?.find(n=>n.function?.name===e.function.name);return JI(r)||r?.function.strict||!1}function jSe(t){return DSe(t.response_format)?!0:t.tools?.some(e=>JI(e)||e.type==="function"&&e.function.strict===!0)??!1}function oyt(t){for(let e of t??[]){if(e.type!=="function")throw new Ut(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ut(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Lf=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ad,NSe,AZ,LSe,FSe,BSe,ayt,kSe,iyt=10,hB=class extends pB{constructor(){super(...arguments),ad.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let r=e.choices[0]?.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),(ASe(e)||RSe(e))&&e.content)this._emit("functionCallResult",e.content);else if(YP(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(YP(e)&&e.tool_calls)for(let n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ut("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Lf(this,ad,"m",NSe).call(this)}async finalMessage(){return await this.done(),Lf(this,ad,"m",AZ).call(this)}async finalFunctionCall(){return await this.done(),Lf(this,ad,"m",LSe).call(this)}async finalFunctionCallResult(){return await this.done(),Lf(this,ad,"m",FSe).call(this)}async totalUsage(){return await this.done(),Lf(this,ad,"m",BSe).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let r=Lf(this,ad,"m",AZ).call(this);r&&this._emit("finalMessage",r);let n=Lf(this,ad,"m",NSe).call(this);n&&this._emit("finalContent",n);let o=Lf(this,ad,"m",LSe).call(this);o&&this._emit("finalFunctionCall",o);let i=Lf(this,ad,"m",FSe).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Lf(this,ad,"m",BSe).call(this))}async _createChatCompletion(e,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Lf(this,ad,"m",ayt).call(this,r);let i=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(m3(i,r))}async _runChatCompletion(e,r,n){for(let o of r.messages)this._addMessage(o,!1);return await this._createChatCompletion(e,r,n)}async _runFunctions(e,r,n){let o="function",{function_call:i="auto",stream:a,...s}=r,u=typeof i!="string"&&i?.name,{maxChatCompletions:l=iyt}=n||{},c={};for(let f of r.functions)c[f.name||f.function.name]=f;let d=r.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(let f of r.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){let m=(await this._createChatCompletion(e,{...s,function_call:i,functions:d,messages:[...this.messages]},n)).choices[0]?.message;if(!m)throw new Ut("missing message in ChatCompletion response");if(!m.function_call)return;let{name:h,arguments:v}=m.function_call,g=c[h];if(g){if(u&&u!==h){let O=`Invalid function_call: ${JSON.stringify(h)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,name:h,content:O});continue}}else{let O=`Invalid function_call: ${JSON.stringify(h)}. Available options are: ${d.map(T=>JSON.stringify(T.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:h,content:O});continue}let _;try{_=MSe(g)?await g.parse(v):v}catch(O){this._addMessage({role:o,name:h,content:O instanceof Error?O.message:String(O)});continue}let S=await g.function(_,this),x=Lf(this,ad,"m",kSe).call(this,S);if(this._addMessage({role:o,name:h,content:x}),u)return}}async _runTools(e,r,n){let o="tool",{tool_choice:i="auto",stream:a,...s}=r,u=typeof i!="string"&&i?.function?.name,{maxChatCompletions:l=iyt}=n||{},c=r.tools.map(p=>{if(JI(p)){if(!p.$callback)throw new Ut("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:p.$callback,name:p.function.name,description:p.function.description||"",parameters:p.function.parameters,parse:p.$parseRaw,strict:!0}}}return p}),d={};for(let p of c)p.type==="function"&&(d[p.function.name||p.function.function.name]=p.function);let f="tools"in r?c.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description,strict:p.function.strict}}:p):void 0;for(let p of r.messages)this._addMessage(p,!1);for(let p=0;p<l;++p){let h=(await this._createChatCompletion(e,{...s,tool_choice:i,tools:f,messages:[...this.messages]},n)).choices[0]?.message;if(!h)throw new Ut("missing message in ChatCompletion response");if(!h.tool_calls?.length)return;for(let v of h.tool_calls){if(v.type!=="function")continue;let g=v.id,{name:_,arguments:S}=v.function,x=d[_];if(x){if(u&&u!==_){let M=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,tool_call_id:g,content:M});continue}}else{let M=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(d).map(R=>JSON.stringify(R)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:g,content:M});continue}let O;try{O=MSe(x)?await x.parse(S):S}catch(M){let R=M instanceof Error?M.message:String(M);this._addMessage({role:o,tool_call_id:g,content:R});continue}let T=await x.function(O,this),E=Lf(this,ad,"m",kSe).call(this,T);if(this._addMessage({role:o,tool_call_id:g,content:E}),u)return}}}};ad=new WeakSet,NSe=function(){return Lf(this,ad,"m",AZ).call(this).content??null},AZ=function(){let e=this.messages.length;for(;e-- >0;){let r=this.messages[e];if(YP(r)){let{function_call:n,...o}=r,i={...o,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new Ut("stream ended without producing a ChatCompletionMessage with role=assistant")},LSe=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(YP(r)&&r?.function_call)return r.function_call;if(YP(r)&&r?.tool_calls?.length)return r.tool_calls.at(-1)?.function}},FSe=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(ASe(r)&&r.content!=null||RSe(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(o=>o.type==="function"&&o.id===r.tool_call_id)))return r.content}},BSe=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},ayt=function(e){if(e.n!=null&&e.n>1)throw new Ut("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},kSe=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};var XP=class extends hB{static runFunctions(e,r,n){let o=new XP,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(e,r,i)),o}static runTools(e,r,n){let o=new XP,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(e,r,i)),o}_addMessage(e,r=!0){super._addMessage(e,r),YP(e)&&e.content&&this._emit("content",e.content)}};var Rl={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},$Se=class extends Error{},qSe=class extends Error{};function BLr(t,e=Rl.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return kLr(t.trim(),e)}var kLr=(t,e)=>{let r=t.length,n=0,o=f=>{throw new $Se(`${f} at position ${n}`)},i=f=>{throw new qSe(`${f} at position ${n}`)},a=()=>(d(),n>=r&&o("Unexpected end of input"),t[n]==='"'?s():t[n]==="{"?u():t[n]==="["?l():t.substring(n,n+4)==="null"||Rl.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Rl.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Rl.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Rl.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Rl.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Rl.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):c()),s=()=>{let f=n,p=!1;for(n++;n<r&&(t[n]!=='"'||p&&t[n-1]==="\\");)p=t[n]==="\\"?!p:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(f,++n-Number(p)))}catch(m){i(String(m))}else if(Rl.STR&e)try{return JSON.parse(t.substring(f,n-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},u=()=>{n++,d();let f={};try{for(;t[n]!=="}";){if(d(),n>=r&&Rl.OBJ&e)return f;let p=s();d(),n++;try{let m=a();Object.defineProperty(f,p,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(Rl.OBJ&e)return f;throw m}d(),t[n]===","&&n++}}catch{if(Rl.OBJ&e)return f;o("Expected '}' at end of object")}return n++,f},l=()=>{n++;let f=[];try{for(;t[n]!=="]";)f.push(a()),d(),t[n]===","&&n++}catch{if(Rl.ARR&e)return f;o("Expected ']' at end of array")}return n++,f},c=()=>{if(n===0){t==="-"&&Rl.NUM&e&&o("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(Rl.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(p))}}let f=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Rl.NUM&e)&&o("Unterminated number literal");try{return JSON.parse(t.substring(f,n))}catch{t.substring(f,n)==="-"&&Rl.NUM&e&&o("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(m){i(String(m))}}},d=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return a()},USe=t=>BLr(t,Rl.ALL^Rl.NUM);var mB=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},Ho=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},il,sC,gB,ZP,zSe,RZ,HSe,VSe,WSe,IZ,JSe,syt,uC=class extends hB{constructor(e){super(),il.add(this),sC.set(this,void 0),gB.set(this,void 0),ZP.set(this,void 0),mB(this,sC,e,"f"),mB(this,gB,[],"f")}get currentChatCompletionSnapshot(){return Ho(this,ZP,"f")}static fromReadableStream(e){let r=new uC(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){let o=new uC(r);return o._run(()=>o._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(e,r,n){super._createChatCompletion;let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Ho(this,il,"m",zSe).call(this);let i=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of i)Ho(this,il,"m",HSe).call(this,a);if(i.controller.signal?.aborted)throw new ss;return this._addChatCompletion(Ho(this,il,"m",IZ).call(this))}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Ho(this,il,"m",zSe).call(this),this._connected();let o=$d.fromReadableStream(e,this.controller),i;for await(let a of o)i&&i!==a.id&&this._addChatCompletion(Ho(this,il,"m",IZ).call(this)),Ho(this,il,"m",HSe).call(this,a),i=a.id;if(o.controller.signal?.aborted)throw new ss;return this._addChatCompletion(Ho(this,il,"m",IZ).call(this))}[(sC=new WeakMap,gB=new WeakMap,ZP=new WeakMap,il=new WeakSet,zSe=function(){this.ended||mB(this,ZP,void 0,"f")},RZ=function(r){let n=Ho(this,gB,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ho(this,gB,"f")[r.index]=n,n)},HSe=function(r){if(this.ended)return;let n=Ho(this,il,"m",syt).call(this,r);this._emit("chunk",r,n);for(let o of r.choices){let i=n.choices[o.index];o.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",o.delta.content,i.message.content),this._emit("content.delta",{delta:o.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),o.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:o.delta.refusal,snapshot:i.message.refusal}),o.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:o.logprobs?.content,snapshot:i.logprobs?.content??[]}),o.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:o.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});let a=Ho(this,il,"m",RZ).call(this,i);i.finish_reason&&(Ho(this,il,"m",WSe).call(this,i),a.current_tool_call_index!=null&&Ho(this,il,"m",VSe).call(this,i,a.current_tool_call_index));for(let s of o.delta.tool_calls??[])a.current_tool_call_index!==s.index&&(Ho(this,il,"m",WSe).call(this,i),a.current_tool_call_index!=null&&Ho(this,il,"m",VSe).call(this,i,a.current_tool_call_index)),a.current_tool_call_index=s.index;for(let s of o.delta.tool_calls??[]){let u=i.message.tool_calls?.[s.index];u?.type&&(u?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:u.function?.name,index:s.index,arguments:u.function.arguments,parsed_arguments:u.function.parsed_arguments,arguments_delta:s.function?.arguments??""}):(u?.type,void 0))}}},VSe=function(r,n){if(Ho(this,il,"m",RZ).call(this,r).done_tool_calls.has(n))return;let i=r.message.tool_calls?.[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){let a=Ho(this,sC,"f")?.tools?.find(s=>s.type==="function"&&s.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:JI(a)?a.$parseRaw(i.function.arguments):a?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},WSe=function(r){let n=Ho(this,il,"m",RZ).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;let o=Ho(this,il,"m",JSe).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},IZ=function(){if(this.ended)throw new Ut("stream has ended, this shouldn't happen");let r=Ho(this,ZP,"f");if(!r)throw new Ut("request ended without sending any chunks");return mB(this,ZP,void 0,"f"),mB(this,gB,[],"f"),$Lr(r,Ho(this,sC,"f"))},JSe=function(){let r=Ho(this,sC,"f")?.response_format;return DSe(r)?r:null},syt=function(r){var n,o,i,a;let s=Ho(this,ZP,"f"),{choices:u,...l}=r;s?Object.assign(s,l):s=mB(this,ZP,{...l,choices:[]},"f");for(let{delta:c,finish_reason:d,index:f,logprobs:p=null,...m}of r.choices){let h=s.choices[f];if(h||(h=s.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...m}),p)if(!h.logprobs)h.logprobs=Object.assign({},p);else{let{content:T,refusal:E,...M}=p;Object.assign(h.logprobs,M),T&&((n=h.logprobs).content??(n.content=[]),h.logprobs.content.push(...T)),E&&((o=h.logprobs).refusal??(o.refusal=[]),h.logprobs.refusal.push(...E))}if(d&&(h.finish_reason=d,Ho(this,sC,"f")&&jSe(Ho(this,sC,"f")))){if(d==="length")throw new nB;if(d==="content_filter")throw new oB}if(Object.assign(h,m),!c)continue;let{content:v,refusal:g,function_call:_,role:S,tool_calls:x,...O}=c;if(Object.assign(h.message,O),g&&(h.message.refusal=(h.message.refusal||"")+g),S&&(h.message.role=S),_&&(h.message.function_call?(_.name&&(h.message.function_call.name=_.name),_.arguments&&((i=h.message.function_call).arguments??(i.arguments=""),h.message.function_call.arguments+=_.arguments)):h.message.function_call=_),v&&(h.message.content=(h.message.content||"")+v,!h.message.refusal&&Ho(this,il,"m",JSe).call(this)&&(h.message.parsed=USe(h.message.content))),x){h.message.tool_calls||(h.message.tool_calls=[]);for(let{index:T,id:E,type:M,function:R,...N}of x){let j=(a=h.message.tool_calls)[T]??(a[T]={});Object.assign(j,N),E&&(j.id=E),M&&(j.type=M),R&&(j.function??(j.function={name:R.name??"",arguments:""})),R?.name&&(j.function.name=R.name),R?.arguments&&(j.function.arguments+=R.arguments,nyt(Ho(this,sC,"f"),j)&&(j.function.parsed_arguments=USe(j.function.arguments)))}}}return s},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("chunk",o=>{let i=r.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new $d(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function $Lr(t,e){let{id:r,choices:n,created:o,model:i,system_fingerprint:a,...s}=t,u={...s,id:r,choices:n.map(({message:l,finish_reason:c,index:d,logprobs:f,...p})=>{if(!c)throw new Ut(`missing finish_reason for choice ${d}`);let{content:m=null,function_call:h,tool_calls:v,...g}=l,_=l.role;if(!_)throw new Ut(`missing role for choice ${d}`);if(h){let{arguments:S,name:x}=h;if(S==null)throw new Ut(`missing function_call.arguments for choice ${d}`);if(!x)throw new Ut(`missing function_call.name for choice ${d}`);return{...p,message:{content:m,function_call:{arguments:S,name:x},role:_,refusal:l.refusal??null},finish_reason:c,index:d,logprobs:f}}return v?{...p,index:d,finish_reason:c,logprobs:f,message:{...g,role:_,content:m,refusal:l.refusal??null,tool_calls:v.map((S,x)=>{let{function:O,type:T,id:E,...M}=S,{arguments:R,name:N,...j}=O||{};if(E==null)throw new Ut(`missing choices[${d}].tool_calls[${x}].id
${DZ(t)}`);if(T==null)throw new Ut(`missing choices[${d}].tool_calls[${x}].type
${DZ(t)}`);if(N==null)throw new Ut(`missing choices[${d}].tool_calls[${x}].function.name
${DZ(t)}`);if(R==null)throw new Ut(`missing choices[${d}].tool_calls[${x}].function.arguments
${DZ(t)}`);return{...M,id:E,type:T,function:{...j,name:N,arguments:R}}})}}:{...p,message:{...g,content:m,role:_,refusal:l.refusal??null},finish_reason:c,index:d,logprobs:f}}),created:o,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return ryt(u,e)}function DZ(t){return JSON.stringify(t)}var lC=class extends uC{static fromReadableStream(e){let r=new lC(null);return r._run(()=>r._fromReadableStream(e)),r}static runFunctions(e,r,n){let o=new lC(null),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(e,r,i)),o}static runTools(e,r,n){let o=new lC(r),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(e,r,i)),o}};var g3=class extends lt{parse(e,r){return oyt(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>m3(n,e))}runFunctions(e,r){return e.stream?lC.runFunctions(this._client,e,r):XP.runFunctions(this._client,e,r)}runTools(e,r){return e.stream?lC.runTools(this._client,e,r):XP.runTools(this._client,e,r)}stream(e,r){return uC.createChatCompletion(this._client,e,r)}};var yB=class extends lt{constructor(){super(...arguments),this.completions=new g3(this._client)}};(function(t){t.Completions=g3})(yB||(yB={}));var bB=class extends lt{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}};var GI=class extends lt{constructor(){super(...arguments),this.sessions=new bB(this._client)}};GI.Sessions=bB;var Ct=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ap=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},hc,GSe,Kw,jZ,Rg,YI,_B,KI,FZ,Rp,NZ,LZ,_3,y3,b3,uyt,lyt,cyt,dyt,fyt,pyt,hyt,qd=class extends pB{constructor(){super(...arguments),hc.add(this),GSe.set(this,[]),Kw.set(this,{}),jZ.set(this,{}),Rg.set(this,void 0),YI.set(this,void 0),_B.set(this,void 0),KI.set(this,void 0),FZ.set(this,void 0),Rp.set(this,void 0),NZ.set(this,void 0),LZ.set(this,void 0),_3.set(this,void 0)}[(GSe=new WeakMap,Kw=new WeakMap,jZ=new WeakMap,Rg=new WeakMap,YI=new WeakMap,_B=new WeakMap,KI=new WeakMap,FZ=new WeakMap,Rp=new WeakMap,NZ=new WeakMap,LZ=new WeakMap,_3=new WeakMap,hc=new WeakSet,Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",o=>{let i=r.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let r=new qd;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let o=$d.fromReadableStream(e,this.controller);for await(let i of o)Ct(this,hc,"m",y3).call(this,i);if(o.controller.signal?.aborted)throw new ss;return this._addRun(Ct(this,hc,"m",b3).call(this))}toReadableStream(){return new $d(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,o,i){let a=new qd;return a._run(()=>a._runToolAssistantStream(e,r,n,o,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,r,n,o,i){let a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));let s={...o,stream:!0},u=await e.submitToolOutputs(r,n,s,{...i,signal:this.controller.signal});this._connected();for await(let l of u)Ct(this,hc,"m",y3).call(this,l);if(u.controller.signal?.aborted)throw new ss;return this._addRun(Ct(this,hc,"m",b3).call(this))}static createThreadAssistantStream(e,r,n){let o=new qd;return o._run(()=>o._threadAssistantStream(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(e,r,n,o){let i=new qd;return i._run(()=>i._runAssistantStream(e,r,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return Ct(this,NZ,"f")}currentRun(){return Ct(this,LZ,"f")}currentMessageSnapshot(){return Ct(this,Rg,"f")}currentRunStepSnapshot(){return Ct(this,_3,"f")}async finalRunSteps(){return await this.done(),Object.values(Ct(this,Kw,"f"))}async finalMessages(){return await this.done(),Object.values(Ct(this,jZ,"f"))}async finalRun(){if(await this.done(),!Ct(this,YI,"f"))throw Error("Final run was not received.");return Ct(this,YI,"f")}async _createThreadAssistantStream(e,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let i={...r,stream:!0},a=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(let s of a)Ct(this,hc,"m",y3).call(this,s);if(a.controller.signal?.aborted)throw new ss;return this._addRun(Ct(this,hc,"m",b3).call(this))}async _createAssistantStream(e,r,n,o){let i=o?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let a={...n,stream:!0},s=await e.create(r,a,{...o,signal:this.controller.signal});this._connected();for await(let u of s)Ct(this,hc,"m",y3).call(this,u);if(s.controller.signal?.aborted)throw new ss;return this._addRun(Ct(this,hc,"m",b3).call(this))}static accumulateDelta(e,r){for(let[n,o]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=o;continue}let i=e[n];if(i==null){e[n]=o;continue}if(n==="index"||n==="type"){e[n]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(c3(i)&&c3(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...o);continue}for(let a of o){if(!c3(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);let s=a.index;if(s==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof s!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${s}`);let u=i[s];u==null?i.push(a):i[s]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${o}, accValue: ${i}`);e[n]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,o){return await this._createAssistantStream(r,e,n,o)}async _runToolAssistantStream(e,r,n,o,i){return await this._createToolAssistantStream(n,e,r,o,i)}};y3=function(e){if(!this.ended)switch(Ap(this,NZ,e,"f"),Ct(this,hc,"m",cyt).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Ct(this,hc,"m",hyt).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ct(this,hc,"m",lyt).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Ct(this,hc,"m",uyt).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},b3=function(){if(this.ended)throw new Ut("stream has ended, this shouldn't happen");if(!Ct(this,YI,"f"))throw Error("Final run has not been received");return Ct(this,YI,"f")},uyt=function(e){let[r,n]=Ct(this,hc,"m",fyt).call(this,e,Ct(this,Rg,"f"));Ap(this,Rg,r,"f"),Ct(this,jZ,"f")[r.id]=r;for(let o of n){let i=r.content[o.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(let o of e.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,a=r.content[o.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=Ct(this,_B,"f")){if(Ct(this,KI,"f"))switch(Ct(this,KI,"f").type){case"text":this._emit("textDone",Ct(this,KI,"f").text,Ct(this,Rg,"f"));break;case"image_file":this._emit("imageFileDone",Ct(this,KI,"f").image_file,Ct(this,Rg,"f"));break}Ap(this,_B,o.index,"f")}Ap(this,KI,r.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Ct(this,_B,"f")!==void 0){let o=e.data.content[Ct(this,_B,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,Ct(this,Rg,"f"));break;case"text":this._emit("textDone",o.text,Ct(this,Rg,"f"));break}}Ct(this,Rg,"f")&&this._emit("messageDone",e.data),Ap(this,Rg,void 0,"f")}},lyt=function(e){let r=Ct(this,hc,"m",dyt).call(this,e);switch(Ap(this,_3,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(let i of n.step_details.tool_calls)i.index==Ct(this,FZ,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(Ct(this,Rp,"f")&&this._emit("toolCallDone",Ct(this,Rp,"f")),Ap(this,FZ,i.index,"f"),Ap(this,Rp,r.step_details.tool_calls[i.index],"f"),Ct(this,Rp,"f")&&this._emit("toolCallCreated",Ct(this,Rp,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ap(this,_3,void 0,"f"),e.data.step_details.type=="tool_calls"&&Ct(this,Rp,"f")&&(this._emit("toolCallDone",Ct(this,Rp,"f")),Ap(this,Rp,void 0,"f")),this._emit("runStepDone",e.data,r);break;case"thread.run.step.in_progress":break}},cyt=function(e){Ct(this,GSe,"f").push(e),this._emit("event",e)},dyt=function(e){switch(e.event){case"thread.run.step.created":return Ct(this,Kw,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=Ct(this,Kw,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){let o=qd.accumulateDelta(r,n.delta);Ct(this,Kw,"f")[e.data.id]=o}return Ct(this,Kw,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Ct(this,Kw,"f")[e.data.id]=e.data;break}if(Ct(this,Kw,"f")[e.data.id])return Ct(this,Kw,"f")[e.data.id];throw new Error("No snapshot available")},fyt=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=e.data;if(o.delta.content)for(let i of o.delta.content)if(i.index in r.content){let a=r.content[i.index];r.content[i.index]=Ct(this,hc,"m",pyt).call(this,i,a)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},pyt=function(e,r){return qd.accumulateDelta(r,e)},hyt=function(e){switch(Ap(this,LZ,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ap(this,YI,e.data,"f"),Ct(this,Rp,"f")&&(this._emit("toolCallDone",Ct(this,Rp,"f")),Ap(this,Rp,void 0,"f"));break;case"thread.run.cancelling":break}};var XI=class extends lt{create(e,r,n){return this._client.post(`/threads/${e}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,r,n){return this._client.get(`/threads/${e}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,r,n,o){return this._client.post(`/threads/${e}/messages/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(e,r={},n){return ui(r)?this.list(e,{},r):this._client.getAPIList(`/threads/${e}/messages`,vB,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,r,n){return this._client.delete(`/threads/${e}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}},vB=class extends _a{};XI.MessagesPage=vB;var ZI=class extends lt{retrieve(e,r,n,o={},i){return ui(o)?this.retrieve(e,r,n,{},o):this._client.get(`/threads/${e}/runs/${r}/steps/${n}`,{query:o,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}list(e,r,n={},o){return ui(n)?this.list(e,r,{},n):this._client.getAPIList(`/threads/${e}/runs/${r}/steps`,wB,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}},wB=class extends _a{};ZI.RunStepsPage=wB;var cC=class extends lt{constructor(){super(...arguments),this.steps=new ZI(this._client)}create(e,r,n){let{include:o,...i}=r;return this._client.post(`/threads/${e}/runs`,{query:{include:o},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:r.stream??!1})}retrieve(e,r,n){return this._client.get(`/threads/${e}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,r,n,o){return this._client.post(`/threads/${e}/runs/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(e,r={},n){return ui(r)?this.list(e,{},r):this._client.getAPIList(`/threads/${e}/runs`,SB,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,r,n){return this._client.post(`/threads/${e}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,r,n){let o=await this.create(e,r,n);return await this.poll(e,o.id,n)}createAndStream(e,r,n){return qd.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){let o={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){let{data:i,response:a}=await this.retrieve(e,r,{...n,headers:{...n?.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let s=5e3;if(n?.pollIntervalMs)s=n.pollIntervalMs;else{let u=a.headers.get("openai-poll-after-ms");if(u){let l=parseInt(u);isNaN(l)||(s=l)}}await iC(s);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,r,n){return qd.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n,o){return this._client.post(`/threads/${e}/runs/${r}/submit_tool_outputs`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,r,n,o){let i=await this.submitToolOutputs(e,r,n,o);return await this.poll(e,i.id,o)}submitToolOutputsStream(e,r,n,o){return qd.createToolAssistantStream(e,r,this._client.beta.threads.runs,n,o)}},SB=class extends _a{};cC.RunsPage=SB;cC.Steps=ZI;cC.RunStepsPage=wB;var Yw=class extends lt{constructor(){super(...arguments),this.runs=new cC(this._client),this.messages=new XI(this._client)}create(e={},r){return ui(e)?this.create({},e):this._client.post("/threads",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,r){return this._client.get(`/threads/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,r,n){return this._client.post(`/threads/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,r){return this._client.delete(`/threads/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:e.stream??!1})}async createAndRunPoll(e,r){let n=await this.createAndRun(e,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(e,r){return qd.createThreadAssistantStream(e,this._client.beta.threads,r)}};Yw.Runs=cC;Yw.RunsPage=SB;Yw.Messages=XI;Yw.MessagesPage=vB;var myt=async t=>{let e=await Promise.allSettled(t),r=e.filter(o=>o.status==="rejected");if(r.length){for(let o of r)console.error(o.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let o of e)o.status==="fulfilled"&&n.push(o.value);return n};var QI=class extends lt{create(e,r,n){return this._client.post(`/vector_stores/${e}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,r,n){return this._client.get(`/vector_stores/${e}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,r={},n){return ui(r)?this.list(e,{},r):this._client.getAPIList(`/vector_stores/${e}/files`,QP,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,r,n){return this._client.delete(`/vector_stores/${e}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,r,n){let o=await this.create(e,r,n);return await this.poll(e,o.id,n)}async poll(e,r,n){let o={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){let i=await this.retrieve(e,r,{...n,headers:o}).withResponse(),a=i.data;switch(a.status){case"in_progress":let s=5e3;if(n?.pollIntervalMs)s=n.pollIntervalMs;else{let u=i.response.headers.get("openai-poll-after-ms");if(u){let l=parseInt(u);isNaN(l)||(s=l)}}await iC(s);break;case"failed":case"completed":return a}}}async upload(e,r,n){let o=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:o.id},n)}async uploadAndPoll(e,r,n){let o=await this.upload(e,r,n);return await this.poll(e,o.id,n)}},QP=class extends _a{};QI.VectorStoreFilesPage=QP;var xB=class extends lt{create(e,r,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,r,n){return this._client.get(`/vector_stores/${e}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,r,n){return this._client.post(`/vector_stores/${e}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,r,n){let o=await this.create(e,r);return await this.poll(e,o.id,n)}listFiles(e,r,n={},o){return ui(n)?this.listFiles(e,r,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${r}/files`,QP,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}async poll(e,r,n){let o={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){let{data:i,response:a}=await this.retrieve(e,r,{...n,headers:o}).withResponse();switch(i.status){case"in_progress":let s=5e3;if(n?.pollIntervalMs)s=n.pollIntervalMs;else{let u=a.headers.get("openai-poll-after-ms");if(u){let l=parseInt(u);isNaN(l)||(s=l)}}await iC(s);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},o){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let i=o?.maxConcurrency??5,a=Math.min(i,r.length),s=this._client,u=r.values(),l=[...n];async function c(f){for(let p of f){let m=await s.files.create({file:p,purpose:"assistants"},o);l.push(m.id)}}let d=Array(a).fill(u).map(c);return await myt(d),await this.createAndPoll(e,{file_ids:l})}};var Xw=class extends lt{constructor(){super(...arguments),this.files=new QI(this._client),this.fileBatches=new xB(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,r){return this._client.get(`/vector_stores/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,r,n){return this._client.post(`/vector_stores/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},r){return ui(e)?this.list({},e):this._client.getAPIList("/vector_stores",CB,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,r){return this._client.delete(`/vector_stores/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}},CB=class extends _a{};Xw.VectorStoresPage=CB;Xw.Files=QI;Xw.VectorStoreFilesPage=QP;Xw.FileBatches=xB;var Ip=class extends lt{constructor(){super(...arguments),this.realtime=new GI(this._client),this.vectorStores=new Xw(this._client),this.chat=new yB(this._client),this.assistants=new WI(this._client),this.threads=new Yw(this._client)}};Ip.Realtime=GI;Ip.VectorStores=Xw;Ip.VectorStoresPage=CB;Ip.Assistants=WI;Ip.AssistantsPage=dB;Ip.Threads=Yw;var e1=class extends lt{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}};var t1=class extends lt{create(e,r){return this._client.post("/embeddings",{body:e,...r})}};var eT=class extends lt{create(e,r){return this._client.post("/files",zh({body:e,...r}))}retrieve(e,r){return this._client.get(`/files/${e}`,r)}list(e={},r){return ui(e)?this.list({},e):this._client.getAPIList("/files",r1,{query:e,...r})}del(e,r){return this._client.delete(`/files/${e}`,r)}content(e,r){return this._client.get(`/files/${e}/content`,{...r,headers:{Accept:"application/binary",...r?.headers},__binaryResponse:!0})}retrieveContent(e,r){return this._client.get(`/files/${e}/content`,r)}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){let o=new Set(["processed","error","deleted"]),i=Date.now(),a=await this.retrieve(e);for(;!a.status||!o.has(a.status);)if(await iC(r),a=await this.retrieve(e),Date.now()-i>n)throw new Mg({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}},r1=class extends _a{};eT.FileObjectsPage=r1;var n1=class extends lt{list(e,r={},n){return ui(r)?this.list(e,{},r):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,OB,{query:r,...n})}},OB=class extends _a{};n1.FineTuningJobCheckpointsPage=OB;var Zw=class extends lt{constructor(){super(...arguments),this.checkpoints=new n1(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(`/fine_tuning/jobs/${e}`,r)}list(e={},r){return ui(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",EB,{query:e,...r})}cancel(e,r){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return ui(r)?this.listEvents(e,{},r):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,PB,{query:r,...n})}},EB=class extends _a{},PB=class extends _a{};Zw.FineTuningJobsPage=EB;Zw.FineTuningJobEventsPage=PB;Zw.Checkpoints=n1;Zw.FineTuningJobCheckpointsPage=OB;var Qw=class extends lt{constructor(){super(...arguments),this.jobs=new Zw(this._client)}};Qw.Jobs=Zw;Qw.FineTuningJobsPage=EB;Qw.FineTuningJobEventsPage=PB;var o1=class extends lt{createVariation(e,r){return this._client.post("/images/variations",zh({body:e,...r}))}edit(e,r){return this._client.post("/images/edits",zh({body:e,...r}))}generate(e,r){return this._client.post("/images/generations",{body:e,...r})}};var tT=class extends lt{retrieve(e,r){return this._client.get(`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",i1,e)}del(e,r){return this._client.delete(`/models/${e}`,r)}},i1=class extends CZ{};tT.ModelsPage=i1;var a1=class extends lt{create(e,r){return this._client.post("/moderations",{body:e,...r})}};var TB=class extends lt{create(e,r,n){return this._client.post(`/uploads/${e}/parts`,zh({body:r,...n}))}};var rT=class extends lt{constructor(){super(...arguments),this.parts=new TB(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(`/uploads/${e}/complete`,{body:r,...n})}};rT.Parts=TB;var gyt,Pr=class extends xZ{constructor({baseURL:e=l3("OPENAI_BASE_URL"),apiKey:r=l3("OPENAI_API_KEY"),organization:n=l3("OPENAI_ORG_ID")??null,project:o=l3("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new Ut("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let a={apiKey:r,organization:n,project:o,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Zgt())throw new Ut(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new e1(this),this.chat=new GP(this),this.embeddings=new t1(this),this.files=new eT(this),this.images=new o1(this),this.audio=new Gw(this),this.moderations=new a1(this),this.models=new tT(this),this.fineTuning=new Qw(this),this.beta=new Ip(this),this.batches=new KP(this),this.uploads=new rT(this),this._options=a,this.apiKey=r,this.organization=n,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return hSe(e,{arrayFormat:"brackets"})}};gyt=Pr;Pr.OpenAI=gyt;Pr.DEFAULT_TIMEOUT=6e5;Pr.OpenAIError=Ut;Pr.APIError=ba;Pr.APIConnectionError=oC;Pr.APIConnectionTimeoutError=Mg;Pr.APIUserAbortError=ss;Pr.NotFoundError=ZF;Pr.ConflictError=QF;Pr.RateLimitError=tB;Pr.BadRequestError=KF;Pr.AuthenticationError=YF;Pr.InternalServerError=rB;Pr.PermissionDeniedError=XF;Pr.UnprocessableEntityError=eB;Pr.toFile=OSe;Pr.fileFromPath=bZ;Pr.Completions=e1;Pr.Chat=GP;Pr.Embeddings=t1;Pr.Files=eT;Pr.FileObjectsPage=r1;Pr.Images=o1;Pr.Audio=Gw;Pr.Moderations=a1;Pr.Models=tT;Pr.ModelsPage=i1;Pr.FineTuning=Qw;Pr.Beta=Ip;Pr.Batches=KP;Pr.BatchesPage=VI;Pr.Uploads=rT;Uh();nC();rx();eE();Cj();Due();QO();fA();function s1(t,e){if(t.function===void 0)return;let r;if(e?.partial)try{r=yj(t.function.arguments??"{}")}catch{return}else try{r=JSON.parse(t.function.arguments)}catch(o){throw new up([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${o.message}`].join(`
`))}let n={name:t.function.name,args:r,type:"tool_call"};return e?.returnId&&(n.id=t.id),n}function MB(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function AB(t,e){return{name:t.function?.name,args:t.function?.arguments,id:t.id,error:e,type:"invalid_tool_call"}}var KSe=class extends wA{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=e?.returnId??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,r=!0){let n=e[0].message,o;if(Ju(n)&&n.tool_calls?.length?o=n.tool_calls.map(a=>{let{id:s,...u}=a;return this.returnId?{id:s,...u}:u}):n.additional_kwargs.tool_calls!==void 0&&(o=JSON.parse(JSON.stringify(n.additional_kwargs.tool_calls)).map(s=>s1(s,{returnId:this.returnId,partial:r}))),!o)return[];let i=[];for(let a of o)if(a!==void 0){let s={type:a.name,args:a.args,id:a.id};i.push(s)}return i}},Ig=class extends KSe{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;let r=await this.zodSchema.safeParseAsync(e);if(r.success)return r.data;throw new up(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(r.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){let n=(await super.parsePartialResult(e)).filter(i=>i.type===this.keyName),o=n;if(n.length)return this.returnId||(o=n.map(i=>i.args)),this.returnSingle?o[0]:o}async parseResult(e){let n=(await super.parsePartialResult(e,!1)).filter(a=>a.type===this.keyName),o=n;return n.length?(this.returnId||(o=n.map(a=>a.args)),this.returnSingle?this._validateResult(o[0]):await Promise.all(o.map(a=>this._validateResult(a)))):void 0}};ch();var byt=Symbol("Let zodToJsonSchema decide on which parser to use"),yyt={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},_yt=t=>typeof t=="string"?{...yyt,basePath:["#"],definitions:{},name:t}:{...yyt,basePath:["#"],definitions:{},...t};var v3=t=>"_def"in t?t._def:t;function vyt(t){if(!t)return!0;for(let e in t)return!1;return!0}var wyt=t=>{let e=_yt(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([n,o])=>[v3(o),{def:v3(o),path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}};function YSe(t,e,r,n){n?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function bn(t,e,r,n,o){t[e]=r,YSe(t,e,n,o)}tf();function Syt(){return{}}tf();function xyt(t,e){let r={type:"array"};return t.type?._def?.typeName!==re.ZodAny&&(r.items=kt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&bn(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&bn(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(bn(r,"minItems",t.exactLength.value,t.exactLength.message,e),bn(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function Cyt(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?bn(r,"minimum",n.value,n.message,e):bn(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),bn(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?bn(r,"maximum",n.value,n.message,e):bn(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),bn(r,"maximum",n.value,n.message,e));break;case"multipleOf":bn(r,"multipleOf",n.value,n.message,e);break}return r}function Oyt(){return{type:"boolean"}}function Eyt(t,e){return kt(t.type._def,e)}var Pyt=(t,e)=>kt(t.innerType._def,e);function XSe(t,e,r){let n=r??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>XSe(t,e,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return rFr(t,e)}}var rFr=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let n of t.checks)switch(n.kind){case"min":bn(r,"minimum",n.value,n.message,e);break;case"max":bn(r,"maximum",n.value,n.message,e);break}return r};function Tyt(t,e){return{...kt(t.innerType._def,e),default:t.defaultValue()}}function Myt(t,e,r){return e.effectStrategy==="input"?kt(t.schema._def,e,r):{}}function Ayt(t){return{type:"string",enum:[...t.values]}}var nFr=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Ryt(t,e){let r=[kt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),kt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(nFr(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:s,...u}=i;a=u}else n=void 0;o.push(a)}}),o.length?{allOf:o,...n}:void 0}function Iyt(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}tf();var ZSe,u1={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(ZSe===void 0&&(ZSe=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ZSe),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function BZ(t,e){let r={type:"string"};function n(o){return e.patternStrategy==="escape"?oFr(o):o}if(t.checks)for(let o of t.checks)switch(o.kind){case"min":bn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,o.value):o.value,o.message,e);break;case"max":bn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,o.value):o.value,o.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Dg(r,"email",o.message,e);break;case"format:idn-email":Dg(r,"idn-email",o.message,e);break;case"pattern:zod":jg(r,u1.email,o.message,e);break}break;case"url":Dg(r,"uri",o.message,e);break;case"uuid":Dg(r,"uuid",o.message,e);break;case"regex":jg(r,o.regex,o.message,e);break;case"cuid":jg(r,u1.cuid,o.message,e);break;case"cuid2":jg(r,u1.cuid2,o.message,e);break;case"startsWith":jg(r,RegExp(`^${n(o.value)}`),o.message,e);break;case"endsWith":jg(r,RegExp(`${n(o.value)}$`),o.message,e);break;case"datetime":Dg(r,"date-time",o.message,e);break;case"date":Dg(r,"date",o.message,e);break;case"time":Dg(r,"time",o.message,e);break;case"duration":Dg(r,"duration",o.message,e);break;case"length":bn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,o.value):o.value,o.message,e),bn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,o.value):o.value,o.message,e);break;case"includes":{jg(r,RegExp(n(o.value)),o.message,e);break}case"ip":{o.version!=="v6"&&Dg(r,"ipv4",o.message,e),o.version!=="v4"&&Dg(r,"ipv6",o.message,e);break}case"emoji":jg(r,u1.emoji,o.message,e);break;case"ulid":{jg(r,u1.ulid,o.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Dg(r,"binary",o.message,e);break}case"contentEncoding:base64":{bn(r,"contentEncoding","base64",o.message,e);break}case"pattern:zod":{jg(r,u1.base64,o.message,e);break}}break}case"nanoid":jg(r,u1.nanoid,o.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:(i=>{})(o)}return r}var oFr=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),Dg=(t,e,r,n)=>{t.format||t.anyOf?.some(o=>o.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):bn(t,"format",e,r,n)},jg=(t,e,r,n)=>{t.pattern||t.allOf?.some(o=>o.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:Dyt(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):bn(t,"pattern",Dyt(e,n),r,n)},Dyt=(t,e)=>{let r=typeof t=="function"?t():t;if(!e.applyRegexFlags||!r.flags)return r.source;let n={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},o=n.i?r.source.toLowerCase():r.source,i="",a=!1,s=!1,u=!1;for(let l=0;l<o.length;l++){if(a){i+=o[l],a=!1;continue}if(n.i){if(s){if(o[l].match(/[a-z]/)){u?(i+=o[l],i+=`${o[l-2]}-${o[l]}`.toUpperCase(),u=!1):o[l+1]==="-"&&o[l+2]?.match(/[a-z]/)?(i+=o[l],u=!0):i+=`${o[l]}${o[l].toUpperCase()}`;continue}}else if(o[l].match(/[a-z]/)){i+=`[${o[l]}${o[l].toUpperCase()}]`;continue}}if(n.m){if(o[l]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[l]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[l]==="."){i+=s?`${o[l]}\r
`:`[${o[l]}\r
]`;continue}i+=o[l],o[l]==="\\"?a=!0:s&&o[l]==="]"?s=!1:!s&&o[l]==="["&&(s=!0)}try{let l=new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return i};function kZ(t,e){if(e.target==="openApi3"&&t.keyType?._def.typeName===re.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((n,o)=>({...n,[o]:kt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",o]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:kt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===re.ZodString&&t.keyType._def.checks?.length){let n=Object.entries(BZ(t.keyType._def,e)).reduce((o,[i,a])=>i==="type"?o:{...o,[i]:a},{});return{...r,propertyNames:n}}else if(t.keyType?._def.typeName===re.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};return r}function jyt(t,e){if(e.mapStrategy==="record")return kZ(t,e);let r=kt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},n=kt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function Nyt(t){let e=t.values,n=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}function Lyt(){return{not:{}}}function Fyt(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var w3={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function kyt(t,e){if(e.target==="openApi3")return Byt(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in w3&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let a=w3[i._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,a,s)=>s.indexOf(i)===a);return{type:o.length>1?o:o[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Byt(t,e)}var Byt=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,o)=>kt(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function $yt(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:w3[t.innerType._def.typeName],nullable:!0}:{type:[w3[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=kt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=kt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function qyt(t,e){let r={type:"number"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"int":r.type="integer",YSe(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?bn(r,"minimum",n.value,n.message,e):bn(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),bn(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?bn(r,"maximum",n.value,n.message,e):bn(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),bn(r,"maximum",n.value,n.message,e));break;case"multipleOf":bn(r,"multipleOf",n.value,n.message,e);break}return r}function iFr(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":kt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":kt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function Uyt(t,e){let r={type:"object",...Object.entries(t.shape()).reduce((n,[o,i])=>{if(i===void 0||i._def===void 0)return n;let a=kt(i._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});return a===void 0?n:{properties:{...n.properties,[o]:a},required:i.isOptional()&&!e.openaiStrictMode?n.required:[...n.required,o]}},{properties:{},required:[]}),additionalProperties:iFr(t,e)};return r.required.length||delete r.required,r}var zyt=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return kt(t.innerType._def,e);let r=kt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var Hyt=(t,e)=>{if(e.pipeStrategy==="input")return kt(t.in._def,e);if(e.pipeStrategy==="output")return kt(t.out._def,e);let r=kt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=kt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}};function Vyt(t,e){return kt(t.type._def,e)}function Wyt(t,e){let n={type:"array",uniqueItems:!0,items:kt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&bn(n,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&bn(n,"maxItems",t.maxSize.value,t.maxSize.message,e),n}function Jyt(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>kt(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:kt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>kt(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function Gyt(){return{not:{}}}function Kyt(){return{}}var Yyt=(t,e)=>kt(t.innerType._def,e);function kt(t,e,r=!1){let n=e.seen.get(t);if(e.override){let a=e.override?.(t,e,n,r);if(a!==byt)return a}if(n&&!r){let a=aFr(n,e);if(a!==void 0)return"$ref"in a&&e.seenRefs.add(a.$ref),a}let o={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,o);let i=uFr(t,t.typeName,e,r);return i&&lFr(t,e,i),o.jsonSchema=i,i}var aFr=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"extract-to-root":let r=t.path.slice(e.basePath.length+1).join("_");return r!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[r]=t.def),{$ref:[...e.basePath,e.definitionPath,r].join("/")};case"relative":return{$ref:sFr(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,o)=>e.currentPath[o]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},sFr=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},uFr=(t,e,r,n)=>{switch(e){case re.ZodString:return BZ(t,r);case re.ZodNumber:return qyt(t,r);case re.ZodObject:return Uyt(t,r);case re.ZodBigInt:return Cyt(t,r);case re.ZodBoolean:return Oyt();case re.ZodDate:return XSe(t,r);case re.ZodUndefined:return Gyt();case re.ZodNull:return Fyt(r);case re.ZodArray:return xyt(t,r);case re.ZodUnion:case re.ZodDiscriminatedUnion:return kyt(t,r);case re.ZodIntersection:return Ryt(t,r);case re.ZodTuple:return Jyt(t,r);case re.ZodRecord:return kZ(t,r);case re.ZodLiteral:return Iyt(t,r);case re.ZodEnum:return Ayt(t);case re.ZodNativeEnum:return Nyt(t);case re.ZodNullable:return $yt(t,r);case re.ZodOptional:return zyt(t,r);case re.ZodMap:return jyt(t,r);case re.ZodSet:return Wyt(t,r);case re.ZodLazy:return kt(t.getter()._def,r);case re.ZodPromise:return Vyt(t,r);case re.ZodNaN:case re.ZodNever:return Lyt();case re.ZodEffects:return Myt(t,r,n);case re.ZodAny:return Syt();case re.ZodUnknown:return Kyt();case re.ZodDefault:return Tyt(t,r);case re.ZodBranded:return Eyt(t,r);case re.ZodReadonly:return Yyt(t,r);case re.ZodCatch:return Pyt(t,r);case re.ZodPipeline:return Hyt(t,r);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(o=>{})(e)}},lFr=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var Xyt=(t,e)=>{let r=wyt(e),n=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,o=kt(t._def,n===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??{},i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(o.title=i);let a=(()=>{if(vyt(r.definitions))return;let u={},l=new Set;for(let c=0;c<500;c++){let d=Object.entries(r.definitions).filter(([f])=>!l.has(f));if(d.length===0)break;for(let[f,p]of d)u[f]=kt(v3(p),{...r,currentPath:[...r.basePath,r.definitionPath,f]},!0)??{},l.add(f)}return u})(),s=n===void 0?a?{...o,[r.definitionPath]:a}:o:r.nameStrategy==="duplicate-ref"?{...o,...a||r.seenRefs.size?{[r.definitionPath]:{...a,...r.seenRefs.size?{[n]:o}:void 0}}:void 0}:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...a,[n]:o}};return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":r.target==="jsonSchema2019-09"&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),s};function Zyt(t,e){return Xyt(t,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function Qyt(t,e,r){return eyt({type:"json_schema",json_schema:{...r,name:e,strict:!0,schema:Zyt(t,{name:e})}},n=>t.parse(JSON.parse(n)))}function ebt(t){return tyt({type:"function",function:{name:t.name,parameters:Zyt(t.parameters,{name:t.name}),strict:!0,...t.description?{description:t.description}:void 0}},{callback:t.function,parser:e=>t.parameters.parse(JSON.parse(e))})}function nT(t){let{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:r,azureOpenAIApiKey:n,azureOpenAIBasePath:o,baseURL:i,azureADTokenProvider:a,azureOpenAIEndpoint:s}=t;if((n||a)&&o&&e)return`${o}/${e}`;if((n||a)&&s&&e)return`${s}/openai/deployments/${e}`;if(n||a){if(!r)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${r}.openai.azure.com/openai/deployments/${e}`}return i}ch();function S3(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function l1(t){let e;return t.constructor.name===Mg.name?(e=new Error(t.message),e.name="TimeoutError"):t.constructor.name===ss.name?(e=new Error(t.message),e.name="AbortError"):t.status===400&&t.message.includes("tool_calls")?e=S3(t,"INVALID_TOOL_RESULTS"):t.status===401?e=S3(t,"MODEL_AUTHENTICATION"):t.status===429?e=S3(t,"MODEL_RATE_LIMIT"):t.status===404?e=S3(t,"MODEL_NOT_FOUND"):e=t,e}function tbt(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}function cFr(t){return t.anyOf!==void 0&&Array.isArray(t.anyOf)}function rbt(t){let e=["namespace functions {",""];for(let r of t)r.description&&e.push(`// ${r.description}`),Object.keys(r.parameters.properties??{}).length>0?(e.push(`type ${r.name} = (_: {`),e.push(nbt(r.parameters,0)),e.push("}) => any;")):e.push(`type ${r.name} = () => any;`),e.push("");return e.push("} // namespace functions"),e.join(`
`)}function nbt(t,e){let r=[];for(let[n,o]of Object.entries(t.properties??{}))o.description&&e<2&&r.push(`// ${o.description}`),t.required?.includes(n)?r.push(`${n}: ${$Z(o,e)},`):r.push(`${n}?: ${$Z(o,e)},`);return r.map(n=>" ".repeat(e)+n).join(`
`)}function $Z(t,e){if(cFr(t))return t.anyOf.map(r=>$Z(r,e)).join(" | ");switch(t.type){case"string":return t.enum?t.enum.map(r=>`"${r}"`).join(" | "):"string";case"number":return t.enum?t.enum.map(r=>`${r}`).join(" | "):"number";case"integer":return t.enum?t.enum.map(r=>`${r}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",nbt(t,e+2),"}"].join(`
`);case"array":return t.items?`${$Z(t.items,e)}[]`:"any[]";default:return""}}function obt(t,e){let r;if(Pg(t)){let n=ebt({name:t.name,parameters:t.schema,description:t.description});n.function.parameters?r={type:n.type,function:{name:n.function.name,description:n.function.description,parameters:n.function.parameters,...e?.strict!==void 0?{strict:e.strict}:{}}}:r={type:"function",function:QX(t,e)}}else r=t;return e?.strict!==void 0&&(r.function.strict=e.strict),r}function dFr(t){return t.role!=="system"&&t.role!=="developer"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function"&&t.role!=="tool"&&console.warn(`Unknown message role: ${t.role}`),t.role}function abt(t){let e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!Gl.isInstance(t))throw new Error("Invalid generic chat message");return dFr(t)}default:throw new Error(`Unknown message type: ${e}`)}}function QSe(t,e){return t.flatMap(r=>{let n=abt(r);n==="system"&&e?.startsWith("o1")&&(n="developer");let o={role:n,content:r.content};if(r.name!=null&&(o.name=r.name),r.additional_kwargs.function_call!=null&&(o.function_call=r.additional_kwargs.function_call,o.content=null),Ju(r)&&r.tool_calls?.length?(o.tool_calls=r.tool_calls.map(MB),o.content=null):(r.additional_kwargs.tool_calls!=null&&(o.tool_calls=r.additional_kwargs.tool_calls),r.tool_call_id!=null&&(o.tool_call_id=r.tool_call_id)),r.additional_kwargs.audio&&typeof r.additional_kwargs.audio=="object"&&"id"in r.additional_kwargs.audio){let i={role:"assistant",audio:{id:r.additional_kwargs.audio.id}};return[o,i]}return o})}function ibt(t,e){return Uw(t)?e?.strict!==void 0?{...t,function:{...t.function,strict:e.strict}}:t:obt(t,e)}var eS=class extends ya{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning_effort"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key"}}constructor(e){super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__includeRawResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportsStrictToolCalling",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"audio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modalities",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoningEffort",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??e?.configuration?.apiKey??Kt("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.organization=e?.configuration?.organization??Kt("OPENAI_ORGANIZATION"),this.model=e?.model??e?.modelName??this.model,this.modelName=this.model,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.logprobs=e?.logprobs,this.topLogprobs=e?.topLogprobs,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=this?.stop,this.user=e?.user,this.__includeRawResponse=e?.__includeRawResponse,this.audio=e?.audio,this.modalities=e?.modalities,this.reasoningEffort=e?.reasoningEffort,this.model==="o1"&&(this.disableStreaming=!0),this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...e?.configuration},e?.supportsStrictToolCalling!==void 0&&(this.supportsStrictToolCalling=e.supportsStrictToolCalling)}getLsParams(e){let r=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??void 0,ls_max_tokens:r.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,r){let n;return r?.strict!==void 0?n=r.strict:this.supportsStrictToolCalling!==void 0&&(n=this.supportsStrictToolCalling),this.bind({tools:e.map(o=>ibt(o,{strict:n})),...r})}createResponseFormat(e){return e&&e.type==="json_schema"&&e.json_schema.schema&&qZ(e.json_schema.schema)?Qyt(e.json_schema.schema,e.json_schema.name,{description:e.json_schema.description}):e}invocationParams(e,r){let n;e?.strict!==void 0?n=e.strict:this.supportsStrictToolCalling!==void 0&&(n=this.supportsStrictToolCalling);let o={};e?.stream_options!==void 0?o={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||r?.streaming)&&(o={stream_options:{include_usage:!0}});let i={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:e?.functions,function_call:e?.function_call,tools:e?.tools?.length?e.tools.map(s=>ibt(s,{strict:n})):void 0,tool_choice:tbt(e?.tool_choice),response_format:this.createResponseFormat(e?.response_format),seed:e?.seed,...o,parallel_tool_calls:e?.parallel_tool_calls,...this.audio||e?.audio?{audio:this.audio||e?.audio}:{},...this.modalities||e?.modalities?{modalities:this.modalities||e?.modalities}:{},...this.modelKwargs};e?.prediction!==void 0&&(i.prediction=e.prediction);let a=e?.reasoning_effort??this.reasoningEffort;return a!==void 0&&(i.reasoning_effort=a),i}_convertOpenAIChatCompletionMessageToBaseMessage(e,r){let n=e.tool_calls;switch(e.role){case"assistant":{let o=[],i=[];for(let u of n??[])try{o.push(s1(u,{returnId:!0}))}catch(l){i.push(AB(u,l.message))}let a={function_call:e.function_call,tool_calls:n};this.__includeRawResponse!==void 0&&(a.__raw_response=r);let s={model_name:r.model,...r.system_fingerprint?{usage:{...r.usage},system_fingerprint:r.system_fingerprint}:{}};return e.audio&&(a.audio=e.audio),new Po({content:e.content||"",tool_calls:o,invalid_tool_calls:i,additional_kwargs:a,response_metadata:s,id:r.id})}default:return new Gl(e.content||"",e.role??"unknown")}}_convertOpenAIDeltaToBaseMessageChunk(e,r,n){let o=e.role??n,i=e.content??"",a;e.function_call?a={function_call:e.function_call}:e.tool_calls?a={tool_calls:e.tool_calls}:a={},this.__includeRawResponse&&(a.__raw_response=r),e.audio&&(a.audio={...e.audio,index:r.choices[0].index});let s={usage:{...r.usage}};if(o==="user")return new ip({content:i,response_metadata:s});if(o==="assistant"){let u=[];if(Array.isArray(e.tool_calls))for(let l of e.tool_calls)u.push({name:l.function?.name,args:l.function?.arguments,id:l.id,index:l.index,type:"tool_call_chunk"});return new Ar({content:i,tool_call_chunks:u,additional_kwargs:a,id:r.id,response_metadata:s})}else return o==="system"?new lh({content:i,response_metadata:s}):o==="developer"?new lh({content:i,response_metadata:s,additional_kwargs:{__openai_role__:"developer"}}):o==="function"?new qm({content:i,additional_kwargs:a,name:e.name,response_metadata:s}):o==="tool"?new Sy({content:i,additional_kwargs:a,tool_call_id:e.tool_call_id,response_metadata:s}):new op({content:i,role:o,response_metadata:s})}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,r,n){let o=QSe(e,this.model),i={...this.invocationParams(r,{streaming:!0}),messages:o,stream:!0},a,s=await this.completionWithRetry(i,r),u;for await(let l of s){let c=l?.choices?.[0];if(l.usage&&(u=l.usage),!c)continue;let{delta:d}=c;if(!d)continue;let f=this._convertOpenAIDeltaToBaseMessageChunk(d,l,a);a=d.role??a;let p={prompt:r.promptIndex??0,completion:c.index??0};if(typeof f.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}let m={...p};c.finish_reason!=null&&(m.finish_reason=c.finish_reason,m.system_fingerprint=l.system_fingerprint,m.model_name=l.model),this.logprobs&&(m.logprobs=c.logprobs);let h=new qo({message:f,text:f.content,generationInfo:m});yield h,await n?.handleLLMNewToken(h.text??"",p,void 0,void 0,void 0,{chunk:h})}if(u){let l={...u.prompt_tokens_details?.audio_tokens!==null&&{audio:u.prompt_tokens_details?.audio_tokens},...u.prompt_tokens_details?.cached_tokens!==null&&{cache_read:u.prompt_tokens_details?.cached_tokens}},c={...u.completion_tokens_details?.audio_tokens!==null&&{audio:u.completion_tokens_details?.audio_tokens},...u.completion_tokens_details?.reasoning_tokens!==null&&{reasoning:u.completion_tokens_details?.reasoning_tokens}};yield new qo({message:new Ar({content:"",response_metadata:{usage:{...u}},usage_metadata:{input_tokens:u.prompt_tokens,output_tokens:u.completion_tokens,total_tokens:u.total_tokens,...Object.keys(l).length>0&&{input_token_details:l},...Object.keys(c).length>0&&{output_token_details:c}}}),text:""})}if(r.signal?.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,r,n){let o={},i=this.invocationParams(r),a=QSe(e,this.model);if(i.stream){let s=this._streamResponseChunks(e,r,n),u={};for await(let m of s){m.message.response_metadata={...m.generationInfo,...m.message.response_metadata};let h=m.generationInfo?.completion??0;u[h]===void 0?u[h]=m:u[h]=u[h].concat(m)}let l=Object.entries(u).sort(([m],[h])=>parseInt(m,10)-parseInt(h,10)).map(([m,h])=>h),{functions:c,function_call:d}=this.invocationParams(r),f=await this.getEstimatedTokenCountFromPrompt(e,c,d),p=await this.getNumTokensFromGenerations(l);return o.input_tokens=f,o.output_tokens=p,o.total_tokens=f+p,{generations:l,llmOutput:{estimatedTokenUsage:{promptTokens:o.input_tokens,completionTokens:o.output_tokens,totalTokens:o.total_tokens}}}}else{let s;r.response_format&&r.response_format.type==="json_schema"?s=await this.betaParsedCompletionWithRetry({...i,stream:!1,messages:a},{signal:r?.signal,...r?.options}):s=await this.completionWithRetry({...i,stream:!1,messages:a},{signal:r?.signal,...r?.options});let{completion_tokens:u,prompt_tokens:l,total_tokens:c,prompt_tokens_details:d,completion_tokens_details:f}=s?.usage??{};u&&(o.output_tokens=(o.output_tokens??0)+u),l&&(o.input_tokens=(o.input_tokens??0)+l),c&&(o.total_tokens=(o.total_tokens??0)+c),(d?.audio_tokens!==null||d?.cached_tokens!==null)&&(o.input_token_details={...d?.audio_tokens!==null&&{audio:d?.audio_tokens},...d?.cached_tokens!==null&&{cache_read:d?.cached_tokens}}),(f?.audio_tokens!==null||f?.reasoning_tokens!==null)&&(o.output_token_details={...f?.audio_tokens!==null&&{audio:f?.audio_tokens},...f?.reasoning_tokens!==null&&{reasoning:f?.reasoning_tokens}});let p=[];for(let m of s?.choices??[]){let v={text:m.message?.content??"",message:this._convertOpenAIChatCompletionMessageToBaseMessage(m.message??{role:"assistant"},s)};v.generationInfo={...m.finish_reason?{finish_reason:m.finish_reason}:{},...m.logprobs?{logprobs:m.logprobs}:{}},Ju(v.message)&&(v.message.usage_metadata=o),v.message=new Po(Object.fromEntries(Object.entries(v.message).filter(([g])=>!g.startsWith("lc_")))),p.push(v)}return{generations:p,llmOutput:{tokenUsage:{promptTokens:o.input_tokens,completionTokens:o.output_tokens,totalTokens:o.total_tokens}}}}}async getEstimatedTokenCountFromPrompt(e,r,n){let o=(await this.getNumTokensFromMessages(e)).totalCount;if(r&&n!=="auto"){let i=rbt(r);o+=await this.getNumTokens(i),o+=9}return r&&e.find(i=>i._getType()==="system")&&(o-=4),n==="none"?o+=1:typeof n=="object"&&(o+=await this.getNumTokens(n.name)+4),o}async getNumTokensFromGenerations(e){return(await Promise.all(e.map(async n=>n.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([n.message])).countPerMessage[0]:await this.getNumTokens(n.message.content)))).reduce((n,o)=>n+o,0)}async getNumTokensFromMessages(e){let r=0,n=0,o=0;this.model==="gpt-3.5-turbo-0301"?(n=4,o=-1):(n=3,o=1);let i=await Promise.all(e.map(async a=>{let s=await this.getNumTokens(a.content),u=await this.getNumTokens(abt(a)),l=a.name!==void 0?o+await this.getNumTokens(a.name):0,c=s+n+u+l,d=a;if(d._getType()==="function"&&(c-=2),d.additional_kwargs?.function_call&&(c+=3),d?.additional_kwargs.function_call?.name&&(c+=await this.getNumTokens(d.additional_kwargs.function_call?.name)),d.additional_kwargs.function_call?.arguments)try{c+=await this.getNumTokens(JSON.stringify(JSON.parse(d.additional_kwargs.function_call?.arguments)))}catch(f){console.error("Error parsing function arguments",f,JSON.stringify(d.additional_kwargs.function_call)),c+=await this.getNumTokens(d.additional_kwargs.function_call?.arguments)}return r+=c,c}));return r+=3,{totalCount:r,countPerMessage:i}}async completionWithRetry(e,r){let n=this._getClientOptions(r);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,n)}catch(o){throw l1(o)}})}async betaParsedCompletionWithRetry(e,r){let n=this._getClientOptions(r);return this.caller.call(async()=>{try{return await this.client.beta.chat.completions.parse(e,n)}catch(o){throw l1(o)}})}_getClientOptions(e){if(!this.client){let n={baseURL:this.clientConfig.baseURL},o=nT(n),i={...this.clientConfig,baseURL:o,timeout:this.timeout,maxRetries:0};i.baseURL||delete i.baseURL,this.client=new Pr(i)}return{...this.clientConfig,...e}}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((r,n)=>(n&&n.tokenUsage&&(r.tokenUsage.completionTokens+=n.tokenUsage.completionTokens??0,r.tokenUsage.promptTokens+=n.tokenUsage.promptTokens??0,r.tokenUsage.totalTokens+=n.tokenUsage.totalTokens??0),r),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,r){let n,o,i,a;fFr(e)?(n=e.schema,o=e.name,i=e.method,a=e.includeRaw):(n=e,o=r?.name,i=r?.method,a=r?.includeRaw);let s,u;if(r?.strict!==void 0&&i==="jsonMode")throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");if(!this.model.startsWith("gpt-3")&&!this.model.startsWith("gpt-4-")&&this.model!=="gpt-4"?i===void 0&&(i="jsonSchema"):i==="jsonSchema"&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`),i==="jsonMode")s=this.bind({response_format:{type:"json_object"}}),qZ(n)?u=QS.fromZodSchema(n):u=new ex;else if(i==="jsonSchema")s=this.bind({response_format:{type:"json_schema",json_schema:{name:o??"extract",description:n.description,schema:n,strict:r?.strict}}}),qZ(n)?u=QS.fromZodSchema(n):u=new ex;else{let f=o??"extract";if(qZ(n)){let p=Fi(n);s=this.bind({tools:[{type:"function",function:{name:f,description:p.description,parameters:p}}],tool_choice:{type:"function",function:{name:f}},...r?.strict!==void 0?{strict:r.strict}:{}}),u=new Ig({returnSingle:!0,keyName:f,zodSchema:n})}else{let p;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(p=n,f=n.name):(f=n.title??f,p={name:f,description:n.description??"",parameters:n}),s=this.bind({tools:[{type:"function",function:p}],tool_choice:{type:"function",function:{name:f}},...r?.strict!==void 0?{strict:r.strict}:{}}),u=new Ig({returnSingle:!0,keyName:f})}}if(!a)return s.pipe(u);let l=Bi.assign({parsed:(f,p)=>u.invoke(f.raw,p)}),c=Bi.assign({parsed:()=>null}),d=l.withFallbacks({fallbacks:[c]});return ni.from([{raw:s},d])}};function qZ(t){return typeof t?.parse=="function"}function fFr(t){return t!==void 0&&typeof t.schema=="object"}nC();Uh();var dC=class extends Mp{constructor(e){let r={maxConcurrency:2,...e};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let n=r?.apiKey??r?.openAIApiKey??Kt("OPENAI_API_KEY");this.organization=r?.configuration?.organization??Kt("OPENAI_ORGANIZATION"),this.model=r?.model??r?.modelName??this.model,this.modelName=this.model,this.batchSize=r?.batchSize??this.batchSize,this.stripNewLines=r?.stripNewLines??this.stripNewLines,this.timeout=r?.timeout,this.dimensions=r?.dimensions,this.clientConfig={apiKey:n,organization:this.organization,dangerouslyAllowBrowser:!0,...e?.configuration}}async embedDocuments(e){let r=Tg(this.stripNewLines?e.map(a=>a.replace(/\n/g," ")):e,this.batchSize),n=r.map(a=>{let s={model:this.model,input:a};return this.dimensions&&(s.dimensions=this.dimensions),this.embeddingWithRetry(s)}),o=await Promise.all(n),i=[];for(let a=0;a<o.length;a+=1){let s=r[a],{data:u}=o[a];for(let l=0;l<s.length;l+=1)i.push(u[l].embedding)}return i}async embedQuery(e){let r={model:this.model,input:this.stripNewLines?e.replace(/\n/g," "):e};this.dimensions&&(r.dimensions=this.dimensions);let{data:n}=await this.embeddingWithRetry(r);return n[0].embedding}async embeddingWithRetry(e){if(!this.client){let n={baseURL:this.clientConfig.baseURL},o=nT(n),i={...this.clientConfig,baseURL:o,timeout:this.timeout,maxRetries:0};i.baseURL||delete i.baseURL,this.client=new Pr(i)}let r={};return this.caller.call(async()=>{try{return await this.client.embeddings.create(e,r)}catch(n){throw l1(n)}})}};tf();YO();e3();xy();bj();vj();KV();var UZ=class extends zF{get lc_namespace(){return["langchain","tools"]}constructor(e){super(e??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"verboseParsingErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"content"}),this.verboseParsingErrors=e?.verboseParsingErrors??this.verboseParsingErrors,this.responseFormat=e?.responseFormat??this.responseFormat}async invoke(e,r){let n,o,i=Rr(r);return gj(e)?(n=e.id,o=e.args,i={...i,toolCall:e,configurable:{...i.configurable,tool_call_id:n}}):o=e,this.call(o,i)}async call(e,r,n){let o;try{o=await this.schema.parseAsync(e)}catch(p){let m="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(m=`${m}
Details: ${p.message}`),new mj(m,JSON.stringify(e))}let i=hA(r),s=await bi.configure(i.callbacks,this.callbacks,i.tags||n,this.tags,i.metadata,this.metadata,{verbose:this.verbose})?.handleToolStart(this.toJSON(),typeof o=="string"?o:JSON.stringify(o),i.runId,void 0,void 0,void 0,i.runName);delete i.runId;let u;try{u=await this._call(o,s,i)}catch(p){throw await s?.handleToolError(p),p}let l,c;if(this.responseFormat==="content_and_artifact")if(Array.isArray(u)&&u.length===2)[l,c]=u;else throw new Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.
Result: ${JSON.stringify(u)}`);else l=u;let d;i&&"configurable"in i&&(d=i.configurable.tool_call_id);let f=pFr({content:l,artifact:c,toolCallId:d,name:this.name});return await s?.handleToolEnd(f),f}},x3=class extends UZ{constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:kr.object({input:kr.string().optional()}).transform(r=>r.input)})}call(e,r){return super.call(typeof e=="string"||!e?{input:e}:e,r)}},exe=class extends x3{static lc_name(){return"DynamicTool"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect}async call(e,r){let n=hA(r);return n.runName===void 0&&(n.runName=this.name),super.call(e,n)}async _call(e,r,n){return this.func(e,r,n)}},txe=class extends UZ{static lc_name(){return"DynamicStructuredTool"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect,this.schema=Nf(e.schema)?e.schema:kr.object({}).passthrough()}async call(e,r,n){let o=hA(r);return o.runName===void 0&&(o.runName=this.name),super.call(e,o,n)}_call(e,r,n){return this.func(e,r,n)}};function Ng(t,e){if(!e.schema||Nf(e.schema)&&(!("shape"in e.schema)||!e.schema.shape))return new exe({...e,description:e.description??e.schema?.description??`${e.name} tool`,func:async(n,o,i)=>new Promise((a,s)=>{let u=Na(i,{callbacks:o?.getChild()});Uc.runWithConfig(ap(u),async()=>{try{a(t(n,u))}catch(l){s(l)}})})});let r=e.description??e.schema.description??`${e.name} tool`;return new txe({...e,description:r,schema:e.schema,func:async(n,o,i)=>new Promise((a,s)=>{let u=Na(i,{callbacks:o?.getChild()});Uc.runWithConfig(ap(u),async()=>{try{a(t(n,u))}catch(l){s(l)}})})})}function pFr(t){let{content:e,artifact:r,toolCallId:n}=t;return n&&!kNe(e)?typeof e=="string"||Array.isArray(e)&&e.every(o=>typeof o=="object")?new KS({content:e,artifact:r,tool_call_id:n,name:t.name}):new KS({content:hFr(e),artifact:r,tool_call_id:n,name:t.name}):e}function hFr(t){try{return JSON.stringify(t,null,2)}catch{return`${t}`}}var rxe=class extends x3{static lc_name(){return"DallEAPIWrapper"}constructor(e){e?.responseFormat!==void 0&&["url","b64_json"].includes(e.responseFormat)&&(e.dallEResponseFormat=e.responseFormat,e.responseFormat="content"),super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description."}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"dall-e-3"}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:"vivid"}),Object.defineProperty(this,"quality",{enumerable:!0,configurable:!0,writable:!0,value:"standard"}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:"1024x1024"}),Object.defineProperty(this,"dallEResponseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"url"}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=e?.apiKey??e?.openAIApiKey??Kt("OPENAI_API_KEY"),n=e?.organization??Kt("OPENAI_ORGANIZATION"),o={apiKey:r,organization:n,dangerouslyAllowBrowser:!0,baseUrl:e?.baseUrl};this.client=new Pr(o),this.model=e?.model??e?.modelName??this.model,this.style=e?.style??this.style,this.quality=e?.quality??this.quality,this.n=e?.n??this.n,this.size=e?.size??this.size,this.dallEResponseFormat=e?.dallEResponseFormat??this.dallEResponseFormat,this.user=e?.user}processMultipleGeneratedUrls(e){return this.dallEResponseFormat==="url"?e.flatMap(r=>r.data.flatMap(o=>o.url?{type:"image_url",image_url:o.url}:[]).filter(o=>o!==void 0&&o.type==="image_url"&&typeof o.image_url=="string"&&o.image_url!==void 0)):e.flatMap(r=>r.data.flatMap(o=>o.b64_json?{type:"image_url",image_url:{url:o.b64_json}}:[]).filter(o=>o!==void 0&&o.type==="image_url"&&typeof o.image_url=="object"&&"url"in o.image_url&&typeof o.image_url.url=="string"&&o.image_url.url!==void 0))}async _call(e){let r={model:this.model,prompt:e,n:1,size:this.size,response_format:this.dallEResponseFormat,style:this.style,quality:this.quality,user:this.user};if(this.n>1){let i=await Promise.all(Array.from({length:this.n}).map(()=>this.client.images.generate(r)));return this.processMultipleGeneratedUrls(i)}let n=await this.client.images.generate(r),o="";return this.dallEResponseFormat==="url"?[o]=n.data.map(i=>i.url).filter(i=>i!=="undefined"):[o]=n.data.map(i=>i.b64_json).filter(i=>i!=="undefined"),o}};Object.defineProperty(rxe,"toolName",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"});var sbt=require("obsidian");var zZ=class extends Mp{constructor(e){let r={maxConcurrency:2,...e};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"jina-clip-v2"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:24}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"https://api.jina.ai/v1/embeddings"}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:1024}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"normalized",{enumerable:!0,configurable:!0,writable:!0,value:!0});let n=r?.apiKey||Kt("JINA_API_KEY")||Kt("JINA_AUTH_TOKEN");if(!n)throw new Error("Jina API key not found");this.apiKey=n,this.model=r?.model??this.model,this.dimensions=r?.dimensions??this.dimensions,this.batchSize=r?.batchSize??this.batchSize,this.stripNewLines=r?.stripNewLines??this.stripNewLines,this.normalized=r?.normalized??this.normalized}doStripNewLines(e){return this.stripNewLines?e.map(r=>typeof r=="string"?r.replace(/\n/g," "):r.text?{text:r.text.replace(/\n/g," ")}:r):e}async embedDocuments(e){let r=Tg(this.doStripNewLines(e),this.batchSize),n=r.map(a=>{let s=this.getParams(a);return this.embeddingWithRetry(s)}),o=await Promise.all(n),i=[];for(let a=0;a<o.length;a+=1){let s=r[a],u=o[a]||[];for(let l=0;l<s.length;l+=1)i.push(u[l])}return i}async embedQuery(e){let r=this.getParams(this.doStripNewLines([e]),!0);return(await this.embeddingWithRetry(r)||[[]])[0]}getParams(e,r){return{model:this.model,input:e,dimensions:this.dimensions,task:r?"retrieval.query":"retrieval.passage",normalized:this.normalized}}async embeddingWithRetry(e){let n=await(await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(e)})).json();if("detail"in n&&n.detail)throw new Error(`${n.detail}`);return n.data.map(({embedding:o})=>o)}};var HZ=class extends zZ{constructor(e){super(e),e?.baseUrl&&(this.baseUrl=e.baseUrl)}};var mFr={["copilot-plus"]:dC,["copilot-plus-jina"]:HZ,["openai"]:dC,["cohereai"]:oZ,["google"]:cZ,["azure openai"]:dC,["ollama"]:hZ,["lm-studio"]:dC,["3rd party (openai-format)"]:dC},_o=class{constructor(){this.providerApiKeyMap={["copilot-plus"]:()=>fe().plusLicenseKey,["copilot-plus-jina"]:()=>fe().plusLicenseKey,["openai"]:()=>fe().openAIApiKey,["cohereai"]:()=>fe().cohereApiKey,["google"]:()=>fe().googleApiKey,["azure openai"]:()=>fe().azureOpenAIApiKey,["ollama"]:()=>"default-key",["lm-studio"]:()=>"default-key",["3rd party (openai-format)"]:()=>""};this.initialize(),_l(()=>this.initialize())}initialize(){let e=fe().activeEmbeddingModels;this.activeEmbeddingModels=e,this.buildModelMap(e)}static getInstance(){return _o.instance||(_o.instance=new _o),_o.instance}getProviderConstructor(e){let r=mFr[e.provider];if(!r)throw console.warn(`Unknown provider: ${e.provider} for model: ${e.name}`),new Error(`Unknown provider: ${e.provider} for model: ${e.name}`);return r}buildModelMap(e){_o.modelMap={};let r=_o.modelMap;e.forEach(n=>{if(n.enabled){if(!Object.values(uE).contains(n.provider)){console.warn(`Unknown provider: ${n.provider} for embedding model: ${n.name}`);return}let o=this.getProviderConstructor(n),i=n.apiKey||this.providerApiKeyMap[n.provider](),a=tn(n);r[a]={hasApiKey:Boolean(i),EmbeddingConstructor:o,vendor:n.provider}}})}static getModelName(e){let r=e;if("model"in r&&r.model)return r.model;if("modelName"in r&&r.modelName)return r.modelName;throw new Error(`Embeddings instance missing model or modelName properties: ${e}`)}getCustomModel(e){return this.activeEmbeddingModels.filter(r=>{let n=tn(r);return e===n})[0]}async getEmbeddingsAPI(){let{embeddingModelKey:e}=fe();if(!_o.modelMap.hasOwnProperty(e))throw new pr(`No embedding model found for: ${e}`);let r=_o.modelMap[e];if(!r.hasApiKey)throw new pr(`API key is not provided for the embedding model: ${e}`);let n=this.getCustomModel(e),o=await this.getEmbeddingConfig(n);try{return _o.embeddingModel=new r.EmbeddingConstructor(o),_o.embeddingModel}catch(i){throw new pr(`Error creating embedding model: ${e}. ${i.message}`)}}async getEmbeddingConfig(e){let r=fe(),n=e.name,o={maxRetries:3,maxConcurrency:3},a={["copilot-plus"]:{modelName:n,apiKey:await oi(r.plusLicenseKey),timeout:1e4,batchSize:fe().embeddingBatchSize,configuration:{baseURL:CA,fetch:e.enableCors?Zu:void 0}},["copilot-plus-jina"]:{model:n,apiKey:await oi(r.plusLicenseKey),timeout:1e4,batchSize:fe().embeddingBatchSize,dimensions:e.dimensions,baseUrl:CA+"/embeddings",configuration:{fetch:e.enableCors?Zu:void 0}},["openai"]:{modelName:n,apiKey:await oi(e.apiKey||r.openAIApiKey),timeout:1e4,batchSize:fe().embeddingBatchSize,configuration:{baseURL:e.baseUrl,fetch:e.enableCors?Zu:void 0}},["cohereai"]:{model:n,apiKey:await oi(e.apiKey||r.cohereApiKey)},["google"]:{modelName:n,apiKey:await oi(r.googleApiKey)},["azure openai"]:{modelName:n,openAIApiKey:await oi(e.apiKey||r.azureOpenAIApiKey),configuration:{baseURL:e.baseUrl||`https://${e.azureOpenAIApiInstanceName||r.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${e.azureOpenAIApiEmbeddingDeploymentName||r.azureOpenAIApiEmbeddingDeploymentName}`,defaultQuery:{"api-version":e.azureOpenAIApiVersion||r.azureOpenAIApiVersion},fetch:e.enableCors?Zu:void 0}},["ollama"]:{baseUrl:e.baseUrl||"http://localhost:11434",model:n,truncate:!0},["lm-studio"]:{modelName:n,openAIApiKey:await oi(e.apiKey||"default-key"),configuration:{baseURL:e.baseUrl||"http://localhost:1234/v1",fetch:e.enableCors?Zu:void 0}},["3rd party (openai-format)"]:{modelName:n,openAIApiKey:await oi(e.apiKey||""),batchSize:fe().embeddingBatchSize,configuration:{baseURL:e.baseUrl,fetch:e.enableCors?Zu:void 0,dangerouslyAllowBrowser:!0}}}[e.provider]||{};return{...o,...a}}async ping(e){let r=async n=>{let o={...e,enableCors:n},i=await this.getEmbeddingConfig(o);await new(this.getProviderConstructor(o))(i).embedQuery("test")};try{return await r(!1),!0}catch(n){console.log("First ping attempt failed, trying with CORS...");try{return await r(!0),new sbt.Notice("Connection successful, but requires CORS to be enabled. Please enable CORS for this model once you add it above."),!0}catch(o){let i=`
without CORS Error: `+sa(n)+`
with CORS Error: `+sa(o);throw new Error(i)}}}};var j3=require("obsidian");var ubt={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},lbt={dutch:/[^A-Za-z0-9_'-]+/gim,english:/[^A-Za-z0-9_'-]+/gim,french:/[^a-z0-9-]+/gim,italian:/[^A-Za-z0-9_'-]+/gim,norwegian:/[^a-z0-9_]+/gim,portuguese:/[^a-z0-9--]/gim,russian:/[^a-z0-9--]+/gim,spanish:/[^a-z0-9A-Z--]+/gim,swedish:/[^a-z0-9_-]+/gim,german:/[^a-z0-9A-Z]+/gim,finnish:/[^a-z0-9]+/gim,danish:/[^a-z0-9]+/gim,hungarian:/[^a-z0-9]+/gim,romanian:/[^a-z0-9]+/gim,serbian:/[^a-z0-9]+/gim,turkish:/[^a-z0-9]+/gim,lithuanian:/[^a-z0-9]+/gim,arabic:/[^a-z0-9-]+/gim,nepali:/[^a-z0-9-]+/gim,irish:/[^a-z0-9]+/gim,indian:/[^a-z0-9-]+/gim,armenian:/[^a-z0-9-]+/gim,greek:/[^a-z0-9--]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9--]+/gim,slovenian:/[^a-z0-9]+/gim,bulgarian:/[^a-z0-9--]+/gim,tamil:/[^a-z0-9-]+/gim,sanskrit:/[^a-z0-9A-Z]+/gim},C3=Object.keys(ubt);function cbt(t){return t!==void 0&&C3.includes(t)?ubt[t]:void 0}var gFr=Date.now().toString().slice(5),yFr=0;var dbt=BigInt(1e3),fbt=BigInt(1e6),pbt=BigInt(1e9);var nxe=65535;function Zo(t,e){if(e.length<nxe)Array.prototype.push.apply(t,e);else{let r=e.length;for(let n=0;n<r;n+=nxe)Array.prototype.push.apply(t,e.slice(n,n+nxe))}}function mbt(t,...e){return t.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...r){let n=r[r.length-1],{width:o,type:i,position:a}=n,s=a?e[Number.parseInt(a)-1]:e.shift(),u=o===""?0:Number.parseInt(o);switch(i){case"d":return s.toString().padStart(u,"0");case"f":{let l=s,[c,d]=o.split(".").map(f=>Number.parseFloat(f));return typeof d=="number"&&d>=0&&(l=l.toFixed(d)),typeof c=="number"&&c>=0?l.toString().padStart(u,"0"):l.toString()}case"s":return u<0?s.toString().padEnd(-u," "):s.toString().padStart(u," ");default:return s}})}function bFr(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function _Fr(){return typeof process<"u"&&process.release&&process.release.name==="node"}function hbt(){return BigInt(Math.floor(performance.now()*1e6))}function c1(t){return typeof t=="number"&&(t=BigInt(t)),t<dbt?`${t}ns`:t<fbt?`${t/dbt}\u03BCs`:t<pbt?`${t/fbt}ms`:`${t/pbt}s`}function Lg(){return bFr()?hbt():_Fr()||typeof process<"u"&&typeof process?.hrtime?.bigint=="function"?process.hrtime.bigint():typeof performance<"u"?hbt():BigInt(0)}function O3(){return`${gFr}-${yFr++}`}function RB(t,e){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0:Object.hasOwn(t,e)?t[e]:void 0}function gbt(t,e){return e[1]===t[1]?t[0]-e[0]:e[1]-t[1]}function IB(t){if(t.length===0)return[];if(t.length===1)return t[0];for(let r=1;r<t.length;r++)if(t[r].length<t[0].length){let n=t[0];t[0]=t[r],t[r]=n}let e=new Map;for(let r of t[0])e.set(r,1);for(let r=1;r<t.length;r++){let n=0;for(let o of t[r]){let i=e.get(o);i===r&&(e.set(o,i+1),n++)}if(n===0)return[]}return t[0].filter(r=>{let n=e.get(r);return n!==void 0&&e.set(r,0),n===t.length})}function VZ(t,e){let r={},n=e.length;for(let o=0;o<n;o++){let i=e[o],a=i.split("."),s=t,u=a.length;for(let l=0;l<u;l++)if(s=s[a[l]],typeof s=="object"){if(s!==null&&"lat"in s&&"lon"in s&&typeof s.lat=="number"&&typeof s.lon=="number"){s=r[i]=s;break}else if(!Array.isArray(s)&&s!==null&&l===u-1){s=void 0;break}}else if((s===null||typeof s!="object")&&l<u-1){s=void 0;break}typeof s<"u"&&(r[i]=s)}return r}function DB(t,e){return VZ(t,[e])[e]}var vFr={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function oxe(t,e){let r=vFr[e];if(r===void 0)throw new Error(vt("INVALID_DISTANCE_SUFFIX",t).message);return t*r}function WZ(t,e){t.hits=t.hits.map(r=>({...r,document:{...r.document,...e.reduce((n,o)=>{let i=o.split("."),a=i.pop(),s=n;for(let u of i)s[u]=s[u]??{},s=s[u];return s[a]=null,n},r.document)}}))}function xs(t){return t?.constructor?.name==="AsyncFunction"}var wFr=C3.join(`
 - `),SFr={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${wFr}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:",PLUGIN_SECURE_PROXY_NOT_FOUND:`Could not find '@orama/secure-proxy-plugin' installed in your Orama instance.
Please install it before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy
`,PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL:`Could not find a chat model defined in the secure proxy plugin configuration.
Please provide a chat model before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy
`,ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT:"The last message in the session is not an assistant message. Cannot regenerate non-assistant messages."};function vt(t,...e){let r=new Error(mbt(SFr[t]??`Unsupported Orama Error code: ${t}`,...e));return r.code=t,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(r),r}function ybt(t){return{raw:Number(t),formatted:c1(t)}}function bbt(t){if(t.id){if(typeof t.id!="string")throw vt("DOCUMENT_ID_MUST_BE_STRING",typeof t.id);return t.id}return O3()}function ixe(t,e){for(let[r,n]of Object.entries(e)){let o=t[r];if(!(typeof o>"u")&&!(n==="geopoint"&&typeof o=="object"&&typeof o.lon=="number"&&typeof o.lat=="number")&&!(n==="enum"&&(typeof o=="string"||typeof o=="number"))){if(n==="enum[]"&&Array.isArray(o)){let i=o.length;for(let a=0;a<i;a++)if(typeof o[a]!="string"&&typeof o[a]!="number")return r+"."+a;continue}if(fC(n)){let i=sxe(n);if(!Array.isArray(o)||o.length!==i)throw vt("INVALID_INPUT_VECTOR",r,i,o.length);continue}if(jB(n)){if(!Array.isArray(o))return r;let i=axe(n),a=o.length;for(let s=0;s<a;s++)if(typeof o[s]!==i)return r+"."+s;continue}if(typeof n=="object"){if(!o||typeof o!="object")return r;let i=ixe(o,n);if(i)return r+"."+i;continue}if(typeof o!==n)return r}}}var xFr={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},CFr={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function _bt(t){return t==="geopoint"}function fC(t){return typeof t=="string"&&/^vector\[\d+\]$/.test(t)}function jB(t){return typeof t=="string"&&xFr[t]}function axe(t){return CFr[t]}function sxe(t){let e=Number(t.slice(7,-1));switch(!0){case isNaN(e):throw vt("INVALID_VECTOR_VALUE",t);case e<=0:throw vt("INVALID_VECTOR_SIZE",t);default:return e}}function vbt(){return{idToInternalId:new Map,internalIdToId:[],save:OFr,load:EFr}}function OFr(t){return{internalIdToId:t.internalIdToId}}function EFr(t,e){let{internalIdToId:r}=e;t.internalDocumentIDStore.idToInternalId.clear(),t.internalDocumentIDStore.internalIdToId=[];let n=r.length;for(let o=0;o<n;o++){let i=r[o];t.internalDocumentIDStore.idToInternalId.set(i,o+1),t.internalDocumentIDStore.internalIdToId.push(i)}}function Bo(t,e){if(typeof e=="string"){let r=t.idToInternalId.get(e);if(r)return r;let n=t.idToInternalId.size+1;return t.idToInternalId.set(e,n),t.internalIdToId.push(e),n}return e>t.internalIdToId.length?Bo(t,e.toString()):e}function Hh(t,e){if(t.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return t.internalIdToId[e-1]}function TFr(t,e){return{sharedInternalDocumentStore:e,docs:{},count:0}}function MFr(t,e){let r=Bo(t.sharedInternalDocumentStore,e);return t.docs[r]}function AFr(t,e){let r=e.length,n=Array.from({length:r});for(let o=0;o<r;o++){let i=Bo(t.sharedInternalDocumentStore,e[o]);n[o]=t.docs[i]}return n}function RFr(t){return t.docs}function IFr(t,e,r){let n=Bo(t.sharedInternalDocumentStore,e);return typeof t.docs[n]<"u"?!1:(t.docs[n]=r,t.count++,!0)}function DFr(t,e){let r=Bo(t.sharedInternalDocumentStore,e);return typeof t.docs[r]>"u"?!1:(delete t.docs[r],t.count--,!0)}function jFr(t){return t.count}function NFr(t,e){let r=e;return{docs:r.docs,count:r.count,sharedInternalDocumentStore:t}}function LFr(t){return{docs:t.docs,count:t.count}}function wbt(){return{create:TFr,get:MFr,getMultiple:AFr,getAll:RFr,store:IFr,remove:DFr,count:jFr,load:NFr,save:LFr}}var Sbt=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad","afterCreate"];function xbt(t,e){let r=[],n=t.plugins?.length;if(!n)return r;for(let o=0;o<n;o++)try{let i=t.plugins[o];typeof i[e]=="function"&&r.push(i[e])}catch(i){throw console.error("Caught error in getAllPluginsByHook:",i),vt("PLUGIN_CRASHED")}return r}var Cbt=["tokenizer","index","documentsStore","sorter"],uxe=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];function Fg(t,e,r,n){if(t.some(xs))return(async()=>{for(let i of t)await i(e,r,n)})();for(let i of t)i(e,r,n)}function d1(t,e,r){if(t.some(xs))return(async()=>{for(let o of t)await o(e,r)})();for(let o of t)o(e,r)}function NB(t,e,r,n,o){if(t.some(xs))return(async()=>{for(let a of t)await a(e,r,n,o)})();for(let a of t)a(e,r,n,o)}function LB(t,e,r,n){if(t.some(xs))return(async()=>{for(let i of t)await i(e,r,n)})();for(let i of t)i(e,r,n)}function Obt(t,e){if(t.some(xs))return(async()=>{for(let n of t)await n(e)})();for(let n of t)n(e)}function lxe(t){let e=t.r;return t.r=e.l,e.l=t,t.h=Math.max(Vh(t.l),Vh(t.r))+1,e.h=Math.max(Vh(e.l),Vh(e.r))+1,e}function cxe(t){let e=t.l;return t.l=e.r,e.r=t,t.h=Math.max(Vh(t.l),Vh(t.r))+1,e.h=Math.max(Vh(e.l),Vh(e.r))+1,e}function Pbt(t,e,r){let n=[];function o(i){i!==null&&(e<i.k&&o(i.l),i.k>=e&&i.k<=r&&Zo(n,i.v),r>i.k&&o(i.r))}return o(t.root),n}function dxe(t,e,r=!1){let n=[];if(t===null)return n;let o=[t.root];for(;o.length>0;){let i=o.pop();i&&(r&&i.k>=e&&Zo(n,i.v),!r&&i.k>e&&Zo(n,i.v),o.push(i.r),o.push(i.l))}return n}function fxe(t,e,r=!1){let n=[];if(t===null)return n;let o=[t.root];for(;o.length>0;){let i=o.pop();i&&(r&&i.k<=e&&Zo(n,i.v),!r&&i.k<e&&Zo(n,i.v),o.push(i.r),o.push(i.l))}return n}function Tbt(t,e){for(;t!==null;)if(e<t.k)t=t.l;else if(e>t.k)t=t.r;else return t;return null}function Mbt(t,e){return{root:{k:t,v:e,l:null,r:null,h:0}}}var Ebt=0;function Abt(t,e,r,n=500){function o(i,a,s){if(i===null)return Ebt++,{k:a,v:s,l:null,r:null,h:0};if(a<i.k)i.l=o(i.l,a,s);else if(a>i.k)i.r=o(i.r,a,s);else return i.v.push(...s),i;return Ebt%n===0?BFr(i,a):i}t.root=o(t.root,e,r)}function BFr(t,e){t.h=1+Math.max(Vh(t.l),Vh(t.r));let r=Vh(t.l)-Vh(t.r);return r>1&&e<t.l.k?cxe(t):r<-1&&e>t.r.k?lxe(t):r>1&&e>t.l.k?(t.l=lxe(t.l),cxe(t)):r<-1&&e<t.r.k?(t.r=cxe(t.r),lxe(t)):t}function Vh(t){return t!==null?t.h:-1}function Rbt(t,e){let r=Tbt(t.root,e);return r===null?null:r.v}function kFr(t,e){if(t===null||t.root===null)return;let r=t.root,n=null;for(;r!=null&&r.k!==e;)n=r,e<r.k?r=r.l:r=r.r;if(r===null)return;(()=>{if(r.l===null&&r.r===null)n===null?t.root=null:n.l===r?n.l=null:n.r=null;else if(r.l!=null&&r.r!=null){let i=r.r,a=r;for(;i.l!=null;)a=i,i=i.l;r.k=i.k,a===r?a.r=i.r:a.l=i.r}else{let i=r.l!=null?r.l:r.r;n===null?t.root=i:n.l===r?n.l=i:n.r=i}})()}function Ibt(t,e,r){let n=Tbt(t.root,r);if(n){if(n.v.length===1){kFr(t,r);return}n.v.splice(n.v.indexOf(e),1)}}function Dbt(){return{numberToDocumentId:new Map}}function jbt(t,e,r){return t.numberToDocumentId.has(e)?(t.numberToDocumentId.get(e).push(r),t):(t.numberToDocumentId.set(e,[r]),t)}function Nbt(t,e,r){t?.numberToDocumentId.set(r,t?.numberToDocumentId.get(r)?.filter(n=>n!==e)??[]),t?.numberToDocumentId.get(r)?.length===0&&t?.numberToDocumentId.delete(r)}function Lbt(t,e){let r=Object.keys(e);if(r.length!==1)throw new Error("Invalid operation");let n=r[0];switch(n){case"eq":{let o=e[n];return t.numberToDocumentId.get(o)??[]}case"in":{let o=e[n],i=[];for(let a of o){let s=t.numberToDocumentId.get(a);s!=null&&Zo(i,s)}return i}case"nin":{let o=e[n],i=[],a=t.numberToDocumentId.keys();for(let s of a){if(o.includes(s))continue;let u=t.numberToDocumentId.get(s);u!=null&&Zo(i,u)}return i}}throw new Error("Invalid operation")}function Fbt(t,e){let r=Object.keys(e);if(r.length!==1)throw new Error("Invalid operation");let n=r[0];switch(n){case"containsAll":{let i=e[n].map(a=>t.numberToDocumentId.get(a)??[]);return IB(i)}}throw new Error("Invalid operation")}function $Fr(t,e,r){if(r<0)return-1;if(t===e)return 0;let n=t.length,o=e.length;if(n===0)return o<=r?o:-1;if(o===0)return n<=r?n:-1;if(t=t.toLowerCase(),e=e.toLowerCase(),e.startsWith(t)||t.startsWith(e))return 0;if(Math.abs(n-o)>r)return-1;let i=[];for(let a=0;a<=n;a++){i[a]=[a];for(let s=1;s<=o;s++)i[a][s]=a===0?s:0}for(let a=1;a<=n;a++){let s=1/0;for(let u=1;u<=o;u++)t[a-1]===e[u-1]?i[a][u]=i[a-1][u-1]:i[a][u]=Math.min(i[a-1][u]+1,i[a][u-1]+1,i[a-1][u-1]+1),s=Math.min(s,i[a][u]);if(s>r)return-1}return i[n][o]<=r?i[n][o]:-1}function pxe(t,e,r){let n=$Fr(t,e,r);return{distance:n,isBounded:n>=0}}var hxe=class{constructor(e,r,n){Vl(this,"k");Vl(this,"s");Vl(this,"c",{});Vl(this,"d",[]);Vl(this,"e");Vl(this,"w","");this.k=e,this.s=r,this.e=n}toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}};function FB(t,e){t.w=e.w+t.s}function JZ(t,e){t.d.push(e)}function qFr(t,e){let r=t.d.indexOf(e);return r===-1?!1:(t.d.splice(r,1),!0)}function mxe(t,e,r,n,o){if(t.e){let{w:i,d:a}=t;if(n&&i!==r)return{};if(RB(e,i)==null&&(o?Math.abs(r.length-i.length)<=o&&pxe(r,i,o).isBounded&&(e[i]=[]):e[i]=[]),RB(e,i)!=null&&a.length>0){let s=new Set(e[i]),u=a.length;for(let l=0;l<u;l++)s.add(a[l]);e[i]=Array.from(s)}}for(let i of Object.keys(t.c))mxe(t.c[i],e,r,n,o);return e}function Bbt(t,e){let r="",n=Math.min(t.length,e.length);for(let o=0;o<n;o++){if(t[o]!==e[o])return r;r+=t[o]}return r}function f1(t=!1,e="",r=""){return new hxe(r,e,t)}function kbt(t,e,r){let n=e.length;for(let o=0;o<n;o++){let i=e[o],a=e.substring(o),s=t.c[i];if(s){let u=s.s,l=u.length,c=Bbt(u,a),d=c.length;if(u===a){JZ(s,r),s.e=!0;return}let f=u[d];if(d<l&&d===a.length){let p=f1(!0,a,i);p.c[f]=s;let m=p.c[f];m.s=u.substring(d),m.k=f,t.c[i]=p,FB(p,t),FB(m,p),JZ(p,r);return}if(d<l&&d<a.length){let p=f1(!1,c,i);p.c[f]=s,t.c[i]=p;let m=p.c[f];m.s=u.substring(d),m.k=f;let h=a[d],v=f1(!0,e.substring(o+d),h);JZ(v,r),p.c[h]=v,FB(p,t),FB(v,p),FB(m,p);return}o+=l-1,t=s}else{let u=f1(!0,a,i);JZ(u,r),t.c[i]=u,FB(u,t);return}}}function E3(t,e,r,n,o,i){if(!(n<0)){if(t.w.startsWith(e)){mxe(t,i,e,!1,0);return}if(t.e){let{w:a,d:s}=t;if(a&&(pxe(e,a,o).isBounded&&(i[a]=[]),RB(i,a)!=null&&s.length>0)){let u=new Set(i[a]),l=s.length;for(let c=0;c<l;c++)u.add(s[c]);i[a]=Array.from(u)}}if(!(r>=e.length)){e[r]in t.c&&E3(t.c[e[r]],e,r+1,n,o,i),E3(t,e,r+1,n-1,o,i);for(let a in t.c)E3(t.c[a],e,r,n-1,o,i);for(let a in t.c)a!==e[r]&&E3(t.c[a],e,r+1,n-1,o,i)}}}function gxe(t,{term:e,exact:r,tolerance:n}){if(n&&!r){let o={};return n=n||0,E3(t,e,0,n||0,n,o),o}else{let o=e.length;for(let a=0;a<o;a++){let s=e[a];if(s in t.c){let u=t.c[s],l=u.s,c=e.substring(a),f=Bbt(l,c).length;if(f!==l.length&&f!==c.length){if(n)break;return{}}a+=u.s.length-1,t=u}else return{}}let i={};return mxe(t,i,e,r,n),i}}function $bt(t,e,r,n=!0){if(!e)return!0;let o=e.length;for(let i=0;i<o;i++){let a=e[i];if(a in t.c){let s=t.c[a];i+=s.s.length-1,t=s,n&&t.w!==e||qFr(t,r)}else return!1}return!0}function qbt(){return{root:null}}function Ubt(t,e,r){let n={point:e,docIDs:r};if(t.root==null){t.root=n;return}let o=t.root,i=0;for(;o!==null;){if(o.point.lon===e.lon&&o.point.lat===e.lat){let s=o.docIDs??[];o.docIDs=Array.from(new Set([...s,...r||[]]));return}if(i%2===0)if(e.lon<o.point.lon){if(o.left==null){o.left=n;return}o=o.left}else{if(o.right==null){o.right=n;return}o=o.right}else if(e.lat<o.point.lat){if(o.left==null){o.left=n;return}o=o.left}else{if(o.right==null){o.right=n;return}o=o.right}i++}}function zbt(t,e,r){let n=t.root,o=0,i=null,a=null;for(;n!==null;){if(n?.point.lon===e.lon&&n.point.lat===e.lat){let u=n.docIDs?.indexOf(r);if(u!==void 0&&u>-1){n.docIDs?.splice(u,1),(n.docIDs==null||n.docIDs.length===0)&&(i!=null?a==="left"?i.left=n.left!==null?n.left:n.right:a==="right"&&(i.right=n.right!==null?n.right:n.left):t.root=n.left!==null?n.left:n.right);return}}let s=o%2;i=n,s===0?e.lon<n.point.lon?(n=n?.left,a="left"):(n=n?.right,a="right"):e.lat<n.point.lat?(n=n?.left,a="left"):(n=n?.right,a="right"),o++}}function Hbt(t,e,r,n=!0,o="asc",i=!1){let a=i?Jbt:Wbt,s=[{node:t,depth:0}],u=[];for(;s.length>0;){let{node:l,depth:c}=s.pop();if(l===null)continue;let d=a(e,l.point);(n?d<=r:d>r)&&u.push({point:l.point,docIDs:l.docIDs??[]}),l.left!=null&&s.push({node:l.left,depth:c+1}),l.right!=null&&s.push({node:l.right,depth:c+1})}return o&&u.sort((l,c)=>{let d=a(e,l.point),f=a(e,c.point);return o.toLowerCase()==="asc"?d-f:f-d}),u}function Vbt(t,e,r=!0,n=null,o=!1){let i=[{node:t,depth:0}],a=[];for(;i.length>0;){let u=i.pop();if(u==null||u.node==null)continue;let{node:l,depth:c}=u,d=c+1;l.left!=null&&i.push({node:l.left,depth:d}),l.right!=null&&i.push({node:l.right,depth:d});let f=zFr(e,l.point);f&&r?a.push({point:l.point,docIDs:l.docIDs??[]}):!f&&!r&&a.push({point:l.point,docIDs:l.docIDs??[]})}let s=UFr(e);if(n){let u=o?Jbt:Wbt;a.sort((l,c)=>{let d=u(s,l.point),f=u(s,c.point);return n.toLowerCase()==="asc"?d-f:f-d})}return a}function UFr(t){let e=0,r=0,n=0,o=t.length;for(let a=0,s=o-1;a<o;s=a++){let u=t[a].lon,l=t[a].lat,c=t[s].lon,d=t[s].lat,f=u*d-c*l;e+=f,r+=(u+c)*f,n+=(l+d)*f}e/=2;let i=6*e;return r/=i,n/=i,{lon:r,lat:n}}function zFr(t,e){let r=!1,n=e.lon,o=e.lat,i=t.length;for(let a=0,s=i-1;a<i;s=a++){let u=t[a].lon,l=t[a].lat,c=t[s].lon,d=t[s].lat;l>o!=d>o&&n<(c-u)*(o-l)/(d-l)+u&&(r=!r)}return r}function Wbt(t,e){let r=Math.PI/180,n=t.lat*r,o=e.lat*r,i=(e.lat-t.lat)*r,a=(e.lon-t.lon)*r,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n)*Math.cos(o)*Math.sin(a/2)*Math.sin(a/2);return 6371e3*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function Jbt(t,e){let n=.0033528106647474805,o=(1-n)*6378137,i=Math.PI/180,a=t.lat*i,s=e.lat*i,u=(e.lon-t.lon)*i,l=Math.atan((1-n)*Math.tan(a)),c=Math.atan((1-n)*Math.tan(s)),d=Math.sin(l),f=Math.cos(l),p=Math.sin(c),m=Math.cos(c),h=u,v,g=1e3,_,S,x,O,T;do{let F=Math.sin(h),B=Math.cos(h);x=Math.sqrt(m*F*(m*F)+(f*p-d*m*B)*(f*p-d*m*B)),O=d*p+f*m*B,T=Math.atan2(x,O),_=f*m*F/x,S=1-_*_;let L=O-2*d*p/S,q=n/16*S*(4+n*(4-3*S));v=h,h=u+(1-q)*n*_*(T+q*x*(L+q*O*(-1+2*L*L)))}while(Math.abs(h-v)>1e-12&&--g>0);let E=S*(6378137*6378137-o*o)/(o*o),M=1+E/16384*(4096+E*(-768+E*(320-175*E))),R=E/1024*(256+E*(-128+E*(74-47*E))),N=R*x*(O-2*d*p/S+R/4*(O*(-1+2*x*x)-R/6*T*(-3+4*x*x)*(-3+4*T*T)));return o*M*(T-N)}function GZ(t,e,r=0,n){if(e===0)throw vt("INVALID_BOOST_VALUE");let o=new Map,i=t.length;for(let h=0;h<i;h++){let v=t[h],g=v.length;for(let _=0;_<g;_++){let[S,x]=v[_],O=x*e,T=o.get(S)?.[0];T!==void 0?o.set(S,[T*1.5+O,(o?.get(S)?.[1]||0)+1]):o.set(S,[O,1])}}let a=[];for(let h of o.entries())a.push([h[0],h[1][0]]);let s=a.sort((h,v)=>v[1]-h[1]);if(r===1)return s;let u=s.length,l=[];for(let h of o.entries())l.push([h[0],h[1][0],h[1][1]]);let c=l.sort((h,v)=>h[2]>v[2]?-1:h[2]<v[2]?1:h[1]>v[1]?-1:h[1]<v[1]?1:0),d;for(let h=0;h<u&&c[h][2]===n;h++)d=h;if(typeof d>"u"){if(r===0)return[];d=0}let f=c.length,p=new Array(f);for(let h=0;h<f;h++)p[h]=[c[h][0],c[h][1]];if(r===0)return p.slice(0,d+1);let m=d+Math.ceil(r*100*(u-d)/100);return p.slice(0,u+m)}function yxe(t,e,r,n,o,{k:i,b:a,d:s}){return Math.log(1+(r-e+.5)/(e+.5))*(s+t*(i+1))/(t+i*(1-a+a*n/o))}function bxe(t,e){let r=0;for(let n=0;n<e;n++)r+=t[n]*t[n];return Math.sqrt(r)}function KZ(t,e,r,n=.8){let o=bxe(t,r),i=[];for(let[a,[s,u]]of Object.entries(e)){let l=0;for(let d=0;d<r;d++)l+=t[d]*u[d];let c=l/(o*s);c>=n&&i.push([a,c])}return i.sort((a,s)=>s[1]-a[1])}function HFr(t,e,r,n,o){let i=Bo(t.sharedInternalDocumentStore,r);t.avgFieldLength[e]=((t.avgFieldLength[e]??0)*(o-1)+n.length)/o,t.fieldLengths[e][i]=n.length,t.frequencies[e][i]={}}function VFr(t,e,r,n,o){let i=0;for(let u of n)u===o&&i++;let a=Bo(t.sharedInternalDocumentStore,r),s=i/n.length;t.frequencies[e][a][o]=s,o in t.tokenOccurrences[e]||(t.tokenOccurrences[e][o]=0),t.tokenOccurrences[e][o]=(t.tokenOccurrences[e][o]??0)+1}function WFr(t,e,r,n){let o=Bo(t.sharedInternalDocumentStore,r);n>1?t.avgFieldLength[e]=(t.avgFieldLength[e]*n-t.fieldLengths[e][o])/(n-1):t.avgFieldLength[e]=void 0,t.fieldLengths[e][o]=void 0,t.frequencies[e][o]=void 0}function JFr(t,e,r){t.tokenOccurrences[e][r]--}function GFr(t,e,r,n,o){let i=Array.from(o),a=e.avgFieldLength[r],s=e.fieldLengths[r],u=e.tokenOccurrences[r],l=e.frequencies[r],c=typeof u[n]=="number"?u[n]??0:0,d=[],f=i.length;for(let p=0;p<f;p++){let m=Bo(e.sharedInternalDocumentStore,i[p]),h=l?.[m]?.[n]??0,v=yxe(h,c,t.docsCount,s[m],a,t.params.relevance);d.push([m,v])}return d}function Kbt(t,e,r,n,o=""){n||(n={sharedInternalDocumentStore:e,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(let[i,a]of Object.entries(r)){let s=`${o}${o?".":""}${i}`;if(typeof a=="object"&&!Array.isArray(a)){Kbt(t,e,a,n,s);continue}if(fC(a))n.searchableProperties.push(s),n.searchablePropertiesWithTypes[s]=a,n.vectorIndexes[s]={size:sxe(a),vectors:{}};else{let u=/\[/.test(a);switch(a){case"boolean":case"boolean[]":n.indexes[s]={type:"Bool",node:{true:[],false:[]},isArray:u};break;case"number":case"number[]":n.indexes[s]={type:"AVL",node:Mbt(0,[]),isArray:u};break;case"string":case"string[]":n.indexes[s]={type:"Radix",node:f1(),isArray:u},n.avgFieldLength[s]=0,n.frequencies[s]={},n.tokenOccurrences[s]={},n.fieldLengths[s]={};break;case"enum":case"enum[]":n.indexes[s]={type:"Flat",node:Dbt(),isArray:u};break;case"geopoint":n.indexes[s]={type:"BKD",node:qbt(),isArray:u};break;default:throw vt("INVALID_SCHEMA_TYPE",Array.isArray(a)?"array":a,s)}n.searchableProperties.push(s),n.searchablePropertiesWithTypes[s]=a}}return n}function KFr(t,e,r,n,o,i,a,s){return u=>{let l=Bo(e.sharedInternalDocumentStore,n),{type:c,node:d}=e.indexes[r];switch(c){case"Bool":{d[u?"true":"false"].push(l);break}case"AVL":{let f=s?.avlRebalanceThreshold??1;Abt(d,u,[l],f);break}case"Radix":{let f=i.tokenize(u,o,r);t.insertDocumentScoreParameters(e,r,l,f,a);for(let p of f)t.insertTokenScoreParameters(e,r,l,f,p),kbt(d,p,l);break}case"Flat":{jbt(d,u,l);break}case"BKD":{Ubt(d,u,[l]);break}}}}function YFr(t,e,r,n,o,i,a,s,u,l){if(fC(i))return XFr(e,r,o,n);let c=KFr(t,e,r,n,a,s,u,l);if(!jB(i))return c(o);let d=o,f=d.length;for(let p=0;p<f;p++)c(d[p])}function XFr(t,e,r,n){r instanceof Float32Array||(r=new Float32Array(r));let o=t.vectorIndexes[e].size,i=bxe(r,o);t.vectorIndexes[e].vectors[n]=[i,r]}function Gbt(t,e,r,n,o,i,a,s,u){let l=Bo(e.sharedInternalDocumentStore,n);if(fC(i))return delete e.vectorIndexes[r].vectors[n],!0;let{type:c,node:d}=e.indexes[r];switch(c){case"AVL":return Ibt(d,l,o),!0;case"Bool":{let p=d[o?"true":"false"].indexOf(l);return d[o?"true":"false"].splice(p,1),!0}case"Radix":{let f=s.tokenize(o,a,r);t.removeDocumentScoreParameters(e,r,n,u);for(let p of f)t.removeTokenScoreParameters(e,r,p),$bt(d,p,l);return!0}case"Flat":return Nbt(d,l,o),!0;case"BKD":return zbt(d,o,l),!1}}function ZFr(t,e,r,n,o,i,a,s,u){if(!jB(i))return Gbt(t,e,r,n,o,i,a,s,u);let l=axe(i),c=o,d=c.length;for(let f=0;f<d;f++)Gbt(t,e,r,n,c[f],l,a,s,u);return!0}function QFr(t,e,r,n){if(!(r in e.tokenOccurrences))return[];let{node:o,type:i}=e.indexes[r];if(i!=="Radix")throw vt("WRONG_SEARCH_PROPERTY_TYPE",r);let{exact:a,tolerance:s}=t.params,u=gxe(o,{term:n,exact:a,tolerance:s}),l=new Set;for(let c in u)if(RB(u,c))for(let f of u[c])l.add(f);return t.index.calculateResultScores(t,e,r,n,Array.from(l))}function eBr(t,e,r){let n=Object.keys(r),o=n.reduce((i,a)=>({[a]:[],...i}),{});for(let i of n){let a=r[i];if(typeof e.indexes[i]>"u")throw vt("UNKNOWN_FILTER_PROPERTY",i);let{node:s,type:u,isArray:l}=e.indexes[i];if(u==="Bool"){let f=s[a.toString()];Zo(o[i],f);continue}if(u==="BKD"){let d;if("radius"in a)d="radius";else if("polygon"in a)d="polygon";else throw new Error(`Invalid operation ${a}`);if(d==="radius"){let{value:f,coordinates:p,unit:m="m",inside:h=!0,highPrecision:v=!1}=a[d],g=oxe(f,m),_=Hbt(s.root,p,g,h,void 0,v);Zo(o[i],_.flatMap(({docIDs:S})=>S))}else{let{coordinates:f,inside:p=!0,highPrecision:m=!1}=a[d],h=Vbt(s.root,f,p,void 0,m);Zo(o[i],h.flatMap(({docIDs:v})=>v))}continue}if(u==="Radix"&&(typeof a=="string"||Array.isArray(a))){for(let d of[a].flat()){let f=t.tokenizer.tokenize(d,t.language,i);for(let p of f){let m=gxe(s,{term:p,exact:!0});Zo(o[i],Object.values(m).flat())}}continue}let c=Object.keys(a);if(c.length>1)throw vt("INVALID_FILTER_OPERATION",c.length);if(u==="Flat"){let d=l?Fbt:Lbt;Zo(o[i],d(s,a));continue}if(u==="AVL"){let d=c[0],f=a[d],p=[];switch(d){case"gt":{p=dxe(s,f,!1);break}case"gte":{p=dxe(s,f,!0);break}case"lt":{p=fxe(s,f,!1);break}case"lte":{p=fxe(s,f,!0);break}case"eq":{p=Rbt(s,f)??[];break}case"between":{let[m,h]=f;p=Pbt(s,m,h);break}}Zo(o[i],p)}}return IB(Object.values(o))}function tBr(t){return t.searchableProperties}function rBr(t){return t.searchablePropertiesWithTypes}function Ybt(t){let e=f1(t.e,t.s,t.k);e.d=t.d,e.w=t.w;for(let r of Object.keys(t.c))e.c[r]=Ybt(t.c[r]);return e}function nBr(t){return{numberToDocumentId:new Map(t)}}function oBr(t){return Array.from(t.numberToDocumentId.entries())}function iBr(t,e){let{indexes:r,vectorIndexes:n,searchableProperties:o,searchablePropertiesWithTypes:i,frequencies:a,tokenOccurrences:s,avgFieldLength:u,fieldLengths:l}=e,c={},d={};for(let f of Object.keys(r)){let{node:p,type:m,isArray:h}=r[f];switch(m){case"Radix":c[f]={type:"Radix",node:Ybt(p),isArray:h};break;case"Flat":c[f]={type:"Flat",node:nBr(p),isArray:h};break;default:c[f]=r[f]}}for(let f of Object.keys(n)){let p=n[f].vectors;for(let m in p)p[m]=[p[m][0],new Float32Array(p[m][1])];d[f]={size:n[f].size,vectors:p}}return{sharedInternalDocumentStore:t,indexes:c,vectorIndexes:d,searchableProperties:o,searchablePropertiesWithTypes:i,frequencies:a,tokenOccurrences:s,avgFieldLength:u,fieldLengths:l}}function aBr(t){let{indexes:e,vectorIndexes:r,searchableProperties:n,searchablePropertiesWithTypes:o,frequencies:i,tokenOccurrences:a,avgFieldLength:s,fieldLengths:u}=t,l={};for(let d of Object.keys(r)){let f=r[d].vectors;for(let p in f)f[p]=[f[p][0],Array.from(f[p][1])];l[d]={size:r[d].size,vectors:f}}let c={};for(let d of Object.keys(e)){let{type:f,node:p,isArray:m}=e[d];if(f!=="Flat"){c[d]=e[d];continue}c[d]={type:"Flat",node:oBr(p),isArray:m}}return{indexes:c,vectorIndexes:l,searchableProperties:n,searchablePropertiesWithTypes:o,frequencies:i,tokenOccurrences:a,avgFieldLength:s,fieldLengths:u}}function Xbt(){return{create:Kbt,insert:YFr,remove:ZFr,insertDocumentScoreParameters:HFr,insertTokenScoreParameters:VFr,removeDocumentScoreParameters:WFr,removeTokenScoreParameters:JFr,calculateResultScores:GFr,search:QFr,searchByWhereClause:eBr,getSearchableProperties:tBr,getSearchablePropertiesWithTypes:rBr,load:iBr,save:aBr}}function Zbt(t,e,r,n,o){let i={language:t.tokenizer.language,sharedInternalDocumentStore:e,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(let[a,s]of Object.entries(r)){let u=`${o}${o?".":""}${a}`;if(!n.includes(u)){if(typeof s=="object"&&!Array.isArray(s)){let l=Zbt(t,e,s,n,u);Zo(i.sortableProperties,l.sortableProperties),i.sorts={...i.sorts,...l.sorts},i.sortablePropertiesWithTypes={...i.sortablePropertiesWithTypes,...l.sortablePropertiesWithTypes};continue}if(!fC(s))switch(s){case"boolean":case"number":case"string":i.sortableProperties.push(u),i.sortablePropertiesWithTypes[u]=s,i.sorts[u]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:s};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw vt("INVALID_SORT_SCHEMA_TYPE",Array.isArray(s)?"array":s,u)}}}return i}function uBr(t,e,r,n){return n?.enabled!==!1?Zbt(t,e,r,(n||{}).unsortableProperties||[],""):{disabled:!0}}function lBr(t,e,r,n){if(!t.enabled)return;t.isSorted=!1;let o=Bo(t.sharedInternalDocumentStore,r),i=t.sorts[e];i.orderedDocsToRemove.has(o)&&_xe(t,e),i.docs.set(o,i.orderedDocs.length),i.orderedDocs.push([o,n])}function Qbt(t){if(t.isSorted||!t.enabled)return;let e=Object.keys(t.sorts);for(let r of e)pBr(t,r);t.isSorted=!0}function cBr(t,e,r){return e[1].localeCompare(r[1],cbt(t))}function dBr(t,e){return t[1]-e[1]}function fBr(t,e){return e[1]?-1:1}function pBr(t,e){let r=t.sorts[e],n;switch(r.type){case"string":n=cBr.bind(null,t.language);break;case"number":n=dBr.bind(null);break;case"boolean":n=fBr.bind(null);break}r.orderedDocs.sort(n);let o=r.orderedDocs.length;for(let i=0;i<o;i++){let a=r.orderedDocs[i][0];r.docs.set(a,i)}}function hBr(t){let e=Object.keys(t.sorts);for(let r of e)_xe(t,r)}function _xe(t,e){let r=t.sorts[e];r.orderedDocsToRemove.size&&(r.orderedDocs=r.orderedDocs.filter(n=>!r.orderedDocsToRemove.has(n[0])),r.orderedDocsToRemove.clear())}function mBr(t,e,r){if(!t.enabled)return;let n=t.sorts[e],o=Bo(t.sharedInternalDocumentStore,r);n.docs.get(o)&&(n.docs.delete(o),n.orderedDocsToRemove.set(o,!0))}function gBr(t,e,r){if(!t.enabled)throw vt("SORT_DISABLED");let n=r.property,o=r.order==="DESC",i=t.sorts[n];if(!i)throw vt("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",n,t.sortableProperties.join(", "));return _xe(t,n),Qbt(t),e.sort((a,s)=>{let u=i.docs.get(Bo(t.sharedInternalDocumentStore,a[0])),l=i.docs.get(Bo(t.sharedInternalDocumentStore,s[0])),c=typeof u<"u",d=typeof l<"u";return!c&&!d?0:c?d?o?l-u:u-l:-1:1}),e}function yBr(t){return t.enabled?t.sortableProperties:[]}function bBr(t){return t.enabled?t.sortablePropertiesWithTypes:{}}function _Br(t,e){let r=e;if(!r.enabled)return{enabled:!1};let n=Object.keys(r.sorts).reduce((o,i)=>{let{docs:a,orderedDocs:s,type:u}=r.sorts[i];return o[i]={docs:new Map(Object.entries(a).map(([l,c])=>[+l,c])),orderedDocsToRemove:new Map,orderedDocs:s,type:u},o},{});return{sharedInternalDocumentStore:t,language:r.language,sortableProperties:r.sortableProperties,sortablePropertiesWithTypes:r.sortablePropertiesWithTypes,sorts:n,enabled:!0,isSorted:r.isSorted}}function vBr(t){if(!t.enabled)return{enabled:!1};hBr(t),Qbt(t);let e=Object.keys(t.sorts).reduce((r,n)=>{let{docs:o,orderedDocs:i,type:a}=t.sorts[n];return r[n]={docs:Object.fromEntries(o.entries()),orderedDocs:i,type:a},r},{});return{language:t.language,sortableProperties:t.sortableProperties,sortablePropertiesWithTypes:t.sortablePropertiesWithTypes,sorts:e,enabled:t.enabled,isSorted:t.isSorted}}function e_t(){return{create:uBr,insert:lBr,remove:mBr,save:vBr,load:_Br,sortBy:gBr,getSortableProperties:yBr,getSortablePropertiesWithTypes:bBr}}var SBr=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function xBr(t){return t<192||t>383?t:SBr[t-192]||t}function t_t(t){let e=[];for(let r=0;r<t.length;r++)e[r]=xBr(t.charCodeAt(r));return String.fromCharCode(...e)}var CBr={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},OBr={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},EBr="[^aeiou]",XZ="[aeiouy]",tS=EBr+"[^aeiouy]*",P3=XZ+"[aeiou]*",vxe="^("+tS+")?"+P3+tS,PBr="^("+tS+")?"+P3+tS+"("+P3+")?$",YZ="^("+tS+")?"+P3+tS+P3+tS,r_t="^("+tS+")?"+XZ;function n_t(t){let e,r,n,o,i,a;if(t.length<3)return t;let s=t.substring(0,1);if(s=="y"&&(t=s.toUpperCase()+t.substring(1)),n=/^(.+?)(ss|i)es$/,o=/^(.+?)([^s])s$/,n.test(t)?t=t.replace(n,"$1$2"):o.test(t)&&(t=t.replace(o,"$1$2")),n=/^(.+?)eed$/,o=/^(.+?)(ed|ing)$/,n.test(t)){let u=n.exec(t);n=new RegExp(vxe),n.test(u[1])&&(n=/.$/,t=t.replace(n,""))}else o.test(t)&&(e=o.exec(t)[1],o=new RegExp(r_t),o.test(e)&&(t=e,o=/(at|bl|iz)$/,i=new RegExp("([^aeiouylsz])\\1$"),a=new RegExp("^"+tS+XZ+"[^aeiouwxy]$"),o.test(t)?t=t+"e":i.test(t)?(n=/.$/,t=t.replace(n,"")):a.test(t)&&(t=t+"e")));if(n=/^(.+?)y$/,n.test(t)&&(e=n.exec(t)?.[1],n=new RegExp(r_t),e&&n.test(e)&&(t=e+"i")),n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,n.test(t)){let u=n.exec(t);e=u?.[1],r=u?.[2],n=new RegExp(vxe),e&&n.test(e)&&(t=e+CBr[r])}if(n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,n.test(t)){let u=n.exec(t);e=u?.[1],r=u?.[2],n=new RegExp(vxe),e&&n.test(e)&&(t=e+OBr[r])}if(n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,o=/^(.+?)(s|t)(ion)$/,n.test(t))e=n.exec(t)?.[1],n=new RegExp(YZ),e&&n.test(e)&&(t=e);else if(o.test(t)){let u=o.exec(t);e=u?.[1]??""+u?.[2]??"",o=new RegExp(YZ),o.test(e)&&(t=e)}return n=/^(.+?)e$/,n.test(t)&&(e=n.exec(t)?.[1],n=new RegExp(YZ),o=new RegExp(PBr),i=new RegExp("^"+tS+XZ+"[^aeiouwxy]$"),e&&(n.test(e)||o.test(e)&&!i.test(e))&&(t=e)),n=/ll$/,o=new RegExp(YZ),n.test(t)&&o.test(t)&&(n=/.$/,t=t.replace(n,"")),s=="y"&&(t=s.toLowerCase()+t.substring(1)),t}function wxe(t,e){let r=`${this.language}:${t}:${e}`;return this.normalizationCache.has(r)?this.normalizationCache.get(r):this.stopWords?.includes(e)?(this.normalizationCache.set(r,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(t)&&(e=this.stemmer(e)),e=t_t(e),this.normalizationCache.set(r,e),e)}function TBr(t){for(;t[t.length-1]==="";)t.pop();for(;t[0]==="";)t.shift();return t}function o_t(t,e,r){if(e&&e!==this.language)throw vt("LANGUAGE_NOT_SUPPORTED",e);if(typeof t!="string")return[t];let n;if(r&&this.tokenizeSkipProperties.has(r))n=[this.normalizeToken.bind(this,r??"")(t)];else{let i=lbt[this.language];n=t.toLowerCase().split(i).map(this.normalizeToken.bind(this,r??"")).filter(Boolean)}let o=TBr(n);return this.allowDuplicates?o:Array.from(new Set(o))}function Sxe(t={}){if(!t.language)t.language="english";else if(!C3.includes(t.language))throw vt("LANGUAGE_NOT_SUPPORTED",t.language);let e;if(t.stemming||t.stemmer&&!("stemming"in t))if(t.stemmer){if(typeof t.stemmer!="function")throw vt("INVALID_STEMMER_FUNCTION_TYPE");e=t.stemmer}else if(t.language==="english")e=n_t;else throw vt("MISSING_STEMMER",t.language);let r;if(t.stopWords!==!1){if(r=[],Array.isArray(t.stopWords))r=t.stopWords;else if(typeof t.stopWords=="function")r=t.stopWords(r);else if(t.stopWords)throw vt("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(r))throw vt("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(let o of r)if(typeof o!="string")throw vt("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}let n={tokenize:o_t,language:t.language,stemmer:e,stemmerSkipProperties:new Set(t.stemmerSkipProperties?[t.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(t.tokenizeSkipProperties?[t.tokenizeSkipProperties].flat():[]),stopWords:r,allowDuplicates:Boolean(t.allowDuplicates),normalizeToken:wxe,normalizationCache:new Map};return n.tokenize=o_t.bind(n),n.normalizeToken=wxe,n}function ABr(t){let e={formatElapsedTime:ybt,getDocumentIndexId:bbt,getDocumentProperties:VZ,validateSchema:ixe};for(let r of uxe){let n=r;if(t[n]){if(typeof t[n]!="function")throw vt("COMPONENT_MUST_BE_FUNCTION",n)}else t[n]=e[n]}for(let r of Object.keys(t))if(!Cbt.includes(r)&&!uxe.includes(r))throw vt("UNSUPPORTED_COMPONENT",r)}function BB({schema:t,sort:e,language:r,components:n,id:o,plugins:i}){n||(n={}),o||(o=O3());let a=n.tokenizer,s=n.index,u=n.documentsStore,l=n.sorter;if(a?a.tokenize?a=a:a=Sxe(a):a=Sxe({language:r??"english"}),n.tokenizer&&r)throw vt("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");let c=vbt();s||(s=Xbt()),l||(l=e_t()),u||(u=wbt()),ABr(n);let{getDocumentProperties:d,getDocumentIndexId:f,validateSchema:p,formatElapsedTime:m}=n,h={data:{},caches:{},schema:t,tokenizer:a,index:s,sorter:l,documentsStore:u,internalDocumentIDStore:c,getDocumentProperties:d,getDocumentIndexId:f,validateSchema:p,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],afterCreate:[],formatElapsedTime:m,id:o,plugins:i,version:RBr()};h.data={index:h.index.create(h,c,t),docs:h.documentsStore.create(h,c),sorting:h.sorter.create(h,c,t,e)};for(let g of Sbt)h[g]=(h[g]??[]).concat(xbt(h,g));let v=h.afterCreate;return v&&Obt(v,h),h}function RBr(){return"{{VERSION}}"}var ZZ="fulltext",xxe="hybrid",Cxe="vector";var oT=Symbol("orama.insertions"),iT=Symbol("orama.removals");var i_t=globalThis.process?.emitWarning??function(e,r){console.warn(`[WARNING] [${r.code}] ${e}`)};function Oxe(t){typeof t[oT]!="number"&&(queueMicrotask(()=>{t[oT]=void 0}),t[oT]=0),t[oT]>1e3?(i_t("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),t[oT]=-1):t[oT]>=0&&t[oT]++}function Exe(t){typeof t[iT]!="number"&&(queueMicrotask(()=>{t[iT]=void 0}),t[iT]=0),t[iT]>1e3?(i_t("Orama's remove operation is synchronous. Please avoid removing a large number of document in a single operation in order not to block the main thread, in alternative, please use updateMultiple.",{code:"ORAMA0002"}),t[iT]=-1):t[iT]>=0&&t[iT]++}function T3(t,e,r,n,o){let i=t.validateSchema(e,t.schema);if(i)throw vt("SCHEMA_VALIDATION_FAILURE",i);return xs(t.index.beforeInsert)||xs(t.index.insert)||xs(t.index.afterInsert)?NBr(t,e,r,n,o):LBr(t,e,r,n,o)}var DBr=new Set(["enum","enum[]"]),jBr=new Set(["string","number"]);async function NBr(t,e,r,n,o){let{index:i,docs:a}=t.data,s=t.getDocumentIndexId(e);if(typeof s!="string")throw vt("DOCUMENT_ID_MUST_BE_STRING",typeof s);if(!t.documentsStore.store(a,s,e))throw vt("DOCUMENT_ALREADY_EXISTS",s);let u=t.documentsStore.count(a);n||await Fg(t.beforeInsert,t,s,e);let l=t.index.getSearchableProperties(i),c=t.index.getSearchablePropertiesWithTypes(i),d=t.getDocumentProperties(e,l);for(let[f,p]of Object.entries(d)){if(typeof p>"u")continue;let m=typeof p,h=c[f];a_t(m,h,f,p)}return await FBr(t,s,l,d,u,r,e,o),n||await Fg(t.afterInsert,t,s,e),Oxe(t),s}function LBr(t,e,r,n,o){let{index:i,docs:a}=t.data,s=t.getDocumentIndexId(e);if(typeof s!="string")throw vt("DOCUMENT_ID_MUST_BE_STRING",typeof s);if(!t.documentsStore.store(a,s,e))throw vt("DOCUMENT_ALREADY_EXISTS",s);let u=t.documentsStore.count(a);n||Fg(t.beforeInsert,t,s,e);let l=t.index.getSearchableProperties(i),c=t.index.getSearchablePropertiesWithTypes(i),d=t.getDocumentProperties(e,l);for(let[f,p]of Object.entries(d)){if(typeof p>"u")continue;let m=typeof p,h=c[f];a_t(m,h,f,p)}return BBr(t,s,l,d,u,r,e,o),n||Fg(t.afterInsert,t,s,e),Oxe(t),s}function a_t(t,e,r,n){if(!(_bt(e)&&typeof n=="object"&&typeof n.lon=="number"&&typeof n.lat=="number")&&!(fC(e)&&Array.isArray(n))&&!(jB(e)&&Array.isArray(n))&&!(DBr.has(e)&&jBr.has(t))&&t!==e)throw vt("INVALID_DOCUMENT_PROPERTY",r,e,t)}async function FBr(t,e,r,n,o,i,a,s){for(let c of r){let d=n[c];if(typeof d>"u")continue;let f=t.index.getSearchablePropertiesWithTypes(t.data.index)[c];await t.index.beforeInsert?.(t.data.index,c,e,d,f,i,t.tokenizer,o),await t.index.insert(t.index,t.data.index,c,e,d,f,i,t.tokenizer,o,s),await t.index.afterInsert?.(t.data.index,c,e,d,f,i,t.tokenizer,o)}let u=t.sorter.getSortableProperties(t.data.sorting),l=t.getDocumentProperties(a,u);for(let c of u){let d=l[c];if(typeof d>"u")continue;let f=t.sorter.getSortablePropertiesWithTypes(t.data.sorting)[c];t.sorter.insert(t.data.sorting,c,e,d,f,i)}}function BBr(t,e,r,n,o,i,a,s){for(let c of r){let d=n[c];if(typeof d>"u")continue;let f=t.index.getSearchablePropertiesWithTypes(t.data.index)[c];t.index.beforeInsert?.(t.data.index,c,e,d,f,i,t.tokenizer,o),t.index.insert(t.index,t.data.index,c,e,d,f,i,t.tokenizer,o,s),t.index.afterInsert?.(t.data.index,c,e,d,f,i,t.tokenizer,o)}let u=t.sorter.getSortableProperties(t.data.sorting),l=t.getDocumentProperties(a,u);for(let c of u){let d=l[c];if(typeof d>"u")continue;let f=t.sorter.getSortablePropertiesWithTypes(t.data.sorting)[c];t.sorter.insert(t.data.sorting,c,e,d,f,i)}}function p1(t,e,r,n){return xs(t.index.beforeRemove)||xs(t.index.remove)||xs(t.index.afterRemove)?kBr(t,e,r,n):$Br(t,e,r,n)}async function kBr(t,e,r,n){let o=!0,{index:i,docs:a}=t.data,s=t.documentsStore.get(a,e);if(!s)return!1;let u=Hh(t.internalDocumentIDStore,Bo(t.internalDocumentIDStore,e)),l=t.documentsStore.count(a);n||await Fg(t.beforeRemove,t,u);let c=t.index.getSearchableProperties(i),d=t.index.getSearchablePropertiesWithTypes(i),f=t.getDocumentProperties(s,c);for(let h of c){let v=f[h];if(typeof v>"u")continue;let g=d[h];await t.index.beforeRemove?.(t.data.index,h,u,v,g,r,t.tokenizer,l),await t.index.remove(t.index,t.data.index,h,e,v,g,r,t.tokenizer,l)||(o=!1),await t.index.afterRemove?.(t.data.index,h,u,v,g,r,t.tokenizer,l)}let p=await t.sorter.getSortableProperties(t.data.sorting),m=await t.getDocumentProperties(s,p);for(let h of p)typeof m[h]>"u"||t.sorter.remove(t.data.sorting,h,e);return n||await Fg(t.afterRemove,t,u),t.documentsStore.remove(t.data.docs,e),Exe(t),o}function $Br(t,e,r,n){let o=!0,{index:i,docs:a}=t.data,s=t.documentsStore.get(a,e);if(!s)return!1;let u=Hh(t.internalDocumentIDStore,Bo(t.internalDocumentIDStore,e)),l=t.documentsStore.count(a);n||Fg(t.beforeRemove,t,u);let c=t.index.getSearchableProperties(i),d=t.index.getSearchablePropertiesWithTypes(i),f=t.getDocumentProperties(s,c);for(let h of c){let v=f[h];if(typeof v>"u")continue;let g=d[h];t.index.beforeRemove?.(t.data.index,h,u,v,g,r,t.tokenizer,l),t.index.remove(t.index,t.data.index,h,e,v,g,r,t.tokenizer,l)||(o=!1),t.index.afterRemove?.(t.data.index,h,u,v,g,r,t.tokenizer,l)}let p=t.sorter.getSortableProperties(t.data.sorting),m=t.getDocumentProperties(s,p);for(let h of p)typeof m[h]>"u"||t.sorter.remove(t.data.sorting,h,e);return n||Fg(t.afterRemove,t,u),t.documentsStore.remove(t.data.docs,e),Exe(t),o}function M3(t,e,r,n,o){return xs(t.index.beforeRemove)||xs(t.index.remove)||xs(t.index.afterRemove)||xs(t.beforeRemoveMultiple)||xs(t.afterRemoveMultiple)?qBr(t,e,r,n,o):UBr(t,e,r,n,o)}async function qBr(t,e,r,n,o){let i=0;r||(r=1e3);let a=o?[]:e.map(s=>Hh(t.internalDocumentIDStore,Bo(t.internalDocumentIDStore,s)));return o||await d1(t.beforeRemoveMultiple,t,a),await new Promise((s,u)=>{let l=0;async function c(){let d=e.slice(l*r,++l*r);if(!d.length)return s();for(let f of d)try{await p1(t,f,n,o)&&i++}catch(p){u(p)}setTimeout(c,0)}setTimeout(c,0)}),o||await d1(t.afterRemoveMultiple,t,a),i}function UBr(t,e,r,n,o){let i=0;r||(r=1e3);let a=o?[]:e.map(l=>Hh(t.internalDocumentIDStore,Bo(t.internalDocumentIDStore,l)));o||d1(t.beforeRemoveMultiple,t,a);let s=0;function u(){let l=e.slice(s*r,++s*r);if(l.length){for(let c of l)p1(t,c,n,o)&&i++;setTimeout(u,0)}}return u(),o||d1(t.afterRemoveMultiple,t,a),i}function zBr(t,e){return t[1]-e[1]}function HBr(t,e){return e[1]-t[1]}function VBr(t="desc"){return t.toLowerCase()==="asc"?zBr:HBr}function kB(t,e,r){let n={},o=e.map(([l])=>l),i=t.documentsStore.getMultiple(t.data.docs,o),a=Object.keys(r),s=t.index.getSearchablePropertiesWithTypes(t.data.index);for(let l of a){let c;if(s[l]==="number"){let{ranges:d}=r[l],f=d.length,p=Array.from({length:f});for(let m=0;m<f;m++){let h=d[m];p[m]=[`${h.from}-${h.to}`,0]}c=Object.fromEntries(p)}n[l]={count:0,values:c??{}}}let u=i.length;for(let l=0;l<u;l++){let c=i[l];for(let d of a){let f=d.includes(".")?DB(c,d):c[d],p=s[d],m=n[d].values;switch(p){case"number":{let h=r[d].ranges;s_t(h,m)(f);break}case"number[]":{let h=new Set,v=r[d].ranges,g=s_t(v,m,h);for(let _ of f)g(_);break}case"boolean":case"enum":case"string":{u_t(m,p)(f);break}case"boolean[]":case"enum[]":case"string[]":{let g=u_t(m,p==="boolean[]"?"boolean":"string",new Set);for(let _ of f)g(_);break}default:throw vt("FACET_NOT_SUPPORTED",p)}}}for(let l of a){let c=n[l];if(c.count=Object.keys(c.values).length,s[l]==="string"){let d=r[l],f=VBr(d.sort);c.values=Object.fromEntries(Object.entries(c.values).sort(f).slice(d.offset??0,d.limit??10))}}return n}function s_t(t,e,r){return n=>{for(let o of t){let i=`${o.from}-${o.to}`;r?.has(i)||n>=o.from&&n<=o.to&&(e[i]===void 0?e[i]=1:(e[i]++,r?.add(i)))}}}function u_t(t,e,r){let n=e==="boolean"?"false":"";return o=>{let i=o?.toString()??n;r?.has(i)||(t[i]=(t[i]??0)+1,r?.add(i))}}function $B(t,e){let r=new Map,n=[];for(let o of t)r.set(o,!0);for(let o of e){let[i]=o;r.has(i)&&(n.push(o),r.delete(i))}return n}var WBr={reducer:(t,e,r,n)=>(e[n]=r,e),getInitialValue:t=>Array.from({length:t})},l_t=["string","number","boolean"];function qB(t,e,r){let n=r.properties,o=n.length,i=t.index.getSearchablePropertiesWithTypes(t.data.index);for(let g=0;g<o;g++){let _=n[g];if(typeof i[_]>"u")throw vt("UNKNOWN_GROUP_BY_PROPERTY",_);if(!l_t.includes(i[_]))throw vt("INVALID_GROUP_BY_PROPERTY",_,l_t.join(", "),i[_])}let a=e.map(([g])=>Hh(t.internalDocumentIDStore,g)),s=t.documentsStore.getMultiple(t.data.docs,a),u=s.length,l=r.maxResult||Number.MAX_SAFE_INTEGER,c=[],d={};for(let g=0;g<o;g++){let _=n[g],S={property:_,perValue:{}},x=new Set;for(let O=0;O<u;O++){let T=s[O],E=DB(T,_);if(typeof E>"u")continue;let M=typeof E!="boolean"?E:""+E,R=S.perValue[M]??{indexes:[],count:0};R.count>=l||(R.indexes.push(O),R.count++,S.perValue[M]=R,x.add(E))}c.push(Array.from(x)),d[_]=S}let f=c_t(c),p=f.length,m=[];for(let g=0;g<p;g++){let _=f[g],S=_.length,x={values:[],indexes:[]},O=[];for(let T=0;T<S;T++){let E=_[T],M=n[T];O.push(d[M].perValue[typeof E!="boolean"?E:""+E].indexes),x.values.push(E)}x.indexes=IB(O).sort((T,E)=>T-E),x.indexes.length!==0&&m.push(x)}let h=m.length,v=Array.from({length:h});for(let g=0;g<h;g++){let _=m[g],S=r.reduce||WBr,x=_.indexes.map(M=>({id:a[M],score:e[M][1],document:s[M]})),O=S.reducer.bind(null,_.values),T=S.getInitialValue(_.indexes.length),E=x.reduce(O,T);v[g]={values:_.values,result:E}}return v}function c_t(t,e=0){if(e+1===t.length)return t[e].map(i=>[i]);let r=t[e],n=c_t(t,e+1),o=[];for(let i of r)for(let a of n){let s=[i];Zo(s,a),o.push(s)}return o}function d_t(t,e,r){let n=Lg(),o=t.beforeSearch?.length||t.afterSearch?.length;function i(){e.relevance=Object.assign(QZ,e.relevance??{});let s=Object.keys(t.data.index.vectorIndexes),u=e.facets&&Object.keys(e.facets).length>0,{limit:l=10,offset:c=0,term:d,properties:f,threshold:p=0,distinctOn:m,includeVectors:h=!1}=e,v=e.preflight===!0,{index:g,docs:_}=t.data,S=t.tokenizer.tokenize(d??"",r),x=t.caches.propertiesToSearch;if(!x){let F=t.index.getSearchablePropertiesWithTypes(g);x=t.index.getSearchableProperties(g),x=x.filter(B=>F[B].startsWith("string")),t.caches.propertiesToSearch=x}if(f&&f!=="*"){for(let F of f)if(!x.includes(F))throw vt("UNKNOWN_INDEX",F,x.join(", "));x=x.filter(F=>f.includes(F))}let O=h1(t.tokenizer,t.index,t.documentsStore,r,e,x,S,t.documentsStore.count(_),n),T=Object.keys(e.where??{}).length>0,E=[];T&&(E=t.index.searchByWhereClause(O,g,e.where));let M=S.length;if(M||f?.length){let F=x.length;for(let B=0;B<F;B++){let L=x[B],q=O.indexMap[L];if(M!==0)for(let I=0;I<M;I++){let V=S[I],W=t.index.search(O,g,L,V);Zo(q[V],W)}else{q[""]=[];let I=t.index.search(O,g,L,"");Zo(q[""],I)}let U=Object.values(q);O.docsIntersection[L]=GZ(U,e?.boost?.[L]??1,p,M);let J=O.docsIntersection[L],H=J.length;for(let I=0;I<H;I++){let[V,W]=J[I],K=O.uniqueDocsIDs[V];K?O.uniqueDocsIDs[V]=K+W+.5:O.uniqueDocsIDs[V]=W}}}else S.length===0&&d?O.uniqueDocsIDs={}:O.uniqueDocsIDs=Object.fromEntries(Object.keys(t.documentsStore.getAll(t.data.docs)).map(F=>[F,0]));let R=Object.entries(O.uniqueDocsIDs).map(([F,B])=>[+F,B]);if(T&&(R=$B(E,R)),e.sortBy)if(typeof e.sortBy=="function"){let F=R.map(([q])=>q),L=t.documentsStore.getMultiple(t.data.docs,F).map((q,U)=>[R[U][0],R[U][1],q]);L.sort(e.sortBy),R=L.map(([q,U])=>[q,U])}else R=t.sorter.sortBy(t.data.sorting,R,e.sortBy).map(([F,B])=>[Bo(t.internalDocumentIDStore,F),B]);else R=R.sort(gbt);let N;v||(N=m?f_t(t,R,c,l,m):eQ(t,R,c,l));let j={elapsed:{formatted:"",raw:0},hits:[],count:R.length};if(typeof N<"u"&&(j.hits=N.filter(Boolean),h||WZ(j,s)),u){let F=kB(t,R,e.facets);j.facets=F}return e.groupBy&&(j.groups=qB(t,R,e.groupBy)),j.elapsed=t.formatElapsedTime(Lg()-O.timeStart),j}async function a(){t.beforeSearch&&await LB(t.beforeSearch,t,e,r);let s=i();return t.afterSearch&&await NB(t.afterSearch,t,e,r,s),s}return o?a():i()}function Pxe(t,e,r="english"){let n=Lg(),o=t.beforeSearch?.length||t.afterSearch?.length;function i(){let{vector:s}=e;if(s&&(!("value"in s)||!("property"in s)))throw vt("INVALID_VECTOR_INPUT",Object.keys(s).join(", "));let{limit:u=10,offset:l=0,includeVectors:c=!1}=e,d=t.data.index.vectorIndexes[s.property],f=d.size,p=d.vectors,m=e.facets&&Object.keys(e.facets).length>0,h=Object.keys(e.where??{}).length>0,{index:v,docs:g}=t.data;if(s?.value.length!==f)throw s?.property===void 0||s?.value.length===void 0?vt("INVALID_INPUT_VECTOR","undefined",f,"undefined"):vt("INVALID_INPUT_VECTOR",s.property,f,s.value.length);s instanceof Float32Array||(s.value=new Float32Array(s.value));let _=KZ(s.value,p,f,e.similarity).map(([F,B])=>[Bo(t.internalDocumentIDStore,F),B]),S=t.caches.propertiesToSearch;if(!S){let F=t.index.getSearchablePropertiesWithTypes(v);S=t.index.getSearchableProperties(v),S=S.filter(B=>F[B].startsWith("string")),t.caches.propertiesToSearch=S}let x=[],O=h1(t.tokenizer,t.index,t.documentsStore,r,e,S,x,t.documentsStore.count(g),n),T=[];h&&(T=t.index.searchByWhereClause(O,v,e.where),_=$B(T,_));let E=[];m&&(E=kB(t,_,e.facets));let M=Array.from({length:u});for(let F=0;F<u;F++){let B=_[F+l];if(!B)break;let L=t.data.docs.docs[B[0]];if(L){c||(L[s.property]=null);let q={id:Hh(t.internalDocumentIDStore,B[0]),score:B[1],document:L};M[F]=q}}let R=[];e.groupBy&&(R=qB(t,_,e.groupBy));let j=Lg()-n;return{count:_.length,hits:M.filter(Boolean),elapsed:{raw:Number(j),formatted:c1(j)},...E?{facets:E}:{},...R?{groups:R}:{}}}async function a(){t.beforeSearch&&await LB(t.beforeSearch,t,e,r);let s=i();return t.afterSearch&&await NB(t.afterSearch,t,e,r,s),s}return o?a():i()}function h_t(t,e,r){let n=Lg(),o=t.beforeSearch?.length||t.afterSearch?.length;function i(){let{offset:s=0,limit:u=10,includeVectors:l=!1}=e,c=e.facets&&Object.keys(e.facets).length>0,d=JBr(t,e,r),f=GBr(t,e),{index:p,docs:m}=t.data,h=e.hybridWeights,v=YBr(d,f,e.term??"",h),g=t.tokenizer.tokenize(e.term??"",r),_=t.caches.propertiesToSearch;if(!_){let j=t.index.getSearchablePropertiesWithTypes(p);_=t.index.getSearchableProperties(p),_=_.filter(F=>j[F].startsWith("string")),t.caches.propertiesToSearch=_}if(e.properties&&e.properties!=="*"){for(let j of e.properties)if(!_.includes(j))throw vt("UNKNOWN_INDEX",j,_.join(", "));_=_.filter(j=>e.properties.includes(j))}let S=h1(t.tokenizer,t.index,t.documentsStore,r,e,_,g,t.documentsStore.count(m),n),x=Object.keys(e.where??{}).length>0,O=[];x&&(O=t.index.searchByWhereClause(S,p,e.where),v=$B(O,v));let T;c&&(T=kB(t,v,e.facets));let E;e.groupBy&&(E=qB(t,v,e.groupBy));let M=eQ(t,v,s,u).filter(Boolean),R=Lg(),N={count:v.length,elapsed:{raw:Number(R-n),formatted:c1(R-n)},hits:M,...T?{facets:T}:{},...E?{groups:E}:{}};if(!l){let j=Object.keys(t.data.index.vectorIndexes);WZ(N,j)}return N}async function a(){t.beforeSearch&&await LB(t.beforeSearch,t,e,r);let s=i();return t.afterSearch&&await NB(t.afterSearch,t,e,r,s),s}return o?a():i()}function JBr(t,e,r){let n=Lg();e.relevance=Object.assign(QZ,e.relevance??{});let{term:o="",properties:i,threshold:a=0}=e,{index:s,docs:u}=t.data,l=t.tokenizer.tokenize(o,r),c=t.caches.propertiesToSearch;if(!c){let m=t.index.getSearchablePropertiesWithTypes(s);c=t.index.getSearchableProperties(s),c=c.filter(h=>m[h].startsWith("string")),t.caches.propertiesToSearch=c}if(i&&i!=="*"){let m=new Set(c),h=new Set(i);for(let v of i)if(!m.has(v))throw vt("UNKNOWN_INDEX",v,c.join(", "));c=c.filter(v=>h.has(v))}let d=h1(t.tokenizer,t.index,t.documentsStore,r,e,c,l,t.documentsStore.count(u),n),f=l.length;if(f||i&&i.length>0){let m=c.length;for(let h=0;h<m;h++){let v=c[h];if(f!==0)for(let O=0;O<f;O++){let T=l[O],E=t.index.search(d,s,v,T);Zo(d.indexMap[v][T],E)}else{let O=[];d.indexMap[v][""]=O;let T=t.index.search(d,s,v,"");Zo(O,T)}let g=d.indexMap[v],_=Object.values(g);d.docsIntersection[v]=GZ(_,e?.boost?.[v]??1,a,f);let S=d.docsIntersection[v],x=S.length;for(let O=0;O<x;O++){let[T,E]=S[O],M=d.uniqueDocsIDs[T];d.uniqueDocsIDs[T]=M?M+E+.5:E}}}else l.length===0&&o?d.uniqueDocsIDs={}:d.uniqueDocsIDs=Object.fromEntries(Object.keys(t.documentsStore.getAll(t.data.docs)).map(m=>[m,0]));let p=Object.entries(d.uniqueDocsIDs).map(([m,h])=>[+m,h]).sort((m,h)=>h[1]-m[1]);return m_t(p)}function GBr(t,e){let r=e.vector,n=t.data.index.vectorIndexes[r?.property],o=n.size,i=n.vectors;if(r&&(!r.value||!r.property))throw vt("INVALID_VECTOR_INPUT",Object.keys(r).join(", "));if(r.value.length!==o)throw vt("INVALID_INPUT_VECTOR",r.property,o,r.value.length);r instanceof Float32Array||(r.value=new Float32Array(r.value));let a=KZ(r.value,i,o,e.similarity).map(([s,u])=>[Bo(t.internalDocumentIDStore,s),u]);return m_t(a)}function Txe([,t]){return t}function m_t(t){let e=Math.max.apply(Math,t.map(Txe));return t.map(([r,n])=>[r,n/e])}function p_t(t,e){return t/e}function KBr(t,e){return(r,n)=>r*t+n*e}function YBr(t,e,r,n){let o=Math.max.apply(Math,t.map(Txe)),i=Math.max.apply(Math,e.map(Txe)),a=n&&n.text&&n.vector,{text:s,vector:u}=a?n:XBr(r),l=new Map,c=t.length,d=KBr(s,u);for(let p=0;p<c;p++){let[m,h]=t[p],v=p_t(h,o),g=d(v,0);l.set(m,g)}let f=e.length;for(let p=0;p<f;p++){let[m,h]=e[p],v=p_t(h,i),g=l.get(m)??0;l.set(m,g+d(0,v))}return[...l].sort((p,m)=>m[1]-p[1])}function XBr(t){return{text:.5,vector:.5}}var QZ={k:1.2,b:.75,d:.5};function h1(t,e,r,n,o,i,a,s,u){let l={},c={};for(let d of i){let f={};for(let p of a)f[p]=[];l[d]=f,c[d]=[]}return{timeStart:u,tokenizer:t,index:e,documentsStore:r,language:n,params:o,docsCount:s,uniqueDocsIDs:{},indexMap:l,docsIntersection:c}}function mc(t,e,r){let n=e.mode??ZZ;if(n===ZZ)return d_t(t,e,r);if(n===Cxe)return Pxe(t,e);if(n===xxe)return h_t(t,e);throw vt("INVALID_SEARCH_MODE",n)}function f_t(t,e,r,n,o){let i=t.data.docs,a=new Map,s=[],u=new Set,l=e.length,c=0;for(let d=0;d<l;d++){let f=e[d];if(typeof f>"u")continue;let[p,m]=f;if(u.has(p))continue;let h=t.documentsStore.get(i,p),v=DB(h,o);if(!(typeof v>"u"||a.has(v))&&(a.set(v,!0),c++,!(c<=r)&&(s.push({id:Hh(t.internalDocumentIDStore,p),score:m,document:h}),u.add(p),c>=r+n)))break}return s}function eQ(t,e,r,n){let o=t.data.docs,i=Array.from({length:n}),a=new Set;for(let s=r;s<n+r;s++){let u=e[s];if(typeof u>"u")break;let[l,c]=u;if(!a.has(l)){let d=t.documentsStore.get(o,l);i[s]={id:Hh(t.internalDocumentIDStore,l),score:c,document:d},a.add(l)}}return i}function tQ(t,e){t.internalDocumentIDStore.load(t,e.internalDocumentIDStore),t.data.index=t.index.load(t.internalDocumentIDStore,e.index),t.data.docs=t.documentsStore.load(t.internalDocumentIDStore,e.docs),t.data.sorting=t.sorter.load(t.internalDocumentIDStore,e.sorting),t.tokenizer.language=e.language}function Mxe(t){return{internalDocumentIDStore:t.internalDocumentIDStore.save(t.internalDocumentIDStore),index:t.index.save(t.data.index),docs:t.documentsStore.save(t.data.docs),sorting:t.sorter.save(t.data.sorting),language:t.tokenizer.language}}var Tvt=k($Q()),rS=require("obsidian");var Ixe="copilot-index-chunk-",QBr=".json",qQ=class{constructor(e,r,n){this.app=e;this.baseDir=r;this.identifier=n}getChunkPath(e){return`${this.baseDir}/${Ixe}${this.identifier}-${e}.json`}getMetadataPath(){return`${this.baseDir}/${Ixe}${this.identifier}-metadata.json`}getLegacyPath(){return`${this.baseDir}/copilot-index-${this.identifier}${QBr}`}assignDocumentToPartition(e,r){let o=Array.from(e).reduce((i,a)=>(i<<5)-i+a.charCodeAt(0),0);return Math.abs(o)%r}distributeDocumentsToPartitions(e,r){let n=new Map,o={};for(let a=0;a<r;a++)n.set(a,[]);fe().debug&&console.log(`Total documents to distribute: ${e.length}`);for(let a of e){let s=this.assignDocumentToPartition(a.id,r),u=n.get(s);if(!u)throw new Error(`Invalid partition index: ${s}`);u.push(a),o[a.id]=s}let i=0;return n.forEach((a,s)=>{i+=a.length,fe().debug&&console.log(`Partition ${s+1}: ${a.length} documents`)}),fe().debug&&(console.log(`Total documents distributed: ${i}`),i!==e.length&&console.error(`Document count mismatch! Original: ${e.length}, Distributed: ${i}`)),n}async ensureDirectoryExists(e){let r=e.substring(0,e.lastIndexOf("/"));await this.app.vault.adapter.exists(r)||await this.app.vault.adapter.mkdir(r)}async saveDatabase(e){try{let r=await Mxe(e),n=fe().numPartitions;if(n===1){let l=this.getLegacyPath();await this.ensureDirectoryExists(l),await this.app.vault.adapter.write(l,JSON.stringify({...r,schema:e.schema}));return}let o=r.docs?.docs,i=Array.isArray(o)?o:Object.values(o||{});if(fe().debug&&console.log(`Starting save with ${i.length??0} total documents`),!i||i.length===0){let l={numPartitions:n,vectorLength:e.schema.embedding.match(/\d+/)[0],schema:e.schema,lastModified:Date.now(),documentPartitions:{}},c=this.getMetadataPath();await this.ensureDirectoryExists(c),await this.app.vault.adapter.write(c,JSON.stringify(l)),fe().debug&&console.log("Saved empty database state");return}let a=this.distributeDocumentsToPartitions(i,n),s={numPartitions:n,vectorLength:e.schema.embedding.match(/\d+/)[0],schema:e.schema,lastModified:Date.now(),documentPartitions:Object.fromEntries(i.map(l=>[l.id,this.assignDocumentToPartition(l.id,n)]))};await this.saveMetadata(s);let u={...r,docs:{docs:{},count:0},index:{...r.index,vectorIndexes:void 0}};for(let[l,c]of a.entries()){let d={index:{vectorIndexes:{embedding:{size:r.index.vectorIndexes.embedding.size,vectors:Object.fromEntries(Object.entries(r.index.vectorIndexes.embedding.vectors).filter(([m])=>c.some(h=>h.id===m)))}}},docs:{docs:Object.fromEntries(c.map((m,h)=>[(h+1).toString(),m])),count:c.length}},f=l===0?{...u,docs:d.docs,index:{...u.index,vectorIndexes:d.index.vectorIndexes}}:d,p=this.getChunkPath(l);await this.ensureDirectoryExists(p),await this.app.vault.adapter.write(p,JSON.stringify(f)),fe().debug&&console.log(`Saved partition ${l+1}/${n}`)}fe().debug&&console.log("Saved all partitions")}catch(r){throw console.error("Error saving database:",r),new pr(`Failed to save database: ${r.message}`)}}async loadDatabase(){try{let e=this.getLegacyPath();if(await this.app.vault.adapter.exists(e)){let u=JSON.parse(await this.app.vault.adapter.read(e));if(!u?.schema)throw new pr("Invalid legacy database format");let l=await BB({schema:u.schema,components:{tokenizer:{stemmer:void 0,stopWords:void 0}}});return await tQ(l,u),l}let r=await this.loadMetadata(),n=await BB({schema:r.schema,components:{tokenizer:{stemmer:void 0,stopWords:void 0}}}),o=null,i=[];for(let u=0;u<r.numPartitions;u++){let l=this.getChunkPath(u);if(await this.app.vault.adapter.exists(l)){let c=JSON.parse(await this.app.vault.adapter.read(l));i.push(c),u===0&&(o=c)}}if(!o)throw new pr("No data found in chunks");let a={},s=1;for(let u of o.internalDocumentIDStore.internalIdToId){let l=i.flatMap(c=>Object.values(c.docs.docs)).find(c=>c.id===u);l?(a[s.toString()]=l,s++):fe().debug&&console.warn(`Document ${u} not found in any chunk`)}return o.docs.docs=a,o.docs.count=Object.keys(a).length,o.index.vectorIndexes.embedding.vectors=Object.assign({},...i.map(u=>u.index?.vectorIndexes?.embedding?.vectors||{})),await tQ(n,o),n}catch(e){throw console.error("Error loading database:",e),new pr(`Failed to load database: ${e.message}`)}}async clearStorage(){try{let e=this.getLegacyPath();await this.app.vault.adapter.exists(e)&&await this.app.vault.adapter.remove(e);let r=await this.app.vault.adapter.list(this.baseDir);for(let n of r.files)n.startsWith(`${this.baseDir}/${Ixe}${this.identifier}`)&&await this.app.vault.adapter.remove(n)}catch(e){throw console.error("Error clearing storage:",e),new pr(`Failed to clear storage: ${e.message}`)}}async exists(){let e=this.getLegacyPath();if(fe().numPartitions===1)return await this.app.vault.adapter.exists(e);let r=this.getMetadataPath();return await this.app.vault.adapter.exists(r)||await this.app.vault.adapter.exists(e)}async loadMetadata(){let e=this.getMetadataPath();if(!await this.app.vault.adapter.exists(e))throw new pr("No existing database found");let r=JSON.parse(await this.app.vault.adapter.read(e));if(!r?.schema)throw new pr("Invalid metadata file: missing schema");return r}async saveMetadata(e){let r=this.getMetadataPath();await this.ensureDirectoryExists(r),await this.app.vault.adapter.write(r,JSON.stringify(e))}};var Ovt=require("obsidian");async function Evt(t){if(!t)throw new pr("Embedding instance not found.");try{let e="Sample text for embedding",r=await t.embedQuery(e);if(!r||r.length===0)throw new pr("Failed to get valid embedding vector length");return console.log(`Detected vector length: ${r.length} for model: ${_o.getModelName(t)}`),r.length}catch(e){throw console.error("Error getting vector length:",e),new pr("Failed to determine embedding vector length. Please check your embedding model settings.")}}async function Pvt(t){let e="",{inclusions:r,exclusions:n}=R3(),o=t.vault.getMarkdownFiles().filter(i=>UB(i,r,n));return await Promise.all(o.map(i=>t.vault.cachedRead(i))).then(i=>i.map(a=>e+=a+" ")),e}function ekr(){if(!fe().qaExclusions)return[];let t=[];return t.push(...Dxe(app)),fe().qaExclusions&&t.push(...fe().qaExclusions.split(",").map(e=>e.trim())),t}function tkr(){if(!fe().qaInclusions)return[];let t=[];return t.push(...fe().qaInclusions.split(",").map(e=>e.trim())),t}function R3(){let t=tkr(),e=ekr();return{inclusions:t,exclusions:e}}function UB(t,e,r){return!(r.length>0&&Cvt(t.path,r)||e.length>0&&!Cvt(t.path,e))}function Cvt(t,e){if(!e||e.length===0)return!1;let r=[],n=[],o=[];if(e.forEach(a=>{a.startsWith("#")?r.push(wN(a)):a.startsWith("*")?n.push(a.slice(1).toLowerCase()):o.push(a)}),n.length>0){let a=t.toLowerCase();if(n.some(s=>a.endsWith(s)))return!0}if(o.length>0&&o.some(a=>eUe(t,a)))return!0;let i=app.vault.getAbstractFileByPath(t);if(i instanceof Ovt.TFile){let a=Fde(i);if(r.some(s=>a.includes(s)))return!0}return!1}function Dxe(t){let e=[];try{let r=t.vault.getConfig("userIgnoreFilters");r&&Array.isArray(r)&&r.forEach(n=>{typeof n=="string"&&e.push(n.endsWith("/")?n.slice(0,-1):n)})}catch(r){console.warn("Error getting userIgnoreFilters from Obsidian config",r)}return e}var Ud=class{constructor(e){this.app=e;this.isInitialized=!1;this.isIndexLoaded=!1;this.hasUnsavedChanges=!1;_l(async()=>{let r=fe();rS.Platform.isMobile&&r.disableIndexOnMobile?(this.isIndexLoaded=!1,this.oramaDb=void 0):rS.Platform.isMobile&&!r.disableIndexOnMobile&&!this.oramaDb&&await this.initializeDB(await _o.getInstance().getEmbeddingsAPI());let n=await this.getDbPath();this.dbPath&&n!==this.dbPath&&(Ln("Path change detected, reinitializing database..."),this.dbPath=n,await this.initializeChunkedStorage(),await this.initializeDB(await _o.getInstance().getEmbeddingsAPI()),Ln("Database reinitialized with new path:",n))})}async initializeChunkedStorage(){if(!this.app.vault.adapter)throw new pr("Vault adapter not available. Please try again later.");let e=await this.getDbPath();this.chunkedStorage=new qQ(this.app,e,this.getVaultIdentifier()),this.isInitialized=!0}async initializeDB(e){try{if(this.isInitialized||(this.dbPath=await this.getDbPath(),await this.initializeChunkedStorage()),rS.Platform.isMobile&&fe().disableIndexOnMobile){this.isIndexLoaded=!1,this.oramaDb=void 0;return}if(!this.chunkedStorage)throw new pr("Storage not initialized properly");try{if(await this.chunkedStorage.exists())return this.oramaDb=await this.chunkedStorage.loadDatabase(),Ln("Loaded existing chunked Orama database from disk."),this.oramaDb}catch(n){Yo("Failed to load existing database, creating new one:",n)}let r=await this.createNewDb(e);return this.oramaDb=r,r}catch(r){Yo("Error initializing Orama database:",r),new rS.Notice("Failed to initialize Copilot database. Some features may be limited.");return}}async saveDB(){if(!(rS.Platform.isMobile&&fe().disableIndexOnMobile)){if(!this.oramaDb||!this.chunkedStorage)try{if(await this.initializeDB(await _o.getInstance().getEmbeddingsAPI()),!this.oramaDb||!this.chunkedStorage)throw new pr("Orama database not found.")}catch(e){throw Yo("Failed to initialize database during save:",e),new pr("Failed to initialize and save database.")}try{await this.chunkedStorage.saveDatabase(this.oramaDb),this.hasUnsavedChanges=!1,fe().debug&&Ln("Orama database saved successfully at:",this.dbPath)}catch(e){throw Yo("Error saving Orama database:",e),e}}}async clearIndex(e){try{this.oramaDb||await this.initializeDB(e),await this.chunkedStorage?.clearStorage(),await new Promise(r=>setTimeout(r,100)),this.oramaDb=await this.createNewDb(e),await this.saveDB(),new rS.Notice("Local Copilot index cleared successfully."),Ln("Local Copilot index cleared successfully, new instance created.")}catch(r){throw Yo("Error clearing the local Copilot index:",r),new rS.Notice("An error occurred while clearing the local Copilot index."),r}}async removeDocs(e){if(!this.oramaDb)throw new pr("Orama database not found.");try{let r=await mc(this.oramaDb,{term:e,properties:["path"]});r.hits.length>0&&(await M3(this.oramaDb,r.hits.map(n=>n.id),500),fe().debug&&Ln(`Deleted document from local Copilot index: ${e}`)),this.markUnsavedChanges()}catch(r){Yo("Error deleting document from local Copilotindex:",r)}}getDb(){return this.oramaDb||console.warn("Database not initialized. Some features may be limited."),this.oramaDb}async getIsIndexLoaded(){return this.isIndexLoaded}async waitForInitialization(){await this.initializationPromise}onunload(){this.hasUnsavedChanges&&this.saveDB()}getCurrentDbPath(){return this.dbPath}async getDbPath(){let e=this.app.vault.getRoot().path,r;if(fe().enableIndexSync)r=this.app.vault.configDir;else{let n=e==="/"?"":e;r=`${n===""||n.startsWith("/")?"":"/"}${n}/.copilot-index`,await this.app.vault.adapter.exists(r)||(await this.app.vault.adapter.mkdir(r),Ln("Created directory:",r))}return r}getVaultIdentifier(){let e=this.app.vault.getName();return(0,Tvt.MD5)(e).toString()}markUnsavedChanges(){this.hasUnsavedChanges=!0}async createNewDb(e){if(!e)throw new pr("Embedding instance not found.");let r=await Evt(e);if(!r||r===0)throw new pr("Invalid vector length detected. Please check if your embedding model is working.");let n=this.createDynamicSchema(r),o=await BB({schema:n,components:{tokenizer:{stemmer:void 0,stopWords:void 0}}});return Ln(`Created new Orama database for ${this.dbPath}. Embedding model: ${_o.getModelName(e)} with vector length ${r}.`),this.isIndexLoaded=!0,o}static async getDocsByPath(e,r){if(!e)throw new Error("DB not initialized");return r?(await mc(e,{term:r,properties:["path"],exact:!0,includeVectors:!0})).hits:void 0}static async getDocsByEmbedding(e,r,n){return(await mc(e,{mode:"vector",vector:{value:r,property:"embedding"},limit:n.limit,similarity:n.similarity,includeVectors:!0})).hits}static async getLatestFileMtime(e){if(!e)throw new Error("DB not initialized");try{let r=await mc(e,{term:"",limit:1,sortBy:{property:"mtime",order:"DESC"}});return r.hits.length>0?r.hits[0].document.mtime:0}catch(r){return Yo("Error getting latest file mtime from VectorDB:",r),0}}createDynamicSchema(e){return{id:"string",title:"string",path:"string",content:"string",embedding:`vector[${e}]`,embeddingModel:"string",created_at:"number",ctime:"number",mtime:"number",tags:"string[]",extension:"string"}}async upsert(e){if(!this.oramaDb)throw new Error("DB not initialized");try{let r=this.chunkedStorage?.assignDocumentToPartition(e.id,fe().numPartitions),n=await mc(this.oramaDb,{term:e.id,properties:["id"],limit:1});n.hits.length>0&&await p1(this.oramaDb,n.hits[0].id);try{return await T3(this.oramaDb,e),fe().debug&&Ln(`${n.hits.length>0?"Updated":"Inserted"} document ${e.id} in partition ${r}`),this.markUnsavedChanges(),e}catch(o){if(Yo(`Failed to ${n.hits.length>0?"update":"insert"} document ${e.id}:`,o),n.hits.length>0)try{await T3(this.oramaDb,n.hits[0].document)}catch(i){Yo("Failed to restore previous document version:",i)}return}}catch(r){Yo(`Error upserting document ${e.id}:`,r);return}}async getLatestFileMtime(){if(!this.oramaDb)throw new Error("DB not initialized");try{let e=await mc(this.oramaDb,{term:"",limit:1,sortBy:{property:"mtime",order:"DESC"}});return e.hits.length>0?e.hits[0].document.mtime:0}catch(e){return Yo("Error getting latest file mtime from VectorDB:",e),0}}async checkAndHandleEmbeddingModelChange(e){if(!this.oramaDb){Ln("Embedding model change detected. Orama database not found. Initializing new database...");try{return await this.initializeDB(e),!0}catch(o){throw Yo("Failed to initialize database:",o),new pr("Failed to initialize Orama database. Please check your embedding model settings.")}}let r=await mc(this.oramaDb,{term:"",limit:1}),n;if(r.hits.length>0){let o=r.hits[0];typeof o=="object"&&o!==null&&"document"in o&&(n=o.document.embeddingModel)}if(n){let o=_o.getModelName(e);if(!rUe(n,o))return new rS.Notice("New embedding model detected. Rebuilding Copilot index from scratch."),Ln("Detected change in embedding model. Rebuilding Copilot index from scratch."),this.oramaDb=await this.createNewDb(e),await this.saveDB(),!0}else Ln("No previous embedding model found in the database.");return!1}static async getAllDocuments(e){return(await mc(e,{term:"",limit:1e5,includeVectors:!0})).hits.map(n=>n.document)}async garbageCollect(){if(!this.oramaDb){Ln("Orama database not found during garbage collection. Attempting to initialize...");try{let e=await _o.getInstance().getEmbeddingsAPI();if(!e)throw new pr("No embedding model available.");if(await this.initializeDB(e),!this.oramaDb)throw new pr("Failed to initialize database after attempt.")}catch(e){throw Yo("Failed to initialize database during garbage collection:",e),new pr("Failed to initialize database. Please check your embedding model settings.")}}try{let e=this.app.vault.getMarkdownFiles(),r=new Set(e.map(i=>i.path)),o=(await Ud.getAllDocuments(this.oramaDb)).filter(i=>!r.has(i.path));return o.length===0?0:(Ln("Copilot index: Docs to remove during garbage collection:",Array.from(new Set(o.map(i=>i.path))).join(", ")),o.length===1?await p1(this.oramaDb,o[0].id):await M3(this.oramaDb,o.map(i=>i.id),500),await this.saveDB(),o.length)}catch(e){throw Yo("Error garbage collecting the Copilot index:",e),new pr("Failed to garbage collect the Copilot index.")}}async getIndexedFiles(){if(!this.oramaDb)throw new pr("Orama database not found.");try{let e=await Ud.getAllDocuments(this.oramaDb),r=new Set;return e.forEach(n=>{r.add(n.path)}),Array.from(r).sort()}catch(e){throw Yo("Error getting indexed files:",e),new pr("Failed to retrieve indexed files.")}}async isIndexEmpty(){if(!this.oramaDb)return!0;try{return(await mc(this.oramaDb,{term:"",limit:1})).hits.length===0}catch(e){throw Yo("Error checking if database is empty:",e),new pr("Failed to check if database is empty.")}}async hasIndex(e){if(!this.oramaDb)return!1;let r=await Ud.getDocsByPath(this.oramaDb,e);return r!==void 0&&r.length>0}async hasEmbeddings(e){if(!this.oramaDb)return!1;let r=await Ud.getDocsByPath(this.oramaDb,e);return!r||r.length===0?!1:r.every(n=>n?.document?.embedding&&Array.isArray(n.document.embedding)&&n.document.embedding.length>0)}async getDocsJsonByPaths(e){if(!this.oramaDb)throw new pr("Orama database not found.");let r={};for(let n of e){let o=await Ud.getDocsByPath(this.oramaDb,n);o&&o.length>0&&(r[n]=o.map(i=>({id:i.document.id,title:i.document.title,path:i.document.path,content:i.document.content,metadata:i.document.metadata,embedding:i.document.embedding,embeddingModel:i.document.embeddingModel,tags:i.document.tags,extension:i.document.extension,nchars:i.document.nchars})))}return r}};var I3=require("obsidian");var rkr=1e4,UQ=class{constructor(e,r,n){this.app=e;this.indexOps=r;this.dbOps=n;this.debounceTimer=null;this.handleFileModify=async e=>{if(I3.Platform.isMobile&&fe().disableIndexOnMobile)return;let r=Ym();if(e instanceof I3.TFile&&e.extension==="md"&&r==="copilot_plus"){let{inclusions:n,exclusions:o}=R3();UB(e,n,o)&&this.debouncedReindexFile(e)}};this.debouncedReindexFile=e=>{this.debounceTimer!==null&&window.clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{fe().debug&&console.log("Copilot Plus: Triggering reindex for file ",e.path),this.indexOps.reindexFile(e),this.debounceTimer=null},rkr)};this.handleFileDelete=async e=>{e instanceof I3.TFile&&await this.dbOps.removeDocs(e.path)};this.initializeEventListeners()}initializeEventListeners(){fe().debug&&console.log("Copilot Plus: Initializing event listeners"),this.app.vault.on("modify",this.handleFileModify),this.app.vault.on("delete",this.handleFileDelete)}cleanup(){this.debounceTimer!==null&&window.clearTimeout(this.debounceTimer),this.app.vault.off("modify",this.handleFileModify),this.app.vault.off("delete",this.handleFileDelete)}};var D3=class{constructor(e){this.lastRequestTime=0;this.requestsPerMin=e}setRequestsPerMin(e){this.requestsPerMin=e}getRequestsPerMin(){return this.requestsPerMin}async wait(){let r=Date.now()-this.lastRequestTime,n=Math.max(0,6e4/this.requestsPerMin-r);n>0&&await new Promise(o=>setTimeout(o,n)),this.lastRequestTime=Date.now()}};var Avt=k($Q());Mvt();df();var zQ=class extends Qr{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","documents","transformers"]})}invoke(e,r){return this.transformDocuments(e)}};Hwe();var jxe=class extends zQ{constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers","text_splitters"]}),Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lengthFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chunkSize=e?.chunkSize??this.chunkSize,this.chunkOverlap=e?.chunkOverlap??this.chunkOverlap,this.keepSeparator=e?.keepSeparator??this.keepSeparator,this.lengthFunction=e?.lengthFunction??(r=>r.length),this.chunkOverlap>=this.chunkSize)throw new Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments(e,r={}){return this.splitDocuments(e,r)}splitOnSeparator(e,r){let n;if(r)if(this.keepSeparator){let o=r.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");n=e.split(new RegExp(`(?=${o})`))}else n=e.split(r);else n=e.split("");return n.filter(o=>o!=="")}async createDocuments(e,r=[],n={}){let o=r.length>0?r:[...Array(e.length)].map(()=>({})),{chunkHeader:i="",chunkOverlapHeader:a="(cont'd) ",appendChunkOverlapHeader:s=!1}=n,u=new Array;for(let l=0;l<e.length;l+=1){let c=e[l],d=1,f=null,p=-1;for(let m of await this.splitText(c)){let h=i,v=c.indexOf(m,p+1);if(f===null){let x=this.numberOfNewLines(c,0,v);d+=x}else{let x=p+await this.lengthFunction(f);if(x<v){let O=this.numberOfNewLines(c,x,v);d+=O}else if(x>v){let O=this.numberOfNewLines(c,v,x);d-=O}s&&(h+=a)}let g=this.numberOfNewLines(m),_=o[l].loc&&typeof o[l].loc=="object"?{...o[l].loc}:{};_.lines={from:d,to:d+g};let S={...o[l],loc:_};h+=m,u.push(new hC({pageContent:h,metadata:S})),d+=g,f=m,p=v}}return u}numberOfNewLines(e,r,n){return(e.slice(r,n).match(/\n/g)||[]).length}async splitDocuments(e,r={}){let n=e.filter(a=>a.pageContent!==void 0),o=n.map(a=>a.pageContent),i=n.map(a=>a.metadata);return this.createDocuments(o,i,r)}joinDocs(e,r){let n=e.join(r).trim();return n===""?null:n}async mergeSplits(e,r){let n=[],o=[],i=0;for(let s of e){let u=await this.lengthFunction(s);if(i+u+o.length*r.length>this.chunkSize&&(i>this.chunkSize&&console.warn(`Created a chunk of size ${i}, +
which is longer than the specified ${this.chunkSize}`),o.length>0)){let l=this.joinDocs(o,r);for(l!==null&&n.push(l);i>this.chunkOverlap||i+u+o.length*r.length>this.chunkSize&&i>0;)i-=await this.lengthFunction(o[0]),o.shift()}o.push(s),i+=u}let a=this.joinDocs(o,r);return a!==null&&n.push(a),n}};var m1=class extends jxe{static lc_name(){return"RecursiveCharacterTextSplitter"}constructor(e){super(e),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:[`

`,`
`," ",""]}),this.separators=e?.separators??this.separators,this.keepSeparator=e?.keepSeparator??!0}async _splitText(e,r){let n=[],o=r[r.length-1],i;for(let l=0;l<r.length;l+=1){let c=r[l];if(c===""){o=c;break}if(e.includes(c)){o=c,i=r.slice(l+1);break}}let a=this.splitOnSeparator(e,o),s=[],u=this.keepSeparator?"":o;for(let l of a)if(await this.lengthFunction(l)<this.chunkSize)s.push(l);else{if(s.length){let c=await this.mergeSplits(s,u);n.push(...c),s=[]}if(!i)n.push(l);else{let c=await this._splitText(l,i);n.push(...c)}}if(s.length){let l=await this.mergeSplits(s,u);n.push(...l)}return n}async splitText(e){return this._splitText(e,this.separators)}static fromLanguage(e,r){return new m1({...r,separators:m1.getSeparatorsForLanguage(e)})}static getSeparatorsForLanguage(e){if(e==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];if(e==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];if(e==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];if(e==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];if(e==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];if(e==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];if(e==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];if(e==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(e==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];if(e==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];if(e==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];if(e==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];throw new Error(`Language ${e} is not supported.`)}};var nS=require("obsidian");var HQ=class{constructor(e,r,n){this.app=e;this.dbOps=r;this.embeddingsManager=n;this.state={isIndexingPaused:!1,isIndexingCancelled:!1,indexedCount:0,totalFilesToIndex:0,processedFiles:new Set,currentIndexingNotice:null,indexNoticeMessage:null};let o=fe();this.rateLimiter=new D3(o.embeddingRequestsPerMin),this.embeddingBatchSize=o.embeddingBatchSize,this.checkpointInterval=8*this.embeddingBatchSize,_l(async()=>{let i=fe();this.rateLimiter=new D3(i.embeddingRequestsPerMin),this.embeddingBatchSize=i.embeddingBatchSize,this.checkpointInterval=8*this.embeddingBatchSize})}async indexVaultToVectorStore(e){let r=!1;try{let n=await this.embeddingsManager.getEmbeddingsAPI();if(!n)return console.error("Embedding instance not found."),0;await this.dbOps.checkAndHandleEmbeddingModelChange(n)&&(e=!0),e?await this.dbOps.clearIndex(n):await this.dbOps.garbageCollect();let i=await this.getFilesToIndex(e);if(i.length===0)return new nS.Notice("Copilot vault index is up-to-date."),0;this.initializeIndexingState(i.length),this.createIndexingNotice();let a=await this.prepareAllChunks(i);if(a.length===0)return new nS.Notice("No valid content to index."),0;let s=[];for(let u=0;u<a.length&&!this.state.isIndexingCancelled;u+=this.embeddingBatchSize){await this.handlePause();let l=a.slice(u,u+this.embeddingBatchSize);try{await this.rateLimiter.wait();let c=await n.embedDocuments(l.map(p=>p.content));for(let p=0;p<l.length;p++){let m=l[p];await this.dbOps.upsert({...m.fileInfo,id:this.getDocHash(m.content),content:m.content,embedding:c[p],created_at:Date.now(),nchars:m.content.length})}l.forEach(p=>{this.state.processedFiles.add(p.fileInfo.path)}),this.state.indexedCount=this.state.processedFiles.size,this.updateIndexingNoticeMessage();let d=Math.floor((this.state.indexedCount-l.length)/this.checkpointInterval);Math.floor(this.state.indexedCount/this.checkpointInterval)>d&&(await this.dbOps.saveDB(),console.log("Copilot index checkpoint save completed."))}catch(c){if(console.error("Batch processing error:",{error:c,batchSize:l?.length||0,firstChunk:l?.[0]?{path:l[0].fileInfo?.path,contentLength:l[0].content?.length,hasFileInfo:!!l[0].fileInfo}:"No chunks in batch",errorType:c?.constructor?.name,errorMessage:c?.message}),this.handleIndexingError(c,l?.[0]?.fileInfo?.path,s,r),this.isRateLimitError(c)){r=!0;break}}}return this.finalizeIndexing(s),await this.dbOps.saveDB(),console.log("Copilot index final save completed."),this.state.indexedCount}catch(n){return this.handleFatalError(n),0}}async prepareAllChunks(e){let r=await this.embeddingsManager.getEmbeddingsAPI();if(!r)return console.error("Embedding instance not found."),[];let n=_o.getModelName(r),o=m1.fromLanguage("markdown",{chunkSize:CFe}),i=[];for(let a of e){let s=await this.app.vault.cachedRead(a);if(!s?.trim())continue;let u=this.app.metadataCache.getFileCache(a),l={title:a.basename,path:a.path,embeddingModel:n,ctime:a.stat.ctime,mtime:a.stat.mtime,tags:u?.tags?.map(d=>d.tag)??[],extension:a.extension,metadata:{...u?.frontmatter??{},created:bs(new Date(a.stat.ctime)).display,modified:bs(new Date(a.stat.mtime)).display}};(await o.createDocuments([s],[],{chunkHeader:`

NOTE TITLE: [[${l.title}]]

METADATA:${JSON.stringify(l.metadata)}

NOTE BLOCK CONTENT:

`,appendChunkOverlapHeader:!0})).forEach(d=>{d.pageContent.trim()&&i.push({content:d.pageContent,fileInfo:l})})}return i}getDocHash(e){return(0,Avt.MD5)(e).toString()}async getFilesToIndex(e){let{inclusions:r,exclusions:n}=R3(),o=this.app.vault.getMarkdownFiles();if(e)return o.filter(l=>UB(l,r,n));let i=new Set(await this.dbOps.getIndexedFiles()),a=await this.dbOps.getLatestFileMtime(),s=new Set,u=new Set;for(let l of o){if(!UB(l,r,n))continue;let c=await this.app.vault.cachedRead(l);if(!c||c.trim().length===0){u.add(l.path);continue}(!i.has(l.path)||l.stat.mtime>a)&&s.add(l)}return fe().debug&&(console.log(`Files to index: ${s.size}`),console.log(`Previously indexed: ${i.size}`),console.log(`Empty files skipped: ${u.size}`)),Array.from(s)}initializeIndexingState(e){this.state={isIndexingPaused:!1,isIndexingCancelled:!1,indexedCount:0,totalFilesToIndex:e,processedFiles:new Set,currentIndexingNotice:null,indexNoticeMessage:null}}createIndexingNotice(){let e=document.createDocumentFragment(),r=e.createEl("div",{cls:"copilot-notice-container"});this.state.indexNoticeMessage=r.createEl("div",{cls:"copilot-notice-message"}),this.updateIndexingNoticeMessage();let n=r.createEl("div",{cls:"copilot-notice-buttons"}),o=n.createEl("button");o.textContent="Pause",o.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),this.state.isIndexingPaused?(this.resumeIndexing(),o.textContent="Pause"):(this.pauseIndexing(),o.textContent="Resume")});let i=n.createEl("button");return i.textContent="Stop",i.style.marginLeft="8px",i.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),this.cancelIndexing()}),e.appendChild(this.state.indexNoticeMessage),e.appendChild(n),this.state.currentIndexingNotice=new nS.Notice(e,0),this.state.currentIndexingNotice}async handlePause(){if(this.state.isIndexingPaused){for(;this.state.isIndexingPaused&&!this.state.isIndexingCancelled;)await new Promise(e=>setTimeout(e,100));if(!this.state.isIndexingCancelled){let e=await this.getFilesToIndex();if(e.length===0){console.log("No files to index after filter change, stopping indexing"),this.cancelIndexing(),new nS.Notice("No files to index with current filters");return}this.state.totalFilesToIndex=e.length,console.log("Total files to index:",this.state.totalFilesToIndex),console.log("Files to index:",e),this.updateIndexingNoticeMessage()}}}pauseIndexing(){this.state.isIndexingPaused=!0}resumeIndexing(){this.state.isIndexingPaused=!1}updateIndexingNoticeMessage(){if(this.state.indexNoticeMessage){let e=this.state.isIndexingPaused?" (Paused)":"",r=fe(),n=Dxe(this.app),o=r.qaInclusions?`Inclusions: ${r.qaInclusions}`:"Inclusions: None",i=n.length>0||r.qaExclusions?`Exclusions: ${n.join(", ")}${n.length?", ":""}${r.qaExclusions||"None"}`:"Exclusions: None";this.state.indexNoticeMessage.textContent=`Copilot is indexing your vault...
${this.state.indexedCount}/${this.state.totalFilesToIndex} files processed${e}
${i}
${o}`}}handleIndexingError(e,r,n,o){console.error(`Error indexing file ${r||"unknown"}:`,e),n.push(r||"unknown"),o||new nS.Notice(`Error indexing file ${r||"unknown"}. Check console for details.`)}isRateLimitError(e){return e?.message?.includes?.("rate limit")||!1}finalizeIndexing(e){if(this.state.currentIndexingNotice&&this.state.currentIndexingNotice.hide(),this.state.isIndexingCancelled){new nS.Notice("Indexing cancelled");return}e.length>0?new nS.Notice(`Indexing completed with ${e.length} errors. Check console for details.`):new nS.Notice("Indexing completed successfully!")}handleFatalError(e){console.error("Fatal error during indexing:",e),this.state.currentIndexingNotice&&this.state.currentIndexingNotice.hide(),new nS.Notice("Fatal error during indexing. Check console for details.")}async reindexFile(e){try{let r=await this.embeddingsManager.getEmbeddingsAPI();if(!r)return;if(await this.dbOps.removeDocs(e.path),await this.dbOps.checkAndHandleEmbeddingModelChange(r)){await this.indexVaultToVectorStore(!0);return}let o=await this.prepareAllChunks([e]);if(o.length===0)return;let i=await r.embedDocuments(o.map(a=>a.content));for(let a=0;a<o.length;a++){let s=o[a];await this.dbOps.upsert({...s.fileInfo,id:this.getDocHash(s.content),content:s.content,embedding:i[a],created_at:Date.now(),nchars:s.content.length})}this.dbOps.markUnsavedChanges(),fe().debug&&console.log(`Reindexed file: ${e.path}`)}catch(r){console.error(`Error reindexing file ${e.path}:`,r)}}async cancelIndexing(){console.log("Indexing cancelled by user"),this.state.isIndexingCancelled=!0,await new Promise(e=>setTimeout(e,100)),this.state.currentIndexingNotice&&this.state.currentIndexingNotice.hide()}};var Ji=class{constructor(){this.embeddingsManager=_o.getInstance(),this.dbOps=new Ud(app),this.indexOps=new HQ(app,this.dbOps,this.embeddingsManager),this.eventHandler=new UQ(app,this.indexOps,this.dbOps),this.initializationPromise=this.initialize(),this.setupSettingsSubscription()}static getInstance(){return Ji.instance||(Ji.instance=new Ji),Ji.instance}setupSettingsSubscription(){this.lastKnownSettings={...fe()};let e=async()=>{let r=fe(),n=this.lastKnownSettings;if(this.lastKnownSettings={...r},r.enableIndexSync!==n?.enableIndexSync){let o=await this.dbOps.getDbPath();this.dbOps.getCurrentDbPath()!==o&&await this.dbOps.initializeDB(await this.embeddingsManager.getEmbeddingsAPI())}};_l(()=>{this.initializationPromise=e()})}async initialize(){try{let e=3;for(;e>0;)try{await this.dbOps.initializeDB(await this.embeddingsManager.getEmbeddingsAPI());break}catch(r){if(r instanceof pr&&r.message.includes("Vault adapter not available")&&(e--,e>0)){await new Promise(n=>setTimeout(n,100));continue}new j3.Notice("Failed to initialize vector store. Please make sure you have a valid API key for your embedding model and restart the plugin."),console.error("Failed to initialize vector store:",r);break}}catch(e){console.error("Failed to initialize vector store:",e)}}async waitForInitialization(){await this.initializationPromise}async indexVaultToVectorStore(e){return await this.waitForInitialization(),j3.Platform.isMobile&&fe().disableIndexOnMobile?(new j3.Notice("Indexing is disabled on mobile devices"),0):this.indexOps.indexVaultToVectorStore(e)}async clearIndex(){await this.waitForInitialization(),await this.dbOps.clearIndex(await this.embeddingsManager.getEmbeddingsAPI())}async garbageCollectVectorStore(){return await this.waitForInitialization(),this.dbOps.garbageCollect()}async getIndexedFiles(){return await this.waitForInitialization(),this.dbOps.getIndexedFiles()}async isIndexEmpty(){return await this.waitForInitialization(),this.dbOps.isIndexEmpty()}async hasIndex(e){return await this.waitForInitialization(),this.dbOps.hasIndex(e)}onunload(){this.eventHandler.cleanup(),this.dbOps.onunload()}async getDbOps(){return await this.waitForInitialization(),this.dbOps}async getDb(){await this.waitForInitialization();let e=this.dbOps.getDb();if(!e)throw new Error("Database is not loaded. Please restart the plugin.");return e}async reindexFile(e){await this.waitForInitialization(),await this.indexOps.reindexFile(e)}};var Nxe="copilot-plus-flash",nkr=Nxe+"|"+"copilot-plus",Lxe="copilot-plus-small",Fxe=Lxe+"|"+"copilot-plus";function Ide(t){return t.split("|")[1]==="copilot-plus"}function VQ(){return La().isPlusUser}async function WQ(){return fe().plusLicenseKey?await wa.getInstance().validateLicenseKey():(kxe(),!1)}function Rvt(){let t=nkr,e=Fxe,r=fe().embeddingModelKey;H5(t),Lj("copilot_plus"),dE({defaultModelKey:t,embeddingModelKey:e,defaultChainType:"copilot_plus"}),r!==e&&Ji.getInstance().indexVaultToVectorStore()}function Bxe(t){return`https://www.obsidiancopilot.com?utm_source=obsidian&utm_medium=${t}`}function _N(t){window.open(Bxe(t),"_blank")}function Ivt(){Ft("isPlusUser",!0)}function kxe(){let t=fe().isPlusUser;Ft("isPlusUser",!1),t&&new yW(app).open()}var Dvt=require("obsidian"),wa=class{constructor(){this.pluginVersion="Unknown"}static getInstance(){return wa.instance||(wa.instance=new wa),wa.instance}checkLicenseKey(){if(!fe().plusLicenseKey)throw new Dvt.Notice("Copilot Plus license key not found. Please enter your license key in the settings."),new Error("License key not initialized")}setPluginVersion(e){this.pluginVersion=e}async makeRequest(e,r,n="POST",o=!1){this.checkLicenseKey();let i=new URL(`${CA}${e}`);n==="GET"&&Object.entries(r).forEach(([u,l])=>{i.searchParams.append(u,l)});let s=await(await Zu(i.toString(),{method:n,headers:{"Content-Type":"application/json",...!o&&{Authorization:`Bearer ${await oi(fe().plusLicenseKey)}`},"X-Client-Version":this.pluginVersion},...n==="POST"&&{body:JSON.stringify(r)}})).json();return fe().debug&&console.log(`==== ${e} request ====:`,s),s}async validateLicenseKey(){try{return Ln("settings value",fe().plusLicenseKey),await this.makeRequest("/license",{license_key:await oi(fe().plusLicenseKey)},"POST",!0),Ivt(),!0}catch(e){return bW(e).reason==="Invalid license key"?(Ln("validateLicenseKey: false"),kxe(),!1):void 0}}async broca(e){return await this.makeRequest("/broca",{message:e})}async rerank(e,r){return this.makeRequest("/rerank",{query:e,documents:r,model:"rerank-2"})}async url4llm(e){return this.makeRequest("/url4llm",{url:e})}async pdf4llm(e){let r=Buffer.from(e).toString("base64");return this.makeRequest("/pdf4llm",{pdf:r})}async webSearch(e){return this.makeRequest("/websearch",{query:e})}async youtube4llm(e){return this.makeRequest("/youtube4llm",{url:e})}};var Kxe={};Qd(Kxe,{APIConnectionError:()=>gC,APIConnectionTimeoutError:()=>b1,APIError:()=>Ua,APIUserAbortError:()=>Il,AnthropicError:()=>qr,AuthenticationError:()=>WB,BadRequestError:()=>VB,ConflictError:()=>KB,InternalServerError:()=>ZB,NotFoundError:()=>GB,PermissionDeniedError:()=>JB,RateLimitError:()=>XB,UnprocessableEntityError:()=>YB});var g1="0.27.3";var jvt=!1,y1,$xe,okr,ikr,akr,Nvt,skr,JQ,qxe,Lvt,Uxe,GQ,Fvt;function Bvt(t,e={auto:!1}){if(jvt)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${t.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(y1)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${t.kind}'\` after \`import '@anthropic-ai/sdk/shims/${y1}'\``);jvt=e.auto,y1=t.kind,$xe=t.fetch,okr=t.Request,ikr=t.Response,akr=t.Headers,Nvt=t.FormData,skr=t.Blob,JQ=t.File,qxe=t.ReadableStream,Lvt=t.getMultipartRequestOptions,Uxe=t.getDefaultAgent,GQ=t.fileFromPath,Fvt=t.isFsReadStream}var KQ=class{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}};function kvt({manuallyImported:t}={}){let e=t?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n",r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new KQ(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:a=>!1}}y1||Bvt(kvt(),{auto:!0});var zd=class{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(let a of lkr(e,r)){if(a.event==="completion")try{yield JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(a.event==="message_start"||a.event==="message_delta"||a.event==="message_stop"||a.event==="content_block_start"||a.event==="content_block_delta"||a.event==="content_block_stop")try{yield JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(a.event!=="ping"&&a.event==="error")throw Ua.generate(void 0,`SSE Error: ${a.data}`,a.data,Hxe(e.headers))}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||r.abort()}}return new zd(o,r)}static fromReadableStream(e,r){let n=!1;async function*o(){let a=new mC,s=$vt(e);for await(let u of s)for(let l of a.decode(u))yield l;for(let u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(let s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new zd(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();e.push(a),r.push(a)}return i.shift()}});return[new zd(()=>o(e),this.controller),new zd(()=>o(r),this.controller)]}toReadableStream(){let e=this,r,n=new TextEncoder;return new qxe({async start(){r=e[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:a}=await r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){await r.return?.()}})}};async function*lkr(t,e){if(!t.body)throw e.abort(),new qr("Attempted to iterate over a response with no body");let r=new zxe,n=new mC,o=$vt(t.body);for await(let i of ckr(o))for(let a of n.decode(i)){let s=r.decode(a);s&&(yield s)}for(let i of n.flush()){let a=r.decode(i);a&&(yield a)}}async function*ckr(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r,o=new Uint8Array(e.length+n.length);o.set(e),o.set(n,e.length),e=o;let i;for(;(i=dkr(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function dkr(t){for(let n=0;n<t.length-2;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var zxe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,o]=fkr(e,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}},mC=class{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let r=this.decodeText(e);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=mC.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(mC.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new qr(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new qr(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new qr("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}};mC.NEWLINE_CHARS=new Set([`
`,"\r"]);mC.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fkr(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}function $vt(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var pkr=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",hkr=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&N3(t),N3=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function";async function qvt(t,e,r){if(t=await t,hkr(t))return t;if(pkr(t)){let o=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");let i=N3(o)?[await o.arrayBuffer()]:[o];return new JQ(i,e,r)}let n=await mkr(t);if(e||(e=ykr(t)??"unknown_file"),!r?.type){let o=n[0]?.type;typeof o=="string"&&(r={...r,type:o})}return new JQ(n,e,r)}async function mkr(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(N3(t))e.push(await t.arrayBuffer());else if(bkr(t))for await(let r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${gkr(t)}`);return e}function gkr(t){return`[${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}function ykr(t){return Vxe(t.name)||Vxe(t.filename)||Vxe(t.path)?.split(/[\\/]/).pop()}var Vxe=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},bkr=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Wxe=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody";var vkr=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},wkr=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},YQ;async function Jvt(t){let{response:e}=t;if(t.options.stream)return zB("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):zd.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;let r=e.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let i=await e.json();return zB("response",e.status,e.url,e.headers,i),i}let o=await e.text();return zB("response",e.status,e.url,e.headers,o),o}var HB=class extends Promise{constructor(e,r=Jvt){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new HB(this.responsePromise,async r=>e(await this.parseResponse(r)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},XQ=class{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:o,fetch:i}){this.baseURL=e,this.maxRetries=Jxe("maxRetries",r),this.timeout=Jxe("timeout",n),this.httpAgent=o,this.fetch=i??$xe}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ckr(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return`stainless-node-retry-${Akr()}`}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async o=>{let i=o&&N3(o?.body)?new DataView(await o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return{method:e,path:r,...o,body:i}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){let{method:r,path:n,query:o,headers:i={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Wxe(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(a),u=this.buildURL(n,o);"timeout"in e&&Jxe("timeout",e.timeout);let l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Uxe(u),d=l+1e3;typeof c?.options?.timeout=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);let f=this.buildHeaders({options:e,headers:i,contentLength:s});return{req:{method:r,...a&&{body:a},headers:f,...c&&{agent:c},signal:e.signal??null},url:u,timeout:l}}buildHeaders({options:e,headers:r,contentLength:n}){let o={};n&&(o["content-length"]=n);let i=this.defaultHeaders(e);return Wvt(o,i),Wvt(o,r),Wxe(e.body)&&y1!=="node"&&delete o["content-type"],this.validateHeaders(o,r),o}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,o){return Ua.generate(e,r,n,o)}request(e,r=null){return new HB(this.makeRequest(e,r))}async makeRequest(e,r){let n=await e;r==null&&(r=n.maxRetries??this.maxRetries),await this.prepareOptions(n);let{req:o,url:i,timeout:a}=this.buildRequest(n);if(await this.prepareRequest(o,{url:i,options:n}),zB("request",i,n,o.headers),n.signal?.aborted)throw new Il;let s=new AbortController,u=await this.fetchWithTimeout(i,o,a,s).catch(ZQ);if(u instanceof Error){if(n.signal?.aborted)throw new Il;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new b1:new gC({cause:u})}let l=Hxe(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){let h=`retrying, ${r} attempts remaining`;return zB(`response (error; ${h})`,u.status,i,l),this.retryRequest(n,r,l)}let c=await u.text().catch(h=>ZQ(h).message),d=Okr(c),f=d?void 0:c;throw zB(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,i,l,f),this.makeStatusError(u.status,d,f,l)}return{response:u,options:n,controller:s}}requestAPIList(e,r){let n=this.makeRequest(r,null);return new Gxe(this,n,e)}buildURL(e,r){let n=Pkr(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return eee(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new qr(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,r,n,o){let{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());let s=setTimeout(()=>o.abort(),n);return this.getRequestClient().fetch.call(void 0,e,{signal:o.signal,...a}).finally(()=>{clearTimeout(s)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){let o,i=n?.["retry-after-ms"];if(i){let s=parseFloat(i);Number.isNaN(s)||(o=s)}let a=n?.["retry-after"];if(a&&!o){let s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){let s=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await Tkr(o),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){let i=r-e,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${g1}`}},Uvt=class{constructor(e,r,n,o){YQ.set(this,void 0),vkr(this,YQ,e,"f"),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new qr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){let n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(let[o,i]of n)e.url.searchParams.set(o,i);r.query=void 0,r.path=e.url.toString()}return await wkr(this,YQ,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(YQ=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},Gxe=class extends HB{constructor(e,r,n){super(r,async o=>new n(e,o.response,await Jvt(o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},Hxe=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){let n=r.toString();return e[n.toLowerCase()]||e[n]}});var Skr=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g1,"X-Stainless-OS":Hvt(Deno.build.os),"X-Stainless-Arch":zvt(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g1,"X-Stainless-OS":Hvt(process.platform),"X-Stainless-Arch":zvt(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let t=xkr();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":g1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function xkr(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:e,version:`${o}.${i}.${a}`}}}return null}var zvt=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Hvt=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Vvt,Ckr=()=>Vvt??(Vvt=Skr()),Okr=t=>{try{return JSON.parse(t)}catch{return}},Ekr=new RegExp("^(?:[a-z]+:)?//","i"),Pkr=t=>Ekr.test(t),Tkr=t=>new Promise(e=>setTimeout(e,t)),Jxe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new qr(`${t} must be an integer`);if(e<0)throw new qr(`${t} must be a positive integer`);return e},ZQ=t=>t instanceof Error?t:new Error(t);var QQ=t=>{if(typeof process<"u")return process.env?.[t]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(t)?.trim()};function eee(t){if(!t)return!0;for(let e in t)return!1;return!0}function Mkr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wvt(t,e){for(let r in e){if(!Mkr(e,r))continue;let n=r.toLowerCase();if(!n)continue;let o=e[r];o===null?delete t[n]:o!==void 0&&(t[n]=o)}}function zB(t,...e){typeof process<"u"&&process?.env?.DEBUG==="true"&&console.log(`Anthropic:DEBUG:${t}`,...e)}var Akr=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Gvt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";var qr=class extends Error{},Ua=class extends qr{constructor(e,r,n,o){super(`${Ua.makeMessage(e,r,n)}`),this.status=e,this.headers=o,this.request_id=o?.["request-id"],this.error=r}static makeMessage(e,r,n){let o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,r,n,o){if(!e)return new gC({message:n,cause:ZQ(r)});let i=r;return e===400?new VB(e,i,n,o):e===401?new WB(e,i,n,o):e===403?new JB(e,i,n,o):e===404?new GB(e,i,n,o):e===409?new KB(e,i,n,o):e===422?new YB(e,i,n,o):e===429?new XB(e,i,n,o):e>=500?new ZB(e,i,n,o):new Ua(e,i,n,o)}},Il=class extends Ua{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},gC=class extends Ua{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,r&&(this.cause=r)}},b1=class extends gC{constructor({message:e}={}){super({message:e??"Request timed out."})}},VB=class extends Ua{constructor(){super(...arguments),this.status=400}},WB=class extends Ua{constructor(){super(...arguments),this.status=401}},JB=class extends Ua{constructor(){super(...arguments),this.status=403}},GB=class extends Ua{constructor(){super(...arguments),this.status=404}},KB=class extends Ua{constructor(){super(...arguments),this.status=409}},YB=class extends Ua{constructor(){super(...arguments),this.status=422}},XB=class extends Ua{constructor(){super(...arguments),this.status=429}},ZB=class extends Ua{};var Wh=class{constructor(e){this._client=e}};var Ikr=t=>{let e=0,r=[];for(;e<t.length;){let n=t[e];if(n==="\\"){e++;continue}if(n==="{"){r.push({type:"brace",value:"{"}),e++;continue}if(n==="}"){r.push({type:"brace",value:"}"}),e++;continue}if(n==="["){r.push({type:"paren",value:"["}),e++;continue}if(n==="]"){r.push({type:"paren",value:"]"}),e++;continue}if(n===":"){r.push({type:"separator",value:":"}),e++;continue}if(n===","){r.push({type:"delimiter",value:","}),e++;continue}if(n==='"'){let s="",u=!1;for(n=t[++e];n!=='"';){if(e===t.length){u=!0;break}if(n==="\\"){if(e++,e===t.length){u=!0;break}s+=n+t[e],n=t[++e]}else s+=n,n=t[++e]}n=t[++e],u||r.push({type:"string",value:s});continue}if(n&&/\s/.test(n)){e++;continue}let i=/[0-9]/;if(n&&i.test(n)||n==="-"||n==="."){let s="";for(n==="-"&&(s+=n,n=t[++e]);n&&i.test(n)||n===".";)s+=n,n=t[++e];r.push({type:"number",value:s});continue}let a=/[a-z]/i;if(n&&a.test(n)){let s="";for(;n&&a.test(n)&&e!==t.length;)s+=n,n=t[++e];if(s=="true"||s=="false"||s==="null")r.push({type:"name",value:s});else{e++;continue}continue}e++}return r},QB=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),QB(t);break;case"number":let r=e.value[e.value.length-1];if(r==="."||r==="-")return t=t.slice(0,t.length-1),QB(t);case"string":let n=t[t.length-2];if(n?.type==="delimiter")return t=t.slice(0,t.length-1),QB(t);if(n?.type==="brace"&&n.value==="{")return t=t.slice(0,t.length-1),QB(t);break;case"delimiter":return t=t.slice(0,t.length-1),QB(t);break}return t},Dkr=t=>{let e=[];return t.map(r=>{r.type==="brace"&&(r.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(r=>{r==="}"?t.push({type:"brace",value:"}"}):r==="]"&&t.push({type:"paren",value:"]"})}),t},jkr=t=>{let e="";return t.map(r=>{switch(r.type){case"string":e+='"'+r.value+'"';break;default:e+=r.value;break}}),e},tee=t=>JSON.parse(jkr(Dkr(QB(Ikr(t)))));var Ff=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},an=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Jh,uT,ree,nee,L3,F3,oee,B3,yC,k3,iee,aee,ek,Yxe,Kvt,Xxe,Zxe,Qxe,eCe,Yvt,Xvt="__json_buf",_1=class{constructor(){Jh.add(this),this.messages=[],this.receivedMessages=[],uT.set(this,void 0),this.controller=new AbortController,ree.set(this,void 0),nee.set(this,()=>{}),L3.set(this,()=>{}),F3.set(this,void 0),oee.set(this,()=>{}),B3.set(this,()=>{}),yC.set(this,{}),k3.set(this,!1),iee.set(this,!1),aee.set(this,!1),ek.set(this,!1),Xxe.set(this,e=>{if(Ff(this,iee,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Il),e instanceof Il)return Ff(this,aee,!0,"f"),this._emit("abort",e);if(e instanceof qr)return this._emit("error",e);if(e instanceof Error){let r=new qr(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new qr(String(e)))}),Ff(this,ree,new Promise((e,r)=>{Ff(this,nee,e,"f"),Ff(this,L3,r,"f")}),"f"),Ff(this,F3,new Promise((e,r)=>{Ff(this,oee,e,"f"),Ff(this,B3,r,"f")}),"f"),an(this,ree,"f").catch(()=>{}),an(this,F3,"f").catch(()=>{})}static fromReadableStream(e){let r=new _1;return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n){let o=new _1;for(let i of r.messages)o._addPromptCachingBetaMessageParam(i);return o._run(()=>o._createPromptCachingBetaMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},an(this,Xxe,"f"))}_addPromptCachingBetaMessageParam(e){this.messages.push(e)}_addPromptCachingBetaMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createPromptCachingBetaMessage(e,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),an(this,Jh,"m",Zxe).call(this);let i=await e.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of i)an(this,Jh,"m",Qxe).call(this,a);if(i.controller.signal?.aborted)throw new Il;an(this,Jh,"m",eCe).call(this)}_connected(){this.ended||(an(this,nee,"f").call(this),this._emit("connect"))}get ended(){return an(this,k3,"f")}get errored(){return an(this,iee,"f")}get aborted(){return an(this,aee,"f")}abort(){this.controller.abort()}on(e,r){return(an(this,yC,"f")[e]||(an(this,yC,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=an(this,yC,"f")[e];if(!n)return this;let o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(e,r){return(an(this,yC,"f")[e]||(an(this,yC,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Ff(this,ek,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Ff(this,ek,!0,"f"),await an(this,F3,"f")}get currentMessage(){return an(this,uT,"f")}async finalMessage(){return await this.done(),an(this,Jh,"m",Yxe).call(this)}async finalText(){return await this.done(),an(this,Jh,"m",Kvt).call(this)}_emit(e,...r){if(an(this,k3,"f"))return;e==="end"&&(Ff(this,k3,!0,"f"),an(this,oee,"f").call(this));let n=an(this,yC,"f")[e];if(n&&(an(this,yC,"f")[e]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),e==="abort"){let o=r[0];!an(this,ek,"f")&&!n?.length&&Promise.reject(o),an(this,L3,"f").call(this,o),an(this,B3,"f").call(this,o),this._emit("end");return}if(e==="error"){let o=r[0];!an(this,ek,"f")&&!n?.length&&Promise.reject(o),an(this,L3,"f").call(this,o),an(this,B3,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalPromptCachingBetaMessage",an(this,Jh,"m",Yxe).call(this))}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),an(this,Jh,"m",Zxe).call(this),this._connected();let o=zd.fromReadableStream(e,this.controller);for await(let i of o)an(this,Jh,"m",Qxe).call(this,i);if(o.controller.signal?.aborted)throw new Il;an(this,Jh,"m",eCe).call(this)}[(uT=new WeakMap,ree=new WeakMap,nee=new WeakMap,L3=new WeakMap,F3=new WeakMap,oee=new WeakMap,B3=new WeakMap,yC=new WeakMap,k3=new WeakMap,iee=new WeakMap,aee=new WeakMap,ek=new WeakMap,Xxe=new WeakMap,Jh=new WeakSet,Yxe=function(){if(this.receivedMessages.length===0)throw new qr("stream ended without producing a PromptCachingBetaMessage with role=assistant");return this.receivedMessages.at(-1)},Kvt=function(){if(this.receivedMessages.length===0)throw new qr("stream ended without producing a PromptCachingBetaMessage with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new qr("stream ended without producing a content block with type=text");return r.join(" ")},Zxe=function(){this.ended||Ff(this,uT,void 0,"f")},Qxe=function(r){if(this.ended)return;let n=an(this,Jh,"m",Yvt).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let o=n.content.at(-1);r.delta.type==="text_delta"&&o.type==="text"?this._emit("text",r.delta.text,o.text||""):r.delta.type==="input_json_delta"&&o.type==="tool_use"&&o.input&&this._emit("inputJson",r.delta.partial_json,o.input);break}case"message_stop":{this._addPromptCachingBetaMessageParam(n),this._addPromptCachingBetaMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{Ff(this,uT,n,"f");break}case"content_block_start":case"message_delta":break}},eCe=function(){if(this.ended)throw new qr("stream has ended, this shouldn't happen");let r=an(this,uT,"f");if(!r)throw new qr("request ended without sending any chunks");return Ff(this,uT,void 0,"f"),r},Yvt=function(r){let n=an(this,uT,"f");if(r.type==="message_start"){if(n)throw new qr(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new qr(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let o=n.content.at(r.index);if(o?.type==="text"&&r.delta.type==="text_delta")o.text+=r.delta.text;else if(o?.type==="tool_use"&&r.delta.type==="input_json_delta"){let i=o[Xvt]||"";i+=r.delta.partial_json,Object.defineProperty(o,Xvt,{value:i,enumerable:!1,writable:!0}),i&&(o.input=tee(i))}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",o=>{let i=r.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new zd(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var v1=class extends Wh{create(e,r){return this._client.post("/v1/messages?beta=prompt_caching",{body:e,timeout:this._client._options.timeout??6e5,...r,headers:{"anthropic-beta":"prompt-caching-2024-07-31",...r?.headers},stream:e.stream??!1})}stream(e,r){return _1.createMessage(this,e,r)}};(function(t){})(v1||(v1={}));var w1=class extends Wh{constructor(){super(...arguments),this.messages=new v1(this._client)}};(function(t){t.Messages=v1})(w1||(w1={}));var lT=class extends Wh{constructor(){super(...arguments),this.promptCaching=new w1(this._client)}};(function(t){t.PromptCaching=w1})(lT||(lT={}));var cT=class extends Wh{create(e,r){return this._client.post("/v1/complete",{body:e,timeout:this._client._options.timeout??6e5,...r,stream:e.stream??!1})}};(function(t){})(cT||(cT={}));var Bf=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},sn=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Gh,dT,see,uee,$3,q3,lee,U3,bC,z3,cee,dee,tk,tCe,Zvt,rCe,nCe,oCe,iCe,Qvt,e0t="__json_buf",S1=class{constructor(){Gh.add(this),this.messages=[],this.receivedMessages=[],dT.set(this,void 0),this.controller=new AbortController,see.set(this,void 0),uee.set(this,()=>{}),$3.set(this,()=>{}),q3.set(this,void 0),lee.set(this,()=>{}),U3.set(this,()=>{}),bC.set(this,{}),z3.set(this,!1),cee.set(this,!1),dee.set(this,!1),tk.set(this,!1),rCe.set(this,e=>{if(Bf(this,cee,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Il),e instanceof Il)return Bf(this,dee,!0,"f"),this._emit("abort",e);if(e instanceof qr)return this._emit("error",e);if(e instanceof Error){let r=new qr(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new qr(String(e)))}),Bf(this,see,new Promise((e,r)=>{Bf(this,uee,e,"f"),Bf(this,$3,r,"f")}),"f"),Bf(this,q3,new Promise((e,r)=>{Bf(this,lee,e,"f"),Bf(this,U3,r,"f")}),"f"),sn(this,see,"f").catch(()=>{}),sn(this,q3,"f").catch(()=>{})}static fromReadableStream(e){let r=new S1;return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n){let o=new S1;for(let i of r.messages)o._addMessageParam(i);return o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},sn(this,rCe,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),sn(this,Gh,"m",nCe).call(this);let i=await e.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of i)sn(this,Gh,"m",oCe).call(this,a);if(i.controller.signal?.aborted)throw new Il;sn(this,Gh,"m",iCe).call(this)}_connected(){this.ended||(sn(this,uee,"f").call(this),this._emit("connect"))}get ended(){return sn(this,z3,"f")}get errored(){return sn(this,cee,"f")}get aborted(){return sn(this,dee,"f")}abort(){this.controller.abort()}on(e,r){return(sn(this,bC,"f")[e]||(sn(this,bC,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=sn(this,bC,"f")[e];if(!n)return this;let o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(e,r){return(sn(this,bC,"f")[e]||(sn(this,bC,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Bf(this,tk,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Bf(this,tk,!0,"f"),await sn(this,q3,"f")}get currentMessage(){return sn(this,dT,"f")}async finalMessage(){return await this.done(),sn(this,Gh,"m",tCe).call(this)}async finalText(){return await this.done(),sn(this,Gh,"m",Zvt).call(this)}_emit(e,...r){if(sn(this,z3,"f"))return;e==="end"&&(Bf(this,z3,!0,"f"),sn(this,lee,"f").call(this));let n=sn(this,bC,"f")[e];if(n&&(sn(this,bC,"f")[e]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),e==="abort"){let o=r[0];!sn(this,tk,"f")&&!n?.length&&Promise.reject(o),sn(this,$3,"f").call(this,o),sn(this,U3,"f").call(this,o),this._emit("end");return}if(e==="error"){let o=r[0];!sn(this,tk,"f")&&!n?.length&&Promise.reject(o),sn(this,$3,"f").call(this,o),sn(this,U3,"f").call(this,o),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",sn(this,Gh,"m",tCe).call(this))}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),sn(this,Gh,"m",nCe).call(this),this._connected();let o=zd.fromReadableStream(e,this.controller);for await(let i of o)sn(this,Gh,"m",oCe).call(this,i);if(o.controller.signal?.aborted)throw new Il;sn(this,Gh,"m",iCe).call(this)}[(dT=new WeakMap,see=new WeakMap,uee=new WeakMap,$3=new WeakMap,q3=new WeakMap,lee=new WeakMap,U3=new WeakMap,bC=new WeakMap,z3=new WeakMap,cee=new WeakMap,dee=new WeakMap,tk=new WeakMap,rCe=new WeakMap,Gh=new WeakSet,tCe=function(){if(this.receivedMessages.length===0)throw new qr("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Zvt=function(){if(this.receivedMessages.length===0)throw new qr("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new qr("stream ended without producing a content block with type=text");return r.join(" ")},nCe=function(){this.ended||Bf(this,dT,void 0,"f")},oCe=function(r){if(this.ended)return;let n=sn(this,Gh,"m",Qvt).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let o=n.content.at(-1);r.delta.type==="text_delta"&&o.type==="text"?this._emit("text",r.delta.text,o.text||""):r.delta.type==="input_json_delta"&&o.type==="tool_use"&&o.input&&this._emit("inputJson",r.delta.partial_json,o.input);break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{Bf(this,dT,n,"f");break}case"content_block_start":case"message_delta":break}},iCe=function(){if(this.ended)throw new qr("stream has ended, this shouldn't happen");let r=sn(this,dT,"f");if(!r)throw new qr("request ended without sending any chunks");return Bf(this,dT,void 0,"f"),r},Qvt=function(r){let n=sn(this,dT,"f");if(r.type==="message_start"){if(n)throw new qr(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new qr(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let o=n.content.at(r.index);if(o?.type==="text"&&r.delta.type==="text_delta")o.text+=r.delta.text;else if(o?.type==="tool_use"&&r.delta.type==="input_json_delta"){let i=o[e0t]||"";i+=r.delta.partial_json,Object.defineProperty(o,e0t,{value:i,enumerable:!1,writable:!0}),i&&(o.input=tee(i))}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",o=>{let i=r.shift();i?i.resolve(o):e.push(o)}),this.on("end",()=>{n=!0;for(let o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(let i of r)i.reject(o);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new zd(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var fT=class extends Wh{create(e,r){return e.model in t0t&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${t0t[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:e,timeout:this._client._options.timeout??6e5,...r,stream:e.stream??!1})}stream(e,r){return S1.createMessage(this,e,r)}},t0t={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024"};(function(t){})(fT||(fT={}));var r0t,Qo=class extends XQ{constructor({baseURL:e=QQ("ANTHROPIC_BASE_URL"),apiKey:r=QQ("ANTHROPIC_API_KEY")??null,authToken:n=QQ("ANTHROPIC_AUTH_TOKEN")??null,...o}={}){let i={apiKey:r,authToken:n,...o,baseURL:e||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&Gvt())throw new qr(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });

TODO: link!
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new cT(this),this.messages=new fT(this),this.beta=new lT(this),this._options=i,this.apiKey=r,this.authToken=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(e,r){if(!(this.apiKey&&e["x-api-key"])&&r["x-api-key"]!==null&&!(this.authToken&&e.authorization)&&r.authorization!==null)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(e){let r=this.apiKeyAuth(e),n=this.bearerAuth(e);return r!=null&&!eee(r)?r:n!=null&&!eee(n)?n:{}}apiKeyAuth(e){return this.apiKey==null?{}:{"X-Api-Key":this.apiKey}}bearerAuth(e){return this.authToken==null?{}:{Authorization:`Bearer ${this.authToken}`}}};r0t=Qo;Qo.Anthropic=r0t;Qo.HUMAN_PROMPT=`

Human:`;Qo.AI_PROMPT=`

Assistant:`;Qo.DEFAULT_TIMEOUT=6e5;Qo.AnthropicError=qr;Qo.APIError=Ua;Qo.APIConnectionError=gC;Qo.APIConnectionTimeoutError=b1;Qo.APIUserAbortError=Il;Qo.NotFoundError=GB;Qo.ConflictError=KB;Qo.RateLimitError=XB;Qo.BadRequestError=VB;Qo.AuthenticationError=WB;Qo.InternalServerError=ZB;Qo.PermissionDeniedError=JB;Qo.UnprocessableEntityError=YB;Qo.toFile=qvt;Qo.fileFromPath=GQ;var{HUMAN_PROMPT:xxo,AI_PROMPT:Cxo}=Qo,{AnthropicError:Oxo,APIError:Exo,APIConnectionError:Pxo,APIConnectionTimeoutError:Txo,APIUserAbortError:Mxo,NotFoundError:Axo,ConflictError:Rxo,RateLimitError:Ixo,BadRequestError:Dxo,AuthenticationError:jxo,InternalServerError:Nxo,PermissionDeniedError:Lxo,UnprocessableEntityError:Fxo}=Kxe;(function(t){t.Completions=cT,t.Messages=fT,t.Beta=lT})(Qo||(Qo={}));Uh();nC();ch();rx();eE();var H3=class extends bA{static lc_name(){return"AnthropicToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","anthropic","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){let r=e;if(typeof e=="string")try{r=JSON.parse(e)}catch(o){throw new up(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(o.message)}`,e)}else r=e;if(this.zodSchema===void 0)return r;let n=await this.zodSchema.safeParseAsync(r);if(n.success)return n.data;throw new up(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(r,null,2))}async parseResult(e){let r=e.flatMap(i=>{let{message:a}=i;return Array.isArray(a.content)?aCe(a.content)[0]:[]});if(r[0]===void 0)throw new Error("No parseable tool calls provided to AnthropicToolsOutputParser.");let[n]=r;return await this._validateResult(n.args)}};function aCe(t){let e=[];for(let r of t)r.type==="tool_use"&&e.push({name:r.name,args:r.input,id:r.id,type:"tool_call"});return e}function n0t(t){if(t)return t==="any"?{type:"any"}:t==="auto"?{type:"auto"}:typeof t=="string"?{type:"tool",name:t}:t}function o0t(t){let e,r=Array.isArray(t.content)?t.content.find(o=>o.type==="tool_use"):void 0;r&&"index"in r&&"name"in r&&"id"in r&&(e={args:"",id:r.id,name:r.name,index:r.index,type:"tool_call_chunk"});let n=Array.isArray(t.content)?t.content.find(o=>o.type==="input_json_delta"):void 0;return n&&"index"in n&&"input"in n&&(typeof n.input=="string"?e={id:n.id,name:n.name,args:n.input,index:n.index,type:"tool_call_chunk"}:e={id:n.id,name:n.name,args:JSON.stringify(n.input,null,2),index:n.index,type:"tool_call_chunk"}),e}function i0t(t){let e=/^data:(image\/.+);base64,(.+)$/,r=t.match(e);if(r===null)throw new Error(["Anthropic only supports base64-encoded images currently.","Example: data:image/png;base64,/9j/4AAQSk..."].join(`

`));return{type:"base64",media_type:r[1]??"",data:r[2]??""}}function Bkr(t){let e=[];for(let r of t)if(r._getType()==="tool")if(typeof r.content=="string"){let n=e[e.length-1];n?._getType()==="human"&&Array.isArray(n.content)&&"type"in n.content[0]&&n.content[0].type==="tool_result"?n.content.push({type:"tool_result",content:r.content,tool_use_id:r.tool_call_id}):e.push(new Xa({content:[{type:"tool_result",content:r.content,tool_use_id:r.tool_call_id}]}))}else e.push(new Xa({content:r.content}));else{let n=e[e.length-1];if(n?._getType()==="human"&&r._getType()==="human"){let o;typeof n.content=="string"?o=[{type:"text",text:n.content}]:o=n.content,typeof r.content=="string"?o.push({type:"text",text:r.content}):o=o.concat(r.content),n.content=o}else e.push(r)}return e}function a0t(t){if(t.id===void 0)throw new Error('Anthropic requires all tool calls to have an "id".');return{type:"tool_use",id:t.id,name:t.name,input:t.args}}function s0t(t){let e=["tool_use","tool_result","input_json_delta"],r=["text","text_delta"];return typeof t=="string"?t:t.map(o=>{let i="cache_control"in o?o.cache_control:void 0;if(o.type==="image_url"){let a;return typeof o.image_url=="string"?a=i0t(o.image_url):a=i0t(o.image_url.url),{type:"image",source:a,...i?{cache_control:i}:{}}}else{if(r.find(a=>a===o.type)&&"text"in o)return{type:"text",text:o.text,...i?{cache_control:i}:{}};if(e.find(a=>a===o.type)){let a={...o};if("index"in a&&delete a.index,a.type==="input_json_delta"&&(a.type="tool_use"),"input"in a)try{a.input=JSON.parse(a.input)}catch{}return{...a,...i?{cache_control:i}:{}}}else throw new Error("Unsupported message content format")}})}function fee(t){let e=Bkr(t),r;return e.length>0&&e[0]._getType()==="system"&&(r=t[0].content),{messages:(r!==void 0?e.slice(1):e).map(i=>{let a;if(i._getType()==="human")a="user";else if(i._getType()==="ai")a="assistant";else if(i._getType()==="tool")a="user";else throw i._getType()==="system"?new Error("System messages are only permitted as the first passed message."):new Error(`Message type "${i._getType()}" is not supported.`);if(Ju(i)&&i.tool_calls?.length){if(typeof i.content=="string")return i.content===""?{role:a,content:i.tool_calls.map(a0t)}:{role:a,content:[{type:"text",text:i.content},...i.tool_calls.map(a0t)]};{let{content:s}=i;return!i.tool_calls.every(l=>s.find(c=>(c.type==="tool_use"||c.type==="input_json_delta")&&c.id===l.id))&&console.warn('The "tool_calls" field on a message is only respected if content is a string.'),{role:a,content:s0t(i.content)}}}else return{role:a,content:s0t(i.content)}}),system:r}}function u0t(t,e){if(t.type==="message_start"){let{content:r,usage:n,...o}=t.message,i={};for(let[s,u]of Object.entries(o))u!=null&&(i[s]=u);let a={input_tokens:n.input_tokens,output_tokens:n.output_tokens,total_tokens:n.input_tokens+n.output_tokens};return{chunk:new Ar({content:e.coerceContentToString?"":[],additional_kwargs:i,usage_metadata:e.streamUsage?a:void 0,id:t.message.id})}}else if(t.type==="message_delta"){let r={input_tokens:0,output_tokens:t.usage.output_tokens,total_tokens:t.usage.output_tokens};return{chunk:new Ar({content:e.coerceContentToString?"":[],additional_kwargs:{...t.delta},usage_metadata:e.streamUsage?r:void 0})}}else{if(t.type==="content_block_start"&&t.content_block.type==="tool_use")return{chunk:new Ar({content:e.coerceContentToString?"":[{index:t.index,...t.content_block,input:""}],additional_kwargs:{}})};if(t.type==="content_block_delta"&&t.delta.type==="text_delta"){let r=t.delta?.text;if(r!==void 0)return{chunk:new Ar({content:e.coerceContentToString?r:[{index:t.index,...t.delta}],additional_kwargs:{}})}}else{if(t.type==="content_block_delta"&&t.delta.type==="input_json_delta")return{chunk:new Ar({content:e.coerceContentToString?"":[{index:t.index,input:t.delta.partial_json,type:t.delta.type}],additional_kwargs:{}})};if(t.type==="content_block_start"&&t.content_block.type==="text"){let r=t.content_block?.text;if(r!==void 0)return{chunk:new Ar({content:e.coerceContentToString?r:[{index:t.index,...t.content_block}],additional_kwargs:{}})}}}}return null}function l0t(t,e){let r=e.usage,n=r!=null?{input_tokens:r.input_tokens??0,output_tokens:r.output_tokens??0,total_tokens:(r.input_tokens??0)+(r.output_tokens??0)}:void 0;if(t.length===1&&t[0].type==="text")return[{text:t[0].text,message:new Po({content:t[0].text,additional_kwargs:e,usage_metadata:n,response_metadata:e,id:e.id})}];{let o=aCe(t);return[{text:"",message:new Po({content:t,additional_kwargs:e,tool_calls:o,usage_metadata:n,response_metadata:e,id:e.id})}]}}function kkr(t){return!!(t.tools&&t.tools.length>0)}function $kr(t){return"input_schema"in t}function qkr(t){if(typeof t.content=="string")return t.content;if(Array.isArray(t.content)&&t.content.length>=1&&"input"in t.content[0])return typeof t.content[0].input=="string"?t.content[0].input:JSON.stringify(t.content[0].input);if(Array.isArray(t.content)&&t.content.length>=1&&"text"in t.content[0])return t.content[0].text}var sCe=class extends ya{static lc_name(){return"ChatAnthropic"}get lc_secrets(){return{anthropicApiKey:"ANTHROPIC_API_KEY",apiKey:"ANTHROPIC_API_KEY"}}get lc_aliases(){return{modelName:"model"}}constructor(e){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"anthropicApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:2048}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"invocationKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamingClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"createClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.anthropicApiKey=e?.apiKey??e?.anthropicApiKey??Kt("ANTHROPIC_API_KEY"),!this.anthropicApiKey&&!e?.createClient)throw new Error("Anthropic API key not found");this.clientOptions=e?.clientOptions??{},this.apiKey=this.anthropicApiKey,this.apiUrl=e?.anthropicApiUrl,this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.invocationKwargs=e?.invocationKwargs??{},this.temperature=e?.temperature??this.temperature,this.topK=e?.topK??this.topK,this.topP=e?.topP??this.topP,this.maxTokens=e?.maxTokensToSample??e?.maxTokens??this.maxTokens,this.stopSequences=e?.stopSequences??this.stopSequences,this.streaming=e?.streaming??!1,this.streamUsage=e?.streamUsage??this.streamUsage,this.createClient=e?.createClient??(r=>new Qo(r))}getLsParams(e){let r=this.invocationParams(e);return{ls_provider:"anthropic",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??void 0,ls_max_tokens:r.max_tokens??void 0,ls_stop:e.stop}}formatStructuredToolToAnthropic(e){if(!(!e||!e.length))return e.map(r=>{if($kr(r))return r;if(Uw(r))return{name:r.function.name,description:r.function.description,input_schema:r.function.parameters};if(Pg(r))return{name:r.name,description:r.description,input_schema:Fi(r.schema)};throw new Error(`Unknown tool type passed to ChatAnthropic: ${JSON.stringify(r,null,2)}`)})}bindTools(e,r){return this.bind({tools:this.formatStructuredToolToAnthropic(e),...r})}invocationParams(e){let r=n0t(e?.tool_choice);return{model:this.model,temperature:this.temperature,top_k:this.topK,top_p:this.topP,stop_sequences:e?.stop??this.stopSequences,stream:this.streaming,max_tokens:this.maxTokens,tools:this.formatStructuredToolToAnthropic(e?.tools),tool_choice:r,...this.invocationKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams()}}identifyingParams(){return{model_name:this.model,...this.invocationParams()}}async*_streamResponseChunks(e,r,n){let o=this.invocationParams(r),i=fee(e),a=!kkr({...o,...i,stream:!1}),s=await this.createStreamWithRetry({...o,...i,stream:!0},{headers:r.headers});for await(let u of s){if(r.signal?.aborted)throw s.controller.abort(),new Error("AbortError: User aborted the request.");let l=this.streamUsage??r.streamUsage,c=u0t(u,{streamUsage:l,coerceContentToString:a});if(!c)continue;let{chunk:d}=c,f=o0t(d),p=qkr(d);yield new qo({message:new Ar({content:d.content,additional_kwargs:d.additional_kwargs,tool_call_chunks:f?[f]:void 0,usage_metadata:l?d.usage_metadata:void 0,response_metadata:d.response_metadata,id:d.id}),text:p??""}),p&&await n?.handleLLMNewToken(p)}}async _generateNonStreaming(e,r,n){let o=await this.completionWithRetry({...r,stream:!1,...fee(e)},n),{content:i,...a}=o,s=l0t(i,a),{role:u,type:l,...c}=a;return{generations:s,llmOutput:c}}async _generate(e,r,n){if(this.stopSequences&&r.stop)throw new Error('"stopSequence" parameter found in input and default params');let o=this.invocationParams(r);if(o.stream){let i,a=this._streamResponseChunks(e,r,n);for await(let s of a)i===void 0?i=s:i=i.concat(s);if(i===void 0)throw new Error("No chunks returned from Anthropic API.");return{generations:[{text:i.text,message:i.message}]}}else return this._generateNonStreaming(e,o,{signal:r.signal,headers:r.headers})}async createStreamWithRetry(e,r){if(!this.streamingClient){let o=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.streamingClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...o,apiKey:this.apiKey,maxRetries:0})}let n=async()=>this.streamingClient.messages.create({...e,...this.invocationKwargs,stream:!0},r);return this.caller.call(n)}async completionWithRetry(e,r){if(!this.batchClient){let o=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.batchClient=this.createClient({dangerouslyAllowBrowser:!0,...this.clientOptions,...o,apiKey:this.apiKey,maxRetries:0})}let n=async()=>this.batchClient.messages.create({...e,...this.invocationKwargs},r);return this.caller.callWithOptions({signal:r.signal??void 0},n)}_llmType(){return"anthropic"}withStructuredOutput(e,r){let n=e,o=r?.name,i=r?.method,a=r?.includeRaw;if(i==="jsonMode")throw new Error('Anthropic only supports "functionCalling" as a method.');let s=o??"extract",u,l;if(Nf(n)){let m=Fi(n);l=[{name:s,description:m.description??"A function available to call.",input_schema:m}],u=new H3({returnSingle:!0,keyName:s,zodSchema:n})}else{let m;typeof n.name=="string"&&typeof n.description=="string"&&typeof n.input_schema=="object"&&n.input_schema!=null?(m=n,s=n.name):m={name:s,description:n.description??"",input_schema:n},l=[m],u=new H3({returnSingle:!0,keyName:s})}let c=this.bind({tools:l,tool_choice:{type:"tool",name:s}});if(!a)return c.pipe(u).withConfig({runName:"ChatAnthropicStructuredOutput"});let d=Bi.assign({parsed:(m,h)=>u.invoke(m.raw,h)}),f=Bi.assign({parsed:()=>null}),p=d.withFallbacks({fallbacks:[f]});return ni.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}},pee=class extends sCe{};ch();Uh();var x1="0.5.0";var c0t=!1,C1,uCe,Ukr,zkr,Hkr,lCe,Vkr,hee,cCe,dCe,fCe,mee,pCe;function d0t(t,e={auto:!1}){if(c0t)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(C1)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${C1}'\``);c0t=e.auto,C1=t.kind,uCe=t.fetch,Ukr=t.Request,zkr=t.Response,Hkr=t.Headers,lCe=t.FormData,Vkr=t.Blob,hee=t.File,cCe=t.ReadableStream,dCe=t.getMultipartRequestOptions,fCe=t.getDefaultAgent,mee=t.fileFromPath,pCe=t.isFsReadStream}var gee=class{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}};function f0t({manuallyImported:t}={}){let e=t?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n",r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new gee(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:a=>!1}}C1||d0t(f0t(),{auto:!0});var hCe={};Qd(hCe,{APIConnectionError:()=>_C,APIConnectionTimeoutError:()=>O1,APIError:()=>za,APIUserAbortError:()=>pT,AuthenticationError:()=>nk,BadRequestError:()=>rk,ConflictError:()=>ak,GroqError:()=>Dl,InternalServerError:()=>lk,NotFoundError:()=>ik,PermissionDeniedError:()=>ok,RateLimitError:()=>uk,UnprocessableEntityError:()=>sk});var Dl=class extends Error{},za=class extends Dl{constructor(e,r,n,o){super(`${za.makeMessage(e,r,n)}`),this.status=e,this.headers=o,this.error=r}static makeMessage(e,r,n){let o=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,r,n,o){if(!e)return new _C({cause:yee(r)});let i=r;return e===400?new rk(e,i,n,o):e===401?new nk(e,i,n,o):e===403?new ok(e,i,n,o):e===404?new ik(e,i,n,o):e===409?new ak(e,i,n,o):e===422?new sk(e,i,n,o):e===429?new uk(e,i,n,o):e>=500?new lk(e,i,n,o):new za(e,i,n,o)}},pT=class extends za{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},_C=class extends za{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,r&&(this.cause=r)}},O1=class extends _C{constructor({message:e}={}){super({message:e??"Request timed out."})}},rk=class extends za{constructor(){super(...arguments),this.status=400}},nk=class extends za{constructor(){super(...arguments),this.status=401}},ok=class extends za{constructor(){super(...arguments),this.status=403}},ik=class extends za{constructor(){super(...arguments),this.status=404}},ak=class extends za{constructor(){super(...arguments),this.status=409}},sk=class extends za{constructor(){super(...arguments),this.status=422}},uk=class extends za{constructor(){super(...arguments),this.status=429}},lk=class extends za{};var vC=class{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1,o=new mCe;async function*i(){if(!e.body)throw r.abort(),new Dl("Attempted to iterate over a response with no body");let s=new wC,u=p0t(e.body);for await(let l of u)for(let c of s.decode(l)){let d=o.decode(c);d&&(yield d)}for(let l of s.flush()){let c=o.decode(l);c&&(yield c)}}async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let s=!1;try{for await(let u of i())if(!s){if(u.data.startsWith("[DONE]")){s=!0;continue}if(u.event===null){let l;try{l=JSON.parse(u.data)}catch(c){throw console.error("Could not parse message into JSON:",u.data),console.error("From chunk:",u.raw),c}if(l&&l.error)throw new za(void 0,l.error,void 0,void 0);yield l}}s=!0}catch(u){if(u instanceof Error&&u.name==="AbortError")return;throw u}finally{s||r.abort()}}return new vC(a,r)}static fromReadableStream(e,r){let n=!1;async function*o(){let a=new wC,s=p0t(e);for await(let u of s)for(let l of a.decode(u))yield l;for(let u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(let s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new vC(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){let a=n.next();e.push(a),r.push(a)}return i.shift()}});return[new vC(()=>o(e),this.controller),new vC(()=>o(r),this.controller)]}toReadableStream(){let e=this,r,n=new TextEncoder;return new cCe({async start(){r=e[Symbol.asyncIterator]()},async pull(o){try{let{value:i,done:a}=await r.next();if(a)return o.close();let s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){await r.return?.()}})}},mCe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,o]=Jkr(e,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}},wC=class{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let r=this.decodeText(e);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];let n=wC.NEWLINE_CHARS.has(r[r.length-1]||""),o=r.split(wC.NEWLINE_REGEXP);return o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Dl(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Dl(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Dl("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}};wC.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","\x85","\u2028","\u2029"]);wC.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function Jkr(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}function p0t(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var h0t=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",m0t=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&bee(t),bee=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Gkr=t=>m0t(t)||h0t(t)||pCe(t);async function bCe(t,e,r){if(t=await t,r??(r=m0t(t)?{lastModified:t.lastModified,type:t.type}:{}),h0t(t)){let o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new hee([o],e,r)}let n=await Kkr(t);if(e||(e=Xkr(t)??"unknown_file"),!r.type){let o=n[0]?.type;typeof o=="string"&&(r={...r,type:o})}return new hee(n,e,r)}async function Kkr(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(bee(t))e.push(await t.arrayBuffer());else if(Zkr(t))for await(let r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${Ykr(t)}`);return e}function Ykr(t){return`[${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}function Xkr(t){return gCe(t.name)||gCe(t.filename)||gCe(t.path)?.split(/[\\/]/).pop()}var gCe=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Zkr=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",_Ce=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody";var V3=async t=>{let e=await g0t(t.body);return dCe(e,t)},g0t=async t=>{let e=new lCe;return await Promise.all(Object.entries(t||{}).map(([r,n])=>yCe(e,r,n))),e};var yCe=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(Gkr(r)){let n=await bCe(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>yCe(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,o])=>yCe(t,`${e}[${n}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var e$r=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},t$r=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_ee;async function S0t(t){let{response:e}=t;if(t.options.stream)return ck("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):vC.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;let r=e.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let i=await e.json();return ck("response",e.status,e.url,e.headers,i),i}let o=await e.text();return ck("response",e.status,e.url,e.headers,o),o}var dk=class extends Promise{constructor(e,r=S0t){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new dk(this.responsePromise,async r=>e(await this.parseResponse(r)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},vee=class{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e4,httpAgent:o,fetch:i}){this.baseURL=e,this.maxRetries=vCe("maxRetries",r),this.timeout=vCe("timeout",n),this.httpAgent=o,this.fetch=i??uCe}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...i$r(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return`stainless-node-retry-${f$r()}`}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async o=>{let i=o&&bee(o?.body)?new DataView(await o.body.arrayBuffer()):o?.body instanceof DataView?o.body:o?.body instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o?.body)?new DataView(o.body.buffer):o?.body;return{method:e,path:r,...o,body:i}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){let{method:r,path:n,query:o,headers:i={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:_Ce(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(a),u=this.buildURL(n,o);"timeout"in e&&vCe("timeout",e.timeout);let l=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??fCe(u),d=l+1e3;typeof c?.options?.timeout=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);let f=this.buildHeaders({options:e,headers:i,contentLength:s});return{req:{method:r,...a&&{body:a},headers:f,...c&&{agent:c},signal:e.signal??null},url:u,timeout:l}}buildHeaders({options:e,headers:r,contentLength:n}){let o={};n&&(o["content-length"]=n);let i=this.defaultHeaders(e);return w0t(o,i),w0t(o,r),_Ce(e.body)&&C1!=="node"&&delete o["content-type"],this.validateHeaders(o,r),o}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,o){return za.generate(e,r,n,o)}request(e,r=null){return new dk(this.makeRequest(e,r))}async makeRequest(e,r){let n=await e;r==null&&(r=n.maxRetries??this.maxRetries),await this.prepareOptions(n);let{req:o,url:i,timeout:a}=this.buildRequest(n);if(await this.prepareRequest(o,{url:i,options:n}),ck("request",i,n,o.headers),n.signal?.aborted)throw new pT;let s=new AbortController,u=await this.fetchWithTimeout(i,o,a,s).catch(yee);if(u instanceof Error){if(n.signal?.aborted)throw new pT;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new O1:new _C({cause:u})}let l=r$r(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){let h=`retrying, ${r} attempts remaining`;return ck(`response (error; ${h})`,u.status,i,l),this.retryRequest(n,r,l)}let c=await u.text().catch(h=>yee(h).message),d=a$r(c),f=d?void 0:c;throw ck(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,i,l,f),this.makeStatusError(u.status,d,f,l)}return{response:u,options:n,controller:s}}requestAPIList(e,r){let n=this.makeRequest(r,null);return new wCe(this,n,e)}buildURL(e,r){let n=u$r(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return c$r(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Dl(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,r,n,o){let{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());let s=setTimeout(()=>o.abort(),n);return this.getRequestClient().fetch.call(void 0,e,{signal:o.signal,...a}).finally(()=>{clearTimeout(s)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){let o,i=n?.["retry-after-ms"];if(i){let s=parseFloat(i);Number.isNaN(s)||(o=s)}let a=n?.["retry-after"];if(a&&!o){let s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){let s=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await l$r(o),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){let i=r-e,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${x1}`}},y0t=class{constructor(e,r,n,o){_ee.set(this,void 0),e$r(this,_ee,e,"f"),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new Dl("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){let n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(let[o,i]of n)e.url.searchParams.set(o,i);r.query=void 0,r.path=e.url.toString()}return await t$r(this,_ee,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(_ee=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},wCe=class extends dk{constructor(e,r,n){super(r,async o=>new n(e,o.response,await S0t(o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},r$r=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){let n=r.toString();return e[n.toLowerCase()]||e[n]}});var n$r=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":x1,"X-Stainless-OS":_0t(Deno.build.os),"X-Stainless-Arch":b0t(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":x1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":x1,"X-Stainless-OS":_0t(process.platform),"X-Stainless-Arch":b0t(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let t=o$r();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":x1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":x1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function o$r(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:e,version:`${o}.${i}.${a}`}}}return null}var b0t=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",_0t=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),v0t,i$r=()=>v0t??(v0t=n$r()),a$r=t=>{try{return JSON.parse(t)}catch{return}},s$r=new RegExp("^(?:[a-z]+:)?//","i"),u$r=t=>s$r.test(t),l$r=t=>new Promise(e=>setTimeout(e,t)),vCe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Dl(`${t} must be an integer`);if(e<0)throw new Dl(`${t} must be a positive integer`);return e},yee=t=>t instanceof Error?t:new Error(t);var SCe=t=>{if(typeof process<"u")return process.env?.[t]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(t)?.trim()};function c$r(t){if(!t)return!0;for(let e in t)return!1;return!0}function d$r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w0t(t,e){for(let r in e){if(!d$r(e,r))continue;let n=r.toLowerCase();if(!n)continue;let o=e[r];o===null?delete t[n]:o!==void 0&&(t[n]=o)}}function ck(t,...e){typeof process<"u"&&process?.env?.DEBUG==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}var f$r=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),x0t=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";var jl=class{constructor(e){this._client=e}};var E1=class extends jl{create(e,r){return this._client.post("/openai/v1/audio/transcriptions",V3({body:e,...r}))}};(function(t){})(E1||(E1={}));var P1=class extends jl{create(e,r){return this._client.post("/openai/v1/audio/translations",V3({body:e,...r}))}};(function(t){})(P1||(P1={}));var hT=class extends jl{constructor(){super(...arguments),this.transcriptions=new E1(this._client),this.translations=new P1(this._client)}};(function(t){t.Transcriptions=E1,t.Translations=P1})(hT||(hT={}));var T1=class extends jl{create(e,r){return this._client.post("/openai/v1/chat/completions",{body:e,...r,stream:e.stream??!1})}};(function(t){})(T1||(T1={}));var mT=class extends jl{constructor(){super(...arguments),this.completions=new T1(this._client)}};(function(t){t.Completions=T1})(mT||(mT={}));var gT=class extends jl{};(function(t){})(gT||(gT={}));var yT=class extends jl{create(e,r){return this._client.post("/openai/v1/embeddings",{body:e,...r})}};(function(t){})(yT||(yT={}));var bT=class extends jl{retrieve(e,r){return this._client.get(`/openai/v1/models/${e}`,r)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,r){return this._client.delete(`/openai/v1/models/${e}`,r)}};(function(t){})(bT||(bT={}));var C0t,Ha=class extends vee{constructor({baseURL:e=SCe("GROQ_BASE_URL"),apiKey:r=SCe("GROQ_API_KEY"),...n}={}){if(r===void 0)throw new Dl("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");let o={apiKey:r,...n,baseURL:e||"https://api.groq.com"};if(!o.dangerouslyAllowBrowser&&x0t())throw new Dl(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:o.baseURL,timeout:o.timeout??6e4,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new gT(this),this.chat=new mT(this),this.embeddings=new yT(this),this.audio=new hT(this),this.models=new bT(this),this._options=o,this.apiKey=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}};C0t=Ha;Ha.Groq=C0t;Ha.GroqError=Dl;Ha.APIError=za;Ha.APIConnectionError=_C;Ha.APIConnectionTimeoutError=O1;Ha.APIUserAbortError=pT;Ha.NotFoundError=ik;Ha.ConflictError=ak;Ha.RateLimitError=uk;Ha.BadRequestError=rk;Ha.AuthenticationError=nk;Ha.InternalServerError=lk;Ha.PermissionDeniedError=ok;Ha.UnprocessableEntityError=sk;Ha.toFile=bCe;Ha.fileFromPath=mee;var{GroqError:lOo,APIError:cOo,APIConnectionError:dOo,APIConnectionTimeoutError:fOo,APIUserAbortError:pOo,NotFoundError:hOo,ConflictError:mOo,RateLimitError:gOo,BadRequestError:yOo,AuthenticationError:bOo,InternalServerError:_Oo,PermissionDeniedError:vOo,UnprocessableEntityError:wOo}=hCe;(function(t){t.Completions=gT,t.Chat=mT,t.Embeddings=yT,t.Audio=hT,t.Models=bT})(Ha||(Ha={}));var O0t=Ha;rx();eE();function b$r(t){let e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";default:throw new Error(`Unknown message type: ${e}`)}}function E0t(t){return t.map(e=>{if(typeof e.content!="string")throw new Error("Non string message content not supported");let r={role:b$r(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return Ju(e)&&e.tool_calls?.length?r.tool_calls=e.tool_calls.map(MB):(e.additional_kwargs.tool_calls!=null&&(r.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(r.tool_call_id=e.tool_call_id)),r})}function _$r(t,e){let r=t.tool_calls;switch(t.role){case"assistant":{let n=[],o=[];for(let i of r??[])try{n.push(s1(i,{returnId:!0}))}catch(a){o.push(AB(i,a.message))}return new Po({content:t.content||"",additional_kwargs:{tool_calls:r},tool_calls:n,invalid_tool_calls:o,usage_metadata:e})}default:return new Gl(t.content||"",t.role??"unknown")}}function v$r(t,e){if(t?.length)return t.map(r=>({id:r.id,name:r.function?.name,args:r.function?.arguments,type:"tool_call_chunk",index:e}))}function w$r(t,e,r){let{role:n}=t,o=t.content??"",i;t.function_call?i={function_call:t.function_call}:t.tool_calls?i={tool_calls:t.tool_calls}:i={};let a,s;if(r?.usage&&(a={input_tokens:r.usage.prompt_tokens,output_tokens:r.usage.completion_tokens,total_tokens:r.usage.total_tokens},s=r.id),n==="user")return{message:new ip({content:o})};if(n==="assistant"){let u=v$r(t.tool_calls,e);return{message:new Ar({content:o,additional_kwargs:i,tool_call_chunks:u?u.map(l=>({type:l.type,args:l.args,index:l.index})):void 0,usage_metadata:a,id:s}),toolCallData:u?u.map(l=>({id:l.id??"",name:l.name??"",index:l.index??e,type:"tool_call_chunk"})):void 0}}else return n==="system"?{message:new lh({content:o})}:{message:new op({content:o,role:n})}}var wee=class extends ya{static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}constructor(e){super(e??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","groq"]}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mixtral-8x7b-32768"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0});let r=e?.apiKey||Kt("GROQ_API_KEY");if(!r)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');this.client=new O0t({apiKey:r,dangerouslyAllowBrowser:!0}),this.apiKey=r,this.temperature=e?.temperature??this.temperature,this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.streaming=e?.streaming??this.streaming,this.stop=e?.stopSequences??(typeof e?.stop=="string"?[e.stop]:e?.stop)??[],this.stopSequences=this.stop,this.maxTokens=e?.maxTokens}getLsParams(e){let r=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??this.temperature,ls_max_tokens:r.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,r){return this.caller.call(async()=>this.client.chat.completions.create(e,r))}invocationParams(e){let r=super.invocationParams(e);return e.tool_choice!==void 0&&(r.tool_choice=e.tool_choice),e.tools!==void 0&&(r.tools=e.tools),e.response_format!==void 0&&(r.response_format=e.response_format),{...r,stop:e.stop??this.stopSequences,model:this.model,temperature:this.temperature,max_tokens:this.maxTokens}}bindTools(e,r){return this.bind({tools:e.map(n=>VF(n)),...r})}async*_streamResponseChunks(e,r,n){let o=this.invocationParams(r),i=E0t(e),a=await this.completionWithRetry({...o,messages:i,stream:!0},{signal:r?.signal,headers:r?.headers}),s="",u=[],l;for await(let c of a){l=c;let d=c?.choices[0];if(!d)continue;d.delta?.role&&(s=d.delta.role);let{message:f,toolCallData:p}=w$r({...d.delta,role:s},d.index,c.x_groq);if(p){let h=p.filter(v=>u.every(g=>g.id!==v.id));u.push(...h),yield new qo({message:new Ar({content:"",tool_call_chunks:h}),text:""})}let m=new qo({message:f,text:d.delta.content??"",generationInfo:{finishReason:d.finish_reason}});yield m,n?.handleLLMNewToken(m.text??"")}if(l&&("choices"in l&&delete l.choices,yield new qo({message:new Ar({content:"",response_metadata:l}),text:""})),r.signal?.aborted)throw new Error("AbortError")}async _generate(e,r,n){if(this.streaming){let o={},i=this._streamResponseChunks(e,r,n),a={};for await(let u of i){let l=u.generationInfo?.completion??0;a[l]===void 0?a[l]=u:a[l]=a[l].concat(u)}return{generations:Object.entries(a).sort(([u],[l])=>parseInt(u,10)-parseInt(l,10)).map(([u,l])=>l),llmOutput:{estimatedTokenUsage:o}}}else return this._generateNonStreaming(e,r,n)}async _generateNonStreaming(e,r,n){let o={},i=this.invocationParams(r),a=E0t(e),s=await this.completionWithRetry({...i,stream:!1,messages:a},{signal:r?.signal,headers:r?.headers});if("usage"in s&&s.usage){let{completion_tokens:l,prompt_tokens:c,total_tokens:d}=s.usage;l&&(o.completionTokens=(o.completionTokens??0)+l),c&&(o.promptTokens=(o.promptTokens??0)+c),d&&(o.totalTokens=(o.totalTokens??0)+d)}let u=[];if("choices"in s&&s.choices)for(let l of s.choices){let c=l.message?.content??"",d;o.totalTokens!==void 0&&(d={input_tokens:o.promptTokens??0,output_tokens:o.completionTokens??0,total_tokens:o.totalTokens});let f={text:c,message:_$r(l.message??{role:"assistant"},d)};f.generationInfo={...l.finish_reason?{finish_reason:l.finish_reason}:{},...l.logprobs?{logprobs:l.logprobs}:{}},u.push(f)}return{generations:u,llmOutput:{tokenUsage:o}}}withStructuredOutput(e,r){let n=e,o=r?.name,i=r?.method,a=r?.includeRaw,s=o??"extract",u,l;if(i==="jsonMode")l=this.bind({response_format:{type:"json_object"}}),Nf(n)?u=QS.fromZodSchema(n):u=new ex;else if(Nf(n)){let p=Fi(n);l=this.bind({tools:[{type:"function",function:{name:s,description:p.description,parameters:p}}],tool_choice:{type:"function",function:{name:s}}}),u=new Ig({returnSingle:!0,keyName:s,zodSchema:n})}else{let p;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(p=n,s=n.name):(s=n.title??s,p={name:s,description:n.description??"",parameters:n}),l=this.bind({tools:[{type:"function",function:p}],tool_choice:{type:"function",function:{name:s}}}),u=new Ig({returnSingle:!0,keyName:s})}if(!a)return l.pipe(u).withConfig({runName:"ChatGroqStructuredOutput"});let c=Bi.assign({parsed:(p,m)=>u.invoke(p.raw,m)}),d=Bi.assign({parsed:()=>null}),f=c.withFallbacks({fallbacks:[d]});return ni.from([{raw:l},f]).withConfig({runName:"ChatGroqStructuredOutput"})}};var gc=[];for(See=0;See<256;++See)gc.push((See+256).toString(16).slice(1));var See;function P0t(t,e=0){return(gc[t[e+0]]+gc[t[e+1]]+gc[t[e+2]]+gc[t[e+3]]+"-"+gc[t[e+4]]+gc[t[e+5]]+"-"+gc[t[e+6]]+gc[t[e+7]]+"-"+gc[t[e+8]]+gc[t[e+9]]+"-"+gc[t[e+10]]+gc[t[e+11]]+gc[t[e+12]]+gc[t[e+13]]+gc[t[e+14]]+gc[t[e+15]]).toLowerCase()}var xee,S$r=new Uint8Array(16);function xCe(){if(!xee&&(xee=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xee(S$r)}var x$r=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),CCe={randomUUID:x$r};function C$r(t,e,r){if(CCe.randomUUID&&!e&&!t)return CCe.randomUUID();t=t||{};var n=t.random||(t.rng||xCe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return P0t(n)}var Cee=C$r;var LAt=k(IAt(),1),FAt=k(r8(),1);Uh();Sj();eE();rx();ch();var Ctn=/^[a-zA-Z0-9]{9}$/;function Otn(t){return Ctn.test(t)}function Etn(t){let e=t,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";if(e===0)return r[0];let n=[],o=r.length;for(;e;)n.push(r[e%o]),e=Math.floor(e/o);return n.reverse().join("")}function Ptn(t){let e=0;for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return Math.abs(e)}function sPe(t){if(Otn(t))return t;{let e=Ptn(t),r=Etn(e);return r.length>=9?r.slice(0,9):r.padStart(9,"0")}}function uPe(t){return t?typeof t=="string"?t:t.map(e=>{if(e.type==="image_url"){if(typeof e.imageUrl!="string"&&e.imageUrl?.detail){let{detail:r}=e.imageUrl;if(r!=="high"&&r!=="auto"&&r!=="low")return{type:e.type,image_url:{url:e.imageUrl.url}}}return{type:e.type,image_url:e.imageUrl}}return e}):""}function DAt(t){let e=o=>{switch(o){case"human":return"user";case"ai":return"assistant";case"system":return"system";case"tool":return"tool";case"function":return"assistant";default:throw new Error(`Unknown message type: ${o}`)}},r=(o,i)=>{let a=(s,u)=>{if(s.type==="image_url"&&(u==="user"||u==="assistant"))return{type:s.type,imageUrl:s?.image_url};if(s.type==="text")return{type:s.type,text:s?.text};throw new Error(`ChatMistralAI only supports messages of "image_url" for roles "user" and "assistant", and "text" for all others.

Received: ${JSON.stringify(o,null,2)}`)};if(typeof o=="string")return o;if(Array.isArray(o)){let s=e(i),u=[];return o.forEach(l=>{if(l.type==="text"||l.type==="image_url")u.push(a(l,s));else throw new Error('Mistral only supports types "text" or "image_url" for complex message types.')}),u}throw new Error(`Message content must be a string or an array.

Received: ${JSON.stringify(o,null,2)}`)},n=o=>{if(Ju(o)&&o.tool_calls?.length)return o.tool_calls.map(i=>({...i,id:sPe(i.id??"")})).map(MB)};return t.map(o=>{let i=n(o),a=r(o.content,o.getType());return"tool_call_id"in o&&typeof o.tool_call_id=="string"?{role:e(o.getType()),content:a,name:o.name,toolCallId:sPe(o.tool_call_id)}:Ju(o)?i===void 0?{role:e(o.getType()),content:a}:{role:e(o.getType()),toolCalls:i}:{role:e(o.getType()),content:a}})}function Ttn(t,e){let{message:r}=t;if(r===void 0)throw new Error("No message found in response");let n=[];"toolCalls"in r&&Array.isArray(r.toolCalls)&&(n=r.toolCalls);let o=uPe(r.content);switch(r.role){case"assistant":{let i=[],a=[];for(let s of n)try{let u=s1(s,{returnId:!0});i.push({...u,id:u.id??Cee().replace(/-/g,"")})}catch(u){a.push(AB(s,u.message))}return new Po({content:o,tool_calls:i,invalid_tool_calls:a,additional_kwargs:{},usage_metadata:e?{input_tokens:e.promptTokens,output_tokens:e.completionTokens,total_tokens:e.totalTokens}:void 0})}default:return new Xa({content:o})}}function Mtn(t,e){if(!t.content&&!t.toolCalls)return e?new Ar({content:"",usage_metadata:e?{input_tokens:e.promptTokens,output_tokens:e.completionTokens,total_tokens:e.totalTokens}:void 0}):null;let r=t.toolCalls?.length?t.toolCalls?.map((s,u)=>({...s,index:u,id:s.id??Cee().replace(/-/g,""),type:"function"})):void 0,n="assistant";t.role&&(n=t.role);let o=uPe(t.content),i,a=[];if(r!==void 0)for(let s of r){let u=s.function?.arguments,l=u===void 0||typeof u=="string"?u:JSON.stringify(u);a.push({name:s.function?.name,args:l,id:s.id,index:s.index,type:"tool_call_chunk"})}else i={};return n==="user"?new ip({content:o}):n==="assistant"?new Ar({content:o,tool_call_chunks:a,additional_kwargs:i,usage_metadata:e?{input_tokens:e.promptTokens,output_tokens:e.completionTokens,total_tokens:e.totalTokens}:void 0}):n==="tool"?new Sy({content:o,additional_kwargs:i,tool_call_id:r?.[0].id??""}):n==="function"?new qm({content:o,additional_kwargs:i}):new op({content:o,role:n})}function jAt(t){return t.map(e=>{if("function"in e)return e;let r=e.description??`Tool: ${e.name}`;return{type:"function",function:{name:e.name,description:r,parameters:Fi(e.schema)}}})}var Ene=class extends ya{static lc_name(){return"ChatMistralAI"}constructor(e){super(e??{}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","mistralai"]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"mistral-small-latest"}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serverURL",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"safeMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"safePrompt",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"randomSeed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"beforeRequestHooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestErrorHooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"responseHooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCompletions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=e?.apiKey??Kt("MISTRAL_API_KEY");if(!r)throw new Error("API key MISTRAL_API_KEY is missing for MistralAI, but it is required.");this.apiKey=r,this.streaming=e?.streaming??this.streaming,this.serverURL=e?.serverURL??this.serverURL,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.maxTokens=e?.maxTokens??this.maxTokens,this.safePrompt=e?.safePrompt??this.safePrompt,this.randomSeed=e?.seed??e?.randomSeed??this.seed,this.seed=this.randomSeed,this.maxRetries=e?.maxRetries,this.httpClient=e?.httpClient,this.model=e?.model??e?.modelName??this.model,this.streamUsage=e?.streamUsage??this.streamUsage,this.beforeRequestHooks=e?.beforeRequestHooks??this.beforeRequestHooks,this.requestErrorHooks=e?.requestErrorHooks??this.requestErrorHooks,this.responseHooks=e?.responseHooks??this.responseHooks,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.numCompletions=e?.numCompletions??this.numCompletions,this.addAllHooksToHttpClient()}get lc_secrets(){return{apiKey:"MISTRAL_API_KEY"}}get lc_aliases(){return{apiKey:"mistral_api_key"}}getLsParams(e){let r=this.invocationParams(e);return{ls_provider:"mistral",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:r.temperature??void 0,ls_max_tokens:r.maxTokens??void 0}}_llmType(){return"mistral_ai"}invocationParams(e){let{response_format:r,tools:n,tool_choice:o}=e??{},i=n?.length?jAt(n):void 0;return{model:this.model,tools:i,temperature:this.temperature,maxTokens:this.maxTokens,topP:this.topP,randomSeed:this.seed,safePrompt:this.safePrompt,toolChoice:o,responseFormat:r,presencePenalty:this.presencePenalty,frequencyPenalty:this.frequencyPenalty,n:this.numCompletions}}bindTools(e,r){return this.bind({tools:jAt(e),...r})}async completionWithRetry(e,r){let n=new sp({maxRetries:this.maxRetries}),o=new LAt.Mistral({apiKey:this.apiKey,serverURL:this.serverURL,...this.httpClient?{httpClient:this.httpClient}:{}});return n.call(async()=>{try{let i;return r?i=await o.chat.stream(e):i=await o.chat.complete(e),i}catch(i){throw(i.message?.includes("status: 400")||i.message?.toLowerCase().includes("status 400")||i.message?.includes("validation failed"))&&(i.status=400),i}})}async _generate(e,r,n){let o={},i=this.invocationParams(r),a=DAt(e),s={...i,messages:a},u=r.signal??!!r.timeout;if(this.streaming||u){let m=this._streamResponseChunks(e,r,n),h={};for await(let g of m){let _=g.generationInfo?.completion??0;h[_]===void 0?h[_]=g:h[_]=h[_].concat(g)}return{generations:Object.entries(h).sort(([g],[_])=>parseInt(g,10)-parseInt(_,10)).map(([g,_])=>_),llmOutput:{estimatedTokenUsage:o}}}let l=await this.completionWithRetry(s,!1),{completionTokens:c,promptTokens:d,totalTokens:f}=l?.usage??{};c&&(o.completionTokens=(o.completionTokens??0)+c),d&&(o.promptTokens=(o.promptTokens??0)+d),f&&(o.totalTokens=(o.totalTokens??0)+f);let p=[];for(let m of l?.choices??[]){if("delta"in m)throw new Error("Delta not supported in non-streaming mode.");if(!("message"in m))throw new Error("No message found in the choice.");let h=m.message?.content??"";Array.isArray(h)&&(h=h[0].type==="text"?h[0].text:"");let v={text:h,message:Ttn(m,l?.usage)};m.finishReason&&(v.generationInfo={finishReason:m.finishReason}),p.push(v)}return{generations:p,llmOutput:{tokenUsage:o}}}async*_streamResponseChunks(e,r,n){let o=DAt(e),a={...this.invocationParams(r),messages:o},s=await this.completionWithRetry(a,!0);for await(let{data:u}of s){if(r.signal?.aborted)throw new Error("AbortError");let l=u?.choices[0];if(!l||!("delta"in l))continue;let{delta:c}=l;if(!c)continue;let d={prompt:0,completion:l.index??0},f=this.streamUsage||r.streamUsage,p=Mtn(c,f?u.usage:null);if(p===null)continue;let m=c.content??"";Array.isArray(m)&&(m=m[0].type==="text"?m[0].text:"");let h=new qo({message:p,text:m,generationInfo:d});yield h,n?.handleLLMNewToken(h.text??"",d,void 0,void 0,void 0,{chunk:h})}}addAllHooksToHttpClient(){try{if(this.removeAllHooksFromHttpClient(),[this.beforeRequestHooks,this.requestErrorHooks,this.responseHooks].some(r=>r&&r.length>0)&&!this.httpClient&&(this.httpClient=new FAt.HTTPClient),this.beforeRequestHooks)for(let r of this.beforeRequestHooks)this.httpClient?.addHook("beforeRequest",r);if(this.requestErrorHooks)for(let r of this.requestErrorHooks)this.httpClient?.addHook("requestError",r);if(this.responseHooks)for(let r of this.responseHooks)this.httpClient?.addHook("response",r)}catch{throw new Error("Error in adding all hooks")}}removeAllHooksFromHttpClient(){try{if(this.beforeRequestHooks)for(let e of this.beforeRequestHooks)this.httpClient?.removeHook("beforeRequest",e);if(this.requestErrorHooks)for(let e of this.requestErrorHooks)this.httpClient?.removeHook("requestError",e);if(this.responseHooks)for(let e of this.responseHooks)this.httpClient?.removeHook("response",e)}catch{throw new Error("Error in removing hooks")}}removeHookFromHttpClient(e){try{this.httpClient?.removeHook("beforeRequest",e),this.httpClient?.removeHook("requestError",e),this.httpClient?.removeHook("response",e)}catch{throw new Error("Error in removing hook")}}_combineLLMOutput(){return[]}withStructuredOutput(e,r){let n=e,o=r?.name,i=r?.method,a=r?.includeRaw,s,u;if(i==="jsonMode")s=this.bind({response_format:{type:"json_object"}}),NAt(n)?u=QS.fromZodSchema(n):u=new ex;else{let f=o??"extract";if(NAt(n)){let p=Fi(n);s=this.bind({tools:[{type:"function",function:{name:f,description:p.description,parameters:p}}],tool_choice:"any"}),u=new Ig({returnSingle:!0,keyName:f,zodSchema:n})}else{let p;typeof n.name=="string"&&typeof n.parameters=="object"&&n.parameters!=null?(p=n,f=n.name):p={name:f,description:n.description??"",parameters:n},s=this.bind({tools:[{type:"function",function:p}],tool_choice:"any"}),u=new Ig({returnSingle:!0,keyName:f})}}if(!a)return s.pipe(u);let l=Bi.assign({parsed:(f,p)=>u.invoke(f.raw,p)}),c=Bi.assign({parsed:()=>null}),d=l.withFallbacks({fallbacks:[c]});return ni.from([{raw:s},d])}};function NAt(t){return typeof t?.parse=="function"}Uh();var Pne=require("obsidian"),Atn={["openai"]:eS,["azure openai"]:eS,["anthropic"]:pee,["cohereai"]:nZ,["google"]:lZ,["openrouterai"]:eS,["ollama"]:pZ,["lm-studio"]:eS,["groq"]:wee,["3rd party (openai-format)"]:eS,["copilot-plus"]:eS,["mistralai"]:Ene},Oo=class{constructor(){this.providerApiKeyMap={["openai"]:()=>fe().openAIApiKey,["google"]:()=>fe().googleApiKey,["azure openai"]:()=>fe().azureOpenAIApiKey,["anthropic"]:()=>fe().anthropicApiKey,["cohereai"]:()=>fe().cohereApiKey,["openrouterai"]:()=>fe().openRouterAiApiKey,["groq"]:()=>fe().groqApiKey,["ollama"]:()=>"default-key",["lm-studio"]:()=>"default-key",["3rd party (openai-format)"]:()=>"default-key",["copilot-plus"]:()=>fe().plusLicenseKey,["mistralai"]:()=>fe().mistralApiKey};this.buildModelMap(),_l(()=>{this.buildModelMap(),this.validateCurrentModel()})}static getInstance(){return Oo.instance||(Oo.instance=new Oo),Oo.instance}async getModelConfig(e){let r=fe(),n=e.name,o=QA(n),i={modelName:n,temperature:e.temperature??r.temperature,streaming:e.stream??!0,maxRetries:3,maxConcurrency:3,enableCors:e.enableCors},s={["openai"]:{modelName:n,openAIApiKey:await oi(e.apiKey||r.openAIApiKey),configuration:{baseURL:e.baseUrl,fetch:e.enableCors?Zu:void 0,organization:await oi(e.openAIOrgId||r.openAIOrgId)},...this.handleOpenAIExtraArgs(o,r.maxTokens,r.temperature)},["anthropic"]:{anthropicApiKey:await oi(e.apiKey||r.anthropicApiKey),modelName:n,anthropicApiUrl:e.baseUrl,clientOptions:{defaultHeaders:{"anthropic-dangerous-direct-browser-access":"true"},fetch:e.enableCors?Zu:void 0}},["azure openai"]:{modelName:n,openAIApiKey:await oi(e.apiKey||r.azureOpenAIApiKey),configuration:{baseURL:e.baseUrl||`https://${e.azureOpenAIApiInstanceName||r.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${e.azureOpenAIApiDeploymentName||r.azureOpenAIApiDeploymentName}`,defaultQuery:{"api-version":e.azureOpenAIApiVersion||r.azureOpenAIApiVersion},fetch:e.enableCors?Zu:void 0},...this.handleOpenAIExtraArgs(o,r.maxTokens,r.temperature)},["cohereai"]:{apiKey:await oi(e.apiKey||r.cohereApiKey),model:n},["google"]:{apiKey:await oi(e.apiKey||r.googleApiKey),modelName:n,safetySettings:[{category:jI.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:NI.BLOCK_NONE},{category:jI.HARM_CATEGORY_HATE_SPEECH,threshold:NI.BLOCK_NONE},{category:jI.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:NI.BLOCK_NONE},{category:jI.HARM_CATEGORY_HARASSMENT,threshold:NI.BLOCK_NONE}],baseUrl:e.baseUrl},["openrouterai"]:{modelName:n,openAIApiKey:await oi(e.apiKey||r.openRouterAiApiKey),configuration:{baseURL:e.baseUrl||"https://openrouter.ai/api/v1",fetch:e.enableCors?Zu:void 0}},["groq"]:{apiKey:await oi(e.apiKey||r.groqApiKey),modelName:n},["ollama"]:{model:n,apiKey:e.apiKey||"default-key",baseUrl:e.baseUrl||"http://localhost:11434"},["lm-studio"]:{modelName:n,openAIApiKey:e.apiKey||"default-key",configuration:{baseURL:e.baseUrl||"http://localhost:1234/v1",fetch:e.enableCors?Zu:void 0}},["3rd party (openai-format)"]:{modelName:n,openAIApiKey:await oi(e.apiKey||r.openAIApiKey),configuration:{baseURL:e.baseUrl,fetch:e.enableCors?Zu:void 0,defaultHeaders:{"dangerously-allow-browser":"true"}},...this.handleOpenAIExtraArgs(o,r.maxTokens,r.temperature)},["copilot-plus"]:{modelName:n,openAIApiKey:await oi(r.plusLicenseKey),configuration:{baseURL:CA,fetch:e.enableCors?Zu:void 0}},["mistralai"]:{model:n,apiKey:await oi(e.apiKey||r.mistralApiKey),serverURL:e.baseUrl}}[e.provider]||{},u=this.handleOpenAIExtraArgs(o,e.maxTokens??r.maxTokens,e.temperature??r.temperature);return{...i,...s,...u}}handleOpenAIExtraArgs(e,r,n){return e?{maxCompletionTokens:r,temperature:1}:{maxTokens:r,temperature:n}}buildModelMap(){let e=fe().activeModels;Oo.modelMap={};let r=Oo.modelMap;(e??sE).forEach(o=>{if(o.enabled){if(!Object.values(OA).contains(o.provider)){console.warn(`Unknown provider: ${o.provider} for model: ${o.name}`);return}let i=this.getProviderConstructor(o),a=this.providerApiKeyMap[o.provider],s=o.apiKey||a(),u=tn(o);r[u]={hasApiKey:Boolean(o.apiKey||s),AIConstructor:i,vendor:o.provider}}})}getProviderConstructor(e){let r=Atn[e.provider];if(!r)throw console.warn(`Unknown provider: ${e.provider} for model: ${e.name}`),new Error(`Unknown provider: ${e.provider} for model: ${e.name}`);return r}getChatModel(){if(!Oo.chatModel)throw new Error("No valid chat model available. Please check your API key settings.");return Oo.chatModel}async setChatModel(e){let r=tn(e);if(H5(r),!Oo.modelMap.hasOwnProperty(r))throw new Error(`No model found for: ${r}`);let n=Oo.modelMap[r];if(!n.hasApiKey){let i=`API key is not provided for the model: ${r}. Model switch failed.`;throw new Pne.Notice(i),new Error(i)}let o=await this.getModelConfig(e);try{let i=new n.AIConstructor({...o});Oo.chatModel=i}catch(i){console.error(i),new Pne.Notice(`Error creating model: ${r}`)}}validateChatModel(e){return e!=null}async countTokens(e){return Oo.chatModel?.getNumTokens(e)??0}validateCurrentModel(){if(!Oo.chatModel)return;let e=V5();if(!e)return;Oo.modelMap[e]?.hasApiKey||(Oo.chatModel=null,console.log("Failed to reinitialize model due to missing API key"))}async ping(e){let r=async n=>{let o={...e,enableCors:n},i=await this.getModelConfig(o),{streaming:a,maxTokens:s,maxCompletionTokens:u,...l}=i,c=QA(o.name),d=this.handleOpenAIExtraArgs(c,10,i.temperature);await new(this.getProviderConstructor(o))({...l,...d}).invoke([{role:"user",content:"hello"}],{timeout:3e3})};try{return await r(!1),!0}catch(n){console.log("First ping attempt failed, trying with CORS...");try{return await r(!0),new Pne.Notice("Connection successful, but requires CORS to be enabled. Please enable CORS for this model once you add it above."),!0}catch(o){let i=`
without CORS Error: `+sa(n)+`
with CORS Error: `+sa(o);throw new Error(i)}}}findModelByName(e){return fe().activeModels.find(n=>n.name===e)}};async function Tne(t,e){let r=`Given the following conversation and a follow up question,
    summarize the conversation as context and keep the follow up question unchanged, in its original language.
    If the follow up question is unrelated to its preceding messages, return this follow up question directly.
    If it is related, then combine the summary and the follow up question to construct a standalone question.
    Make sure to keep any [[]] wrapped note titles in the question unchanged.
    If there's nothing in the chat history, just return the follow up question.

    Chat History:
    {chat_history}
    Follow Up Input: {question}
    Standalone question:`,n=e.map(([i,a])=>`Human: ${i}
Assistant: ${a}`).join(`
`);return(await Oo.getInstance().getChatModel().invoke([{role:"user",content:r.replace("{chat_history}",n).replace("{question}",t)}])).content}var lPe=require("obsidian"),BAt=t=>{switch(t){case"@vault":return"Search through your vault for relevant information";case"@web":return"Search the web for information";case"@youtube":return"Get the transcript of a YouTube video. Example: @youtube <video_url>";case"@pomodoro":return"Start a pomodoro timer. Example: @pomodoro 25m";default:return""}},kk=class{static async callTool(e,r){try{if(!e)throw new Error("Tool is undefined");let n=await e.call(r);return n??(console.warn(`Tool ${e.name} returned null/undefined result`),null)}catch(n){return console.error("Error calling tool:",n),n instanceof Error?new lPe.Notice(n.message):new lPe.Notice("An error occurred while executing the tool. Check console for details."),null}}};var QIt=require("obsidian");xA();YO();df();xy();var Mne=class extends Qr{constructor(e){super(e),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callbacks=e?.callbacks,this.tags=e?.tags??[],this.metadata=e?.metadata??{},this.verbose=e?.verbose??!1}_getRelevantDocuments(e,r){throw new Error("Not implemented!")}async invoke(e,r){return this.getRelevantDocuments(e,Rr(r))}async getRelevantDocuments(e,r){let n=Rr(hA(r)),i=await(await bi.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}))?.handleRetrieverStart(this.toJSON(),e,n.runId,void 0,void 0,void 0,n.runName);try{let a=await this._getRelevantDocuments(e,i);return await i?.handleRetrieverEnd(a),a}catch(a){throw await i?.handleRetrieverError(a),a}}};var FT=class extends Mne{constructor(r){super();this.options=r;this.lc_namespace=["hybrid_retriever"];this.queryRewritePrompt=zc.fromTemplate(`Please write a passage to answer the question. If you don't know the answer, just make up a passage. 
Question: {question}
Passage:`)}async getRelevantDocuments(r,n){let o=_x(r),i=await this.getExplicitChunks(o),a=r;n?.runName!=="no_hyde"&&(a=await this.rewriteQuery(r));let s=await this.getOramaChunks(a,this.options.salientTerms,this.options.textWeight),u=this.filterAndFormatChunks(s,i),l=u;if(u.length===0)return fe().debug&&console.log("No chunks found for query:",r),l;let c=u.reduce((p,m)=>{let h=m.metadata.score;return typeof h=="number"&&!isNaN(h)?Math.max(p,h):p},0),d=u.every(p=>typeof p.metadata.score!="number"||isNaN(p.metadata.score)),f=this.options.useRerankerThreshold&&(c<this.options.useRerankerThreshold||d);return f&&(l=(await wa.getInstance().rerank(r,u.map(m=>m.pageContent.slice(0,3e3)))).response.data.map(m=>({...u[m.index],metadata:{...u[m.index].metadata,rerank_score:m.relevance_score}}))),fe().debug&&(console.log("*** HYBRID RETRIEVER DEBUG INFO: ***"),n?.runName!=="no_hyde"&&(console.log(`
Original Query: `,r),console.log("Rewritten Query: ",a)),console.log(`
Explicit Chunks: `,i),console.log("Orama Chunks: ",s),console.log("Combined Chunks: ",u),console.log("Max Orama Score: ",c),f?console.log("Reranked Chunks: ",l):console.log("No reranking applied.")),l}async rewriteQuery(r){try{let n=await this.queryRewritePrompt.format({question:r}),i=await Oo.getInstance().getChatModel().invoke(n);return i&&"content"in i?i.content:(console.warn("Unexpected rewrittenQuery format. Falling back to original query."),r)}catch(n){return console.error("Error in rewriteQuery:",n),r}}async getExplicitChunks(r){let n=[];for(let o of r){let i=await _W(app.vault,o),a=await Ji.getInstance().getDb(),s=await Ud.getDocsByPath(a,i?.path??"");if(s){let u=s.map(l=>new hC({pageContent:l.document.content,metadata:{...l.document.metadata,score:l.score,path:l.document.path,mtime:l.document.mtime,ctime:l.document.ctime,title:l.document.title,id:l.document.id,embeddingModel:l.document.embeddingModel,tags:l.document.tags,extension:l.document.extension,created_at:l.document.created_at,nchars:l.document.nchars}}));n.push(...u)}}return n}async getOramaChunks(r,n,o){let i;try{i=await this.convertQueryToVector(r)}catch(l){throw console.error("Error in convertQueryToVector, please ensure your embedding model is working and has an adequate context length:",l,`
Query:`,r),l}let a=await Ji.getInstance().getDb(),s={similarity:this.options.minSimilarityScore,limit:this.options.maxK,includeVectors:!0};if(n.length>0){let l;o||(o=.5),l=1-o;let c=!0;for(let d of n)if(!d.startsWith("#")){c=!1;break}c&&(fe().debug&&console.log("Tag only query detected, setting textWeight to 1 and vectorWeight to 0."),o=1,l=0),s.mode="hybrid",s.term=n.join(" "),s.vector={value:i,property:"embedding"},s.hybridWeights={text:o,vector:l}}else s.mode="vector",s.vector={value:i,property:"embedding"};if(this.options.timeRange){let{startTime:l,endTime:c}=this.options.timeRange,d=this.generateDateRange(l,c);fe().debug&&console.log("==== Daily note date range: ====",d[0],d[d.length-1]);let p=(await this.getExplicitChunks(d)).map(_=>({..._,metadata:{..._.metadata,includeInContext:!0}}));fe().debug&&console.log("==== Modified and created time range: ====",l,c),s.where={ctime:{between:[l,c]},mtime:{between:[l,c]}};let h=(await mc(a,s)).hits.map(_=>new hC({pageContent:_.document.content,metadata:{..._.document.metadata,score:_.score,path:_.document.path,mtime:_.document.mtime,ctime:_.document.ctime,title:_.document.title,id:_.document.id,embeddingModel:_.document.embeddingModel,tags:_.document.tags,extension:_.document.extension,created_at:_.document.created_at,nchars:_.document.nchars}})),v=[...p,...h];return Array.from(new Set(v.map(_=>_.metadata.id))).map(_=>v.find(S=>S.metadata.id===_)).filter(_=>_!==void 0)}fe().debug&&console.log(`==== Orama Search Params: ====
`,s);let u=await mc(a,s);return!u||!u.hits?(console.warn("Search results or hits are undefined"),[]):u.hits.map(l=>!l||!l.document?(console.warn("Invalid hit or document in search results"),null):((typeof l.score!="number"||isNaN(l.score))&&console.warn("NaN/invalid score detected:",{score:l.score,path:l.document.path,title:l.document.title}),new hC({pageContent:l.document.content||"",metadata:{...l.document.metadata||{},score:l.score,path:l.document.path||"",mtime:l.document.mtime,ctime:l.document.ctime,title:l.document.title||"",id:l.document.id,embeddingModel:l.document.embeddingModel,tags:l.document.tags||[],extension:l.document.extension,created_at:l.document.created_at,nchars:l.document.nchars}}))).filter(l=>l!==null)}async convertQueryToVector(r){let o=await(await _o.getInstance().getEmbeddingsAPI()).embedQuery(r);if(o.length===0)throw new Error("Query embedding returned an empty vector");return o}generateDateRange(r,n){let o=[],i=new Date(r),a=new Date(n),s=new Date(i);for(;s<=a;)o.push(s.toLocaleDateString("en-CA")),s.setDate(s.getDate()+1);return o}filterAndFormatChunks(r,n){let o=this.options.minSimilarityScore,i=r.filter(u=>{let l=u.metadata.score;return typeof l!="number"||isNaN(l)?!0:l>=o}),a=new Set(n.map(u=>u.pageContent)),s=[...n];for(let u of i){let l=u.pageContent;a.has(l)||(a.add(l),s.push(u))}return s.map(u=>({...u,metadata:{...u.metadata,includeInContext:!0}}))}};tf();var cPe=Ng(async({timeRange:t,query:e,salientTerms:r})=>{if(await Ji.getInstance().isIndexEmpty())throw new pr(A5);let o=t!==void 0,i=fe().maxSourceChunks<Wue?Wue:fe().maxSourceChunks;fe().debug&&console.log("returnAll:",o);let u=(await new FT({minSimilarityScore:o?0:.1,maxK:o?1e3:i,salientTerms:r,timeRange:t?{startTime:t.startTime.epoch,endTime:t.endTime.epoch}:void 0,textWeight:OFe,returnAll:o,useRerankerThreshold:.5}).getRelevantDocuments(e)).map(l=>({title:l.metadata.title,content:l.pageContent,path:l.metadata.path,score:l.metadata.score,rerank_score:l.metadata.rerank_score,includeInContext:l.metadata.includeInContext}));return JSON.stringify(u)},{name:"localSearch",description:"Search for notes based on the time range and query",schema:kr.object({timeRange:kr.object({startTime:kr.any(),endTime:kr.any()}).optional(),query:kr.string().describe("The search query"),salientTerms:kr.array(kr.string()).describe("List of salient terms extracted from the query")})}),kAt=Ng(async()=>{try{let t=await Ji.getInstance().indexVaultToVectorStore();return`Please report whether the indexing was successful.
If success is true, just say it is successful. If 0 files is indexed, say there are no new files to index.`+JSON.stringify({success:!0,message:t===0?"No new files to index.":`Indexed ${t} files in the vault.`})}catch(t){return console.error("Error indexing vault:",t),JSON.stringify({success:!1,message:"An error occurred while indexing the vault."})}},{name:"indexVault",description:"Index the vault to the Copilot index"}),dPe=Ng(async({query:t,chatHistory:e})=>{try{let r=await Tne(t,e),n=await wa.getInstance().webSearch(r),o=n.response.citations||[],i=o.length>0?`

Sources:
`+o.map((a,s)=>`[${s+1}] ${a}`).join(`
`):"";return`Here are the web search results. Please provide a response based on this information and include source citations listed at the end of your response under the heading '#### Sources' as a list of markdown links. For each URL, create a descriptive title based on the domain and path and return it in the markdown format '- [title](url)':

`+n.response.choices[0].message.content+i}catch(r){return console.error(`Error processing web search query ${t}:`,r),""}},{name:"webSearch",description:"Search the web for information",schema:kr.object({query:kr.string().describe("The search query"),chatHistory:kr.array(kr.tuple([kr.string(),kr.string()])).describe("Previous conversation turns")})});var zAt=k($At(),1),I8=k(BT(),1);var In;(function(t){t[t.AM=0]="AM",t[t.PM=1]="PM"})(In||(In={}));var Fu;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(Fu||(Fu={}));var $p;(function(t){t[t.JANUARY=1]="JANUARY",t[t.FEBRUARY=2]="FEBRUARY",t[t.MARCH=3]="MARCH",t[t.APRIL=4]="APRIL",t[t.MAY=5]="MAY",t[t.JUNE=6]="JUNE",t[t.JULY=7]="JULY",t[t.AUGUST=8]="AUGUST",t[t.SEPTEMBER=9]="SEPTEMBER",t[t.OCTOBER=10]="OCTOBER",t[t.NOVEMBER=11]="NOVEMBER",t[t.DECEMBER=12]="DECEMBER"})($p||($p={}));function qAt(t,e){e=e.add(1,"day"),aD(t,e),$k(t,e)}function Vg(t,e){t.assign("day",e.date()),t.assign("month",e.month()+1),t.assign("year",e.year())}function Ane(t,e){t.assign("hour",e.hour()),t.assign("minute",e.minute()),t.assign("second",e.second()),t.assign("millisecond",e.millisecond()),t.get("hour")<12?t.assign("meridiem",In.AM):t.assign("meridiem",In.PM)}function aD(t,e){t.imply("day",e.date()),t.imply("month",e.month()+1),t.imply("year",e.year())}function $k(t,e){t.imply("hour",e.hour()),t.imply("minute",e.minute()),t.imply("second",e.second()),t.imply("millisecond",e.millisecond())}var gPe=k(BT(),1);var Rtn={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:t=>UAt(t,$p.MARCH,Fu.SUNDAY,2),dstEnd:t=>UAt(t,$p.OCTOBER,Fu.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:t=>kT(t,$p.MARCH,Fu.SUNDAY,2,2),dstEnd:t=>kT(t,$p.NOVEMBER,Fu.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:t=>kT(t,$p.MARCH,Fu.SUNDAY,2,2),dstEnd:t=>kT(t,$p.NOVEMBER,Fu.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:t=>kT(t,$p.MARCH,Fu.SUNDAY,2,2),dstEnd:t=>kT(t,$p.NOVEMBER,Fu.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:t=>kT(t,$p.MARCH,Fu.SUNDAY,2,2),dstEnd:t=>kT(t,$p.NOVEMBER,Fu.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function kT(t,e,r,n,o=0){let i=0,a=0;for(;a<n;)i++,new Date(t,e-1,i).getDay()===r&&a++;return new Date(t,e-1,i,o)}function UAt(t,e,r,n=0){let o=r===0?7:r,i=new Date(t,e-1+1,1,12),a=i.getDay()===0?7:i.getDay(),s;return a===o?s=7:a<o?s=7+a-o:s=a-o,i.setDate(i.getDate()-s),new Date(t,e-1,i.getDate(),n)}function Rne(t,e,r={}){if(t==null)return null;if(typeof t=="number")return t;let n=r[t]??Rtn[t];return n==null?null:typeof n=="number"?n:e==null?null:(0,gPe.default)(e).isAfter(n.dstStart(e.getFullYear()))&&!(0,gPe.default)(e).isAfter(n.dstEnd(e.getFullYear()))?n.timezoneOffsetDuringDst:n.timezoneOffsetNonDst}I8.default.extend(zAt.default);var $T=class{constructor(e){e=e??new Date,e instanceof Date?this.instant=e:(this.instant=e.instant??new Date,this.timezoneOffset=Rne(e.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+this.getSystemTimezoneAdjustmentMinute(this.instant)*6e4)}getSystemTimezoneAdjustmentMinute(e,r){(!e||e.getTime()<0)&&(e=new Date);let n=-e.getTimezoneOffset(),o=r??this.timezoneOffset??n;return n-o}},Gr=class{constructor(e,r){if(this._tags=new Set,this.reference=e,this.knownValues={},this.impliedValues={},r)for(let o in r)this.knownValues[o]=r[o];let n=(0,I8.default)(e.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,r){return e in this.knownValues?this:(this.impliedValues[e]=r,this)}assign(e,r){return this.knownValues[e]=r,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new Gr(this.reference);e.knownValues={},e.impliedValues={};for(let r in this.knownValues)e.knownValues[r]=this.knownValues[r];for(let r in this.impliedValues)e.impliedValues[r]=this.impliedValues[r];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return(0,I8.default)(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment(),r=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+r*6e4)}addTag(e){return this._tags.add(e),this}addTags(e){for(let r of e)this._tags.add(r);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,r){let n=(0,I8.default)(e.instant);for(let i in r)n=n.add(r[i],i);let o=new Gr(e);return r.hour||r.minute||r.second?(Ane(o,n),Vg(o,n),e.timezoneOffset!==null&&o.assign("timezoneOffset",-e.instant.getTimezoneOffset())):($k(o,n),e.timezoneOffset!==null&&o.imply("timezoneOffset",-e.instant.getTimezoneOffset()),r.d?(o.assign("day",n.date()),o.assign("month",n.month()+1),o.assign("year",n.year())):r.week?(o.assign("day",n.date()),o.assign("month",n.month()+1),o.assign("year",n.year()),o.imply("weekday",n.day())):(o.imply("day",n.date()),r.month?(o.assign("month",n.month()+1),o.assign("year",n.year())):(o.imply("month",n.month()+1),r.year?o.assign("year",n.year()):o.imply("year",n.year())))),o}},Wg=class{constructor(e,r,n,o,i){this.reference=e,this.refDate=e.instant,this.index=r,this.text=n,this.start=o||new Gr(e),this.end=i}clone(){let e=new Wg(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}tags(){let e=new Set(this.start.tags());if(this.end)for(let r of this.end.tags())e.add(r);return e}toString(){let e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}};function yPe(t,e,r="\\s{0,5},?\\s{0,5}"){let n=e.replace(/\((?!\?)/g,"(?:");return`${t}${n}(?:${r}${n}){0,10}`}function Itn(t){let e;return t instanceof Array?e=[...t]:t instanceof Map?e=Array.from(t.keys()):e=Object.keys(t),e}function Sc(t){return`(?:${Itn(t).sort((r,n)=>n.length-r.length).join("|").replace(/\./g,"\\.")})`}var HAt=k(BT(),1);function Ine(t){return t<100&&(t>50?t=t+1900:t=t+2e3),t}function qT(t,e,r){let n=(0,HAt.default)(t),o=n;o=o.month(r-1),o=o.date(e),o=o.year(n.year());let i=o.add(1,"y"),a=o.add(-1,"y");return Math.abs(i.diff(n))<Math.abs(o.diff(n))?o=i:Math.abs(a.diff(n))<Math.abs(o.diff(n))&&(o=a),o.year()}var vPe={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},wPe={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},fm={...wPe,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},bPe={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},_Pe={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},WAt={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},D8={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...WAt},JAt=`(?:${Sc(bPe)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function Dtn(t){let e=t.toLowerCase();return bPe[e]!==void 0?bPe[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}var qk=`(?:${Sc(_Pe)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Uk(t){let e=t.toLowerCase();return _Pe[e]!==void 0?_Pe[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}var UT="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function zT(t){if(/BE/i.test(t))return t=t.replace(/BE/i,""),parseInt(t)-543;if(/BCE?/i.test(t))return t=t.replace(/BCE?/i,""),-parseInt(t);if(/(AD|CE)/i.test(t))return t=t.replace(/(AD|CE)/i,""),parseInt(t);let e=parseInt(t);return Ine(e)}var GAt=`(${JAt})\\s{0,3}(${Sc(D8)})`,VAt=new RegExp(GAt,"i"),jtn=`(${JAt})\\s{0,3}(${Sc(WAt)})`,KAt="\\s{0,5},?(?:\\s*and)?\\s{0,5}",cO=yPe("(?:(?:about|around)\\s{0,3})?",GAt,KAt),HT=yPe("(?:(?:about|around)\\s{0,3})?",jtn,KAt);function pm(t){let e={},r=t,n=VAt.exec(r);for(;n;)Ntn(e,n),r=r.substring(n[0].length).trim(),n=VAt.exec(r);return Object.keys(e).length==0?null:e}function Ntn(t,e){if(e[0].match(/^[a-zA-Z]+$/))return;let r=Dtn(e[1]),n=D8[e[2].toLowerCase()];t[n]=r}var Io=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(e,r){return this.innerPattern(e)!==r}patternLeftBoundary(){return"(\\W|^)"}pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(e,r){let n=r[1]??"";r.index=r.index+n.length,r[0]=r[0].substring(n.length);for(let o=2;o<r.length;o++)r[o-1]=r[o];return this.innerExtract(e,r)}};var Ltn=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${cO})(?=\\W|$)`,"i"),Ftn=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${cO})(?=\\W|$)`,"i"),Btn=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${HT})(?=\\W|$)`,"i"),j8=class extends Io{constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?Btn:e.option.forwardDate?Ltn:Ftn}innerExtract(e,r){if(r[0].match(/^for\s*the\s*\w+/))return null;let n=pm(r[1]);return n?Gr.createRelativeFromReference(e.reference,n):null}};var ktn=new RegExp(`(?:on\\s{0,3})?(${qk})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${qk}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${Sc(fm)})(?:(?:-|/|,?\\s{0,3})(${UT}(?!\\w)))?(?=\\W|$)`,"i"),YAt=1,XAt=2,$tn=3,ZAt=4,N8=class extends Io{innerPattern(){return ktn}innerExtract(e,r){let n=e.createParsingResult(r.index,r[0]),o=fm[r[$tn].toLowerCase()],i=Uk(r[YAt]);if(i>31)return r.index=r.index+r[YAt].length,null;if(n.start.assign("month",o),n.start.assign("day",i),r[ZAt]){let a=zT(r[ZAt]);n.start.assign("year",a)}else{let a=qT(e.refDate,i,o);n.start.imply("year",a)}if(r[XAt]){let a=Uk(r[XAt]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};var qtn=new RegExp(`(${Sc(fm)})(?:-|/|\\s*,?\\s*)(${qk})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${qk})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${UT}))?(?=\\W|$)(?!\\:\\d)`,"i"),Utn=1,QAt=2,SPe=3,xPe=4,L8=class extends Io{constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return qtn}innerExtract(e,r){let n=fm[r[Utn].toLowerCase()],o=Uk(r[QAt]);if(o>31||this.shouldSkipYearLikeDate&&!r[SPe]&&!r[xPe]&&r[QAt].match(/^2[0-5]$/))return null;let i=e.createParsingComponents({day:o,month:n}).addTag("parser/ENMonthNameMiddleEndianParser");if(r[xPe]){let u=zT(r[xPe]);i.assign("year",u)}else{let u=qT(e.refDate,o,n);i.imply("year",u)}if(!r[SPe])return i;let a=Uk(r[SPe]),s=e.createParsingResult(r.index,r[0]);return s.start=i,s.end=i.clone(),s.end.assign("day",a),s}};var ztn=new RegExp(`((?:in)\\s*)?(${Sc(fm)})\\s*(?:[,-]?\\s*(${UT})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Htn=1,Vtn=2,eRt=3,F8=class extends Io{innerPattern(){return ztn}innerExtract(e,r){let n=r[Vtn].toLowerCase();if(r[0].length<=3&&!wPe[n])return null;let o=e.createParsingResult(r.index+(r[Htn]||"").length,r.index+r[0].length);o.start.imply("day",1),o.start.addTag("parser/ENMonthNameParser");let i=fm[n];if(o.start.assign("month",i),r[eRt]){let a=zT(r[eRt]);o.start.assign("year",a)}else{let a=qT(e.refDate,1,i);o.start.imply("year",a)}return o}};var Wtn=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${Sc(fm)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),Jtn=1,Gtn=2,tRt=3,Ktn=4,B8=class extends Io{constructor(e){super(),this.strictMonthDateOrder=e}innerPattern(){return Wtn}innerExtract(e,r){let n=parseInt(r[Jtn]),o=parseInt(r[Ktn]),i=r[tRt]?parseInt(r[tRt]):fm[r[Gtn].toLowerCase()];if(i<1||i>12){if(this.strictMonthDateOrder)return null;o>=1&&o<=12&&([i,o]=[o,i])}return o<1||o>31?null:{day:o,month:i,year:n}}};var Ytn=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),Xtn=1,Ztn=2,k8=class extends Io{innerPattern(){return Ytn}innerExtract(e,r){let n=parseInt(r[Ztn]),o=parseInt(r[Xtn]);return e.createParsingComponents().imply("day",1).assign("month",o).assign("year",n)}};function Qtn(t,e,r,n){return new RegExp(`${t}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${r}`,n)}function ern(t,e){return new RegExp(`^(${t})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var rRt=2,zk=3,Dne=4,jne=5,$8=6,Nne=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,r){let n=this.extractPrimaryTimeComponents(e,r);if(!n)return r[0].match(/^\d{4}/)?(r.index+=4,null):(r.index+=r[0].length,null);let o=r.index+r[1].length,i=r[0].substring(r[1].length),a=e.createParsingResult(o,i,n);r.index+=r[0].length;let s=e.text.substring(r.index),l=this.getFollowingTimePatternThroughCache().exec(s);return i.match(/^\d{3,4}/)&&l&&(l[0].match(/^\s*([+-])\s*\d{2,4}$/)||l[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!l||l[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,l,a),a.end&&(a.text+=l[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,r,n=!1){let o=e.createParsingComponents(),i=0,a=null,s=parseInt(r[rRt]);if(s>100){if(this.strictMode||r[zk]!=null)return null;i=s%100,s=Math.floor(s/100)}if(s>24)return null;if(r[zk]!=null){if(r[zk].length==1&&!r[$8])return null;i=parseInt(r[zk])}if(i>=60)return null;if(s>12&&(a=In.PM),r[$8]!=null){if(s>12)return null;let u=r[$8][0].toLowerCase();u=="a"&&(a=In.AM,s==12&&(s=0)),u=="p"&&(a=In.PM,s!=12&&(s+=12))}if(o.assign("hour",s),o.assign("minute",i),a!==null?o.assign("meridiem",a):s<12?o.imply("meridiem",In.AM):o.imply("meridiem",In.PM),r[jne]!=null){let u=parseInt(r[jne].substring(0,3));if(u>=1e3)return null;o.assign("millisecond",u)}if(r[Dne]!=null){let u=parseInt(r[Dne]);if(u>=60)return null;o.assign("second",u)}return o}extractFollowingTimeComponents(e,r,n){let o=e.createParsingComponents();if(r[jne]!=null){let u=parseInt(r[jne].substring(0,3));if(u>=1e3)return null;o.assign("millisecond",u)}if(r[Dne]!=null){let u=parseInt(r[Dne]);if(u>=60)return null;o.assign("second",u)}let i=parseInt(r[rRt]),a=0,s=-1;if(r[zk]!=null?a=parseInt(r[zk]):i>100&&(a=i%100,i=Math.floor(i/100)),a>=60||i>24)return null;if(i>=12&&(s=In.PM),r[$8]!=null){if(i>12)return null;let u=r[$8][0].toLowerCase();u=="a"&&(s=In.AM,i==12&&(i=0,o.isCertain("day")||o.imply("day",o.get("day")+1))),u=="p"&&(s=In.PM,i!=12&&(i+=12)),n.start.isCertain("meridiem")||(s==In.AM?(n.start.imply("meridiem",In.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",In.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return o.assign("hour",i),o.assign("minute",a),s>=0?o.assign("meridiem",s):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>i?o.imply("meridiem",In.AM):i<=12&&(o.assign("hour",i+12),o.assign("meridiem",In.PM)):i>12?o.imply("meridiem",In.PM):i<=12&&o.imply("meridiem",In.AM),o.date().getTime()<n.start.date().getTime()&&o.imply("day",o.get("day")+1),o}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let r=e.text.match(/[^\d:.](\d[\d.]+)$/);if(r){let n=r[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let r=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(r){if(this.strictMode)return null;let n=r[1],o=r[2];if(o.includes(".")&&!o.match(/\d(\.\d{2})+$/))return null;let i=parseInt(o),a=parseInt(n);if(i>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),r=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===r?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=Qtn(this.primaryPatternLeftBoundary(),e,r,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=r,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),r=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===r?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=ern(e,r),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=r,this.cachedFollowingTimePatten)}};var q8=class extends Nne{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,r){let n=super.extractPrimaryTimeComponents(e,r);if(!n)return n;if(r[0].endsWith("night")){let o=n.get("hour");o>=6&&o<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",In.PM)):o<6&&n.assign("meridiem",In.AM)}if(r[0].endsWith("afternoon")){n.assign("meridiem",In.PM);let o=n.get("hour");o>=0&&o<=6&&n.assign("hour",n.get("hour")+12)}return r[0].endsWith("morning")&&(n.assign("meridiem",In.AM),n.get("hour")<12&&n.assign("hour",n.get("hour"))),n.addTag("parser/ENTimeExpressionParser")}};function VT(t){let e={};for(let r in t)e[r]=-t[r];return e}function nRt(t,e){let r=t.clone(),n=t.dayjs();for(let o in e)n=n.add(e[o],o);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(r.imply("day",n.date()),r.imply("month",n.month()+1),r.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(r.imply("second",n.second()),r.imply("minute",n.minute()),r.imply("hour",n.hour())),r}var trn=new RegExp(`(${cO})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),rrn=new RegExp(`(${HT})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),U8=class extends Io{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?rrn:trn}innerExtract(e,r){let n=pm(r[1]);if(!n)return null;let o=VT(n);return Gr.createRelativeFromReference(e.reference,o)}};var nrn=new RegExp(`(${cO})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),orn=new RegExp(`(${HT})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),irn=1,z8=class extends Io{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?orn:nrn}innerExtract(e,r){let n=pm(r[irn]);return n?Gr.createRelativeFromReference(e.reference,n):null}};var Lne=class{refine(e,r){return r.filter(n=>this.isValid(e,n))}},hm=class{refine(e,r){if(r.length<2)return r;let n=[],o=r[0],i=null;for(let a=1;a<r.length;a++){i=r[a];let s=e.text.substring(o.index+o.text.length,i.index);if(!this.shouldMergeResults(s,o,i,e))n.push(o),o=i;else{let u=o,l=i,c=this.mergeResults(s,u,l,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${l} into ${c}`)}),o=c}}return o!=null&&n.push(o),n}};var H8=class extends hm{shouldMergeResults(e,r,n){return!r.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,r,n){if(!r.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(i=>{r.start.isCertain(i)||r.start.imply(i,n.start.get(i))}),r.start.getCertainComponents().forEach(i=>{n.start.isCertain(i)||n.start.imply(i,r.start.get(i))})),r.start.date().getTime()>n.start.date().getTime()){let i=r.start.dayjs(),a=n.start.dayjs();n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(i)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):r.start.isOnlyWeekdayComponent()&&i.add(-7,"days").isBefore(a)?(i=i.add(-7,"days"),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year())):n.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(i)?(a=a.add(1,"years"),n.start.imply("year",a.year())):r.start.isDateWithUnknownYear()&&i.add(-1,"years").isBefore(a)?(i=i.add(-1,"years"),r.start.imply("year",i.year())):[n,r]=[r,n]}let o=r.clone();return o.start=r.start,o.end=n.start,o.index=Math.min(r.index,n.index),r.index<n.index?o.text=r.text+e+n.text:o.text=n.text+e+r.text,o}};var V8=class extends H8{patternBetween(){return/^\s*(to|-||until|through|till)\s*$/i}};function CPe(t,e){let r=t.clone(),n=t.start,o=e.start;if(r.start=oRt(n,o),t.end!=null||e.end!=null){let i=t.end==null?t.start:t.end,a=e.end==null?e.start:e.end,s=oRt(i,a);if(t.end==null&&s.date().getTime()<r.start.date().getTime()){let u=s.dayjs().add(1,"day");s.isCertain("day")?Vg(s,u):aD(s,u)}r.end=s}return r}function oRt(t,e){let r=t.clone();return e.isCertain("hour")?(r.assign("hour",e.get("hour")),r.assign("minute",e.get("minute")),e.isCertain("second")?(r.assign("second",e.get("second")),e.isCertain("millisecond")?r.assign("millisecond",e.get("millisecond")):r.imply("millisecond",e.get("millisecond"))):(r.imply("second",e.get("second")),r.imply("millisecond",e.get("millisecond")))):(r.imply("hour",e.get("hour")),r.imply("minute",e.get("minute")),r.imply("second",e.get("second")),r.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&r.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?r.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&r.get("meridiem")==null&&r.imply("meridiem",e.get("meridiem")),r.get("meridiem")==In.PM&&r.get("hour")<12&&(e.isCertain("hour")?r.assign("hour",r.get("hour")+12):r.imply("hour",r.get("hour")+12)),r.addTags(t.tags()),r.addTags(e.tags()),r}var W8=class extends hm{shouldMergeResults(e,r,n){return(r.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&r.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,r,n){let o=r.start.isOnlyDate()?CPe(r,n):CPe(n,r);return o.index=r.index,o.text=r.text+e+n.text,o}};var Hk=class extends W8{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|\u2219|:)?\\s*$")}};var arn=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),J8=class{constructor(e){this.timezoneOverrides=e}refine(e,r){let n=e.option.timezones??{};return r.forEach(o=>{let i=e.text.substring(o.index+o.text.length),a=arn.exec(i);if(!a)return;let s=a[1].toUpperCase(),u=o.start.date()??o.refDate??new Date,l={...this.timezoneOverrides,...n},c=Rne(s,u,l);if(c==null)return;e.debug(()=>{console.log(`Extracting timezone: '${s}' into: ${c} for: ${o.start}`)});let d=o.start.get("timezoneOffset");d!==null&&c!=d&&(o.start.isCertain("timezoneOffset")||s!=a[1])||o.start.isOnlyDate()&&s!=a[1]||(o.text+=a[0],o.start.isCertain("timezoneOffset")||o.start.assign("timezoneOffset",c),o.end!=null&&!o.end.isCertain("timezoneOffset")&&o.end.assign("timezoneOffset",c))}),r}};var srn=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),urn=1,lrn=2,crn=3,G8=class{refine(e,r){return r.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let o=e.text.substring(n.index+n.text.length),i=srn.exec(o);if(!i)return;e.debug(()=>{console.log(`Extracting timezone: '${i[0]}' into : ${n}`)});let a=parseInt(i[lrn]),s=parseInt(i[crn]||"0"),u=a*60+s;u>14*60||(i[urn]==="-"&&(u=-u),n.end!=null&&n.end.assign("timezoneOffset",u),n.start.assign("timezoneOffset",u),n.text+=i[0])}),r}};var WT=class{refine(e,r){if(r.length<2)return r;let n=[],o=r[0];for(let i=1;i<r.length;i++){let a=r[i];if(a.index>=o.index+o.text.length){n.push(o),o=a;continue}let s=null,u=null;a.text.length>o.text.length?(s=a,u=o):(s=o,u=a),e.debug(()=>{console.log(`${this.constructor.name} remove ${u} by ${s}`)}),o=s}return o!=null&&n.push(o),n}};var iRt=k(BT(),1);var K8=class{refine(e,r){return e.option.forwardDate&&r.forEach(n=>{let o=(0,iRt.default)(e.refDate);if(n.start.isOnlyTime()&&o.isAfter(n.start.dayjs())&&(o=o.add(1,"day"),aD(n.start,o),n.end&&n.end.isOnlyTime()&&(aD(n.end,o),n.start.dayjs().isAfter(n.end.dayjs())&&(o=o.add(1,"day"),aD(n.end,o))),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} time result (${n.start})`)})),n.start.isOnlyWeekdayComponent()&&o.isAfter(n.start.dayjs())&&(o.day()>=n.start.get("weekday")?o=o.day(n.start.get("weekday")+7):o=o.day(n.start.get("weekday")),n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(o.day()>n.end.get("weekday")?o=o.day(n.end.get("weekday")+7):o=o.day(n.end.get("weekday")),n.end.imply("day",o.date()),n.end.imply("month",o.month()+1),n.end.imply("year",o.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.end})`)}))),n.start.isDateWithUnknownYear()&&o.isAfter(n.start.dayjs()))for(let i=0;i<3&&o.isAfter(n.start.dayjs());i++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} year (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} month (${n.start})`)}))}),r}};var Y8=class extends Lne{constructor(e){super(),this.strictMode=e}isValid(e,r){return r.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${r.text}'`)}),!1):r.start.isValidDate()?r.end&&!r.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${r} (${r.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,r):!0:(e.debug(()=>{console.log(`Removing invalid result: ${r} (${r.start})`)}),!1)}isStrictModeValid(e,r){return r.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${r} (${r.end})`)}),!1):r.start.isOnlyTime()&&(!r.start.isCertain("hour")||!r.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${r} (${r.end})`)}),!1):!0}};var drn=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),frn=1,prn=2,hrn=3,aRt=4,mrn=5,sRt=6,uRt=7,grn=8,lRt=9,cRt=10,X8=class extends Io{innerPattern(){return drn}innerExtract(e,r){let n=e.createParsingComponents({year:parseInt(r[frn]),month:parseInt(r[prn]),day:parseInt(r[hrn])});if(r[aRt]!=null&&(n.assign("hour",parseInt(r[aRt])),n.assign("minute",parseInt(r[mrn])),r[sRt]!=null&&n.assign("second",parseInt(r[sRt])),r[uRt]!=null&&n.assign("millisecond",parseInt(r[uRt])),r[grn]!=null)){let o=0;if(r[lRt]){let i=parseInt(r[lRt]),a=0;r[cRt]!=null&&(a=parseInt(r[cRt])),o=i*60,o<0?o-=a:o+=a}n.assign("timezoneOffset",o)}return n.addTag("parser/ISOFormatParser")}};var Z8=class extends hm{mergeResults(e,r,n){let o=n.clone();return o.index=r.index,o.text=r.text+e+o.text,o.start.assign("weekday",r.start.get("weekday")),o.end&&o.end.assign("weekday",r.start.get("weekday")),o}shouldMergeResults(e,r,n){return r.start.isOnlyWeekdayComponent()&&!r.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};function dRt(t,e=!1){return t.parsers.unshift(new X8),t.refiners.unshift(new Z8),t.refiners.unshift(new G8),t.refiners.unshift(new WT),t.refiners.push(new J8),t.refiners.push(new WT),t.refiners.push(new K8),t.refiners.push(new Y8(e)),t}var CRt=k(BT(),1);var Vk=k(BT(),1);function fRt(t){let e=(0,Vk.default)(t.instant),r=new Gr(t,{});return Vg(r,e),Ane(r,e),t.timezoneOffset!==null&&r.assign("timezoneOffset",e.utcOffset()),r.addTag("casualReference/now"),r}function pRt(t){let e=(0,Vk.default)(t.instant),r=new Gr(t,{});return Vg(r,e),$k(r,e),r.addTag("casualReference/today"),r}function hRt(t){return yrn(t,1).addTag("casualReference/yesterday")}function yrn(t,e){return gRt(t,-e)}function mRt(t){return gRt(t,1).addTag("casualReference/tomorrow")}function gRt(t,e){let r=(0,Vk.default)(t.instant),n=new Gr(t,{});return r=r.add(e,"day"),Vg(n,r),$k(n,r),n}function yRt(t,e=22){let r=(0,Vk.default)(t.instant),n=new Gr(t,{});return Vg(n,r),n.imply("hour",e),n.imply("meridiem",In.PM),n.addTag("casualReference/tonight"),n}function bRt(t,e=20){let r=new Gr(t,{});return r.imply("meridiem",In.PM),r.imply("hour",e),r.addTag("casualReference/evening"),r}function _Rt(t){let e=new Gr(t,{}),r=(0,Vk.default)(t.instant);return r.hour()>2&&qAt(e,r),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/midnight"),e}function vRt(t,e=6){let r=new Gr(t,{});return r.imply("meridiem",In.AM),r.imply("hour",e),r.imply("minute",0),r.imply("second",0),r.imply("millisecond",0),r.addTag("casualReference/morning"),r}function wRt(t,e=15){let r=new Gr(t,{});return r.imply("meridiem",In.PM),r.imply("hour",e),r.imply("minute",0),r.imply("second",0),r.imply("millisecond",0),r.addTag("casualReference/afternoon"),r}function SRt(t){let e=new Gr(t,{});return e.imply("meridiem",In.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/noon"),e}var brn=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,Q8=class extends Io{innerPattern(e){return brn}innerExtract(e,r){let n=(0,CRt.default)(e.refDate),o=r[0].toLowerCase(),i=e.createParsingComponents();switch(o){case"now":i=fRt(e.reference);break;case"today":i=pRt(e.reference);break;case"yesterday":i=hRt(e.reference);break;case"tomorrow":case"tmr":case"tmrw":i=mRt(e.reference);break;case"tonight":i=yRt(e.reference);break;default:o.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),Vg(i,n),i.imply("hour",0));break}return i.addTag("parser/ENCasualDateParser"),i}};var _rn=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i,eH=class extends Io{innerPattern(){return _rn}innerExtract(e,r){let n=null;switch(r[1].toLowerCase()){case"afternoon":n=wRt(e.reference);break;case"evening":case"night":n=bRt(e.reference);break;case"midnight":n=_Rt(e.reference);break;case"morning":n=vRt(e.reference);break;case"noon":case"midday":n=SRt(e.reference);break}return n&&n.addTag("parser/ENCasualTimeParser"),n}};function ORt(t,e,r){let n=t.getDateWithAdjustedTimezone(),o=vrn(n,e,r),i=new Gr(t);return i=nRt(i,{day:o}),i.assign("weekday",e),i}function vrn(t,e,r){let n=t.getDay();switch(r){case"this":return Fne(t,e);case"last":return ERt(t,e);case"next":return n==Fu.SUNDAY?e==Fu.SUNDAY?7:e:n==Fu.SATURDAY?e==Fu.SATURDAY?7:e==Fu.SUNDAY?8:1+e:e<n&&e!=Fu.SUNDAY?Fne(t,e):Fne(t,e)+7}return wrn(t,e)}function wrn(t,e){let r=ERt(t,e),n=Fne(t,e);return n<-r?n:r}function Fne(t,e){let r=t.getDay(),n=e-r;return n<0&&(n+=7),n}function ERt(t,e){let r=t.getDay(),n=e-r;return n>=0&&(n-=7),n}var Srn=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${Sc(vPe)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),xrn=1,Crn=2,Orn=3,tH=class extends Io{innerPattern(){return Srn}innerExtract(e,r){let n=r[Crn].toLowerCase(),o=vPe[n],i=r[xrn],a=r[Orn],s=i||a;s=s||"",s=s.toLowerCase();let u=null;return s=="last"||s=="past"?u="last":s=="next"?u="next":s=="this"&&(u="this"),ORt(e.reference,o,u)}};var PRt=k(BT(),1);var Ern=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${Sc(D8)})(?=\\s*)(?=\\W|$)`,"i"),Prn=1,Trn=2,rH=class extends Io{innerPattern(){return Ern}innerExtract(e,r){let n=r[Prn].toLowerCase(),o=r[Trn].toLowerCase(),i=D8[o];if(n=="next"||n.startsWith("after")){let u={};return u[i]=1,Gr.createRelativeFromReference(e.reference,u)}if(n=="last"||n=="past"){let u={};return u[i]=-1,Gr.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),s=(0,PRt.default)(e.reference.instant);return o.match(/week/i)?(s=s.add(-s.get("d"),"d"),a.imply("day",s.date()),a.imply("month",s.month()+1),a.imply("year",s.year())):o.match(/month/i)?(s=s.add(-s.date()+1,"d"),a.imply("day",s.date()),a.assign("year",s.year()),a.assign("month",s.month()+1)):o.match(/year/i)&&(s=s.add(-s.date()+1,"d"),s=s.add(-s.month(),"month"),a.imply("day",s.date()),a.imply("month",s.month()+1),a.assign("year",s.year())),a}};var Mrn=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Arn=1,Rrn=5,TRt=2,MRt=3,OPe=4,nH=class{constructor(e){this.groupNumberMonth=e?MRt:TRt,this.groupNumberDay=e?TRt:MRt}pattern(){return Mrn}extract(e,r){let n=r.index+r[Arn].length,o=r.index+r[0].length-r[Rrn].length;if(n>0&&e.text.substring(0,n).match("\\d/?$")||o<e.text.length&&e.text.substring(o).match("^/?\\d"))return;let i=e.text.substring(n,o);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!r[OPe]&&i.indexOf("/")<0)return;let a=e.createParsingResult(n,i),s=parseInt(r[this.groupNumberMonth]),u=parseInt(r[this.groupNumberDay]);if((s<1||s>12)&&s>12)if(u>=1&&u<=12&&s<=31)[u,s]=[s,u];else return null;if(u<1||u>31)return null;if(a.start.assign("day",u),a.start.assign("month",s),r[OPe]){let l=parseInt(r[OPe]),c=Ine(l);a.start.assign("year",c)}else{let l=qT(e.refDate,u,s);a.start.imply("year",l)}return a}};var Irn=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${cO})(?=\\W|$)`,"i"),Drn=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${HT})(?=\\W|$)`,"i"),oH=class extends Io{constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?Irn:Drn}innerExtract(e,r){let n=r[1].toLowerCase(),o=pm(r[2]);if(!o)return null;switch(n){case"last":case"past":case"-":o=VT(o);break}return Gr.createRelativeFromReference(e.reference,o)}};function jrn(t){return t.text.match(/^[+-]/i)!=null}function ARt(t){return t.text.match(/^-/i)!=null}var iH=class extends hm{shouldMergeResults(e,r,n){return e.match(/^\s*$/i)?jrn(n)||ARt(n):!1}mergeResults(e,r,n,o){let i=pm(n.text);ARt(n)&&(i=VT(i));let a=Gr.createRelativeFromReference(new $T(r.start.date()),i);return new Wg(r.reference,r.index,`${r.text}${e}${n.text}`,a)}};function RRt(t){return t.text.match(/\s+(before|from)$/i)!=null}function Nrn(t){return t.text.match(/\s+(after|since)$/i)!=null}var aH=class extends hm{patternBetween(){return/^\s*$/i}shouldMergeResults(e,r,n){return!e.match(this.patternBetween())||!RRt(r)&&!Nrn(r)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,r,n){let o=pm(r.text);RRt(r)&&(o=VT(o));let i=Gr.createRelativeFromReference(new $T(n.start.date()),o);return new Wg(n.reference,r.index,`${r.text}${e}${n.text}`,i)}};var Lrn=new RegExp(`^\\s*(${UT})`,"i"),Frn=1,sH=class{refine(e,r){return r.forEach(function(n){if(!n.start.isDateWithUnknownYear())return;let o=e.text.substring(n.index+n.text.length),i=Lrn.exec(o);if(!i)return;e.debug(()=>{console.log(`Extracting year: '${i[0]}' into : ${n}`)});let a=zT(i[Frn]);n.end!=null&&n.end.assign("year",a),n.start.assign("year",a),n.text+=i[0]}),r}};var sD=class{createCasualConfiguration(e=!1){let r=this.createConfiguration(!1,e);return r.parsers.push(new Q8),r.parsers.push(new eH),r.parsers.push(new F8),r.parsers.push(new rH),r.parsers.push(new oH),r}createConfiguration(e=!0,r=!1){let n=dRt({parsers:[new nH(r),new j8(e),new N8,new L8(r),new tH,new k8,new q8(e),new U8(e),new z8(e)],refiners:[new Hk]},e);return n.parsers.unshift(new B8(e)),n.refiners.unshift(new aH),n.refiners.unshift(new iH),n.refiners.unshift(new WT),n.refiners.push(new Hk),n.refiners.push(new sH),n.refiners.push(new V8),n}};var dO=class{constructor(e){this.defaultConfig=new sD,e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new dO({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,r,n){let o=this.parse(e,r,n);return o.length>0?o[0].start.date():null}parse(e,r,n){let o=new EPe(e,r,n),i=[];return this.parsers.forEach(a=>{let s=dO.executeParser(o,a);i=i.concat(s)}),i.sort((a,s)=>a.index-s.index),this.refiners.forEach(function(a){i=a.refine(o,i)}),i}static executeParser(e,r){let n=[],o=r.pattern(e),i=e.text,a=e.text,s=o.exec(a);for(;s;){let u=s.index+i.length-a.length;s.index=u;let l=r.extract(e,s);if(!l){a=i.substring(s.index+1),s=o.exec(a);continue}let c=null;l instanceof Wg?c=l:l instanceof Gr?(c=e.createParsingResult(s.index,s[0]),c.start=l):c=e.createParsingResult(s.index,s[0],l);let d=c.index,f=c.text;e.debug(()=>console.log(`${r.constructor.name} extracted (at index=${d}) '${f}'`)),n.push(c),a=i.substring(d+f.length),s=o.exec(a)}return n}},EPe=class{constructor(e,r,n){this.text=e,this.reference=new $T(r),this.option=n??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof Gr?e:new Gr(this.reference,e)}createParsingResult(e,r,n,o){let i=typeof r=="string"?r:this.text.substring(e,r),a=n?this.createParsingComponents(n):null,s=o?this.createParsingComponents(o):null;return new Wg(this.reference,e,i,a,s)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};var PPe=new sD,IRt=new dO(PPe.createCasualConfiguration(!1)),Brn=new dO(PPe.createConfiguration(!0,!1)),EDo=new dO(PPe.createCasualConfiguration(!0));var $rn=IRt;function TPe(t,e,r){return $rn.parse(t,e,r)}var fO=class extends Error{},Bne=class extends fO{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},kne=class extends fO{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},$ne=class extends fO{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Jg=class extends fO{},Wk=class extends fO{constructor(e){super(`Invalid unit ${e}`)}},Wa=class extends fO{},Gg=class extends fO{constructor(){super("Zone is an abstract class")}};var Ve="numeric",Kg="short",qp="long",JT={year:Ve,month:Ve,day:Ve},uH={year:Ve,month:Kg,day:Ve},MPe={year:Ve,month:Kg,day:Ve,weekday:Kg},lH={year:Ve,month:qp,day:Ve},cH={year:Ve,month:qp,day:Ve,weekday:qp},dH={hour:Ve,minute:Ve},fH={hour:Ve,minute:Ve,second:Ve},pH={hour:Ve,minute:Ve,second:Ve,timeZoneName:Kg},hH={hour:Ve,minute:Ve,second:Ve,timeZoneName:qp},mH={hour:Ve,minute:Ve,hourCycle:"h23"},gH={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23"},yH={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:Kg},bH={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:qp},_H={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve},vH={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve,second:Ve},wH={year:Ve,month:Kg,day:Ve,hour:Ve,minute:Ve},SH={year:Ve,month:Kg,day:Ve,hour:Ve,minute:Ve,second:Ve},APe={year:Ve,month:Kg,day:Ve,weekday:Kg,hour:Ve,minute:Ve},xH={year:Ve,month:qp,day:Ve,hour:Ve,minute:Ve,timeZoneName:Kg},CH={year:Ve,month:qp,day:Ve,hour:Ve,minute:Ve,second:Ve,timeZoneName:Kg},OH={year:Ve,month:qp,day:Ve,weekday:qp,hour:Ve,minute:Ve,timeZoneName:qp},EH={year:Ve,month:qp,day:Ve,weekday:qp,hour:Ve,minute:Ve,second:Ve,timeZoneName:qp};var Wf=class{get type(){throw new Gg}get name(){throw new Gg}get ianaName(){return this.name}get isUniversal(){throw new Gg}offsetName(e,r){throw new Gg}formatOffset(e,r){throw new Gg}offset(e){throw new Gg}equals(e){throw new Gg}get isValid(){throw new Gg}};var RPe=null,bS=class extends Wf{static get instance(){return RPe===null&&(RPe=new bS),RPe}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Une(e,r,n)}formatOffset(e,r){return GT(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var Hne={};function Urn(t){return Hne[t]||(Hne[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Hne[t]}var zrn={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Hrn(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,o,i,a,s,u,l,c]=n;return[a,o,i,s,u,l,c]}function Vrn(t,e){let r=t.formatToParts(e),n=[];for(let o=0;o<r.length;o++){let{type:i,value:a}=r[o],s=zrn[i];i==="era"?n[s]=a:jt(s)||(n[s]=parseInt(a,10))}return n}var zne={},ul=class extends Wf{static create(e){return zne[e]||(zne[e]=new ul(e)),zne[e]}static resetCache(){zne={},Hne={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ul.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Une(e,r,n,this.name)}formatOffset(e,r){return GT(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=Urn(this.name),[o,i,a,s,u,l,c]=n.formatToParts?Vrn(n,r):Hrn(n,r);s==="BC"&&(o=-Math.abs(o)+1);let f=Jk({year:o,month:i,day:a,hour:u===24?0:u,minute:l,second:c,millisecond:0}),p=+r,m=p%1e3;return p-=m>=0?m:1e3+m,(f-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var DRt={};function Wrn(t,e={}){let r=JSON.stringify([t,e]),n=DRt[r];return n||(n=new Intl.ListFormat(t,e),DRt[r]=n),n}var IPe={};function DPe(t,e={}){let r=JSON.stringify([t,e]),n=IPe[r];return n||(n=new Intl.DateTimeFormat(t,e),IPe[r]=n),n}var jPe={};function Jrn(t,e={}){let r=JSON.stringify([t,e]),n=jPe[r];return n||(n=new Intl.NumberFormat(t,e),jPe[r]=n),n}var NPe={};function Grn(t,e={}){let{base:r,...n}=e,o=JSON.stringify([t,n]),i=NPe[o];return i||(i=new Intl.RelativeTimeFormat(t,e),NPe[o]=i),i}var PH=null;function Krn(){return PH||(PH=new Intl.DateTimeFormat().resolvedOptions().locale,PH)}var jRt={};function Yrn(t){let e=jRt[t];if(!e){let r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,jRt[t]=e}return e}function Xrn(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,o;try{n=DPe(t).resolvedOptions(),o=t}catch{let u=t.substring(0,r);n=DPe(u).resolvedOptions(),o=u}let{numberingSystem:i,calendar:a}=n;return[o,i,a]}}function Zrn(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function Qrn(t){let e=[];for(let r=1;r<=12;r++){let n=at.utc(2009,r,1);e.push(t(n))}return e}function enn(t){let e=[];for(let r=1;r<=7;r++){let n=at.utc(2016,11,13+r);e.push(t(n))}return e}function Vne(t,e,r,n){let o=t.listingMode();return o==="error"?null:o==="en"?r(e):n(e)}function tnn(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var LPe=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:o,floor:i,...a}=n;if(!r||Object.keys(a).length>0){let s={useGrouping:!1,...n};n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=Jrn(e,s)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Gk(e,3);return xa(r,this.padTo)}}},FPe=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let o;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),s=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&ul.create(s).valid?(o=s,this.dt=e):(o="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,o=e.zone.name):(o="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let i={...this.opts};i.timeZone=i.timeZone||o,this.dtf=DPe(r,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},BPe=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&Wne()&&(this.rtf=Grn(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):NRt(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},rnn={firstDay:1,minimalDays:4,weekend:[6,7]},Kr=class{static fromOpts(e){return Kr.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,o,i=!1){let a=e||mo.defaultLocale,s=a||(i?"en-US":Krn()),u=r||mo.defaultNumberingSystem,l=n||mo.defaultOutputCalendar,c=TH(o)||mo.defaultWeekSettings;return new Kr(s,u,l,c,a)}static resetCache(){PH=null,IPe={},jPe={},NPe={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:o}={}){return Kr.create(e,r,n,o)}constructor(e,r,n,o,i){let[a,s,u]=Xrn(e);this.locale=a,this.numberingSystem=r||s||null,this.outputCalendar=n||u||null,this.weekSettings=o,this.intl=Zrn(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=tnn(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Kr.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,TH(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Vne(this,e,kPe,()=>{let n=r?{month:e,day:"numeric"}:{month:e},o=r?"format":"standalone";return this.monthsCache[o][e]||(this.monthsCache[o][e]=Qrn(i=>this.extract(i,n,"month"))),this.monthsCache[o][e]})}weekdays(e,r=!1){return Vne(this,e,$Pe,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=r?"format":"standalone";return this.weekdaysCache[o][e]||(this.weekdaysCache[o][e]=enn(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[o][e]})}meridiems(){return Vne(this,void 0,()=>qPe,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[at.utc(2016,11,13,9),at.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Vne(this,e,UPe,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[at.utc(-40,1,1),at.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let o=this.dtFormatter(e,r),i=o.formatToParts(),a=i.find(s=>s.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new LPe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new FPe(e,this.intl,r)}relFormatter(e={}){return new BPe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Wrn(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Jne()?Yrn(this.locale):rnn}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var HPe=null,Ca=class extends Wf{static get utcInstance(){return HPe===null&&(HPe=new Ca(0)),HPe}static instance(e){return e===0?Ca.utcInstance:new Ca(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Ca(uD(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${GT(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${GT(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return GT(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var Kk=class extends Wf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Yg(t,e){let r;if(jt(t)||t===null)return e;if(t instanceof Wf)return t;if(LRt(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?bS.instance:n==="utc"||n==="gmt"?Ca.utcInstance:Ca.parseSpecifier(n)||ul.create(t)}else return Xg(t)?Ca.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Kk(t)}var VPe={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},FRt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},nnn=VPe.hanidec.replace(/[\[|\]]/g,"").split("");function BRt(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(VPe.hanidec)!==-1)e+=nnn.indexOf(t[r]);else for(let o in FRt){let[i,a]=FRt[o];n>=i&&n<=a&&(e+=n-i)}}return parseInt(e,10)}else return e}var Yk={};function kRt(){Yk={}}function mm({numberingSystem:t},e=""){let r=t||"latn";return Yk[r]||(Yk[r]={}),Yk[r][e]||(Yk[r][e]=new RegExp(`${VPe[r]}${e}`)),Yk[r][e]}var $Rt=()=>Date.now(),qRt="system",URt=null,zRt=null,HRt=null,VRt=60,WRt,JRt=null,mo=class{static get now(){return $Rt}static set now(e){$Rt=e}static set defaultZone(e){qRt=e}static get defaultZone(){return Yg(qRt,bS.instance)}static get defaultLocale(){return URt}static set defaultLocale(e){URt=e}static get defaultNumberingSystem(){return zRt}static set defaultNumberingSystem(e){zRt=e}static get defaultOutputCalendar(){return HRt}static set defaultOutputCalendar(e){HRt=e}static get defaultWeekSettings(){return JRt}static set defaultWeekSettings(e){JRt=TH(e)}static get twoDigitCutoffYear(){return VRt}static set twoDigitCutoffYear(e){VRt=e%100}static get throwOnInvalid(){return WRt}static set throwOnInvalid(e){WRt=e}static resetCaches(){Kr.resetCache(),ul.resetCache(),at.resetCache(),kRt()}};var $l=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var GRt=[0,31,59,90,120,151,181,212,243,273,304,334],KRt=[0,31,60,91,121,152,182,213,244,274,305,335];function gm(t,e){return new $l("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Gne(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let o=n.getUTCDay();return o===0?7:o}function YRt(t,e,r){return r+(cD(t)?KRt:GRt)[e-1]}function XRt(t,e){let r=cD(t)?KRt:GRt,n=r.findIndex(i=>i<e),o=e-r[n];return{month:n+1,day:o}}function Kne(t,e){return(t-e+7)%7+1}function MH(t,e=4,r=1){let{year:n,month:o,day:i}=t,a=YRt(n,o,i),s=Kne(Gne(n,o,i),r),u=Math.floor((a-s+14-e)/7),l;return u<1?(l=n-1,u=lD(l,e,r)):u>lD(n,e,r)?(l=n+1,u=1):l=n,{weekYear:l,weekNumber:u,weekday:s,...RH(t)}}function WPe(t,e=4,r=1){let{weekYear:n,weekNumber:o,weekday:i}=t,a=Kne(Gne(n,1,e),r),s=KT(n),u=o*7+i-a-7+e,l;u<1?(l=n-1,u+=KT(l)):u>s?(l=n+1,u-=KT(n)):l=n;let{month:c,day:d}=XRt(l,u);return{year:l,month:c,day:d,...RH(t)}}function Yne(t){let{year:e,month:r,day:n}=t,o=YRt(e,r,n);return{year:e,ordinal:o,...RH(t)}}function JPe(t){let{year:e,ordinal:r}=t,{month:n,day:o}=XRt(e,r);return{year:e,month:n,day:o,...RH(t)}}function GPe(t,e){if(!jt(t.localWeekday)||!jt(t.localWeekNumber)||!jt(t.localWeekYear)){if(!jt(t.weekday)||!jt(t.weekNumber)||!jt(t.weekYear))throw new Jg("Cannot mix locale-based week fields with ISO-based week fields");return jt(t.localWeekday)||(t.weekday=t.localWeekday),jt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),jt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ZRt(t,e=4,r=1){let n=AH(t.weekYear),o=Up(t.weekNumber,1,lD(t.weekYear,e,r)),i=Up(t.weekday,1,7);return n?o?i?!1:gm("weekday",t.weekday):gm("week",t.weekNumber):gm("weekYear",t.weekYear)}function QRt(t){let e=AH(t.year),r=Up(t.ordinal,1,KT(t.year));return e?r?!1:gm("ordinal",t.ordinal):gm("year",t.year)}function KPe(t){let e=AH(t.year),r=Up(t.month,1,12),n=Up(t.day,1,Xk(t.year,t.month));return e?r?n?!1:gm("day",t.day):gm("month",t.month):gm("year",t.year)}function YPe(t){let{hour:e,minute:r,second:n,millisecond:o}=t,i=Up(e,0,23)||e===24&&r===0&&n===0&&o===0,a=Up(r,0,59),s=Up(n,0,59),u=Up(o,0,999);return i?a?s?u?!1:gm("millisecond",o):gm("second",n):gm("minute",r):gm("hour",e)}function jt(t){return typeof t>"u"}function Xg(t){return typeof t=="number"}function AH(t){return typeof t=="number"&&t%1===0}function LRt(t){return typeof t=="string"}function tIt(t){return Object.prototype.toString.call(t)==="[object Date]"}function Wne(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Jne(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function rIt(t){return Array.isArray(t)?t:[t]}function XPe(t,e,r){if(t.length!==0)return t.reduce((n,o)=>{let i=[e(o),o];return n&&r(n[0],i[0])===n[0]?n:i},null)[1]}function nIt(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function YT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function TH(t){if(t==null)return null;if(typeof t!="object")throw new Wa("Week settings must be an object");if(!Up(t.firstDay,1,7)||!Up(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Up(e,1,7)))throw new Wa("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Up(t,e,r){return AH(t)&&t>=e&&t<=r}function onn(t,e){return t-e*Math.floor(t/e)}function xa(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function pO(t){if(!(jt(t)||t===null||t===""))return parseInt(t,10)}function XT(t){if(!(jt(t)||t===null||t===""))return parseFloat(t)}function IH(t){if(!(jt(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Gk(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function cD(t){return t%4===0&&(t%100!==0||t%400===0)}function KT(t){return cD(t)?366:365}function Xk(t,e){let r=onn(e-1,12)+1,n=t+(e-r)/12;return r===2?cD(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Jk(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function eIt(t,e,r){return-Kne(Gne(t,1,e),r)+e-1}function lD(t,e=4,r=1){let n=eIt(t,e,r),o=eIt(t+1,e,r);return(KT(t)-n+o)/7}function DH(t){return t>99?t:t>mo.twoDigitCutoffYear?1900+t:2e3+t}function Une(t,e,r,n=null){let o=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);let a={timeZoneName:e,...i},s=new Intl.DateTimeFormat(r,a).formatToParts(o).find(u=>u.type.toLowerCase()==="timezonename");return s?s.value:null}function uD(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,o=r<0||Object.is(r,-0)?-n:n;return r*60+o}function ZPe(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Wa(`Invalid unit value ${t}`);return e}function Zk(t,e){let r={};for(let n in t)if(YT(t,n)){let o=t[n];if(o==null)continue;r[e(n)]=ZPe(o)}return r}function GT(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),o=t>=0?"+":"-";switch(e){case"short":return`${o}${xa(r,2)}:${xa(n,2)}`;case"narrow":return`${o}${r}${n>0?`:${n}`:""}`;case"techie":return`${o}${xa(r,2)}${xa(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function RH(t){return nIt(t,["hour","minute","second","millisecond"])}var inn=["January","February","March","April","May","June","July","August","September","October","November","December"],QPe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ann=["J","F","M","A","M","J","J","A","S","O","N","D"];function kPe(t){switch(t){case"narrow":return[...ann];case"short":return[...QPe];case"long":return[...inn];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var eTe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tTe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],snn=["M","T","W","T","F","S","S"];function $Pe(t){switch(t){case"narrow":return[...snn];case"short":return[...tTe];case"long":return[...eTe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var qPe=["AM","PM"],unn=["Before Christ","Anno Domini"],lnn=["BC","AD"],cnn=["B","A"];function UPe(t){switch(t){case"narrow":return[...cnn];case"short":return[...lnn];case"long":return[...unn];default:return null}}function oIt(t){return qPe[t.hour<12?0:1]}function iIt(t,e){return $Pe(e)[t.weekday-1]}function aIt(t,e){return kPe(e)[t.month-1]}function sIt(t,e){return UPe(e)[t.year<0?0:1]}function NRt(t,e,r="always",n=!1){let o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&i){let d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${o[t][0]}`;case-1:return d?"yesterday":`last ${o[t][0]}`;case 0:return d?"today":`this ${o[t][0]}`;default:}}let a=Object.is(e,-0)||e<0,s=Math.abs(e),u=s===1,l=o[t],c=n?u?l[1]:l[2]||l[1]:u?o[t][0]:t;return a?`${s} ${c} ago`:`in ${s} ${c}`}function uIt(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var dnn={D:JT,DD:uH,DDD:lH,DDDD:cH,t:dH,tt:fH,ttt:pH,tttt:hH,T:mH,TT:gH,TTT:yH,TTTT:bH,f:_H,ff:wH,fff:xH,ffff:OH,F:vH,FF:SH,FFF:CH,FFFF:EH},Oa=class{static create(e,r={}){return new Oa(e,r)}static parseFormat(e){let r=null,n="",o=!1,i=[];for(let a=0;a<e.length;a++){let s=e.charAt(a);s==="'"?(n.length>0&&i.push({literal:o||/^\s+$/.test(n),val:n}),r=null,n="",o=!o):o||s===r?n+=s:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=s,r=s)}return n.length>0&&i.push({literal:o||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return dnn[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return xa(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,m)=>this.loc.extract(e,p,m),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",s=()=>n?oIt(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,m)=>n?aIt(e,p):i(m?{month:p}:{month:p,day:"numeric"},"month"),l=(p,m)=>n?iIt(e,p):i(m?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),c=p=>{let m=Oa.macroTokenToFormatOpts(p);return m?this.formatWithSystemDefault(e,m):p},d=p=>n?sIt(e,p):i({era:p},"era"),f=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return o?i({day:"numeric"},"day"):this.num(e.day);case"dd":return o?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return o?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return o?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return o?i({month:"numeric"},"month"):this.num(e.month);case"MM":return o?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return o?i({year:"numeric"},"year"):this.num(e.year);case"yy":return o?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return o?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return o?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(p)}};return uIt(Oa.parseFormat(r),f)}formatDurationFromString(e,r){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=u=>l=>{let c=n(l);return c?this.num(u.get(c),l.length):l},i=Oa.parseFormat(r),a=i.reduce((u,{literal:l,val:c})=>l?u:u.concat(c),[]),s=e.shiftTo(...a.map(n).filter(u=>u));return uIt(i,o(s))}};var cIt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function e$(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function t$(...t){return e=>t.reduce(([r,n,o],i)=>{let[a,s,u]=i(e,o);return[{...r,...a},s||n,u]},[{},null,1]).slice(0,2)}function r$(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let o=r.exec(t);if(o)return n(o)}return[null,null]}function dIt(...t){return(e,r)=>{let n={},o;for(o=0;o<t.length;o++)n[t[o]]=pO(e[r+o]);return[n,null,r+o]}}var fIt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,fnn=`(?:${fIt.source}?(?:\\[(${cIt.source})\\])?)?`,rTe=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,pIt=RegExp(`${rTe.source}${fnn}`),nTe=RegExp(`(?:T${pIt.source})?`),pnn=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,hnn=/(\d{4})-?W(\d\d)(?:-?(\d))?/,mnn=/(\d{4})-?(\d{3})/,gnn=dIt("weekYear","weekNumber","weekDay"),ynn=dIt("year","ordinal"),bnn=/(\d{4})-(\d\d)-(\d\d)/,hIt=RegExp(`${rTe.source} ?(?:${fIt.source}|(${cIt.source}))?`),_nn=RegExp(`(?: ${hIt.source})?`);function Qk(t,e,r){let n=t[e];return jt(n)?r:pO(n)}function vnn(t,e){return[{year:Qk(t,e),month:Qk(t,e+1,1),day:Qk(t,e+2,1)},null,e+3]}function n$(t,e){return[{hours:Qk(t,e,0),minutes:Qk(t,e+1,0),seconds:Qk(t,e+2,0),milliseconds:IH(t[e+3])},null,e+4]}function jH(t,e){let r=!t[e]&&!t[e+1],n=uD(t[e+1],t[e+2]),o=r?null:Ca.instance(n);return[{},o,e+3]}function NH(t,e){let r=t[e]?ul.create(t[e]):null;return[{},r,e+1]}var wnn=RegExp(`^T?${rTe.source}$`),Snn=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function xnn(t){let[e,r,n,o,i,a,s,u,l]=t,c=e[0]==="-",d=u&&u[0]==="-",f=(p,m=!1)=>p!==void 0&&(m||p&&c)?-p:p;return[{years:f(XT(r)),months:f(XT(n)),weeks:f(XT(o)),days:f(XT(i)),hours:f(XT(a)),minutes:f(XT(s)),seconds:f(XT(u),u==="-0"),milliseconds:f(IH(l),d)}]}var Cnn={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function oTe(t,e,r,n,o,i,a){let s={year:e.length===2?DH(pO(e)):pO(e),month:QPe.indexOf(r)+1,day:pO(n),hour:pO(o),minute:pO(i)};return a&&(s.second=pO(a)),t&&(s.weekday=t.length>3?eTe.indexOf(t)+1:tTe.indexOf(t)+1),s}var Onn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Enn(t){let[,e,r,n,o,i,a,s,u,l,c,d]=t,f=oTe(e,o,n,r,i,a,s),p;return u?p=Cnn[u]:l?p=0:p=uD(c,d),[f,new Ca(p)]}function Pnn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Tnn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Mnn=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ann=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function lIt(t){let[,e,r,n,o,i,a,s]=t;return[oTe(e,o,n,r,i,a,s),Ca.utcInstance]}function Rnn(t){let[,e,r,n,o,i,a,s]=t;return[oTe(e,s,r,n,o,i,a),Ca.utcInstance]}var Inn=e$(pnn,nTe),Dnn=e$(hnn,nTe),jnn=e$(mnn,nTe),Nnn=e$(pIt),mIt=t$(vnn,n$,jH,NH),Lnn=t$(gnn,n$,jH,NH),Fnn=t$(ynn,n$,jH,NH),Bnn=t$(n$,jH,NH);function gIt(t){return r$(t,[Inn,mIt],[Dnn,Lnn],[jnn,Fnn],[Nnn,Bnn])}function yIt(t){return r$(Pnn(t),[Onn,Enn])}function bIt(t){return r$(t,[Tnn,lIt],[Mnn,lIt],[Ann,Rnn])}function _It(t){return r$(t,[Snn,xnn])}var knn=t$(n$);function vIt(t){return r$(t,[wnn,knn])}var $nn=e$(bnn,_nn),qnn=e$(hIt),Unn=t$(n$,jH,NH);function wIt(t){return r$(t,[$nn,mIt],[qnn,Unn])}var SIt="Invalid Duration",CIt={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},znn={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...CIt},ym=146097/400,o$=146097/4800,Hnn={years:{quarters:4,months:12,weeks:ym/7,days:ym,hours:ym*24,minutes:ym*24*60,seconds:ym*24*60*60,milliseconds:ym*24*60*60*1e3},quarters:{months:3,weeks:ym/28,days:ym/4,hours:ym*24/4,minutes:ym*24*60/4,seconds:ym*24*60*60/4,milliseconds:ym*24*60*60*1e3/4},months:{weeks:o$/7,days:o$,hours:o$*24,minutes:o$*24*60,seconds:o$*24*60*60,milliseconds:o$*24*60*60*1e3},...CIt},dD=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vnn=dD.slice(0).reverse();function ZT(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Fr(n)}function OIt(t,e){let r=e.milliseconds??0;for(let n of Vnn.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function xIt(t,e){let r=OIt(t,e)<0?-1:1;dD.reduceRight((n,o)=>{if(jt(e[o]))return n;if(n){let i=e[n]*r,a=t[o][n],s=Math.floor(i/a);e[o]+=s*r,e[n]-=s*a*r}return o},null),dD.reduce((n,o)=>{if(jt(e[o]))return n;if(n){let i=e[n]%1;e[n]-=i,e[o]+=i*t[n][o]}return o},null)}function Wnn(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var Fr=class{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?Hnn:znn;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Kr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return Fr.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Wa(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Fr({values:Zk(e,Fr.normalizeUnit),loc:Kr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Xg(e))return Fr.fromMillis(e);if(Fr.isDuration(e))return e;if(typeof e=="object")return Fr.fromObject(e);throw new Wa(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=_It(e);return n?Fr.fromObject(n,r):Fr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=vIt(e);return n?Fr.fromObject(n,r):Fr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Wa("need to specify a reason the Duration is invalid");let n=e instanceof $l?e:new $l(e,r);if(mo.throwOnInvalid)throw new $ne(n);return new Fr({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new Wk(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Oa.create(this.loc,n).formatDurationFromString(this,e):SIt}toHuman(e={}){if(!this.isValid)return SIt;let r=dD.map(n=>{let o=this.values[n];return jt(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(o)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Gk(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},at.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?OIt(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=Fr.fromDurationLike(e),n={};for(let o of dD)(YT(r.values,o)||YT(this.values,o))&&(n[o]=r.get(o)+this.get(o));return ZT(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=Fr.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=ZPe(e(this.values[n],n));return ZT(this,{values:r},!0)}get(e){return this[Fr.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...Zk(e,Fr.normalizeUnit)};return ZT(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:o}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:o,conversionAccuracy:n};return ZT(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return xIt(this.matrix,e),ZT(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=Wnn(this.normalize().shiftToAll().toObject());return ZT(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Fr.normalizeUnit(a));let r={},n={},o=this.toObject(),i;for(let a of dD)if(e.indexOf(a)>=0){i=a;let s=0;for(let l in n)s+=this.matrix[l][a]*n[l],n[l]=0;Xg(o[a])&&(s+=o[a]);let u=Math.trunc(s);r[a]=u,n[a]=(s*1e3-u*1e3)/1e3}else Xg(o[a])&&(n[a]=o[a]);for(let a in n)n[a]!==0&&(r[i]+=a===i?n[a]:n[a]/this.matrix[i][a]);return xIt(this.matrix,r),ZT(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ZT(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,o){return n===void 0||n===0?o===void 0||o===0:n===o}for(let n of dD)if(!r(this.values[n],e.values[n]))return!1;return!0}};var i$="Invalid Interval";function Jnn(t,e){return!t||!t.isValid?ei.invalid("missing or invalid start"):!e||!e.isValid?ei.invalid("missing or invalid end"):e<t?ei.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var ei=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Wa("need to specify a reason the Interval is invalid");let n=e instanceof $l?e:new $l(e,r);if(mo.throwOnInvalid)throw new kne(n);return new ei({invalid:n})}static fromDateTimes(e,r){let n=a$(e),o=a$(r),i=Jnn(n,o);return i??new ei({start:n,end:o})}static after(e,r){let n=Fr.fromDurationLike(r),o=a$(e);return ei.fromDateTimes(o,o.plus(n))}static before(e,r){let n=Fr.fromDurationLike(r),o=a$(e);return ei.fromDateTimes(o.minus(n),o)}static fromISO(e,r){let[n,o]=(e||"").split("/",2);if(n&&o){let i,a;try{i=at.fromISO(n,r),a=i.isValid}catch{a=!1}let s,u;try{s=at.fromISO(o,r),u=s.isValid}catch{u=!1}if(a&&u)return ei.fromDateTimes(i,s);if(a){let l=Fr.fromISO(o,r);if(l.isValid)return ei.after(i,l)}else if(u){let l=Fr.fromISO(n,r);if(l.isValid)return ei.before(s,l)}}return ei.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;let n=this.start.startOf(e,r),o;return r?.useLocaleWeeks?o=this.end.reconfigure({locale:n.locale}):o=this.end,o=o.startOf(e,r),Math.floor(o.diff(n,e).get(e))+(o.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ei.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(a$).filter(a=>this.contains(a)).sort((a,s)=>a.toMillis()-s.toMillis()),n=[],{s:o}=this,i=0;for(;o<this.e;){let a=r[i]||this.e,s=+a>+this.e?this.e:a;n.push(ei.fromDateTimes(o,s)),o=s,i+=1}return n}splitBy(e){let r=Fr.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,o=1,i,a=[];for(;n<this.e;){let s=this.start.plus(r.mapUnits(u=>u*o));i=+s>+this.e?this.e:s,a.push(ei.fromDateTimes(n,i)),n=i,o+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ei.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ei.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((o,i)=>o.s-i.s).reduce(([o,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[o,i.union(a)]:[o.concat([i]),a]:[o,a],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,o=[],i=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),s=a.sort((u,l)=>u.time-l.time);for(let u of s)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&o.push(ei.fromDateTimes(r,u.time)),r=null);return ei.merge(o)}difference(...e){return ei.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:i$}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=JT,r={}){return this.isValid?Oa.create(this.s.loc.clone(r),e).formatInterval(this):i$}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:i$}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:i$}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:i$}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:i$}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Fr.invalid(this.invalidReason)}mapEndpoints(e){return ei.fromDateTimes(e(this.s),e(this.e))}};var hO=class{static hasDST(e=mo.defaultZone){let r=at.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return ul.isValidZone(e)}static normalizeZone(e){return Yg(e,mo.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Kr.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Kr.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Kr.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Kr.create(r,n,i)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:o=null,outputCalendar:i="gregory"}={}){return(o||Kr.create(r,n,i)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:o=null}={}){return(o||Kr.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:o=null}={}){return(o||Kr.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Kr.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Kr.create(r,null,"gregory").eras(e)}static features(){return{relative:Wne(),localeWeek:Jne()}}};function EIt(t,e){let r=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Fr.fromMillis(n).as("days"))}function Gnn(t,e,r){let n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let c=EIt(u,l);return(c-c%7)/7}],["days",EIt]],o={},i=t,a,s;for(let[u,l]of n)r.indexOf(u)>=0&&(a=u,o[u]=l(t,e),s=i.plus(o),s>e?(o[u]--,t=i.plus(o),t>e&&(s=t,o[u]--,t=i.plus(o))):t=s);return[t,o,s,a]}function PIt(t,e,r,n){let[o,i,a,s]=Gnn(t,e,r),u=e-o,l=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);l.length===0&&(a<e&&(a=o.plus({[s]:1})),a!==o&&(i[s]=(i[s]||0)+u/(a-o)));let c=Fr.fromObject(i,n);return l.length>0?Fr.fromMillis(u,n).shiftTo(...l).plus(c):c}var Knn="missing Intl.DateTimeFormat.formatToParts support";function Eo(t,e=r=>r){return{regex:t,deser:([r])=>e(BRt(r))}}var Ynn=String.fromCharCode(160),AIt=`[ ${Ynn}]`,RIt=new RegExp(AIt,"g");function Xnn(t){return t.replace(/\./g,"\\.?").replace(RIt,AIt)}function TIt(t){return t.replace(/\./g,"").replace(RIt," ").toLowerCase()}function Zg(t,e){return t===null?null:{regex:RegExp(t.map(Xnn).join("|")),deser:([r])=>t.findIndex(n=>TIt(r)===TIt(n))+e}}function MIt(t,e){return{regex:t,deser:([,r,n])=>uD(r,n),groups:e}}function Xne(t){return{regex:t,deser:([e])=>e}}function Znn(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Qnn(t,e){let r=mm(e),n=mm(e,"{2}"),o=mm(e,"{3}"),i=mm(e,"{4}"),a=mm(e,"{6}"),s=mm(e,"{1,2}"),u=mm(e,"{1,3}"),l=mm(e,"{1,6}"),c=mm(e,"{1,9}"),d=mm(e,"{2,4}"),f=mm(e,"{4,6}"),p=v=>({regex:RegExp(Znn(v.val)),deser:([g])=>g,literal:!0}),h=(v=>{if(t.literal)return p(v);switch(v.val){case"G":return Zg(e.eras("short"),0);case"GG":return Zg(e.eras("long"),0);case"y":return Eo(l);case"yy":return Eo(d,DH);case"yyyy":return Eo(i);case"yyyyy":return Eo(f);case"yyyyyy":return Eo(a);case"M":return Eo(s);case"MM":return Eo(n);case"MMM":return Zg(e.months("short",!0),1);case"MMMM":return Zg(e.months("long",!0),1);case"L":return Eo(s);case"LL":return Eo(n);case"LLL":return Zg(e.months("short",!1),1);case"LLLL":return Zg(e.months("long",!1),1);case"d":return Eo(s);case"dd":return Eo(n);case"o":return Eo(u);case"ooo":return Eo(o);case"HH":return Eo(n);case"H":return Eo(s);case"hh":return Eo(n);case"h":return Eo(s);case"mm":return Eo(n);case"m":return Eo(s);case"q":return Eo(s);case"qq":return Eo(n);case"s":return Eo(s);case"ss":return Eo(n);case"S":return Eo(u);case"SSS":return Eo(o);case"u":return Xne(c);case"uu":return Xne(s);case"uuu":return Eo(r);case"a":return Zg(e.meridiems(),0);case"kkkk":return Eo(i);case"kk":return Eo(d,DH);case"W":return Eo(s);case"WW":return Eo(n);case"E":case"c":return Eo(r);case"EEE":return Zg(e.weekdays("short",!1),1);case"EEEE":return Zg(e.weekdays("long",!1),1);case"ccc":return Zg(e.weekdays("short",!0),1);case"cccc":return Zg(e.weekdays("long",!0),1);case"Z":case"ZZ":return MIt(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return MIt(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return Xne(/[a-z_+-/]{1,256}?/i);case" ":return Xne(/[^\S\n\r]/);default:return p(v)}})(t)||{invalidReason:Knn};return h.token=t,h}var eon={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ton(t,e,r){let{type:n,value:o}=t;if(n==="literal"){let u=/^\s+$/.test(o);return{literal:!u,val:u?" ":o}}let i=e[n],a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let s=eon[a];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function ron(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function non(t,e,r){let n=t.match(e);if(n){let o={},i=1;for(let a in r)if(YT(r,a)){let s=r[a],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(o[s.token.val[0]]=s.deser(n.slice(i,i+u))),i+=u}return[n,o]}else return[n,{}]}function oon(t){let e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return jt(t.z)||(r=ul.create(t.z)),jt(t.Z)||(r||(r=new Ca(t.Z)),n=t.Z),jt(t.q)||(t.M=(t.q-1)*3+1),jt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),jt(t.u)||(t.S=IH(t.u)),[Object.keys(t).reduce((i,a)=>{let s=e(a);return s&&(i[s]=t[a]),i},{}),r,n]}var iTe=null;function ion(){return iTe||(iTe=at.fromMillis(1555555555555)),iTe}function aon(t,e){if(t.literal)return t;let r=Oa.macroTokenToFormatOpts(t.val),n=uTe(r,e);return n==null||n.includes(void 0)?t:n}function aTe(t,e){return Array.prototype.concat(...t.map(r=>aon(r,e)))}var LH=class{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=aTe(Oa.parseFormat(r),e),this.units=this.tokens.map(n=>Qnn(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){let[n,o]=ron(this.units);this.regex=RegExp(n,"i"),this.handlers=o}}explainFromTokens(e){if(this.isValid){let[r,n]=non(e,this.regex,this.handlers),[o,i,a]=n?oon(n):[null,null,void 0];if(YT(n,"a")&&YT(n,"H"))throw new Jg("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:o,zone:i,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function sTe(t,e,r){return new LH(t,r).explainFromTokens(e)}function IIt(t,e,r){let{result:n,zone:o,specificOffset:i,invalidReason:a}=sTe(t,e,r);return[n,o,i,a]}function uTe(t,e){if(!t)return null;let n=Oa.create(e,t).dtFormatter(ion()),o=n.formatToParts(),i=n.resolvedOptions();return o.map(a=>ton(a,t,i))}var lTe="Invalid DateTime",DIt=864e13;function FH(t){return new $l("unsupported zone",`the zone "${t.name}" is not supported`)}function cTe(t){return t.weekData===null&&(t.weekData=MH(t.c)),t.weekData}function dTe(t){return t.localWeekData===null&&(t.localWeekData=MH(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function fD(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new at({...r,...e,old:r})}function $It(t,e,r){let n=t-e*60*1e3,o=r.offset(n);if(e===o)return[n,e];n-=(o-e)*60*1e3;let i=r.offset(n);return o===i?[n,o]:[t-Math.min(o,i)*60*1e3,Math.max(o,i)]}function Zne(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function eoe(t,e,r){return $It(Jk(t),e,r)}function jIt(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),o=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:n,month:o,day:Math.min(t.c.day,Xk(n,o))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Fr.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),s=Jk(i),[u,l]=$It(s,r,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function s$(t,e,r,n,o,i){let{setZone:a,zone:s}=r;if(t&&Object.keys(t).length!==0||e){let u=e||s,l=at.fromObject(t,{...r,zone:u,specificOffset:i});return a?l:l.setZone(s)}else return at.invalid(new $l("unparsable",`the input "${o}" can't be parsed as ${n}`))}function Qne(t,e,r=!0){return t.isValid?Oa.create(Kr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function fTe(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=xa(t.c.year,r?6:4),e?(n+="-",n+=xa(t.c.month),n+="-",n+=xa(t.c.day)):(n+=xa(t.c.month),n+=xa(t.c.day)),n}function NIt(t,e,r,n,o,i){let a=xa(t.c.hour);return e?(a+=":",a+=xa(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=":")):a+=xa(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=xa(t.c.second),(t.c.millisecond!==0||!n)&&(a+=".",a+=xa(t.c.millisecond,3))),o&&(t.isOffsetFixed&&t.offset===0&&!i?a+="Z":t.o<0?(a+="-",a+=xa(Math.trunc(-t.o/60)),a+=":",a+=xa(Math.trunc(-t.o%60))):(a+="+",a+=xa(Math.trunc(t.o/60)),a+=":",a+=xa(Math.trunc(t.o%60)))),i&&(a+="["+t.zone.ianaName+"]"),a}var qIt={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},son={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},uon={ordinal:1,hour:0,minute:0,second:0,millisecond:0},UIt=["year","month","day","hour","minute","second","millisecond"],lon=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],con=["year","ordinal","hour","minute","second","millisecond"];function don(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Wk(t);return e}function LIt(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return don(t)}}function fon(t){return roe[t]||(toe===void 0&&(toe=mo.now()),roe[t]=t.offset(toe)),roe[t]}function FIt(t,e){let r=Yg(e.zone,mo.defaultZone);if(!r.isValid)return at.invalid(FH(r));let n=Kr.fromObject(e),o,i;if(jt(t.year))o=mo.now();else{for(let u of UIt)jt(t[u])&&(t[u]=qIt[u]);let a=KPe(t)||YPe(t);if(a)return at.invalid(a);let s=fon(r);[o,i]=eoe(t,s,r)}return new at({ts:o,zone:r,loc:n,o:i})}function BIt(t,e,r){let n=jt(r.round)?!0:r.round,o=(a,s)=>(a=Gk(a,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(a,s)),i=a=>r.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(r.unit)return o(i(r.unit),r.unit);for(let a of r.units){let s=i(a);if(Math.abs(s)>=1)return o(s,a)}return o(t>e?-0:0,r.units[r.units.length-1])}function kIt(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var toe,roe={},at=class{constructor(e){let r=e.zone||mo.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new $l("invalid input"):null)||(r.isValid?null:FH(r));this.ts=jt(e.ts)?mo.now():e.ts;let o=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[o,i]=[e.old.c,e.old.o];else{let s=Xg(e.o)&&!e.old?e.o:r.offset(this.ts);o=Zne(this.ts,s),n=Number.isNaN(o.year)?new $l("invalid input"):null,o=n?null:o,i=n?null:s}this._zone=r,this.loc=e.loc||Kr.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=o,this.o=i,this.isLuxonDateTime=!0}static now(){return new at({})}static local(){let[e,r]=kIt(arguments),[n,o,i,a,s,u,l]=r;return FIt({year:n,month:o,day:i,hour:a,minute:s,second:u,millisecond:l},e)}static utc(){let[e,r]=kIt(arguments),[n,o,i,a,s,u,l]=r;return e.zone=Ca.utcInstance,FIt({year:n,month:o,day:i,hour:a,minute:s,second:u,millisecond:l},e)}static fromJSDate(e,r={}){let n=tIt(e)?e.valueOf():NaN;if(Number.isNaN(n))return at.invalid("invalid input");let o=Yg(r.zone,mo.defaultZone);return o.isValid?new at({ts:n,zone:o,loc:Kr.fromObject(r)}):at.invalid(FH(o))}static fromMillis(e,r={}){if(Xg(e))return e<-DIt||e>DIt?at.invalid("Timestamp out of range"):new at({ts:e,zone:Yg(r.zone,mo.defaultZone),loc:Kr.fromObject(r)});throw new Wa(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Xg(e))return new at({ts:e*1e3,zone:Yg(r.zone,mo.defaultZone),loc:Kr.fromObject(r)});throw new Wa("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=Yg(r.zone,mo.defaultZone);if(!n.isValid)return at.invalid(FH(n));let o=Kr.fromObject(r),i=Zk(e,LIt),{minDaysInFirstWeek:a,startOfWeek:s}=GPe(i,o),u=mo.now(),l=jt(r.specificOffset)?n.offset(u):r.specificOffset,c=!jt(i.ordinal),d=!jt(i.year),f=!jt(i.month)||!jt(i.day),p=d||f,m=i.weekYear||i.weekNumber;if((p||c)&&m)throw new Jg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new Jg("Can't mix ordinal dates with month/day");let h=m||i.weekday&&!p,v,g,_=Zne(u,l);h?(v=lon,g=son,_=MH(_,a,s)):c?(v=con,g=uon,_=Yne(_)):(v=UIt,g=qIt);let S=!1;for(let N of v){let j=i[N];jt(j)?S?i[N]=g[N]:i[N]=_[N]:S=!0}let x=h?ZRt(i,a,s):c?QRt(i):KPe(i),O=x||YPe(i);if(O)return at.invalid(O);let T=h?WPe(i,a,s):c?JPe(i):i,[E,M]=eoe(T,l,n),R=new at({ts:E,zone:n,o:M,loc:o});return i.weekday&&p&&e.weekday!==R.weekday?at.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${R.toISO()}`):R.isValid?R:at.invalid(R.invalid)}static fromISO(e,r={}){let[n,o]=gIt(e);return s$(n,o,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,o]=yIt(e);return s$(n,o,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,o]=bIt(e);return s$(n,o,r,"HTTP",r)}static fromFormat(e,r,n={}){if(jt(e)||jt(r))throw new Wa("fromFormat requires an input string and a format");let{locale:o=null,numberingSystem:i=null}=n,a=Kr.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0}),[s,u,l,c]=IIt(a,e,r);return c?at.invalid(c):s$(s,u,n,`format ${r}`,e,l)}static fromString(e,r,n={}){return at.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,o]=wIt(e);return s$(n,o,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Wa("need to specify a reason the DateTime is invalid");let n=e instanceof $l?e:new $l(e,r);if(mo.throwOnInvalid)throw new Bne(n);return new at({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=uTe(e,Kr.fromObject(r));return n?n.map(o=>o?o.val:null).join(""):null}static expandFormat(e,r={}){return aTe(Oa.parseFormat(e),Kr.fromObject(r)).map(o=>o.val).join("")}static resetCache(){toe=void 0,roe={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?cTe(this).weekYear:NaN}get weekNumber(){return this.isValid?cTe(this).weekNumber:NaN}get weekday(){return this.isValid?cTe(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?dTe(this).weekday:NaN}get localWeekNumber(){return this.isValid?dTe(this).weekNumber:NaN}get localWeekYear(){return this.isValid?dTe(this).weekYear:NaN}get ordinal(){return this.isValid?Yne(this.c).ordinal:NaN}get monthShort(){return this.isValid?hO.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hO.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hO.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hO.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=Jk(this.c),o=this.zone.offset(n-e),i=this.zone.offset(n+e),a=this.zone.offset(n-o*r),s=this.zone.offset(n-i*r);if(a===s)return[this];let u=n-a*r,l=n-s*r,c=Zne(u,a),d=Zne(l,s);return c.hour===d.hour&&c.minute===d.minute&&c.second===d.second&&c.millisecond===d.millisecond?[fD(this,{ts:u}),fD(this,{ts:l})]:[this]}get isInLeapYear(){return cD(this.year)}get daysInMonth(){return Xk(this.year,this.month)}get daysInYear(){return this.isValid?KT(this.year):NaN}get weeksInWeekYear(){return this.isValid?lD(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?lD(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:o}=Oa.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:o}}toUTC(e=0,r={}){return this.setZone(Ca.instance(e),r)}toLocal(){return this.setZone(mo.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Yg(e,mo.defaultZone),e.equals(this.zone))return this;if(e.isValid){let o=this.ts;if(r||n){let i=e.offset(this.ts),a=this.toObject();[o]=eoe(a,i,e)}return fD(this,{ts:o,zone:e})}else return at.invalid(FH(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let o=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return fD(this,{loc:o})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=Zk(e,LIt),{minDaysInFirstWeek:n,startOfWeek:o}=GPe(r,this.loc),i=!jt(r.weekYear)||!jt(r.weekNumber)||!jt(r.weekday),a=!jt(r.ordinal),s=!jt(r.year),u=!jt(r.month)||!jt(r.day),l=s||u,c=r.weekYear||r.weekNumber;if((l||a)&&c)throw new Jg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Jg("Can't mix ordinal dates with month/day");let d;i?d=WPe({...MH(this.c,n,o),...r},n,o):jt(r.ordinal)?(d={...this.toObject(),...r},jt(r.day)&&(d.day=Math.min(Xk(d.year,d.month),d.day))):d=JPe({...Yne(this.c),...r});let[f,p]=eoe(d,this.o,this.zone);return fD(this,{ts:f,o:p})}plus(e){if(!this.isValid)return this;let r=Fr.fromDurationLike(e);return fD(this,jIt(this,r))}minus(e){if(!this.isValid)return this;let r=Fr.fromDurationLike(e).negate();return fD(this,jIt(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;let n={},o=Fr.normalizeUnit(e);switch(o){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break;case"milliseconds":break}if(o==="weeks")if(r){let i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(o==="quarters"){let i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Oa.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):lTe}toLocaleString(e=JT,r={}){return this.isValid?Oa.create(this.loc.clone(r),e).formatDateTime(this):lTe}toLocaleParts(e={}){return this.isValid?Oa.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:o=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;let a=e==="extended",s=fTe(this,a);return s+="T",s+=NIt(this,a,r,n,o,i),s}toISODate({format:e="extended"}={}){return this.isValid?fTe(this,e==="extended"):null}toISOWeekDate(){return Qne(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:o=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+NIt(this,a==="extended",r,e,n,i):null}toRFC2822(){return Qne(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Qne(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?fTe(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let o="HH:mm:ss.SSS";return(r||e)&&(n&&(o+=" "),r?o+="z":e&&(o+="ZZ")),Qne(this,o,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():lTe}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Fr.invalid("created by diffing an invalid DateTime");let o={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=rIt(r).map(Fr.normalizeUnit),a=e.valueOf()>this.valueOf(),s=a?this:e,u=a?e:this,l=PIt(s,u,i,o);return a?l.negate():l}diffNow(e="milliseconds",r={}){return this.diff(at.now(),e,r)}until(e){return this.isValid?ei.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;let o=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r,n)<=o&&o<=i.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||at.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,o=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(o=e.unit,i=void 0),BIt(r,this.plus(n),{...e,numeric:"always",units:o,unit:i})}toRelativeCalendar(e={}){return this.isValid?BIt(e.base||at.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(at.isDateTime))throw new Wa("min requires all arguments be DateTimes");return XPe(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(at.isDateTime))throw new Wa("max requires all arguments be DateTimes");return XPe(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:o=null,numberingSystem:i=null}=n,a=Kr.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});return sTe(a,e,r)}static fromStringExplain(e,r,n={}){return at.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){let{locale:n=null,numberingSystem:o=null}=r,i=Kr.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0});return new LH(i,e)}static fromFormatParser(e,r,n={}){if(jt(e)||jt(r))throw new Wa("fromFormatParser requires an input string and a format parser");let{locale:o=null,numberingSystem:i=null}=n,a=Kr.fromOpts({locale:o,numberingSystem:i,defaultToEN:!0});if(!a.equals(r.locale))throw new Wa(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${r.locale}`);let{result:s,zone:u,specificOffset:l,invalidReason:c}=r.explainFromTokens(e);return c?at.invalid(c):s$(s,u,n,`format ${r.format}`,e,l)}static get DATE_SHORT(){return JT}static get DATE_MED(){return uH}static get DATE_MED_WITH_WEEKDAY(){return MPe}static get DATE_FULL(){return lH}static get DATE_HUGE(){return cH}static get TIME_SIMPLE(){return dH}static get TIME_WITH_SECONDS(){return fH}static get TIME_WITH_SHORT_OFFSET(){return pH}static get TIME_WITH_LONG_OFFSET(){return hH}static get TIME_24_SIMPLE(){return mH}static get TIME_24_WITH_SECONDS(){return gH}static get TIME_24_WITH_SHORT_OFFSET(){return yH}static get TIME_24_WITH_LONG_OFFSET(){return bH}static get DATETIME_SHORT(){return _H}static get DATETIME_SHORT_WITH_SECONDS(){return vH}static get DATETIME_MED(){return wH}static get DATETIME_MED_WITH_SECONDS(){return SH}static get DATETIME_MED_WITH_WEEKDAY(){return APe}static get DATETIME_FULL(){return xH}static get DATETIME_FULL_WITH_SECONDS(){return CH}static get DATETIME_HUGE(){return OH}static get DATETIME_HUGE_WITH_SECONDS(){return EH}};function a$(t){if(at.isDateTime(t))return t;if(t&&t.valueOf&&Xg(t.valueOf()))return at.fromJSDate(t);if(t&&typeof t=="object")return at.fromObject(t);throw new Wa(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var zIt=require("obsidian");tf();async function pon(){let t=new Date,e=t.getTimezoneOffset(),r=new Intl.DateTimeFormat("en",{timeZoneName:"short"}).formatToParts(t).find(n=>n.type==="timeZoneName")?.value||"Unknown";return{epoch:Math.floor(t.getTime()),isoString:t.toISOString(),userLocaleString:t.toLocaleString(),localDateString:t.toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),timezoneOffset:-e,timezone:r}}var HIt=Ng(async()=>pon(),{name:"getCurrentTime",description:"Get the current time in various formats, including timezone information",schema:kr.object({})}),VIt={jan:1,january:1,feb:2,february:2,mar:3,march:3,apr:4,april:4,may:5,jun:6,june:6,jul:7,july:7,aug:8,august:8,sep:9,september:9,oct:10,october:10,nov:11,november:11,dec:12,december:12};function hon(t,e){let r=t.match(/^(last|past|previous|prior)\s+(\d+)\s+(days?|weeks?|months?|years?)$/i);if(!r)return;let[,,n,o]=r,i=parseInt(n);if(i<=0)return;let a=o.replace(/s$/,""),s=e.startOf("day");return{start:s.minus({[a+"s"]:i}),end:s}}function mon(t,e){switch(t){case"yesterday":return{start:e.minus({days:1}).startOf("day"),end:e.minus({days:1}).endOf("day")};case"last week":return{start:e.minus({weeks:1}).startOf("week"),end:e.minus({weeks:1}).endOf("week")};case"this week":return{start:e.startOf("week"),end:e.endOf("week")};case"next week":return{start:e.plus({weeks:1}).startOf("week"),end:e.plus({weeks:1}).endOf("week")};case"last month":return{start:e.minus({months:1}).startOf("month"),end:e.minus({months:1}).endOf("month")};case"this month":return{start:e.startOf("month"),end:e.endOf("month")};case"next month":return{start:e.plus({months:1}).startOf("month"),end:e.plus({months:1}).endOf("month")};case"last year":return{start:e.minus({years:1}).startOf("year"),end:e.minus({years:1}).endOf("year")};case"this year":return{start:e.startOf("year"),end:e.endOf("year")};case"next year":return{start:e.plus({years:1}).startOf("year"),end:e.plus({years:1}).endOf("year")};case"last quarter":return{start:e.minus({quarters:1}).startOf("quarter"),end:e.minus({quarters:1}).endOf("quarter")};case"this quarter":return{start:e.startOf("quarter"),end:e.endOf("quarter")};case"next quarter":return{start:e.plus({quarters:1}).startOf("quarter"),end:e.plus({quarters:1}).endOf("quarter")}}}function gon(t,e){let r=t.match(/(?:the\s+)?week\s+of\s+(.+)/i);if(!r)return;let n=r[1],o=TPe(n,e.toJSDate(),{forwardDate:!1});if(o.length===0)return;let i=at.fromJSDate(o[0].start.date()).startOf("week"),a=i.endOf("week");return i>e&&(i=i.minus({years:1}),a=a.minus({years:1})),{start:i,end:a}}function yon(t,e){let r=t.match(/^(jan|january|feb|february|mar|march|apr|april|may|jun|june|jul|july|aug|august|sep|september|oct|october|nov|november|dec|december)$/i);if(!r)return;let n=VIt[r[1]],o=e.year;n>e.month&&o--;let i=at.fromObject({year:o,month:n,day:1}),a=i.endOf("month");return i>e&&(i=i.minus({years:1}),a=a.minus({years:1})),{start:i,end:a}}function bon(t,e){let r=t.match(/^(?:(?:the\s+)?(?:year|yr)(?:\s+(?:of|in))?\s+)?(\d{4})$/i);if(!r)return;let n=parseInt(r[1]),o=at.fromObject({year:n,month:1,day:1}),i=at.fromObject({year:n,month:12,day:31});return o>e&&(o=o.minus({years:1}),i=i.minus({years:1})),{start:o,end:i}}function _on(t,e){let r=t.match(/^(?:(?:q|Q)(\d{1})\s+(\d{4})|(\d{4})\s+(?:q|Q)(\d{1}))$/),n=t.match(/^(?:q|Q)(\d{1})$/),o,i;if(r)o=parseInt(r[1]||r[4]),i=parseInt(r[2]||r[3]);else if(n){o=parseInt(n[1]),i=e.year;let l=Math.floor((e.month-1)/3)+1;o>l&&i--}else return;if(o<1||o>4)return;let a=(o-1)*3+1,s=at.fromObject({year:i,month:a,day:1}).startOf("day"),u=s.plus({months:3}).minus({days:1}).endOf("day");return s>e&&(s=s.minus({years:1}),u=u.minus({years:1})),{start:s,end:u}}function von(t,e){let r=t.match(/^(jan|january|feb|february|mar|march|apr|april|may|jun|june|jul|july|aug|august|sep|september|oct|october|nov|november|dec|december)\s+(\d{4})$/i);if(!r)return;let n=VIt[r[1].toLowerCase()],o=parseInt(r[2]),i=at.fromObject({year:o,month:n,day:1}).startOf("day"),a=i.endOf("month");return i>e&&(i=i.minus({years:1}),a=a.minus({years:1})),{start:i,end:a}}function won(t){let e=at.now(),r=t.toLowerCase().replace("@vault","").trim(),n=hon(r,e)||mon(r,e)||gon(r,e)||yon(r,e)||von(r,e)||_on(r,e)||bon(r,e);if(n)return{startTime:BH(n.start),endTime:BH(n.end)};let o=TPe(t,e.toJSDate(),{forwardDate:!1});if(o.length>0){let i=at.fromJSDate(o[0].start.date()).startOf("day"),a=o[0].end?at.fromJSDate(o[0].end.date()).endOf("day"):i.endOf("day");return i>e&&(i.minus({years:1}),a.minus({years:1})),{startTime:BH(i),endTime:BH(a)}}console.warn(`Unable to parse time expression: ${t}`)}function BH(t){let e=t.toJSDate(),r=e.getTimezoneOffset(),n=new Intl.DateTimeFormat("en",{timeZoneName:"short"}).formatToParts(e).find(o=>o.type==="timeZoneName")?.value||"Unknown";return{epoch:Math.floor(e.getTime()),isoString:e.toISOString(),userLocaleString:e.toLocaleString(),localDateString:e.toLocaleDateString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}),timezoneOffset:-r,timezone:n}}var WIt=Ng(async({timeExpression:t})=>won(t),{name:"getTimeRangeMs",description:"Get a time range in milliseconds based on a natural language time expression",schema:kr.object({timeExpression:kr.string().describe("A natural language time expression (e.g., 'last week', 'from July 1 to July 15')")})});function Son(t){let e=t.toString().length===10?t*1e3:t,r=at.fromMillis(e);return BH(r)}var JIt=Ng(async({epoch:t})=>Son(t),{name:"getTimeInfoByEpoch",description:"Convert a Unix timestamp (in seconds or milliseconds) to detailed time information",schema:kr.object({epoch:kr.number().describe("Unix timestamp in seconds or milliseconds")})});function xon(t){let e=t.match(/^(\d+)\s*(s|sec|seconds?|m|min|minutes?|h|hr|hours?)$/i);if(!e)throw new Error(`Invalid time interval format: ${t}`);let r=parseInt(e[1],10),n=e[2].toLowerCase();switch(n){case"s":case"sec":case"second":case"seconds":return r*1e3;case"m":case"min":case"minute":case"minutes":return r*60*1e3;case"h":case"hr":case"hour":case"hours":return r*60*60*1e3;default:throw new Error(`Unsupported time unit: ${n}`)}}async function Con(t="25min"){let e=xon(t);return new Promise(r=>{setTimeout(()=>{new zIt.Notice(`Pomodoro timer (${t}) completed! Take a break!`),r()},e)})}var pTe=Ng(async({interval:t="25min"})=>(Con(t),`Pomodoro timer started. It will end in ${t}.`),{name:"startPomodoro",description:"Start a Pomodoro timer with a customizable interval",schema:kr.object({interval:kr.string().optional().describe("Time interval (e.g., '25min', '5s', '1h'). Default is 25min.")})});tf();var hTe=Ng(async({url:t})=>{try{let e=await wa.getInstance().youtube4llm(t);return e.response.transcript?JSON.stringify({success:!0,transcript:e.response.transcript,elapsed_time_ms:e.elapsed_time_ms}):JSON.stringify({success:!1,message:"Transcript not available. Only English videos with the auto transcript option turned on are supported at the moment"})}catch(e){return console.error(`Error transcribing YouTube video ${t}:`,e),JSON.stringify({success:!1,message:"An error occurred while transcribing the YouTube video."})}},{name:"youtubeTranscription",description:"Get the transcript of a YouTube video",schema:kr.object({url:kr.string().describe("The YouTube video URL"),brevilabsClient:kr.any().describe("The BrevilabsClient instance")})});var u$=class{},GIt=(t,e)=>{if(e!==void 0)return t[e];let r=Object.keys(t);if(r.length===1)return t[r[0]]},noe=(t,e)=>{let r=GIt(t,e);if(!r){let n=Object.keys(t);throw new Error(`input values have ${n.length} keys, you must specify an input key or pass only 1 key as input`)}return r},mTe=(t,e)=>{let r=GIt(t,e);if(!r&&r!==""){let n=Object.keys(t);throw new Error(`output values have ${n.length} keys, you must specify an output key or pass only 1 key as output`)}return r};lA();yA();var gTe=class extends qc{addUserMessage(e){return this.addMessage(new Xa(e))}addAIChatMessage(e){return this.addMessage(new Po(e))}addAIMessage(e){return this.addMessage(new Po(e))}async addMessages(e){for(let r of e)await this.addMessage(r)}clear(){throw new Error("Not implemented.")}},l$=class extends gTe{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=e??[]}async getMessages(){return this.messages}async addMessage(e){this.messages.push(e)}async clear(){this.messages=[]}};var _S=class extends u${constructor(e){super(),Object.defineProperty(this,"chatHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnMessages",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chatHistory=e?.chatHistory??new l$,this.returnMessages=e?.returnMessages??this.returnMessages,this.inputKey=e?.inputKey??this.inputKey,this.outputKey=e?.outputKey??this.outputKey}async saveContext(e,r){await this.chatHistory.addUserMessage(noe(e,this.inputKey)),await this.chatHistory.addAIChatMessage(mTe(r,this.outputKey))}async clear(){await this.chatHistory.clear()}};yTe();xA();var kH=class extends _S{constructor(e){super({returnMessages:e?.returnMessages??!1,chatHistory:e?.chatHistory,inputKey:e?.inputKey,outputKey:e?.outputKey}),Object.defineProperty(this,"humanPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"Human"}),Object.defineProperty(this,"aiPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"AI"}),Object.defineProperty(this,"memoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"history"}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:5}),this.humanPrefix=e?.humanPrefix??this.humanPrefix,this.aiPrefix=e?.aiPrefix??this.aiPrefix,this.memoryKey=e?.memoryKey??this.memoryKey,this.k=e?.k??this.k}get memoryKeys(){return[this.memoryKey]}async loadMemoryVariables(e){let r=await this.chatHistory.getMessages();return this.returnMessages?{[this.memoryKey]:r.slice(-this.k*2)}:{[this.memoryKey]:uf(r.slice(-this.k*2),this.humanPrefix,this.aiPrefix)}}};lA();yTe();var bm=class{constructor(){this.initMemory(),_l(()=>this.initMemory())}static getInstance(){return bm.instance||(bm.instance=new bm),bm.instance}initMemory(){let e=fe().contextTurns;this.memory=new kH({k:e*2,memoryKey:"history",inputKey:"input",returnMessages:!0}),this.debug&&console.log("Memory initialized with context turns:",e)}getMemory(){return this.memory}async clearChatMemory(){this.debug&&console.log("Clearing chat memory"),await this.memory.clear()}async loadMemoryVariables(){let e=await this.memory.loadMemoryVariables({});return this.debug&&console.log("Loaded memory variables:",e),e}async saveContext(e,r){this.debug&&console.log("Saving to memory - Input:",e,"Output:",r),await this.memory.saveContext(e,r)}};var qH=["@vault","@web","@youtube","@pomodoro"],$H=class{static async analyzeIntent(e){try{let r=await wa.getInstance().broca(e);if(!r?.response)throw new Error(r?.detail||"Broca API call failed");let n=r.response.tool_calls,o=r.response.salience_terms,i=[],a;for(let s of n){let u=this.tools.find(l=>l.name===s.tool);if(u){let l=s.args||{};u.name==="getTimeRangeMs"&&(a=await kk.callTool(u,l)),i.push({tool:u,args:l})}}return await this.processAtCommands(e,i,{timeRange:a,salientTerms:o}),i}catch(r){throw console.error("Error in intent analysis:",r),r}}static async processAtCommands(e,r,n){let o=e.toLowerCase(),{timeRange:i,salientTerms:a}=n;if(o.includes("@vault")&&(a.length>0||i)){let s=this.removeAtCommands(e);r.push({tool:cPe,args:{timeRange:i||void 0,query:s,salientTerms:a}})}if(o.includes("@web")){let s=this.removeAtCommands(e),l=await bm.getInstance().getMemory().loadMemoryVariables({}),c=xN(l);r.push({tool:dPe,args:{query:s,chatHistory:c}})}if(o.includes("@pomodoro")){let s=e.match(/@pomodoro\s+(\S+)/i),u=s?s[1]:"25min";r.push({tool:pTe,args:{interval:u}})}if(o.includes("@youtube")){let s=bz(e);s&&r.push({tool:hTe,args:{url:s}})}}static removeAtCommands(e){return e.split(" ").filter(r=>!qH.includes(r.toLowerCase())).join(" ").trim()}};$H.tools=[HIt,JIt,WIt,cPe,kAt,pTe,dPe,hTe];var UH=class{constructor(e){this.chainManager=e}async handleResponse(e,r,n,o,i,a,s){return e&&n.signal.reason!=="new-chat"&&(await this.chainManager.memoryManager.getMemory().saveContext({input:r.message},{output:e}),o({message:e,sender:Ty,isVisible:!0,timestamp:bs(new Date),sources:s})),i(""),a&&(console.log(`==== Chat Memory ====
`,this.chainManager.memoryManager.getMemory().chatHistory.messages.map(u=>u.content)),console.log(`==== Final AI Response ====
`,e)),e}async handleError(e,r,n,o){let i=sa(e);r&&console.error("Error during LLM invocation:",i);let a=e?.response?.data?.error||i,s=a?.code||i,u="";if(e?.message?.includes("Invalid license key")?u="Invalid Copilot Plus license key. Please check your license key in settings.":s==="model_not_found"?u="You do not have access to this model or the model does not exist, please check with your API provider.":u=`${s}`,console.error(a),n&&o){o("");let l=u.search("Troubleshooting URL");u=l!==-1?u.slice(0,l):u,i.search(/401|invalid|not valid/gi)!==-1&&(u=`Something went wrong. Please check if you have set your API key.
Path: Settings > copilot plugin > Basic Tab > Set Keys
Error Details: `+u),n({message:u,isErrorMessage:!0,sender:Ty,isVisible:!0,timestamp:bs(new Date)})}else new QIt.Notice(u),console.error(a)}},ooe=class extends UH{async run(e,r,n,o,i){let{debug:a=!1}=i,s="";try{let l=await vS.getChain().stream({input:e.message});for await(let c of l){if(r.signal.aborted)break;s+=c.content,n(s)}}catch(u){await this.handleError(u,a,o,n)}return this.handleResponse(s,e,r,o,n,a)}},ioe=class extends UH{async run(e,r,n,o,i){let{debug:a=!1}=i,s="";try{if(await this.chainManager.vectorStoreManager.isIndexEmpty())return this.handleResponse(A5,e,r,o,n,a);let c=await this.chainManager.memoryManager.getMemory().loadMemoryVariables({}),d=xN(c),f=await vS.getRetrievalChain().stream({question:e.message,chat_history:d});for await(let p of f){if(r.signal.aborted)break;s+=p.content,n(s)}s=this.addSourcestoResponse(s)}catch(u){await this.handleError(u,a,o,n)}return this.handleResponse(s,e,r,o,n,a)}addSourcestoResponse(e){let r=oUe(vS.retrievedDocuments);if(r.length>0){let n=r.map(o=>`- [[${o}]]`).join(`
`);e+=`

#### Sources:

`+n}return e}},aoe=class extends UH{isYoutubeOnlyMessage(e){let r=e.trim(),n=r.includes("@youtube"),o=bz(r),i=r.split(/\s+/).filter(a=>a!=="@youtube"&&a.length>0);return n&&o!==null&&i.length===1}async processImageUrls(e){try{return(await Promise.all(e.map(async n=>await bx.isImageUrl(n)?await bx.convertToBase64(n,this.chainManager.app.vault):null))).filter(n=>n!==null)}catch(r){return console.error("Error processing image URLs:",r),[]}}async processExistingImages(e){try{return await Promise.all(e.filter(n=>n.type==="image_url"&&!!n.image_url?.url).map(async n=>await bx.convertToBase64(n.image_url.url,this.chainManager.app.vault)))}catch(r){throw console.error("Error processing images:",r),r}}async buildMessageContent(e,r){let n=[{type:"text",text:e}];if(r.context?.urls&&r.context.urls.length>0){let o=await this.processImageUrls(r.context.urls);n.push(...o)}if(r.content&&r.content.length>0){let o=await this.processExistingImages(r.content);n.push(...o)}return n}hasCapability(e,r){let n=e.modelName||e.model||"";return this.chainManager.chatModelManager.findModelByName(n)?.capabilities?.includes(r)??!1}isMultimodalModel(e){return this.hasCapability(e,"vision")}async streamMultimodalResponse(e,r,n,o,i){let s=await this.chainManager.memoryManager.getMemory().loadMemoryVariables({}),u=xN(s),l=[],c=TA();u.length>0&&(c+=`

The following is the relevant conversation history. Use this context to maintain consistency in your responses:`);let d=this.chainManager.chatModelManager.getChatModel();c&&l.push({role:dUe(d),content:`${c}
IMPORTANT: Maintain consistency with previous responses in the conversation. If you've provided information about a person or topic before, use that same information in follow-up questions.`});for(let[g,_]of u)l.push({role:"user",content:g}),l.push({role:"assistant",content:_});let f=this.chainManager.chatModelManager.getChatModel(),m=this.isMultimodalModel(f)?await this.buildMessageContent(e,r):e;l.push({role:"user",content:m}),i&&console.log(`==== Final Request to AI ====
`,l);let h="",v=await this.chainManager.chatModelManager.getChatModel().stream(l);for await(let g of v){if(n.signal.aborted)break;h+=g.content,o(h)}return h}async run(e,r,n,o,i){let{debug:a=!1,updateLoadingMessage:s}=i,u="",l=[];try{if(this.isYoutubeOnlyMessage(e.message)){let m=bz(e.message),h="Transcript not available. Only videos with the auto transcript option turned on are supported at the moment.";if(m)try{let v=await wa.getInstance().youtube4llm(m);return v.response.transcript?this.handleResponse(v.response.transcript,e,r,o,n,a):this.handleResponse(h,e,r,o,n,a)}catch(v){return console.error("Error processing YouTube video:",v),this.handleResponse(h,e,r,o,n,a)}}a&&console.log("==== Step 1: Analyzing intent ====");let c;try{let m=e.originalMessage||e.message;c=await $H.analyzeIntent(m)}catch(m){return this.handleResponse(Zqe(m),e,r,o,n,a)}let d=e.message.split(" ").filter(m=>!qH.includes(m.toLowerCase())).join(" ").trim(),f=await this.executeToolCalls(c,a,s),p=f.find(m=>m.tool==="localSearch"&&m.output&&m.output.length>0);if(p){a&&console.log("==== Step 2: Processing local search results ====");let m=JSON.parse(p.output),v=await this.chainManager.memoryManager.getMemory().loadMemoryVariables({}),g=xN(v);a&&console.log("==== Step 3: Condensing Question ====");let _=await Tne(d,g);a&&console.log("Condensed standalone question: ",_),a&&console.log("==== Step 4: Preparing context ====");let S=this.getTimeExpression(c),x=this.prepareLocalSearchResult(m,S),O=f.filter(M=>M.tool==="getCurrentTime"),T=this.prepareEnhancedUserMessage(_,O);a&&console.log(x),a&&console.log("==== Step 5: Invoking QA Chain ====");let E=await this.chainManager.promptManager.getQAPrompt({question:T,context:x,systemMessage:""});u=await this.streamMultimodalResponse(E,e,r,n,a),l=this.getSources(m)}else{let m=this.prepareEnhancedUserMessage(d,f);a&&(console.log("No local search results. Using standard LLM Chain."),console.log("Enhanced user message:",m)),u=await this.streamMultimodalResponse(m,e,r,n,a)}}catch(c){s?.(oE.DEFAULT),await this.handleError(c,a,o,n)}return this.handleResponse(u,e,r,o,n,a,l)}getSources(e){return!e||!Array.isArray(e)?(console.warn("No valid documents provided to getSources"),[]):this.sortUniqueDocsByScore(e)}sortUniqueDocsByScore(e){let r=new Map;for(let n of e){if(!n.title||!n?.score&&!n?.rerank_score){console.warn("Invalid document structure:",n);continue}let o=r.get(n.title),i=n&&"rerank_score"in n,a=i?n.rerank_score:n.score;(!o||a>(o.score??0))&&r.set(n.title,{title:n.title,score:a,isReranked:i})}return Array.from(r.values()).sort((n,o)=>(o.score??0)-(n.score??0))}async executeToolCalls(e,r,n){let o=[];for(let i of e){r&&console.log(`==== Step 2: Calling tool: ${i.tool.name} ====`),i.tool.name==="localSearch"?n?.(oE.READING_FILES):i.tool.name==="webSearch"&&n?.(oE.SEARCHING_WEB);let a=await kk.callTool(i.tool,i.args);o.push({tool:i.tool.name,output:a})}return o}prepareEnhancedUserMessage(e,r){let n="";if(r.length>0){let o=r.filter(i=>i.output!=null);o.length>0&&(n=`

# Additional context:

`+o.map(i=>`# ${i.tool}
${JSON.stringify(i.output)}`).join(`

`))}return`User message: ${e}${n}`}getTimeExpression(e){let r=e.find(n=>n.tool.name==="getTimeRangeMs");return r?r.args.timeExpression:""}prepareLocalSearchResult(e,r){let n=e.filter(s=>s.includeInContext),o=n.reduce((s,u)=>s+u.content.length,0),i=n;if(o>Jue){let s=Jue/o;console.log("Truncating documents to fit context length. Truncation ratio:",s),i=n.map(u=>({...u,content:u.content.slice(0,Math.floor(u.content.length*s))}))}let a=i.map(s=>`Note in Vault: ${s.content}`).join(`

`);return r?`Local Search Result for ${r}:
${a}`:`Local Search Result:
${a}`}};xA();var e1t=require("obsidian");xA();var wS=class{constructor(){this.initChatPrompt(),this.initQAPrompt(),_l(()=>{this.initChatPrompt(),this.initQAPrompt()})}static getInstance(){return wS.instance||(wS.instance=new wS),wS.instance}initChatPrompt(){let e=this.escapeTemplateString(TA());this.chatPrompt=zc.fromMessages([Ij.fromTemplate(e),new rE("history"),nE.fromTemplate("{input}")])}initQAPrompt(){let e=`{system_message}

Answer the question with as detailed as possible based only on the following context:
{context}

Question: {question}
`;this.qaPrompt=zc.fromMessages([Ij.fromTemplate(e)])}escapeTemplateString(e){return e.replace(/\{/g,"{{").replace(/\}/g,"}}")}getChatPrompt(){return this.chatPrompt}async getQAPrompt({question:e,context:r,systemMessage:n}){return await this.qaPrompt.format({question:e,context:r,system_message:n})}};var _m=class{constructor(e,r){this.app=e,this.vectorStoreManager=r,this.memoryManager=bm.getInstance(),this.chatModelManager=Oo.getInstance(),this.promptManager=wS.getInstance(),this.initialize(),aBe(async()=>await this.createChainWithNewModel()),sBe(()=>this.setChain(Ym(),{refreshIndex:fe().indexVaultToVectorStore==="ON MODE SWITCH"&&(Ym()==="vault_qa"||Ym()==="copilot_plus")})),_l(async()=>await this.createChainWithNewModel())}async initialize(){await this.createChainWithNewModel()}static getChain(){return _m.chain}static getRetrievalChain(){return _m.retrievalChain}validateChainType(e){if(e==null)throw new Error("No chain type set")}validateChatModel(){if(!this.chatModelManager.validateChatModel(this.chatModelManager.getChatModel())){let e="Chat model is not initialized properly, check your API key in Copilot setting and make sure you have API access.";throw new e1t.Notice(e),new Error(e)}}validateChainInitialization(){(!_m.chain||!tUe(_m.chain))&&(console.error("Chain is not initialized properly, re-initializing chain: ",Ym()),this.setChain(Ym()))}static storeRetrieverDocuments(e){_m.retrievedDocuments=e}async createChainWithNewModel(){let e=V5();try{let r=sUe(e,fe().activeModels);r||(console.error("Resetting default model. No model configuration found for: ",e),r=sE[0],e=r.name+"|"+r.provider),await this.chatModelManager.setChatModel(r),this.setChain(Ym()),Ln(`Setting model to ${e}`)}catch(r){Yo(`createChainWithNewModel failed: ${r}`),Ln(`modelKey: ${e}`)}}async setChain(e,r={}){if(!this.chatModelManager.validateChatModel(this.chatModelManager.getChatModel())){console.error("setChain failed: No chat model set.");return}this.validateChainType(e);let n=this.chatModelManager.getChatModel(),o=this.memoryManager.getMemory(),i=this.promptManager.getChatPrompt();switch(e){case"llm_chain":{_m.chain=M5.createNewLLMChain({llm:n,memory:o,prompt:r.prompt||i,abortController:r.abortController}),Lj("llm_chain");break}case"vault_qa":{await this.initializeQAChain(r);let a=new FT({minSimilarityScore:.01,maxK:fe().maxSourceChunks,salientTerms:[]});_m.retrievalChain=M5.createConversationalRetrievalChain({llm:n,retriever:a,systemMessage:TA()},_m.storeRetrieverDocuments.bind(_m),fe().debug),Lj("vault_qa"),fe().debug&&(console.log("New Vault QA chain with hybrid retriever created for entire vault"),console.log("Set chain:","vault_qa"));break}case"copilot_plus":{await this.initializeQAChain(r),_m.chain=M5.createNewLLMChain({llm:n,memory:o,prompt:r.prompt||i,abortController:r.abortController}),Lj("copilot_plus");break}default:this.validateChainType(e);break}}getChainRunner(){let e=Ym();switch(e){case"llm_chain":return new ooe(this);case"vault_qa":return new ioe(this);case"copilot_plus":return new aoe(this);default:throw new Error(`Unsupported chain type: ${e}`)}}async initializeQAChain(e){e.refreshIndex&&await this.vectorStoreManager.indexVaultToVectorStore()}async runChain(e,r,n,o,i={}){let{debug:a=!1,ignoreSystemMessage:s=!1}=i;a&&console.log(`==== Step 0: Initial user message ====
`,e),this.validateChatModel(),this.validateChainInitialization();let u=this.chatModelManager.getChatModel();if(s||QA(u)){let c=zc.fromMessages([new rE("history"),nE.fromTemplate("{input}")]);QA(u)&&(c=zc.fromMessages([[To,TA()||""],c])),this.setChain(Ym(),{prompt:c})}return await this.getChainRunner().run(e,r,n,o,i)}async updateMemoryWithLoadedMessages(e){await this.memoryManager.clearChatMemory();for(let r=0;r<e.length;r+=2){let n=e[r],o=e[r+1];n&&o&&n.sender===To&&await this.memoryManager.getMemory().saveContext({input:n.message},{output:o.message})}}},vS=_m;vS.retrievedDocuments=[];function t1t(t){let e=t.split(`
`),r=[],n="",o="",i="";for(let a of e)a.startsWith("**user**:")||a.startsWith("**ai**:")?(n&&o&&r.push({sender:n===To?To:Ty,message:o.trim(),isVisible:!0,timestamp:i?Bde(i):null}),n=a.startsWith("**user**:")?To:Ty,o=a.substring(a.indexOf(":")+1).trim(),i=""):a.startsWith("[Timestamp:")?i=a.substring(11,a.length-1).trim():o+=`
`+a;return n&&o&&r.push({sender:n===To?To:Ty,message:o.trim(),isVisible:!0,timestamp:i?Bde(i):null}),r}async function zH(t,e){await e.clearChatMemory();for(let r=0;r<t.length-1;r++){let n=t[r];if(n.sender===To){let o=t[r+1];o?.sender===Ty&&await e.getMemory().saveContext({input:n.message},{output:o.message})}}}function Mon(t){return`<instruction>Fix the grammar and spelling of the text below. Preserve all formatting, line breaks, and special characters. Do not add or remove any content. Return only the corrected text.</instruction>

<text>${t}</text>`}function Aon(t){return`<instruction>Create a bullet-point summary of the text below. Identify the input language and respond in the same language. Each bullet point should capture a key point. Return only the bullet-point summary.</instruction>

<text>${t}</text>`}function Ron(t){return`<instruction>Generate a hierarchical table of contents for the text below. Use appropriate heading levels (H1, H2, H3, etc.). Include page numbers if present. Maintain the original language. Return only the table of contents.</instruction>

<text>${t}</text>`}function Ion(t){return`<instruction>Create a glossary of important terms, concepts, and phrases from the text below. Format each entry as "Term: Definition". Sort entries alphabetically. Maintain the original language. Return only the glossary.</instruction>

<text>${t}</text>`}function Don(t){return`<instruction>Simplify the text below to a 6th-grade reading level (ages 11-12). Use simple sentences, common words, and clear explanations. Maintain the original language and key concepts. Return only the simplified text.</instruction>

<text>${t}</text>`}function jon(t){return`<instruction>Add relevant emojis to enhance the text below. Follow these rules:
    1. Insert emojis at natural breaks in the text
    2. Never place two emojis next to each other
    3. Keep all original text unchanged
    4. Choose emojis that match the context and tone
    Return only the emojified text.</instruction>

<text>${t}</text>`}function Non(t){return`<instruction>Remove all URLs from the text below. Preserve all other content and formatting. URLs may be in various formats (http, https, www). Return only the text with URLs removed.</instruction>

<text>${t}</text>`}function Lon(t){return`<instruction>Rewrite the text below as a single tweet with these requirements:
    1. Maximum 280 characters
    2. Use concise, impactful language
    3. Maintain the core message
    4. Keep the original language
    Return only the tweet text.</instruction>

<text>${t}</text>`}function Fon(t){return`<instruction>Convert the text below into a Twitter thread following these rules:
    1. Each tweet must be under 240 characters
    2. Start with "THREAD START" on its own line
    3. Separate tweets with "

---

"
    4. End with "THREAD END" on its own line
    5. Make content engaging and clear
    6. Maintain the original language
    Return only the formatted thread.</instruction>

<text>${t}</text>`}function Bon(t){return`<instruction>Reduce the text below to half its length while preserving these elements:
    1. Main ideas and key points
    2. Essential details
    3. Original tone and style
    4. Original language
    Return only the shortened text.</instruction>

<text>${t}</text>`}function kon(t){return`<instruction>Expand the text below to twice its length by:
    1. Adding relevant details and examples
    2. Elaborating on key points
    3. Maintaining the original tone and style
    4. Keeping the original language
    Return only the expanded text.</instruction>

<text>${t}</text>`}function $on(t){return`<instruction>Explain the text below in simple terms that a 5-year-old would understand:
    1. Use basic vocabulary
    2. Include simple analogies
    3. Break down complex concepts
    4. Keep the original language
    Return only the simplified explanation.</instruction>

<text>${t}</text>`}function qon(t){return`<instruction>Transform the text below into a professional press release:
    1. Use formal, journalistic style
    2. Include headline and dateline
    3. Follow inverted pyramid structure
    4. Maintain the original language
    Return only the press release format.</instruction>

<text>${t}</text>`}function Uon(t,e){return`<instruction>Translate the text below into ${e}:
    1. Preserve the meaning and tone
    2. Maintain appropriate cultural context
    3. Keep formatting and structure
    Return only the translated text.</instruction>

<text>${t}</text>`}function zon(t,e){return`<instruction>Rewrite the text below in a ${e} tone while:
    1. Keeping the original meaning
    2. Maintaining the original language
    3. Adjusting word choice and phrasing
    4. Preserving key information
    Return only the rewritten text.</instruction>

<text>${t}</text>`}var r1t={[te.FIX_GRAMMAR]:Mon,[te.SUMMARIZE]:Aon,[te.GENERATE_TOC]:Ron,[te.GENERATE_GLOSSARY]:Ion,[te.SIMPLIFY]:Don,[te.EMOJIFY]:jon,[te.REMOVE_URLS]:Non,[te.REWRITE_TWEET]:Lon,[te.REWRITE_TWEET_THREAD]:Fon,[te.MAKE_SHORTER]:Bon,[te.MAKE_LONGER]:kon,[te.ELI5]:$on,[te.PRESS_RELEASE]:qon,[te.TRANSLATE]:Uon,[te.CHANGE_TONE]:zon};var c$=require("obsidian"),mr=k(Z()),n1t=k(DE());var soe=k(Z());var us=soe.forwardRef(({className:t,type:e,...r},n)=>soe.createElement("input",{type:e,className:Te("!h-9 !min-w-[50px] !border border-solid !rounded-md !bg-transparent !px-3 !py-1 md:!text-base !text-sm !transition-colors","focus-visible:!shadow-sm focus-visible:!outline-none focus-visible:!ring-1 focus-visible:!ring-ring","placeholder:text-xs","flex w-full shadow-sm placeholder:text-muted disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));us.displayName="Input";var vm=k(Z());var HH=vm.forwardRef(({className:t,value:e,...r},n)=>{let o=vm.useRef(null),i=vm.useCallback(()=>{let s=o.current;if(s){s.style.height="auto";let u=Math.min(s.scrollHeight,300);s.style.height=`${u}px`}},[]);vm.useLayoutEffect(()=>{i()},[e,i]),vm.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[i]);let a=s=>{o.current=s,typeof n=="function"?n(s):n&&(n.current=s)};return vm.createElement("textarea",{className:Te("border-solid resize-y min-w-fit overflow-auto","flex min-h-[60px] max-h-[300px] w-full rounded-md border border-primary-alt bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),value:e,ref:a,onChange:s=>{i(),r.onChange?.(s)},onInput:i,onCompositionEnd:i,onPaste:()=>{setTimeout(i,0)},...r})});HH.displayName="Textarea";function Hon({initialTitle:t="",initialPrompt:e="",disabledTitle:r=!1,onSave:n,onCancel:o}){let[i,a]=(0,mr.useState)(t),[s,u]=(0,mr.useState)(e),[l,c]=(0,mr.useState)({title:!1,prompt:!1}),[d,f]=(0,mr.useState)(!1),m=i&&/[<>:"/\\|?*\x00-\x1F]/g.test(i),h=async()=>{if(m){new c$.Notice("Title contains invalid characters. Please remove them before saving.");return}if(i&&s)try{f(!0),await n(i,s)}catch(S){new c$.Notice(sa(S))}finally{f(!1)}else c({title:!0,prompt:!0}),new c$.Notice("Please fill in both fields: Title and Prompt.")},v=l.title&&!i,g=l.prompt&&!s,_=i.trim()!==""&&s.trim()!==""&&!m;return mr.default.createElement("div",{className:"flex flex-col gap-4 p-4"},mr.default.createElement("div",{className:"text-xl font-bold text-normal mb-2"},"User Custom Prompt"),mr.default.createElement("div",{className:"flex flex-col"},mr.default.createElement("div",{className:"flex items-center gap-1"},mr.default.createElement("div",{className:"text-base font-medium text-normal"},"Title"),mr.default.createElement("span",{className:"text-error"},"*")),mr.default.createElement("div",{className:"flex flex-col gap-1"},mr.default.createElement("div",{className:"text-sm text-muted"},"The title of the prompt, must be unique."),mr.default.createElement("div",{className:"text-xs text-warning"},"Note: Title will be used as filename. Avoid using: ",'< > : " / \\ | ? *')),mr.default.createElement(us,{type:"text",value:i,onChange:S=>{a(S.target.value),l.title||c(x=>({...x,title:!0}))},onBlur:()=>c(S=>({...S,title:!0})),disabled:r,className:"w-full mt-1",required:!0}),v&&mr.default.createElement("div",{className:"text-error text-xs mt-1"},"Title is required"),m&&mr.default.createElement("div",{className:"text-error text-xs mt-1"},"Title contains invalid characters")),mr.default.createElement("div",{className:"flex flex-col gap-1"},mr.default.createElement("div",{className:"space-y-2"},mr.default.createElement("div",{className:"flex items-center gap-1"},mr.default.createElement("div",{className:"text-base font-medium text-normal"},"Prompt"),mr.default.createElement("span",{className:"text-error"},"*")),mr.default.createElement("div",{className:"text-sm text-muted -mt-1"},"Use the following syntax in your prompt:")),mr.default.createElement("div",{className:"text-sm flex flex-col gap-1 bg-secondary/30 rounded-md p-2"},mr.default.createElement("strong",null,"- ","{}"," represents the selected text (not required). "),mr.default.createElement("strong",null,"- ","{[[Note Title]]}"," represents a note. "),mr.default.createElement("strong",null,"- ","{activeNote}"," represents the active note. "),mr.default.createElement("strong",null,"- ","{FolderPath}"," represents a folder of notes. "),mr.default.createElement("strong",null,"- ","{#tag1, #tag2}"," represents ALL notes with ANY of the specified tags in their property (an OR operation)."," "),mr.default.createElement("div",{className:"mt-1"},mr.default.createElement("span",{className:"text-muted"},"Tip: turn on debug mode to show the processed prompt in the chat window."))),mr.default.createElement(HH,{value:s,onChange:S=>{u(S.target.value),l.prompt||c(x=>({...x,prompt:!0}))},onBlur:()=>c(S=>({...S,prompt:!0})),className:"!min-h-[8rem] mt-1",required:!0}),g&&mr.default.createElement("div",{className:"text-error text-xs mt-1"},"Prompt is required"),mr.default.createElement("div",{className:"flex flex-col text-xs text-muted gap-2 mt-2"},mr.default.createElement("div",null,"Save the prompt to the local prompt library. You can then use it with the Copilot command: ",mr.default.createElement("strong",null,"Apply custom prompt to selection.")),mr.default.createElement("div",null,"Check out the"," ",mr.default.createElement("a",{href:"https://github.com/f/awesome-chatgpt-prompts",target:"_blank",className:"text-accent hover:text-accent-hover",rel:"noreferrer"},"awesome chatGPT prompts")," ","for inspiration."))),mr.default.createElement("div",{className:"flex items-center justify-end gap-2"},mr.default.createElement(gt,{variant:"outline",onClick:o,disabled:d},"Cancel"),mr.default.createElement(gt,{onClick:h,disabled:!_||d},d?"Saving...":"Save")))}var VH=class extends c$.Modal{constructor(r,n,o="",i="",a){super(r);this.onSave=n;this.initialTitle=o;this.initialPrompt=i;this.disabledTitle=a}onOpen(){let{contentEl:r}=this;this.root=(0,n1t.createRoot)(r);let n=async(i,a)=>{await this.onSave(i,a),this.close()},o=()=>{this.close()};this.root.render(mr.default.createElement(Hon,{initialTitle:this.initialTitle,initialPrompt:this.initialPrompt,disabledTitle:this.disabledTitle,onSave:n,onCancel:o}))}onClose(){this.root.unmount()}};var o1t=require("obsidian"),uoe=class extends o1t.Modal{constructor(r,n){super(r);this.placeholderText="Please enter your custom ad-hoc prompt here, press enter to send.";this.onSubmit=n}onOpen(){let{contentEl:r}=this,n=createFragment(i=>{i.createEl("strong",{text:"- {} represents the selected text (not required). "}),i.createEl("br"),i.createEl("strong",{text:"- {[[Note Title]]} represents a note. "}),i.createEl("br"),i.createEl("strong",{text:"- {activeNote} represents the active note. "}),i.createEl("br"),i.createEl("strong",{text:"- {FolderPath} represents a folder of notes. "}),i.createEl("br"),i.createEl("strong",{text:"- {#tag1, #tag2} represents ALL notes with ANY of the specified tags in their property (an OR operation). "}),i.createEl("br"),i.createEl("br"),i.appendText("Tip: turn on debug mode to show the processed prompt in the chat window."),i.createEl("br"),i.createEl("br")});r.appendChild(n);let o=r.createEl("textarea",{attr:{placeholder:this.placeholderText}});o.style.width="100%",o.style.height="100px",o.style.padding="10px",o.style.resize="vertical",o.addEventListener("input",i=>{this.result=i.target.value}),o.addEventListener("keydown",i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),this.close(),this.onSubmit(this.result))})}onClose(){let{contentEl:r}=this;r.empty()}};var QT=require("obsidian"),loe=class extends QT.Modal{constructor(r,n){super(r);this.plugin=n}onOpen(){let{contentEl:r}=this;r.empty(),r.createEl("h2",{text:"Debug: Search OramaDB"});let n=r.createEl("p");n.innerHTML='Enter a JSON search params object. Example:<br><pre>{<br>  "term": "#tag",<br>  "mode": "hybrid",<br>  "limit": 10,<br>  "includeVectors": true<br>}</pre>',this.searchInput=r.createEl("textarea",{attr:{placeholder:"Enter search params JSON...",rows:"10",style:"width: 100%; min-height: 200px; margin: 10px 0; padding: 10px; font-family: monospace;"}}),r.createEl("div",{cls:"search-button-container"}).createEl("button",{text:"Search",cls:"mod-cta"}).addEventListener("click",async()=>{try{let a=JSON.parse(this.searchInput.value);a.vector?.value&&!Array.isArray(a.vector.value)&&(a.vector.value=Object.values(a.vector.value));let s=await this.plugin.vectorStoreManager.getDb();if(!s){new QT.Notice("Database not found");return}let u=await mc(s,a),l=["## Search Parameters","```json",JSON.stringify(a,null,2),"```","","## Results",`Total hits: ${u.hits.length}`,"","### Hits","```json",JSON.stringify(u.hits,null,2),"```"].join(`
`),c="OramaDB-Debug-Search.md",d=this.app.vault.getAbstractFileByPath(c);d instanceof QT.TFile?await this.app.vault.modify(d,l):await this.app.vault.create(c,l);let f=this.app.vault.getAbstractFileByPath(c);f instanceof QT.TFile&&(await this.app.workspace.getLeaf().openFile(f),this.close())}catch(a){console.error("Error in debug search:",a),new QT.Notice("Error executing search. Check console for details.")}})}onClose(){let{contentEl:r}=this;r.empty()}};var doe=require("obsidian"),ls=k(Z()),i1t=k(DE());function Von({originalText:t,promptMessage:e,chainManager:r,commandId:n,onInsert:o,onReplace:i,onClose:a}){let[s,u]=(0,ls.useState)(null),[l,c]=(0,ls.useState)(null),d=My[n],f=(0,ls.useCallback)(p=>{c(p.message)},[]);return(0,ls.useEffect)(()=>{let p=new AbortController;async function m(){let h="",v=await Oo.getInstance().getChatModel().stream(e.message);for await(let g of v){if(p?.signal.aborted)break;h+=g.content,u(h)}p?.signal.aborted||c(h)}return m(),()=>{p.abort()}},[e,r,f]),ls.default.createElement("div",{className:"flex flex-col gap-4"},ls.default.createElement("div",{className:"max-h-60 overflow-y-auto text-muted whitespace-pre-wrap"},t),d&&ls.default.createElement("div",{className:"text-normal flex items-center gap-2 font-bold"},ls.default.createElement(BE,{className:"w-4 h-4"}),d),ls.default.createElement("div",{className:"relative group"},ls.default.createElement("textarea",{className:"w-full h-60 text-text peer",value:l??s??"loading...",disabled:l==null,onChange:p=>c(p.target.value)}),l&&ls.default.createElement("button",{className:"absolute top-2 right-2 opacity-0 peer-focus-visible:!opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{navigator.clipboard.writeText(l),new doe.Notice("Copied to clipboard")}},ls.default.createElement(WA,{className:"w-4 h-4 text-muted-foreground hover:text-accent"}))),ls.default.createElement("div",{className:"flex justify-end gap-2"},ls.default.createElement("button",{onClick:a},"Close"),ls.default.createElement("button",{disabled:l==null,className:"!bg-interactive-accent !text-on-accent cursor-pointer",onClick:()=>o(l??"")},"Insert"),ls.default.createElement("button",{disabled:l==null,className:"!bg-interactive-accent !text-on-accent cursor-pointer",onClick:()=>i(l??"")},"Replace")))}var coe=class extends doe.Modal{constructor(r,n){super(r);this.configs=n}onOpen(){let{contentEl:r}=this;this.root=(0,i1t.createRoot)(r);let{selectedText:n,commandId:o,promptMessage:i,chainManager:a}=this.configs,s=c=>{_z(c),this.close()},u=c=>{_z(c,!0),this.close()},l=()=>{this.close()};this.root.render(ls.default.createElement(Von,{originalText:n,promptMessage:i,chainManager:a,commandId:o,onInsert:s,onReplace:u,onClose:l}))}onClose(){this.root.unmount()}};var a1t=require("obsidian"),Won=[{code:"en",name:"English"},{code:"zh",name:"Chinese"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"ar",name:"Arabic"},{code:"bn",name:"Bengali"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"el",name:"Greek"},{code:"fi",name:"Finnish"},{code:"he",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hu",name:"Hungarian"},{code:"id",name:"Indonesian"},{code:"ms",name:"Malay"},{code:"nl",name:"Dutch"},{code:"no",name:"Norwegian"},{code:"pl",name:"Polish"},{code:"sv",name:"Swedish"},{code:"th",name:"Thai"},{code:"tr",name:"Turkish"},{code:"uk",name:"Ukrainian"},{code:"vi",name:"Vietnamese"},{code:"af",name:"Afrikaans"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"et",name:"Estonian"},{code:"fa",name:"Persian"},{code:"fil",name:"Filipino"},{code:"hr",name:"Croatian"},{code:"is",name:"Icelandic"},{code:"lt",name:"Lithuanian"},{code:"lv",name:"Latvian"},{code:"ro",name:"Romanian"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"sr",name:"Serbian"},{code:"sw",name:"Swahili"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"ur",name:"Urdu"},{code:"zu",name:"Zulu"},{code:"mn",name:"Mongolian"},{code:"ne",name:"Nepali"},{code:"pa",name:"Punjabi"},{code:"si",name:"Sinhala"}],foe=class extends a1t.FuzzySuggestModal{constructor(r,n){super(r);this.onChooseLanguage=n}getItems(){return Won}getItemText(r){return r.name}onChooseItem(r,n){this.onChooseLanguage(r.name)}};var s1t=require("obsidian"),mO=class extends s1t.FuzzySuggestModal{constructor(r,n,o,i=[]){super(r);this.promptTitles=n,this.onChoosePromptTitle=o,this.descriptions=i}getItems(){return this.promptTitles}getItemText(r){let n=this.promptTitles.indexOf(r),o=this.descriptions[n];return o?`${r} - ${o}`:r}onChooseItem(r,n){let o=r.split(" - ")[0];this.onChoosePromptTitle(o)}};var WH=require("obsidian"),poe=class extends WH.Modal{constructor(r,n){super(r);this.plugin=n}onOpen(){let{contentEl:r}=this;r.empty(),r.createEl("h2",{text:"Inspect Copilot Index by Note Paths"}),this.searchInput=r.createEl("textarea",{attr:{placeholder:`Enter note paths as markdown list:
- [[Note 1]]
- [[Note 2]]`,rows:"10",style:"width: 100%; min-height: 200px; margin: 10px 0; padding: 10px; font-family: monospace;"}}),r.createEl("div",{cls:"search-button-container"}).createEl("button",{text:"Show Index Data",cls:"mod-cta"}).addEventListener("click",async()=>{let i=this.searchInput.value,a=_x(i);if(a.length===0){new WH.Notice("No valid note paths found. Use format: - [[Note Name]]");return}try{let u=await(await this.plugin.vectorStoreManager.getDbOps()).getDocsJsonByPaths(a),l="CopilotDB-Search-Results.md",c=["## Searched Paths",...a.map(p=>`- [[${p}]]`),"","## Index Data","```json",JSON.stringify(u,null,2),"```"].join(`
`),d=this.app.vault.getAbstractFileByPath(l);d?await this.app.vault.modify(d,c):await this.app.vault.create(l,c);let f=this.app.vault.getAbstractFileByPath(l);f&&await this.app.workspace.getLeaf().openFile(f),this.close()}catch(s){console.error("Error searching DB:",s),new WH.Notice("Error searching database. Check console for details.")}})}onClose(){let{contentEl:r}=this;r.empty()}};var JH=require("obsidian"),hoe=class extends JH.Modal{constructor(r,n){super(r);this.filePaths="";this.onSubmit=n}onOpen(){let{contentEl:r}=this;r.createEl("h2",{text:"Remove Files from Copilot Index"});let n=r.createDiv({cls:"remove-files-container"});new JH.Setting(n).setName("File paths").setDesc("Paste the markdown list of file paths to remove from the index. You can get the list by running the command `List all indexed files`.").setClass("remove-files-setting").addTextArea(o=>o.setPlaceholder(`- [[path/to/file1.md]]
- [[path/to/file2.md]]`).setValue(this.filePaths).onChange(i=>{this.filePaths=i})),new JH.Setting(n).addButton(o=>o.setButtonText("Remove").setCta().onClick(()=>{let i=this.filePaths.split(`
`).map(a=>{let s=a.match(/\[\[(.*?)\]\]/);return s?s[1].trim():""}).filter(a=>a.length>0);this.onSubmit(i),this.close()})),r.createEl("style",{text:`
        .remove-files-container {
          width: 100%;
          margin-top: 12px;
        }
        .remove-files-setting {
          display: block;
        }
        .remove-files-setting .setting-item-control {
          padding: 0;
        }
        .remove-files-setting textarea {
          width: 100%;
          height: 300px;
          margin-top: 12px;
        }
        .remove-files-setting textarea::placeholder {
          opacity: 0.5;
        }
      `})}onClose(){let{contentEl:r}=this;r.empty()}};var u1t=require("obsidian"),Jon=["Professional","Casual","Straightforward","Confident","Friendly"],moe=class extends u1t.FuzzySuggestModal{constructor(r,n){super(r);this.onChooseTone=n}getItems(){return Jon}getItemText(r){return r}onChooseItem(r,n){this.onChooseTone(r)}};var goe=class{get usageData(){return fe().promptUsageTimestamps}recordUsage(e){Ft("promptUsageTimestamps",{...this.usageData,[e]:Date.now()})}updateUsage(e,r){let n={...this.usageData};n[r]=n[e],delete n[e],Ft("promptUsageTimestamps",n)}removeUnusedPrompts(e){let r={...this.usageData};for(let n of Object.keys(r))e.includes(n)||delete r[n];Ft("promptUsageTimestamps",r)}compare(e,r){return(this.usageData[e]||0)-(this.usageData[r]||0)}};var eM=require("obsidian"),Jf=class{constructor(e){this.vault=e;this.lastProcessedPrompt=null;this.usageStrategy=new goe}get customPromptsFolder(){return fe().customPromptsFolder}static getInstance(e){return Jf.instance||(Jf.instance=new Jf(e)),Jf.instance}recordPromptUsage(e){this.usageStrategy.recordUsage(e)}async getAllPrompts(){let e=this.customPromptsFolder,r=this.vault.getFiles().filter(o=>o.path.startsWith(e)&&o.extension==="md"),n=[];for(let o of r){let i=await this.vault.read(o);n.push({title:o.basename,content:i})}return this.usageStrategy.removeUnusedPrompts(n.map(o=>o.title)),n.sort((o,i)=>this.usageStrategy.compare(i.title,o.title)||0)}async getPrompt(e){let r=`${this.customPromptsFolder}/${e}.md`,n=this.vault.getAbstractFileByPath(r);if(n instanceof eM.TFile){let o=await this.vault.read(n);return{title:e,content:o}}return null}async savePrompt(e,r){let n=(0,eM.normalizePath)(this.customPromptsFolder),o=`${n}/${e}.md`;await this.vault.adapter.exists(n)||await this.vault.createFolder(n),await this.vault.create(o,r)}async updatePrompt(e,r,n){let o=`${this.customPromptsFolder}/${e}.md`,i=this.vault.getAbstractFileByPath(o);if(i instanceof eM.TFile){if(e!==r){let a=`${this.customPromptsFolder}/${r}.md`;if(this.vault.getAbstractFileByPath(a))throw new pr("Error saving custom prompt. Please check if the title already exists.");this.usageStrategy.updateUsage(e,r),await this.vault.rename(i,a)}await this.vault.modify(i,n)}}async deletePrompt(e){let r=`${this.customPromptsFolder}/${e}.md`,n=this.vault.getAbstractFileByPath(r);n instanceof eM.TFile&&(this.usageStrategy.removeUnusedPrompts([e]),await this.vault.delete(n))}async extractVariablesFromPrompt(e,r){let n=[],o=/\{([^}]+)\}/g,i;for(;(i=o.exec(e))!==null;){let a=i[1].trim(),s=[];if(a.toLowerCase()==="activenote")if(r){let u=await SN(r,this.vault);u&&s.push({name:vW(r),content:u})}else new eM.Notice("No active note found.");else if(a.startsWith("#")){let u=a.slice(1).split(",").map(c=>c.trim()),l=await Qqe(this.vault,u);for(let c of l){let d=await SN(c,this.vault);d&&s.push({name:vW(c),content:d})}}else{let u=nUe(a),l=await Lde(this.vault,u);for(let c of l){let d=await SN(c,this.vault);d&&s.push({name:vW(c),content:d})}}if(s.length>0){let u=s.map(l=>`## ${l.name}

${l.content}`).join(`

`);n.push(u)}else console.warn(`No notes found for variable: ${a}`)}return n}async processCustomPrompt(e,r,n){this.lastProcessedPrompt=e;let o=await this.extractVariablesFromPrompt(e,n),i=e,a=[...i.matchAll(/\{([^}]+)\}/g)],s="",u=null;i.includes("{}")&&(i=i.replace(/\{\}/g,"{selectedText}"),r?s+=`selectedText:

 ${r}`:n?(u=await SN(n,this.vault),s+=`selectedText (entire active note):

 ${u}`):s+=`selectedText:

 (No selected text or active note available)`);for(let c=0;c<o.length;c++)if(a[c]){let d=a[c][1];if(d.toLowerCase()==="activenote"&&u)continue;s+=`

${d}:

${o[c]}`}let l=_x(i);for(let c of l)if(!a.some(d=>d[1].includes(`[[${c}]]`))){let d=await _W(this.vault,c);if(d){let f=await SN(d,this.vault);s+=`

[[${c}]]:

${f}`}}return i+`

`+s}async getProcessedVariables(){let e=new Set,r=this.lastProcessedPrompt?.matchAll(/\{([^}]+)\}/g)||[];for(let o of r)e.add(o[1]);let n=_x(this.lastProcessedPrompt||"");for(let o of n)e.add(`[[${o}]]`);return e}};var Dn=require("obsidian");function pD(t){return fe().enabledCommands[t]?.enabled!==!1}function dd(t,e,r){pD(e)&&t.addCommand({id:e,name:My[e],callback:r})}function fd(t,e,r){pD(e)&&t.addCommand({id:e,name:My[e],editorCallback:r})}function l1t(t,e,r){pD(e)&&t.addCommand({id:e,name:My[e],checkCallback:r})}async function Jd(t,e,r,n){let o=e.getSelection().trim();if(!o)return;let i=r1t[r],s={message:await i(o,n),sender:To,isVisible:!1,timestamp:bs(new Date)};o&&new coe(app,{selectedText:o,commandId:r,promptMessage:s,chainManager:t.chainManager}).open()}function bTe(t){R5.forEach(r=>{t.removeCommand(r)});let e=Jf.getInstance(t.app.vault);fd(t,te.FIX_GRAMMAR,r=>{Jd(t,r,te.FIX_GRAMMAR)}),fd(t,te.SUMMARIZE,r=>{Jd(t,r,te.SUMMARIZE)}),fd(t,te.GENERATE_TOC,r=>{Jd(t,r,te.GENERATE_TOC)}),fd(t,te.GENERATE_GLOSSARY,r=>{Jd(t,r,te.GENERATE_GLOSSARY)}),fd(t,te.SIMPLIFY,r=>{Jd(t,r,te.SIMPLIFY)}),fd(t,te.EMOJIFY,r=>{Jd(t,r,te.EMOJIFY)}),fd(t,te.REMOVE_URLS,r=>{Jd(t,r,te.REMOVE_URLS)}),fd(t,te.REWRITE_TWEET,r=>{Jd(t,r,te.REWRITE_TWEET)}),fd(t,te.REWRITE_TWEET_THREAD,r=>{Jd(t,r,te.REWRITE_TWEET_THREAD)}),fd(t,te.MAKE_SHORTER,r=>{Jd(t,r,te.MAKE_SHORTER)}),fd(t,te.MAKE_LONGER,r=>{Jd(t,r,te.MAKE_LONGER)}),fd(t,te.ELI5,r=>{Jd(t,r,te.ELI5)}),fd(t,te.PRESS_RELEASE,r=>{Jd(t,r,te.PRESS_RELEASE)}),fd(t,te.TRANSLATE,r=>{new foe(t.app,n=>{if(!n){new Dn.Notice("Please select a language.");return}Jd(t,r,te.TRANSLATE,n)}).open()}),fd(t,te.CHANGE_TONE,r=>{new moe(t.app,n=>{if(!n){new Dn.Notice("Please select a tone.");return}Jd(t,r,te.CHANGE_TONE,n)}).open()}),fd(t,te.COUNT_WORD_AND_TOKENS_SELECTION,async r=>{let n=await r.getSelection(),o=n.split(" ").length,i=await t.chainManager.chatModelManager.countTokens(n);new Dn.Notice(`Selected text contains ${o} words and ${i} tokens.`)}),dd(t,te.COUNT_TOTAL_VAULT_TOKENS,async()=>{try{let r=await Pvt(t.app),n=await t.chainManager.chatModelManager.countTokens(r);new Dn.Notice(`Total tokens in your vault: ${n}`)}catch(r){console.error("Error counting tokens: ",r),new Dn.Notice("An error occurred while counting tokens.")}}),dd(t,te.TOGGLE_COPILOT_CHAT_WINDOW,()=>{t.toggleView()}),dd(t,te.OPEN_COPILOT_CHAT_WINDOW,()=>{t.activateView()}),dd(t,te.ADD_CUSTOM_PROMPT,()=>{new VH(t.app,async(r,n)=>{try{await e.savePrompt(r,n),new Dn.Notice("Custom prompt saved successfully.")}catch(o){let i="An error occurred while saving the custom prompt: "+sa(o);throw console.error(i),new Error(i)}}).open()}),dd(t,te.APPLY_CUSTOM_PROMPT,async()=>{let n=(await e.getAllPrompts()).map(o=>o.title);new mO(t.app,n,async o=>{if(!o){new Dn.Notice("Please select a prompt title.");return}try{let i=await e.getPrompt(o);if(!i){new Dn.Notice(`No prompt found with the title "${o}".`);return}t.processCustomPrompt(te.APPLY_CUSTOM_PROMPT,i.content)}catch(i){console.error(i),new Dn.Notice("An error occurred.")}}).open()}),dd(t,te.APPLY_ADHOC_PROMPT,async()=>{new uoe(t.app,async n=>{try{t.processCustomPrompt(te.APPLY_ADHOC_PROMPT,n)}catch(o){console.error(o),new Dn.Notice("An error occurred.")}}).open()}),l1t(t,te.DELETE_CUSTOM_PROMPT,r=>(r||e.getAllPrompts().then(n=>{let o=n.map(i=>i.title);new mO(t.app,o,async i=>{if(!i){new Dn.Notice("Please select a prompt title.");return}try{await e.deletePrompt(i),new Dn.Notice(`Prompt "${i}" has been deleted.`)}catch(a){console.error(a),new Dn.Notice("An error occurred while deleting the prompt.")}}).open()}),!0)),l1t(t,te.EDIT_CUSTOM_PROMPT,r=>(r||e.getAllPrompts().then(n=>{let o=n.map(i=>i.title);new mO(t.app,o,async i=>{if(!i){new Dn.Notice("Please select a prompt title.");return}try{let a=await e.getPrompt(i);a?new VH(t.app,async(s,u)=>{try{await e.updatePrompt(i,s,u),new Dn.Notice(`Prompt "${s}" has been updated.`)}catch(l){let c="An error occurred while updating the custom prompt: "+sa(l);throw console.error(c),new Error(c)}},a.title,a.content,!1).open():new Dn.Notice(`No prompt found with the title "${i}".`)}catch(a){console.error(a),new Dn.Notice("An error occurred.")}}).open()}),!0)),dd(t,te.CLEAR_LOCAL_COPILOT_INDEX,async()=>{await t.vectorStoreManager.clearIndex()}),dd(t,te.GARBAGE_COLLECT_COPILOT_INDEX,async()=>{try{let r=await t.vectorStoreManager.garbageCollectVectorStore();new Dn.Notice(`${r} documents removed from Copilot index.`)}catch(r){console.error("Error garbage collecting the Copilot index:",r),new Dn.Notice("An error occurred while garbage collecting the Copilot index.")}}),dd(t,te.INDEX_VAULT_TO_COPILOT_INDEX,async()=>{try{let r=await t.vectorStoreManager.indexVaultToVectorStore();new Dn.Notice(`${r} vault files indexed to Copilot index.`)}catch(r){console.error("Error indexing vault to Copilot index:",r),new Dn.Notice("An error occurred while indexing vault to Copilot index.")}}),dd(t,te.FORCE_REINDEX_VAULT_TO_COPILOT_INDEX,async()=>{try{let r=await t.vectorStoreManager.indexVaultToVectorStore(!0);new Dn.Notice(`${r} vault files re-indexed to Copilot index.`)}catch(r){console.error("Error re-indexing vault to Copilot index:",r),new Dn.Notice("An error occurred while re-indexing vault to Copilot index.")}}),dd(t,te.LOAD_COPILOT_CHAT_CONVERSATION,()=>{t.loadCopilotChatHistory()}),dd(t,te.INSPECT_COPILOT_INDEX_BY_NOTE_PATHS,()=>{new poe(t.app,t).open()}),dd(t,te.SEARCH_ORAMA_DB,()=>{new loe(t.app,t).open()}),dd(t,te.LIST_INDEXED_FILES,async()=>{try{let r=await t.vectorStoreManager.getIndexedFiles(),n=new Set(r),o=t.app.vault.getMarkdownFiles(),i=new Set,a=new Set,s=new Set,u=await t.vectorStoreManager.getDbOps();for(let m of o){let h=await t.app.vault.cachedRead(m);!h||h.trim().length===0?i.add(m.path):n.has(m.path)?await u.hasEmbeddings(m.path)||s.add(m.path):a.add(m.path)}if(r.length===0&&i.size===0&&a.size===0){new Dn.Notice("No files found to list.");return}let l=["# Copilot Files Status",`- Indexed files: ${r.length}`,`	- Files missing embeddings: ${s.size}`,`- Unindexed files: ${a.size}`,`- Empty files: ${i.size}`,"","## Indexed Files",...r.map(m=>{let h=s.has(m);return`- [[${m}]]${h?" *(embedding missing)*":""}`}),"","## Unindexed Files",...a.size>0?Array.from(a).sort().map(m=>`- [[${m}]]`):["No unindexed files found."],"","## Empty Files",...i.size>0?Array.from(i).sort().map(m=>`- [[${m}]]`):["No empty files found."]].join(`
`),d=`${`Copilot-Indexed-Files-${new Date().toLocaleDateString().replace(/\//g,"-")}.md`}`,f=t.app.vault.getAbstractFileByPath(d);f instanceof Dn.TFile?await t.app.vault.modify(f,l):await t.app.vault.create(d,l);let p=t.app.vault.getAbstractFileByPath(d);p instanceof Dn.TFile&&(await t.app.workspace.getLeaf().openFile(p),new Dn.Notice(`Listed ${r.length} indexed files`))}catch(r){console.error("Error listing indexed files:",r),new Dn.Notice("Failed to list indexed files.")}}),dd(t,te.REMOVE_FILES_FROM_COPILOT_INDEX,async()=>{new hoe(t.app,async r=>{let n=await t.vectorStoreManager.getDbOps();try{for(let o of r)await n.removeDocs(o);await n.saveDB(),new Dn.Notice(`Successfully removed ${r.length} files from the index.`)}catch(o){console.error("Error removing files from index:",o),new Dn.Notice("An error occurred while removing files from the index.")}}).open()}),dd(t,te.CLEAR_COPILOT_CACHE,async()=>{try{await t.fileParserManager.clearPDFCache(),new Dn.Notice("Copilot cache cleared successfully")}catch(r){console.error("Error clearing Copilot cache:",r),new Dn.Notice("Failed to clear Copilot cache")}})}var gr=k(Z());var cl=k(Z(),1);function GH(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var Gon=k(Z(),1);function c1t(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yoe(...t){return e=>{let r=!1,n=t.map(o=>{let i=c1t(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():c1t(t[o],null)}}}}var wm=k(Z(),1),_Te=k(ct(),1);function d1t(t,e){let r=wm.createContext(e),n=i=>{let{children:a,...s}=i,u=wm.useMemo(()=>s,Object.values(s));return(0,_Te.jsx)(r.Provider,{value:u,children:a})};n.displayName=t+"Provider";function o(i){let a=wm.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,o]}function Do(t,e=[]){let r=[];function n(i,a){let s=wm.createContext(a),u=r.length;r=[...r,a];let l=d=>{let{scope:f,children:p,...m}=d,h=f?.[t]?.[u]||s,v=wm.useMemo(()=>m,Object.values(m));return(0,_Te.jsx)(h.Provider,{value:v,children:p})};l.displayName=i+"Provider";function c(d,f){let p=f?.[t]?.[u]||s,m=wm.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,c]}let o=()=>{let i=r.map(a=>wm.createContext(a));return function(s){let u=s?.[t]||i;return wm.useMemo(()=>({[`__scope${t}`]:{...s,[t]:u}}),[s,u])}};return o.scopeName=t,[n,Kon(o,...e)]}function Kon(...t){let e=t[0];if(t.length===1)return e;let r=()=>{let n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let a=n.reduce((s,{useScope:u,scopeName:l})=>{let d=u(i)[`__scope${l}`];return{...s,...d}},{});return wm.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var tM=k(Z(),1);var d$=k(Z(),1);function Jt(t){let e=d$.useRef(t);return d$.useEffect(()=>{e.current=t}),d$.useMemo(()=>(...r)=>e.current?.(...r),[])}function ll({prop:t,defaultProp:e,onChange:r=()=>{}}){let[n,o]=Yon({defaultProp:e,onChange:r}),i=t!==void 0,a=i?t:n,s=Jt(r),u=tM.useCallback(l=>{if(i){let d=typeof l=="function"?l(t):l;d!==t&&s(d)}else o(l)},[i,t,o,s]);return[a,u]}function Yon({defaultProp:t,onChange:e}){let r=tM.useState(t),[n]=r,o=tM.useRef(n),i=Jt(e);return tM.useEffect(()=>{o.current!==n&&(i(n),o.current=n)},[n,o,i]),r}var f1t=k(Z(),1),tin=k(ys(),1);var xc=k(Z(),1);var f$=k(ct(),1),wTe=xc.forwardRef((t,e)=>{let{children:r,...n}=t,o=xc.Children.toArray(r),i=o.find(Zon);if(i){let a=i.props.children,s=o.map(u=>u===i?xc.Children.count(a)>1?xc.Children.only(null):xc.isValidElement(a)?a.props.children:null:u);return(0,f$.jsx)(vTe,{...n,ref:e,children:xc.isValidElement(a)?xc.cloneElement(a,void 0,s):null})}return(0,f$.jsx)(vTe,{...n,ref:e,children:r})});wTe.displayName="Slot";var vTe=xc.forwardRef((t,e)=>{let{children:r,...n}=t;if(xc.isValidElement(r)){let o=ein(r);return xc.cloneElement(r,{...Qon(n,r.props),ref:e?yoe(e,o):o})}return xc.Children.count(r)>1?xc.Children.only(null):null});vTe.displayName="SlotClone";var Xon=({children:t})=>(0,f$.jsx)(f$.Fragment,{children:t});function Zon(t){return xc.isValidElement(t)&&t.type===Xon}function Qon(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function ein(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var p1t=k(ct(),1),rin=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],h1t=rin.reduce((t,e)=>{let r=f1t.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?wTe:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,p1t.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});var St=k(Z(),1);function di(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var nM=k(Z(),1);var g1t=k(Z(),1);function m1t(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KH(...t){return e=>{let r=!1,n=t.map(o=>{let i=m1t(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():m1t(t[o],null)}}}}function Cc(...t){return g1t.useCallback(KH(...t),t)}var Oc=k(Z(),1);var p$=k(ct(),1),rM=Oc.forwardRef((t,e)=>{let{children:r,...n}=t,o=Oc.Children.toArray(r),i=o.find(oin);if(i){let a=i.props.children,s=o.map(u=>u===i?Oc.Children.count(a)>1?Oc.Children.only(null):Oc.isValidElement(a)?a.props.children:null:u);return(0,p$.jsx)(STe,{...n,ref:e,children:Oc.isValidElement(a)?Oc.cloneElement(a,void 0,s):null})}return(0,p$.jsx)(STe,{...n,ref:e,children:r})});rM.displayName="Slot";var STe=Oc.forwardRef((t,e)=>{let{children:r,...n}=t;if(Oc.isValidElement(r)){let o=ain(r);return Oc.cloneElement(r,{...iin(n,r.props),ref:e?KH(e,o):o})}return Oc.Children.count(r)>1?Oc.Children.only(null):null});STe.displayName="SlotClone";var nin=({children:t})=>(0,p$.jsx)(p$.Fragment,{children:t});function oin(t){return Oc.isValidElement(t)&&t.type===nin}function iin(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function ain(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var boe=k(ct(),1);function y1t(t){let e=t+"CollectionProvider",[r,n]=Do(e),[o,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:m,children:h}=p,v=nM.default.useRef(null),g=nM.default.useRef(new Map).current;return(0,boe.jsx)(o,{scope:m,itemMap:g,collectionRef:v,children:h})};a.displayName=e;let s=t+"CollectionSlot",u=nM.default.forwardRef((p,m)=>{let{scope:h,children:v}=p,g=i(s,h),_=Cc(m,g.collectionRef);return(0,boe.jsx)(rM,{ref:_,children:v})});u.displayName=s;let l=t+"CollectionItemSlot",c="data-radix-collection-item",d=nM.default.forwardRef((p,m)=>{let{scope:h,children:v,...g}=p,_=nM.default.useRef(null),S=Cc(m,_),x=i(l,h);return nM.default.useEffect(()=>(x.itemMap.set(_,{ref:_,...g}),()=>void x.itemMap.delete(_))),(0,boe.jsx)(rM,{[c]:"",ref:S,children:v})});d.displayName=l;function f(p){let m=i(t+"CollectionConsumer",p);return nM.default.useCallback(()=>{let v=m.collectionRef.current;if(!v)return[];let g=Array.from(v.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((x,O)=>g.indexOf(x.ref.current)-g.indexOf(O.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},f,n]}var _oe=k(Z(),1),sin=k(ct(),1),uin=_oe.createContext(void 0);function oM(t){let e=_oe.useContext(uin);return t||e||"ltr"}var Ea=k(Z(),1);var b1t=k(Z(),1),_1t=k(ys(),1);var v1t=k(ct(),1),lin=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ql=lin.reduce((t,e)=>{let r=b1t.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?rM:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,v1t.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function voe(t,e){t&&_1t.flushSync(()=>t.dispatchEvent(e))}var w1t=k(Z(),1);function SS(t,e=globalThis?.document){let r=Jt(t);w1t.useEffect(()=>{let n=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var CTe=k(ct(),1),cin="DismissableLayer",xTe="dismissableLayer.update",din="dismissableLayer.pointerDownOutside",fin="dismissableLayer.focusOutside",S1t,C1t=Ea.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OTe=Ea.forwardRef((t,e)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=t,l=Ea.useContext(C1t),[c,d]=Ea.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Ea.useState({}),m=Cc(e,E=>d(E)),h=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(v),_=c?h.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=_>=g,O=min(E=>{let M=E.target,R=[...l.branches].some(N=>N.contains(M));!x||R||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=gin(E=>{let M=E.target;[...l.branches].some(N=>N.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return SS(E=>{_===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Ea.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(S1t=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),x1t(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=S1t)}},[c,f,r,l]),Ea.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),x1t())},[c,l]),Ea.useEffect(()=>{let E=()=>p({});return document.addEventListener(xTe,E),()=>document.removeEventListener(xTe,E)},[]),(0,CTe.jsx)(ql.div,{...u,ref:m,style:{pointerEvents:S?x?"auto":"none":void 0,...t.style},onFocusCapture:di(t.onFocusCapture,T.onFocusCapture),onBlurCapture:di(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:di(t.onPointerDownCapture,O.onPointerDownCapture)})});OTe.displayName=cin;var pin="DismissableLayerBranch",hin=Ea.forwardRef((t,e)=>{let r=Ea.useContext(C1t),n=Ea.useRef(null),o=Cc(e,n);return Ea.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,CTe.jsx)(ql.div,{...t,ref:o})});hin.displayName=pin;function min(t,e=globalThis?.document){let r=Jt(t),n=Ea.useRef(!1),o=Ea.useRef(()=>{});return Ea.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){O1t(din,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function gin(t,e=globalThis?.document){let r=Jt(t),n=Ea.useRef(!1);return Ea.useEffect(()=>{let o=i=>{i.target&&!n.current&&O1t(fin,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function x1t(){let t=new CustomEvent(xTe);document.dispatchEvent(t)}function O1t(t,e,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?voe(o,i):o.dispatchEvent(i)}var P1t=k(Z(),1),ETe=0;function iM(){P1t.useEffect(()=>{let t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??E1t()),document.body.insertAdjacentElement("beforeend",t[1]??E1t()),ETe++,()=>{ETe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ETe--}},[])}function E1t(){let t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sm=k(Z(),1);var I1t=k(ct(),1),PTe="focusScope.autoFocusOnMount",TTe="focusScope.autoFocusOnUnmount",T1t={bubbles:!1,cancelable:!0},yin="FocusScope",MTe=Sm.forwardRef((t,e)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[s,u]=Sm.useState(null),l=Jt(o),c=Jt(i),d=Sm.useRef(null),f=Cc(e,h=>u(h)),p=Sm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Sm.useEffect(()=>{if(n){let _=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:aM(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||aM(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&aM(s)};var h=_,v=S,g=x;document.addEventListener("focusin",_),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),Sm.useEffect(()=>{if(s){A1t.add(p);let h=document.activeElement;if(!s.contains(h)){let g=new CustomEvent(PTe,T1t);s.addEventListener(PTe,l),s.dispatchEvent(g),g.defaultPrevented||(bin(xin(D1t(s)),{select:!0}),document.activeElement===h&&aM(s))}return()=>{s.removeEventListener(PTe,l),setTimeout(()=>{let g=new CustomEvent(TTe,T1t);s.addEventListener(TTe,c),s.dispatchEvent(g),g.defaultPrevented||aM(h??document.body,{select:!0}),s.removeEventListener(TTe,c),A1t.remove(p)},0)}}},[s,l,c,p]);let m=Sm.useCallback(h=>{if(!r&&!n||p.paused)return;let v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(v&&g){let _=h.currentTarget,[S,x]=_in(_);S&&x?!h.shiftKey&&g===x?(h.preventDefault(),r&&aM(S,{select:!0})):h.shiftKey&&g===S&&(h.preventDefault(),r&&aM(x,{select:!0})):g===_&&h.preventDefault()}},[r,n,p.paused]);return(0,I1t.jsx)(ql.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});MTe.displayName=yin;function bin(t,{select:e=!1}={}){let r=document.activeElement;for(let n of t)if(aM(n,{select:e}),document.activeElement!==r)return}function _in(t){let e=D1t(t),r=M1t(e,t),n=M1t(e.reverse(),t);return[r,n]}function D1t(t){let e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function M1t(t,e){for(let r of t)if(!vin(r,{upTo:e}))return r}function vin(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function win(t){return t instanceof HTMLInputElement&&"select"in t}function aM(t,{select:e=!1}={}){if(t&&t.focus){let r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&win(t)&&e&&t.select()}}var A1t=Sin();function Sin(){let t=[];return{add(e){let r=t[0];e!==r&&r?.pause(),t=R1t(t,e),t.unshift(e)},remove(e){t=R1t(t,e),t[0]?.resume()}}}function R1t(t,e){let r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function xin(t){return t.filter(e=>e.tagName!=="A")}var ATe=k(Z(),1);var j1t=k(Z(),1),Br=Boolean(globalThis?.document)?j1t.useLayoutEffect:()=>{};var Cin=ATe["useId".toString()]||(()=>{}),Oin=0;function Ja(t){let[e,r]=ATe.useState(Cin());return Br(()=>{t||r(n=>n??String(Oin++))},[t]),t||(e?`radix-${e}`:"")}var zp=k(Z(),1);var N1t=["top","right","bottom","left"];var xS=Math.min,Gd=Math.max,XH=Math.round,ZH=Math.floor,Qg=t=>({x:t,y:t}),Ein={left:"right",right:"left",bottom:"top",top:"bottom"},Pin={start:"end",end:"start"};function Soe(t,e,r){return Gd(t,xS(e,r))}function CS(t,e){return typeof t=="function"?t(e):t}function OS(t){return t.split("-")[0]}function hD(t){return t.split("-")[1]}function xoe(t){return t==="x"?"y":"x"}function Coe(t){return t==="y"?"height":"width"}function gO(t){return["top","bottom"].includes(OS(t))?"y":"x"}function Ooe(t){return xoe(gO(t))}function L1t(t,e,r){r===void 0&&(r=!1);let n=hD(t),o=Ooe(t),i=Coe(o),a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=YH(a)),[a,YH(a)]}function F1t(t){let e=YH(t);return[woe(t),e,woe(e)]}function woe(t){return t.replace(/start|end/g,e=>Pin[e])}function Tin(t,e,r){let n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?i:a;default:return[]}}function B1t(t,e,r,n){let o=hD(t),i=Tin(OS(t),r==="start",n);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(woe)))),i}function YH(t){return t.replace(/left|right|bottom|top/g,e=>Ein[e])}function Min(t){return{top:0,right:0,bottom:0,left:0,...t}}function RTe(t){return typeof t!="number"?Min(t):{top:t,right:t,bottom:t,left:t}}function mD(t){let{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}function k1t(t,e,r){let{reference:n,floating:o}=t,i=gO(e),a=Ooe(e),s=Coe(a),u=OS(e),l=i==="y",c=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,f=n[s]/2-o[s]/2,p;switch(u){case"top":p={x:c,y:n.y-o.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-o.width,y:d};break;default:p={x:n.x,y:n.y}}switch(hD(e)){case"start":p[a]-=f*(r&&l?-1:1);break;case"end":p[a]+=f*(r&&l?-1:1);break}return p}var U1t=async(t,e,r)=>{let{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e)),l=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:c,y:d}=k1t(l,n,u),f=n,p={},m=0;for(let h=0;h<s.length;h++){let{name:v,fn:g}=s[h],{x:_,y:S,data:x,reset:O}=await g({x:c,y:d,initialPlacement:n,placement:f,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:t,floating:e}});c=_??c,d=S??d,p={...p,[v]:{...p[v],...x}},O&&m<=50&&(m++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(l=O.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):O.rects),{x:c,y:d}=k1t(l,f,u)),h=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:p}};async function h$(t,e){var r;e===void 0&&(e={});let{x:n,y:o,platform:i,rects:a,elements:s,strategy:u}=t,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=CS(e,t),m=RTe(p),v=s[f?d==="floating"?"reference":"floating":d],g=mD(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:u})),_=d==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),x=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=mD(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:S,strategy:u}):_);return{top:(g.top-O.top+m.top)/x.y,bottom:(O.bottom-g.bottom+m.bottom)/x.y,left:(g.left-O.left+m.left)/x.x,right:(O.right-g.right+m.right)/x.x}}var z1t=t=>({name:"arrow",options:t,async fn(e){let{x:r,y:n,placement:o,rects:i,platform:a,elements:s,middlewareData:u}=e,{element:l,padding:c=0}=CS(t,e)||{};if(l==null)return{};let d=RTe(c),f={x:r,y:n},p=Ooe(o),m=Coe(p),h=await a.getDimensions(l),v=p==="y",g=v?"top":"left",_=v?"bottom":"right",S=v?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[p]-f[p]-i.floating[m],O=f[p]-i.reference[p],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l)),E=T?T[S]:0;(!E||!await(a.isElement==null?void 0:a.isElement(T)))&&(E=s.floating[S]||i.floating[m]);let M=x/2-O/2,R=E/2-h[m]/2-1,N=xS(d[g],R),j=xS(d[_],R),F=N,B=E-h[m]-j,L=E/2-h[m]/2+M,q=Soe(F,L,B),U=!u.arrow&&hD(o)!=null&&L!==q&&i.reference[m]/2-(L<F?N:j)-h[m]/2<0,J=U?L<F?L-F:L-B:0;return{[p]:f[p]+J,data:{[p]:q,centerOffset:L-q-J,...U&&{alignmentOffset:J}},reset:U}}});var H1t=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;let{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:u,elements:l}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...v}=CS(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};let g=OS(o),_=gO(s),S=OS(s)===s,x=await(u.isRTL==null?void 0:u.isRTL(l.floating)),O=f||(S||!h?[YH(s)]:F1t(s)),T=m!=="none";!f&&T&&O.push(...B1t(s,h,m,x));let E=[s,...O],M=await h$(e,v),R=[],N=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&R.push(M[g]),d){let L=L1t(o,a,x);R.push(M[L[0]],M[L[1]])}if(N=[...N,{placement:o,overflows:R}],!R.every(L=>L<=0)){var j,F;let L=(((j=i.flip)==null?void 0:j.index)||0)+1,q=E[L];if(q)return{data:{index:L,overflows:N},reset:{placement:q}};let U=(F=N.filter(J=>J.overflows[0]<=0).sort((J,H)=>J.overflows[1]-H.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(p){case"bestFit":{var B;let J=(B=N.filter(H=>{if(T){let I=gO(H.placement);return I===_||I==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((H,I)=>H[1]-I[1])[0])==null?void 0:B[0];J&&(U=J);break}case"initialPlacement":U=s;break}if(o!==U)return{reset:{placement:U}}}return{}}}};function $1t(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function q1t(t){return N1t.some(e=>t[e]>=0)}var V1t=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){let{rects:r}=e,{strategy:n="referenceHidden",...o}=CS(t,e);switch(n){case"referenceHidden":{let i=await h$(e,{...o,elementContext:"reference"}),a=$1t(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:q1t(a)}}}case"escaped":{let i=await h$(e,{...o,altBoundary:!0}),a=$1t(i,r.floating);return{data:{escapedOffsets:a,escaped:q1t(a)}}}default:return{}}}}};async function Ain(t,e){let{placement:r,platform:n,elements:o}=t,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=OS(r),s=hD(r),u=gO(r)==="y",l=["left","top"].includes(a)?-1:1,c=i&&u?-1:1,d=CS(e,t),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),u?{x:p*c,y:f*l}:{x:f*l,y:p*c}}var W1t=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;let{x:o,y:i,placement:a,middlewareData:s}=e,u=await Ain(e,t);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:a}}}}},J1t=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:r,y:n,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:g,y:_}=v;return{x:g,y:_}}},...u}=CS(t,e),l={x:r,y:n},c=await h$(e,u),d=gO(OS(o)),f=xoe(d),p=l[f],m=l[d];if(i){let v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",_=p+c[v],S=p-c[g];p=Soe(_,p,S)}if(a){let v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",_=m+c[v],S=m-c[g];m=Soe(_,m,S)}let h=s.fn({...e,[f]:p,[d]:m});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[f]:i,[d]:a}}}}}},G1t=function(t){return t===void 0&&(t={}),{options:t,fn(e){let{x:r,y:n,placement:o,rects:i,middlewareData:a}=e,{offset:s=0,mainAxis:u=!0,crossAxis:l=!0}=CS(t,e),c={x:r,y:n},d=gO(o),f=xoe(d),p=c[f],m=c[d],h=CS(s,e),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(u){let S=f==="y"?"height":"width",x=i.reference[f]-i.floating[S]+v.mainAxis,O=i.reference[f]+i.reference[S]-v.mainAxis;p<x?p=x:p>O&&(p=O)}if(l){var g,_;let S=f==="y"?"width":"height",x=["top","left"].includes(OS(o)),O=i.reference[d]-i.floating[S]+(x&&((g=a.offset)==null?void 0:g[d])||0)+(x?0:v.crossAxis),T=i.reference[d]+i.reference[S]+(x?0:((_=a.offset)==null?void 0:_[d])||0)-(x?v.crossAxis:0);m<O?m=O:m>T&&(m=T)}return{[f]:p,[d]:m}}}},K1t=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;let{placement:o,rects:i,platform:a,elements:s}=e,{apply:u=()=>{},...l}=CS(t,e),c=await h$(e,l),d=OS(o),f=hD(o),p=gO(o)==="y",{width:m,height:h}=i.floating,v,g;d==="top"||d==="bottom"?(v=d,g=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,v=f==="end"?"top":"bottom");let _=h-c.top-c.bottom,S=m-c.left-c.right,x=xS(h-c[v],_),O=xS(m-c[g],S),T=!e.middlewareData.shift,E=x,M=O;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(M=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=_),T&&!f){let N=Gd(c.left,0),j=Gd(c.right,0),F=Gd(c.top,0),B=Gd(c.bottom,0);p?M=m-2*(N!==0||j!==0?N+j:Gd(c.left,c.right)):E=h-2*(F!==0||B!==0?F+B:Gd(c.top,c.bottom))}await u({...e,availableWidth:M,availableHeight:E});let R=await a.getDimensions(s.floating);return m!==R.width||h!==R.height?{reset:{rects:!0}}:{}}}};function Eoe(){return typeof window<"u"}function yD(t){return X1t(t)?(t.nodeName||"").toLowerCase():"#document"}function Gf(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ey(t){var e;return(e=(X1t(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X1t(t){return Eoe()?t instanceof Node||t instanceof Gf(t).Node:!1}function xm(t){return Eoe()?t instanceof Element||t instanceof Gf(t).Element:!1}function ty(t){return Eoe()?t instanceof HTMLElement||t instanceof Gf(t).HTMLElement:!1}function Y1t(t){return!Eoe()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gf(t).ShadowRoot}function m$(t){let{overflow:e,overflowX:r,overflowY:n,display:o}=Cm(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function Z1t(t){return["table","td","th"].includes(yD(t))}function QH(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Poe(t){let e=Toe(),r=xm(t)?Cm(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Q1t(t){let e=yO(t);for(;ty(e)&&!bD(e);){if(Poe(e))return e;if(QH(e))return null;e=yO(e)}return null}function Toe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bD(t){return["html","body","#document"].includes(yD(t))}function Cm(t){return Gf(t).getComputedStyle(t)}function e6(t){return xm(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yO(t){if(yD(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Y1t(t)&&t.host||ey(t);return Y1t(e)?e.host:e}function eDt(t){let e=yO(t);return bD(e)?t.ownerDocument?t.ownerDocument.body:t.body:ty(e)&&m$(e)?e:eDt(e)}function gD(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);let o=eDt(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),a=Gf(o);if(i){let s=Moe(a);return e.concat(a,a.visualViewport||[],m$(o)?o:[],s&&r?gD(s):[])}return e.concat(o,gD(o,[],r))}function Moe(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nDt(t){let e=Cm(t),r=parseFloat(e.width)||0,n=parseFloat(e.height)||0,o=ty(t),i=o?t.offsetWidth:r,a=o?t.offsetHeight:n,s=XH(r)!==i||XH(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function DTe(t){return xm(t)?t:t.contextElement}function g$(t){let e=DTe(t);if(!ty(e))return Qg(1);let r=e.getBoundingClientRect(),{width:n,height:o,$:i}=nDt(e),a=(i?XH(r.width):r.width)/n,s=(i?XH(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var Rin=Qg(0);function oDt(t){let e=Gf(t);return!Toe()||!e.visualViewport?Rin:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Iin(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Gf(t)?!1:e}function _D(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);let o=t.getBoundingClientRect(),i=DTe(t),a=Qg(1);e&&(n?xm(n)&&(a=g$(n)):a=g$(t));let s=Iin(i,r,n)?oDt(i):Qg(0),u=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(i){let f=Gf(i),p=n&&xm(n)?Gf(n):n,m=f,h=Moe(m);for(;h&&n&&p!==m;){let v=g$(h),g=h.getBoundingClientRect(),_=Cm(h),S=g.left+(h.clientLeft+parseFloat(_.paddingLeft))*v.x,x=g.top+(h.clientTop+parseFloat(_.paddingTop))*v.y;u*=v.x,l*=v.y,c*=v.x,d*=v.y,u+=S,l+=x,m=Gf(h),h=Moe(m)}}return mD({width:c,height:d,x:u,y:l})}function jTe(t,e){let r=e6(t).scrollLeft;return e?e.left+r:_D(ey(t)).left+r}function iDt(t,e,r){r===void 0&&(r=!1);let n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:jTe(t,n)),i=n.top+e.scrollTop;return{x:o,y:i}}function Din(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t,i=o==="fixed",a=ey(n),s=e?QH(e.floating):!1;if(n===a||s&&i)return r;let u={scrollLeft:0,scrollTop:0},l=Qg(1),c=Qg(0),d=ty(n);if((d||!d&&!i)&&((yD(n)!=="body"||m$(a))&&(u=e6(n)),ty(n))){let p=_D(n);l=g$(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}let f=a&&!d&&!i?iDt(a,u,!0):Qg(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-u.scrollLeft*l.x+c.x+f.x,y:r.y*l.y-u.scrollTop*l.y+c.y+f.y}}function jin(t){return Array.from(t.getClientRects())}function Nin(t){let e=ey(t),r=e6(t),n=t.ownerDocument.body,o=Gd(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Gd(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+jTe(t),s=-r.scrollTop;return Cm(n).direction==="rtl"&&(a+=Gd(e.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}function Lin(t,e){let r=Gf(t),n=ey(t),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;let l=Toe();(!l||l&&e==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s,y:u}}function Fin(t,e){let r=_D(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,i=ty(t)?g$(t):Qg(1),a=t.clientWidth*i.x,s=t.clientHeight*i.y,u=o*i.x,l=n*i.y;return{width:a,height:s,x:u,y:l}}function tDt(t,e,r){let n;if(e==="viewport")n=Lin(t,r);else if(e==="document")n=Nin(ey(t));else if(xm(e))n=Fin(e,r);else{let o=oDt(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return mD(n)}function aDt(t,e){let r=yO(t);return r===e||!xm(r)||bD(r)?!1:Cm(r).position==="fixed"||aDt(r,e)}function Bin(t,e){let r=e.get(t);if(r)return r;let n=gD(t,[],!1).filter(s=>xm(s)&&yD(s)!=="body"),o=null,i=Cm(t).position==="fixed",a=i?yO(t):t;for(;xm(a)&&!bD(a);){let s=Cm(a),u=Poe(a);!u&&s.position==="fixed"&&(o=null),(i?!u&&!o:!u&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||m$(a)&&!u&&aDt(t,a))?n=n.filter(c=>c!==a):o=s,a=yO(a)}return e.set(t,n),n}function kin(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t,a=[...r==="clippingAncestors"?QH(e)?[]:Bin(e,this._c):[].concat(r),n],s=a[0],u=a.reduce((l,c)=>{let d=tDt(e,c,o);return l.top=Gd(d.top,l.top),l.right=xS(d.right,l.right),l.bottom=xS(d.bottom,l.bottom),l.left=Gd(d.left,l.left),l},tDt(e,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $in(t){let{width:e,height:r}=nDt(t);return{width:e,height:r}}function qin(t,e,r){let n=ty(e),o=ey(e),i=r==="fixed",a=_D(t,!0,i,e),s={scrollLeft:0,scrollTop:0},u=Qg(0);if(n||!n&&!i)if((yD(e)!=="body"||m$(o))&&(s=e6(e)),n){let f=_D(e,!0,i,e);u.x=f.x+e.clientLeft,u.y=f.y+e.clientTop}else o&&(u.x=jTe(o));let l=o&&!n&&!i?iDt(o,s):Qg(0),c=a.left+s.scrollLeft-u.x-l.x,d=a.top+s.scrollTop-u.y-l.y;return{x:c,y:d,width:a.width,height:a.height}}function ITe(t){return Cm(t).position==="static"}function rDt(t,e){if(!ty(t)||Cm(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ey(t)===r&&(r=r.ownerDocument.body),r}function sDt(t,e){let r=Gf(t);if(QH(t))return r;if(!ty(t)){let o=yO(t);for(;o&&!bD(o);){if(xm(o)&&!ITe(o))return o;o=yO(o)}return r}let n=rDt(t,e);for(;n&&Z1t(n)&&ITe(n);)n=rDt(n,e);return n&&bD(n)&&ITe(n)&&!Poe(n)?r:n||Q1t(t)||r}var Uin=async function(t){let e=this.getOffsetParent||sDt,r=this.getDimensions,n=await r(t.floating);return{reference:qin(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zin(t){return Cm(t).direction==="rtl"}var uDt={convertOffsetParentRelativeRectToViewportRelativeRect:Din,getDocumentElement:ey,getClippingRect:kin,getOffsetParent:sDt,getElementRects:Uin,getClientRects:jin,getDimensions:$in,getScale:g$,isElement:xm,isRTL:zin};function Hin(t,e){let r=null,n,o=ey(t);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),i();let{left:l,top:c,width:d,height:f}=t.getBoundingClientRect();if(s||e(),!d||!f)return;let p=ZH(c),m=ZH(o.clientWidth-(l+d)),h=ZH(o.clientHeight-(c+f)),v=ZH(l),_={rootMargin:-p+"px "+-m+"px "+-h+"px "+-v+"px",threshold:Gd(0,xS(1,u))||1},S=!0;function x(O){let T=O[0].intersectionRatio;if(T!==u){if(!S)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(x,{..._,root:o.ownerDocument})}catch{r=new IntersectionObserver(x,_)}r.observe(t)}return a(!0),i}function bO(t,e,r,n){n===void 0&&(n={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=DTe(t),c=o||i?[...l?gD(l):[],...gD(e)]:[];c.forEach(g=>{o&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});let d=l&&s?Hin(l,r):null,f=-1,p=null;a&&(p=new ResizeObserver(g=>{let[_]=g;_&&_.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),l&&!u&&p.observe(l),p.observe(e));let m,h=u?_D(t):null;u&&v();function v(){let g=_D(t);h&&(g.x!==h.x||g.y!==h.y||g.width!==h.width||g.height!==h.height)&&r(),h=g,m=requestAnimationFrame(v)}return r(),()=>{var g;c.forEach(_=>{o&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),d?.(),(g=p)==null||g.disconnect(),p=null,u&&cancelAnimationFrame(m)}}var lDt=W1t;var cDt=J1t,dDt=H1t,fDt=K1t,pDt=V1t,NTe=z1t;var hDt=G1t,LTe=(t,e,r)=>{let n=new Map,o={platform:uDt,...r},i={...o.platform,_c:n};return U1t(t,e,{...o,platform:i})};var Bu=k(Z(),1),Ioe=k(Z(),1),gDt=k(ys(),1),Aoe=typeof document<"u"?Ioe.useLayoutEffect:Ioe.useEffect;function Roe(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Roe(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){let i=o[n];if(!(i==="_owner"&&t.$$typeof)&&!Roe(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yDt(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mDt(t,e){let r=yDt(t);return Math.round(e*r)/r}function FTe(t){let e=Bu.useRef(t);return Aoe(()=>{e.current=t}),e}function sM(t){t===void 0&&(t={});let{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:u,open:l}=t,[c,d]=Bu.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=Bu.useState(n);Roe(f,n)||p(n);let[m,h]=Bu.useState(null),[v,g]=Bu.useState(null),_=Bu.useCallback(H=>{H!==T.current&&(T.current=H,h(H))},[]),S=Bu.useCallback(H=>{H!==E.current&&(E.current=H,g(H))},[]),x=i||m,O=a||v,T=Bu.useRef(null),E=Bu.useRef(null),M=Bu.useRef(c),R=u!=null,N=FTe(u),j=FTe(o),F=FTe(l),B=Bu.useCallback(()=>{if(!T.current||!E.current)return;let H={placement:e,strategy:r,middleware:f};j.current&&(H.platform=j.current),LTe(T.current,E.current,H).then(I=>{let V={...I,isPositioned:F.current!==!1};L.current&&!Roe(M.current,V)&&(M.current=V,gDt.flushSync(()=>{d(V)}))})},[f,e,r,j,F]);Aoe(()=>{l===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,d(H=>({...H,isPositioned:!1})))},[l]);let L=Bu.useRef(!1);Aoe(()=>(L.current=!0,()=>{L.current=!1}),[]),Aoe(()=>{if(x&&(T.current=x),O&&(E.current=O),x&&O){if(N.current)return N.current(x,O,B);B()}},[x,O,B,N,R]);let q=Bu.useMemo(()=>({reference:T,floating:E,setReference:_,setFloating:S}),[_,S]),U=Bu.useMemo(()=>({reference:x,floating:O}),[x,O]),J=Bu.useMemo(()=>{let H={position:r,left:0,top:0};if(!U.floating)return H;let I=mDt(U.floating,c.x),V=mDt(U.floating,c.y);return s?{...H,transform:"translate("+I+"px, "+V+"px)",...yDt(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:V}},[r,s,U.floating,c.x,c.y]);return Bu.useMemo(()=>({...c,update:B,refs:q,elements:U,floatingStyles:J}),[c,B,q,U,J])}var Vin=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){let{element:n,padding:o}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?NTe({element:n.current,padding:o}).fn(r):{}:n?NTe({element:n,padding:o}).fn(r):{}}}},uM=(t,e)=>({...lDt(t),options:[t,e]}),lM=(t,e)=>({...cDt(t),options:[t,e]}),cM=(t,e)=>({...hDt(t),options:[t,e]}),dM=(t,e)=>({...dDt(t),options:[t,e]}),fM=(t,e)=>({...fDt(t),options:[t,e]});var pM=(t,e)=>({...pDt(t),options:[t,e]});var hM=(t,e)=>({...Vin(t),options:[t,e]});var bDt=k(Z(),1);var BTe=k(ct(),1),Win="Arrow",_Dt=bDt.forwardRef((t,e)=>{let{children:r,width:n=10,height:o=5,...i}=t;return(0,BTe.jsx)(ql.svg,{...i,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:(0,BTe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});_Dt.displayName=Win;var vDt=_Dt;var wDt=k(Z(),1);function Om(t){let[e,r]=wDt.useState(void 0);return Br(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});let n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;let i=o[0],a,s;if("borderBoxSize"in i){let u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;a=l.inlineSize,s=l.blockSize}else a=t.offsetWidth,s=t.offsetHeight;r({width:a,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var mM=k(ct(),1);var kTe="Popper",[SDt,$Te]=Do(kTe),[Gin,xDt]=SDt(kTe),CDt=t=>{let{__scopePopper:e,children:r}=t,[n,o]=zp.useState(null);return(0,mM.jsx)(Gin,{scope:e,anchor:n,onAnchorChange:o,children:r})};CDt.displayName=kTe;var ODt="PopperAnchor",EDt=zp.forwardRef((t,e)=>{let{__scopePopper:r,virtualRef:n,...o}=t,i=xDt(ODt,r),a=zp.useRef(null),s=Cc(e,a);return zp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,mM.jsx)(ql.div,{...o,ref:s})});EDt.displayName=ODt;var qTe="PopperContent",[Kin,Yin]=SDt(qTe),PDt=zp.forwardRef((t,e)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...h}=t,v=xDt(qTe,r),[g,_]=zp.useState(null),S=Cc(e,le=>_(le)),[x,O]=zp.useState(null),T=Om(x),E=T?.width??0,M=T?.height??0,R=n+(i!=="center"?"-"+i:""),N=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},j=Array.isArray(l)?l:[l],F=j.length>0,B={padding:N,boundary:j.filter(Zin),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:J,middlewareData:H}=sM({strategy:"fixed",placement:R,whileElementsMounted:(...le)=>bO(...le,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[uM({mainAxis:o+M,alignmentAxis:a}),u&&lM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cM():void 0,...B}),u&&dM({...B}),fM({...B,apply:({elements:le,rects:Ae,availableWidth:mt,availableHeight:we})=>{let{width:ae,height:ee}=Ae.reference,ye=le.floating.style;ye.setProperty("--radix-popper-available-width",`${mt}px`),ye.setProperty("--radix-popper-available-height",`${we}px`),ye.setProperty("--radix-popper-anchor-width",`${ae}px`),ye.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&hM({element:x,padding:s}),Qin({arrowWidth:E,arrowHeight:M}),f&&pM({strategy:"referenceHidden",...B})]}),[I,V]=ADt(U),W=Jt(m);Br(()=>{J&&W?.()},[J,W]);let K=H.arrow?.x,ne=H.arrow?.y,Be=H.arrow?.centerOffset!==0,[X,Q]=zp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,mM.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:J?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,["--radix-popper-transform-origin"]:[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,mM.jsx)(Kin,{scope:r,placedSide:I,onArrowChange:O,arrowX:K,arrowY:ne,shouldHideArrow:Be,children:(0,mM.jsx)(ql.div,{"data-side":I,"data-align":V,...h,ref:S,style:{...h.style,animation:J?void 0:"none"}})})})});PDt.displayName=qTe;var TDt="PopperArrow",Xin={top:"bottom",right:"left",bottom:"top",left:"right"},MDt=zp.forwardRef(function(e,r){let{__scopePopper:n,...o}=e,i=Yin(TDt,n),a=Xin[i.placedSide];return(0,mM.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,mM.jsx)(vDt,{...o,ref:r,style:{...o.style,display:"block"}})})});MDt.displayName=TDt;function Zin(t){return t!==null}var Qin=t=>({name:"transformOrigin",options:t,fn(e){let{placement:r,rects:n,middlewareData:o}=e,a=o.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[l,c]=ADt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,m="",h="";return l==="bottom"?(m=a?d:`${f}px`,h=`${-u}px`):l==="top"?(m=a?d:`${f}px`,h=`${n.floating.height+u}px`):l==="right"?(m=`${-u}px`,h=a?d:`${p}px`):l==="left"&&(m=`${n.floating.width+u}px`,h=a?d:`${p}px`),{data:{x:m,y:h}}}});function ADt(t){let[e,r="center"]=t.split("-");return[e,r]}var UTe=CDt,RDt=EDt,IDt=PDt,DDt=MDt;var Doe=k(Z(),1),jDt=k(ys(),1);var NDt=k(ct(),1),tan="Portal",zTe=Doe.forwardRef((t,e)=>{let{container:r,...n}=t,[o,i]=Doe.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?jDt.default.createPortal((0,NDt.jsx)(ql.div,{...n,ref:e}),a):null});zTe.displayName=tan;var Kf=k(Z(),1);var FDt=k(Z(),1);function LDt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ran(...t){return e=>{let r=!1,n=t.map(o=>{let i=LDt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():LDt(t[o],null)}}}}function BDt(...t){return FDt.useCallback(ran(...t),t)}var kDt=k(Z(),1);function nan(t,e){return kDt.useReducer((r,n)=>e[r][n]??r,t)}var ku=t=>{let{present:e,children:r}=t,n=oan(e),o=typeof r=="function"?r({present:n.isPresent}):Kf.Children.only(r),i=BDt(n.ref,ian(o));return typeof r=="function"||n.isPresent?Kf.cloneElement(o,{ref:i}):null};ku.displayName="Presence";function oan(t){let[e,r]=Kf.useState(),n=Kf.useRef({}),o=Kf.useRef(t),i=Kf.useRef("none"),a=t?"mounted":"unmounted",[s,u]=nan(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Kf.useEffect(()=>{let l=joe(n.current);i.current=s==="mounted"?l:"none"},[s]),Br(()=>{let l=n.current,c=o.current;if(c!==t){let f=i.current,p=joe(l);t?u("MOUNT"):p==="none"||l?.display==="none"?u("UNMOUNT"):u(c&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,u]),Br(()=>{if(e){let l,c=e.ownerDocument.defaultView??window,d=p=>{let h=joe(n.current).includes(p.animationName);if(p.target===e&&h&&(u("ANIMATION_END"),!o.current)){let v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(i.current=joe(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{c.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:Kf.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function joe(t){return t?.animationName||"none"}function ian(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ul=k(Z(),1);function vD(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var gM=k(Z(),1);var qDt=k(Z(),1);function $Dt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function HTe(...t){return e=>{let r=!1,n=t.map(o=>{let i=$Dt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():$Dt(t[o],null)}}}}function t6(...t){return qDt.useCallback(HTe(...t),t)}var Ec=k(Z(),1);var y$=k(ct(),1),b$=Ec.forwardRef((t,e)=>{let{children:r,...n}=t,o=Ec.Children.toArray(r),i=o.find(san);if(i){let a=i.props.children,s=o.map(u=>u===i?Ec.Children.count(a)>1?Ec.Children.only(null):Ec.isValidElement(a)?a.props.children:null:u);return(0,y$.jsx)(VTe,{...n,ref:e,children:Ec.isValidElement(a)?Ec.cloneElement(a,void 0,s):null})}return(0,y$.jsx)(VTe,{...n,ref:e,children:r})});b$.displayName="Slot";var VTe=Ec.forwardRef((t,e)=>{let{children:r,...n}=t;if(Ec.isValidElement(r)){let o=lan(r);return Ec.cloneElement(r,{...uan(n,r.props),ref:e?HTe(e,o):o})}return Ec.Children.count(r)>1?Ec.Children.only(null):null});VTe.displayName="SlotClone";var aan=({children:t})=>(0,y$.jsx)(y$.Fragment,{children:t});function san(t){return Ec.isValidElement(t)&&t.type===aan}function uan(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function lan(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Noe=k(ct(),1);function UDt(t){let e=t+"CollectionProvider",[r,n]=Do(e),[o,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:m,children:h}=p,v=gM.default.useRef(null),g=gM.default.useRef(new Map).current;return(0,Noe.jsx)(o,{scope:m,itemMap:g,collectionRef:v,children:h})};a.displayName=e;let s=t+"CollectionSlot",u=gM.default.forwardRef((p,m)=>{let{scope:h,children:v}=p,g=i(s,h),_=t6(m,g.collectionRef);return(0,Noe.jsx)(b$,{ref:_,children:v})});u.displayName=s;let l=t+"CollectionItemSlot",c="data-radix-collection-item",d=gM.default.forwardRef((p,m)=>{let{scope:h,children:v,...g}=p,_=gM.default.useRef(null),S=t6(m,_),x=i(l,h);return gM.default.useEffect(()=>(x.itemMap.set(_,{ref:_,...g}),()=>void x.itemMap.delete(_))),(0,Noe.jsx)(b$,{[c]:"",ref:S,children:v})});d.displayName=l;function f(p){let m=i(t+"CollectionConsumer",p);return gM.default.useCallback(()=>{let v=m.collectionRef.current;if(!v)return[];let g=Array.from(v.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((x,O)=>g.indexOf(x.ref.current)-g.indexOf(O.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},f,n]}var zDt=k(Z(),1),can=k(ys(),1);var HDt=k(ct(),1),dan=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],WTe=dan.reduce((t,e)=>{let r=zDt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?b$:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,HDt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});var yM=k(ct(),1),JTe="rovingFocusGroup.onEntryFocus",fan={bubbles:!1,cancelable:!0},Loe="RovingFocusGroup",[GTe,VDt,pan]=UDt(Loe),[han,KTe]=Do(Loe,[pan]),[man,gan]=han(Loe),WDt=Ul.forwardRef((t,e)=>(0,yM.jsx)(GTe.Provider,{scope:t.__scopeRovingFocusGroup,children:(0,yM.jsx)(GTe.Slot,{scope:t.__scopeRovingFocusGroup,children:(0,yM.jsx)(yan,{...t,ref:e})})}));WDt.displayName=Loe;var yan=Ul.forwardRef((t,e)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:c=!1,...d}=t,f=Ul.useRef(null),p=t6(e,f),m=oM(i),[h=null,v]=ll({prop:a,defaultProp:s,onChange:u}),[g,_]=Ul.useState(!1),S=Jt(l),x=VDt(r),O=Ul.useRef(!1),[T,E]=Ul.useState(0);return Ul.useEffect(()=>{let M=f.current;if(M)return M.addEventListener(JTe,S),()=>M.removeEventListener(JTe,S)},[S]),(0,yM.jsx)(man,{scope:r,orientation:n,dir:m,loop:o,currentTabStopId:h,onItemFocus:Ul.useCallback(M=>v(M),[v]),onItemShiftTab:Ul.useCallback(()=>_(!0),[]),onFocusableItemAdd:Ul.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:Ul.useCallback(()=>E(M=>M-1),[]),children:(0,yM.jsx)(WTe.div,{tabIndex:g||T===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:vD(t.onMouseDown,()=>{O.current=!0}),onFocus:vD(t.onFocus,M=>{let R=!O.current;if(M.target===M.currentTarget&&R&&!g){let N=new CustomEvent(JTe,fan);if(M.currentTarget.dispatchEvent(N),!N.defaultPrevented){let j=x().filter(U=>U.focusable),F=j.find(U=>U.active),B=j.find(U=>U.id===h),q=[F,B,...j].filter(Boolean).map(U=>U.ref.current);KDt(q,c)}}O.current=!1}),onBlur:vD(t.onBlur,()=>_(!1))})})}),JDt="RovingFocusGroupItem",GDt=Ul.forwardRef((t,e)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,...a}=t,s=Ja(),u=i||s,l=gan(JDt,r),c=l.currentTabStopId===u,d=VDt(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=l;return Ul.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),(0,yM.jsx)(GTe.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:(0,yM.jsx)(WTe.span,{tabIndex:c?0:-1,"data-orientation":l.orientation,...a,ref:e,onMouseDown:vD(t.onMouseDown,m=>{n?l.onItemFocus(u):m.preventDefault()}),onFocus:vD(t.onFocus,()=>l.onItemFocus(u)),onKeyDown:vD(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;let h=van(m,l.orientation,l.dir);if(h!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let g=d().filter(_=>_.focusable).map(_=>_.ref.current);if(h==="last")g.reverse();else if(h==="prev"||h==="next"){h==="prev"&&g.reverse();let _=g.indexOf(m.currentTarget);g=l.loop?wan(g,_+1):g.slice(_+1)}setTimeout(()=>KDt(g))}})})})});GDt.displayName=JDt;var ban={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _an(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function van(t,e,r){let n=_an(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ban[n]}function KDt(t,e=!1){let r=document.activeElement;for(let n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function wan(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var YDt=WDt,XDt=GDt;var xan=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_$=new WeakMap,Foe=new WeakMap,Boe={},YTe=0,ZDt=function(t){return t&&(t.host||ZDt(t.parentNode))},Can=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=ZDt(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return Boolean(r)})},Oan=function(t,e,r,n){var o=Can(e,Array.isArray(t)?t:[t]);Boe[r]||(Boe[r]=new WeakMap);var i=Boe[r],a=[],s=new Set,u=new Set(o),l=function(d){!d||s.has(d)||(s.add(d),l(d.parentNode))};o.forEach(l);var c=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))c(f);else try{var p=f.getAttribute(n),m=p!==null&&p!=="false",h=(_$.get(f)||0)+1,v=(i.get(f)||0)+1;_$.set(f,h),i.set(f,v),a.push(f),h===1&&m&&Foe.set(f,!0),v===1&&f.setAttribute(r,"true"),m||f.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return c(e),s.clear(),YTe++,function(){a.forEach(function(d){var f=_$.get(d)-1,p=i.get(d)-1;_$.set(d,f),i.set(d,p),f||(Foe.has(d)||d.removeAttribute(n),Foe.delete(d)),p||d.removeAttribute(r)}),YTe--,YTe||(_$=new WeakMap,_$=new WeakMap,Foe=new WeakMap,Boe={})}},bM=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=e||xan(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),Oan(n,o,r,"aria-hidden")):function(){return null}};var jo=function(){return jo=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},jo.apply(this,arguments)};function _M(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function v$(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var zoe=k(Z());var pd=k(Z());var ry="right-scroll-bar-position",ny="width-before-scroll-bar",XTe="with-scroll-bars-hidden",ZTe="--removed-body-scroll-bar-size";function koe(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}var QDt=k(Z());function ejt(t,e){var r=(0,QDt.useState)(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=e,r.facade}var $oe=k(Z());var Ean=typeof window<"u"?$oe.useLayoutEffect:$oe.useEffect,tjt=new WeakMap;function wD(t,e){var r=ejt(e||null,function(n){return t.forEach(function(o){return koe(o,n)})});return Ean(function(){var n=tjt.get(r);if(n){var o=new Set(n),i=new Set(t),a=r.current;o.forEach(function(s){i.has(s)||koe(s,null)}),i.forEach(function(s){o.has(s)||koe(s,a)})}tjt.set(r,t)},[t]),r}function Pan(t){return t}function Tan(t,e){e===void 0&&(e=Pan);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var a=e(i,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(i),a=r}var u=function(){var c=a;a=[],c.forEach(i)},l=function(){return Promise.resolve().then(u)};l(),r={push:function(c){a.push(c),l()},filter:function(c){return a=a.filter(c),r}}}};return o}function SD(t){t===void 0&&(t={});var e=Tan(null);return e.options=jo({async:!0,ssr:!1},t),e}var rjt=k(Z()),njt=function(t){var e=t.sideCar,r=_M(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return rjt.createElement(n,jo({},r))};njt.isSideCarExport=!0;function xD(t,e){return t.useMedium(e),njt}var qoe=SD();var QTe=function(){},r6=pd.forwardRef(function(t,e){var r=pd.useRef(null),n=pd.useState({onScrollCapture:QTe,onWheelCapture:QTe,onTouchMoveCapture:QTe}),o=n[0],i=n[1],a=t.forwardProps,s=t.children,u=t.className,l=t.removeScrollBar,c=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,h=t.allowPinchZoom,v=t.as,g=v===void 0?"div":v,_=t.gapMode,S=_M(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,O=wD([r,e]),T=jo(jo({},S),o);return pd.createElement(pd.Fragment,null,c&&pd.createElement(x,{sideCar:qoe,removeScrollBar:l,shards:d,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!h,lockRef:r,gapMode:_}),a?pd.cloneElement(pd.Children.only(s),jo(jo({},T),{ref:O})):pd.createElement(g,jo({},T,{className:u,ref:O}),s))});r6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};r6.classNames={fullWidth:ny,zeroRight:ry};var Ri=k(Z());var S$=k(Z());var ajt=k(Z());var ojt;var ijt=function(){if(ojt)return ojt;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Man(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ijt();return e&&t.setAttribute("nonce",e),t}function Aan(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ran(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eMe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Man())&&(Aan(e,r),Ran(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}};var tMe=function(){var t=eMe();return function(e,r){ajt.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}};var _O=function(){var t=tMe(),e=function(r){var n=r.styles,o=r.dynamic;return t(n,o),null};return e};var Ian={left:0,top:0,right:0,gap:0},rMe=function(t){return parseInt(t||"",10)||0},Dan=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[rMe(r),rMe(n),rMe(o)]},nMe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ian;var e=Dan(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}};var jan=_O(),w$="data-scroll-locked",Nan=function(t,e,r,n){var o=t.left,i=t.top,a=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(XTe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(w$,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ry,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(ny,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(ry," .").concat(ry,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ny," .").concat(ny,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(w$,`] {
    `).concat(ZTe,": ").concat(s,`px;
  }
`)},sjt=function(){var t=parseInt(document.body.getAttribute(w$)||"0",10);return isFinite(t)?t:0},Lan=function(){S$.useEffect(function(){return document.body.setAttribute(w$,(sjt()+1).toString()),function(){var t=sjt()-1;t<=0?document.body.removeAttribute(w$):document.body.setAttribute(w$,t.toString())}},[])},CD=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n;Lan();var i=S$.useMemo(function(){return nMe(o)},[o]);return S$.createElement(jan,{styles:Nan(i,!e,o,r?"":"!important")})};var oMe=!1;if(typeof window<"u")try{n6=Object.defineProperty({},"passive",{get:function(){return oMe=!0,!0}}),window.addEventListener("test",n6,n6),window.removeEventListener("test",n6,n6)}catch{oMe=!1}var n6,OD=oMe?{passive:!1}:!1;var Fan=function(t){return t.tagName==="TEXTAREA"},ujt=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Fan(t)&&r[e]==="visible")},Ban=function(t){return ujt(t,"overflowY")},kan=function(t){return ujt(t,"overflowX")},iMe=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=ljt(t,n);if(o){var i=cjt(t,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$an=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},qan=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},ljt=function(t,e){return t==="v"?Ban(e):kan(e)},cjt=function(t,e){return t==="v"?$an(e):qan(e)},Uan=function(t,e){return t==="h"&&e==="rtl"?-1:1},djt=function(t,e,r,n,o){var i=Uan(t,window.getComputedStyle(e).direction),a=i*n,s=r.target,u=e.contains(s),l=!1,c=a>0,d=0,f=0;do{var p=cjt(t,s),m=p[0],h=p[1],v=p[2],g=h-v-i*m;(m||g)&&ljt(t,s)&&(d+=g,f+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(e.contains(s)||e===s));return(c&&(o&&Math.abs(d)<1||!o&&a>d)||!c&&(o&&Math.abs(f)<1||!o&&-a>f))&&(l=!0),l};var Uoe=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fjt=function(t){return[t.deltaX,t.deltaY]},pjt=function(t){return t&&"current"in t?t.current:t},zan=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Han=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Van=0,x$=[];function hjt(t){var e=Ri.useRef([]),r=Ri.useRef([0,0]),n=Ri.useRef(),o=Ri.useState(Van++)[0],i=Ri.useState(_O)[0],a=Ri.useRef(t);Ri.useEffect(function(){a.current=t},[t]),Ri.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var h=v$([t.lockRef.current],(t.shards||[]).map(pjt),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var s=Ri.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var g=Uoe(h),_=r.current,S="deltaX"in h?h.deltaX:_[0]-g[0],x="deltaY"in h?h.deltaY:_[1]-g[1],O,T=h.target,E=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in h&&E==="h"&&T.type==="range")return!1;var M=iMe(E,T);if(!M)return!0;if(M?O=E:(O=E==="v"?"h":"v",M=iMe(E,T)),!M)return!1;if(!n.current&&"changedTouches"in h&&(S||x)&&(n.current=O),!O)return!0;var R=n.current||O;return djt(R,v,h,R==="h"?S:x,!0)},[]),u=Ri.useCallback(function(h){var v=h;if(!(!x$.length||x$[x$.length-1]!==i)){var g="deltaY"in v?fjt(v):Uoe(v),_=e.current.filter(function(O){return O.name===v.type&&(O.target===v.target||v.target===O.shadowParent)&&zan(O.delta,g)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var S=(a.current.shards||[]).map(pjt).filter(Boolean).filter(function(O){return O.contains(v.target)}),x=S.length>0?s(v,S[0]):!a.current.noIsolation;x&&v.cancelable&&v.preventDefault()}}},[]),l=Ri.useCallback(function(h,v,g,_){var S={name:h,delta:v,target:g,should:_,shadowParent:Wan(g)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(x){return x!==S})},1)},[]),c=Ri.useCallback(function(h){r.current=Uoe(h),n.current=void 0},[]),d=Ri.useCallback(function(h){l(h.type,fjt(h),h.target,s(h,t.lockRef.current))},[]),f=Ri.useCallback(function(h){l(h.type,Uoe(h),h.target,s(h,t.lockRef.current))},[]);Ri.useEffect(function(){return x$.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,OD),document.addEventListener("touchmove",u,OD),document.addEventListener("touchstart",c,OD),function(){x$=x$.filter(function(h){return h!==i}),document.removeEventListener("wheel",u,OD),document.removeEventListener("touchmove",u,OD),document.removeEventListener("touchstart",c,OD)}},[]);var p=t.removeScrollBar,m=t.inert;return Ri.createElement(Ri.Fragment,null,m?Ri.createElement(i,{styles:Han(o)}):null,p?Ri.createElement(CD,{gapMode:t.gapMode}):null)}function Wan(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}var mjt=xD(qoe,hjt);var gjt=zoe.forwardRef(function(t,e){return zoe.createElement(r6,jo({},t,{ref:e,sideCar:mjt}))});gjt.classNames=r6.classNames;var aMe=gjt;var or=k(ct(),1),sMe=["Enter"," "],Jan=["ArrowDown","PageUp","Home"],bjt=["ArrowUp","PageDown","End"],Gan=[...Jan,...bjt],Kan={ltr:[...sMe,"ArrowRight"],rtl:[...sMe,"ArrowLeft"]},Yan={ltr:["ArrowLeft"],rtl:["ArrowRight"]},s6="Menu",[i6,Xan,Zan]=y1t(s6),[ED,uMe]=Do(s6,[Zan,$Te,KTe]),u6=$Te(),_jt=KTe(),[vjt,vM]=ED(s6),[Qan,l6]=ED(s6),wjt=t=>{let{__scopeMenu:e,open:r=!1,children:n,dir:o,onOpenChange:i,modal:a=!0}=t,s=u6(e),[u,l]=St.useState(null),c=St.useRef(!1),d=Jt(i),f=oM(o);return St.useEffect(()=>{let p=()=>{c.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>c.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),(0,or.jsx)(UTe,{...s,children:(0,or.jsx)(vjt,{scope:e,open:r,onOpenChange:d,content:u,onContentChange:l,children:(0,or.jsx)(Qan,{scope:e,onClose:St.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:c,dir:f,modal:a,children:n})})})};wjt.displayName=s6;var esn="MenuAnchor",lMe=St.forwardRef((t,e)=>{let{__scopeMenu:r,...n}=t,o=u6(r);return(0,or.jsx)(RDt,{...o,...n,ref:e})});lMe.displayName=esn;var cMe="MenuPortal",[tsn,Sjt]=ED(cMe,{forceMount:void 0}),xjt=t=>{let{__scopeMenu:e,forceMount:r,children:n,container:o}=t,i=vM(cMe,e);return(0,or.jsx)(tsn,{scope:e,forceMount:r,children:(0,or.jsx)(ku,{present:r||i.open,children:(0,or.jsx)(zTe,{asChild:!0,container:o,children:n})})})};xjt.displayName=cMe;var Em="MenuContent",[rsn,dMe]=ED(Em),Cjt=St.forwardRef((t,e)=>{let r=Sjt(Em,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,i=vM(Em,t.__scopeMenu),a=l6(Em,t.__scopeMenu);return(0,or.jsx)(i6.Provider,{scope:t.__scopeMenu,children:(0,or.jsx)(ku,{present:n||i.open,children:(0,or.jsx)(i6.Slot,{scope:t.__scopeMenu,children:a.modal?(0,or.jsx)(nsn,{...o,ref:e}):(0,or.jsx)(osn,{...o,ref:e})})})})}),nsn=St.forwardRef((t,e)=>{let r=vM(Em,t.__scopeMenu),n=St.useRef(null),o=Cc(e,n);return St.useEffect(()=>{let i=n.current;if(i)return bM(i)},[]),(0,or.jsx)(fMe,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:di(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),osn=St.forwardRef((t,e)=>{let r=vM(Em,t.__scopeMenu);return(0,or.jsx)(fMe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fMe=St.forwardRef((t,e)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m,...h}=t,v=vM(Em,r),g=l6(Em,r),_=u6(r),S=_jt(r),x=Xan(r),[O,T]=St.useState(null),E=St.useRef(null),M=Cc(e,E,v.onContentChange),R=St.useRef(0),N=St.useRef(""),j=St.useRef(0),F=St.useRef(null),B=St.useRef("right"),L=St.useRef(0),q=m?aMe:St.Fragment,U=m?{as:rM,allowPinchZoom:!0}:void 0,J=I=>{let V=N.current+I,W=x().filter(le=>!le.disabled),K=document.activeElement,ne=W.find(le=>le.ref.current===K)?.textValue,Be=W.map(le=>le.textValue),X=ysn(Be,V,ne),Q=W.find(le=>le.textValue===X)?.ref.current;(function le(Ae){N.current=Ae,window.clearTimeout(R.current),Ae!==""&&(R.current=window.setTimeout(()=>le(""),1e3))})(V),Q&&setTimeout(()=>Q.focus())};St.useEffect(()=>()=>window.clearTimeout(R.current),[]),iM();let H=St.useCallback(I=>B.current===F.current?.side&&_sn(I,F.current?.area),[]);return(0,or.jsx)(rsn,{scope:r,searchRef:N,onItemEnter:St.useCallback(I=>{H(I)&&I.preventDefault()},[H]),onItemLeave:St.useCallback(I=>{H(I)||(E.current?.focus(),T(null))},[H]),onTriggerLeave:St.useCallback(I=>{H(I)&&I.preventDefault()},[H]),pointerGraceTimerRef:j,onPointerGraceIntentChange:St.useCallback(I=>{F.current=I},[]),children:(0,or.jsx)(q,{...U,children:(0,or.jsx)(MTe,{asChild:!0,trapped:o,onMountAutoFocus:di(i,I=>{I.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:(0,or.jsx)(OTe,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,children:(0,or.jsx)(YDt,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:O,onCurrentTabStopIdChange:T,onEntryFocus:di(u,I=>{g.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,or.jsx)(IDt,{role:"menu","aria-orientation":"vertical","data-state":$jt(v.open),"data-radix-menu-content":"",dir:g.dir,..._,...h,ref:M,style:{outline:"none",...h.style},onKeyDown:di(h.onKeyDown,I=>{let W=I.target.closest("[data-radix-menu-content]")===I.currentTarget,K=I.ctrlKey||I.altKey||I.metaKey,ne=I.key.length===1;W&&(I.key==="Tab"&&I.preventDefault(),!K&&ne&&J(I.key));let Be=E.current;if(I.target!==Be||!Gan.includes(I.key))return;I.preventDefault();let Q=x().filter(le=>!le.disabled).map(le=>le.ref.current);bjt.includes(I.key)&&Q.reverse(),msn(Q)}),onBlur:di(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(R.current),N.current="")}),onPointerMove:di(t.onPointerMove,a6(I=>{let V=I.target,W=L.current!==I.clientX;if(I.currentTarget.contains(V)&&W){let K=I.clientX>L.current?"right":"left";B.current=K,L.current=I.clientX}}))})})})})})})});Cjt.displayName=Em;var isn="MenuGroup",pMe=St.forwardRef((t,e)=>{let{__scopeMenu:r,...n}=t;return(0,or.jsx)(ql.div,{role:"group",...n,ref:e})});pMe.displayName=isn;var asn="MenuLabel",Ojt=St.forwardRef((t,e)=>{let{__scopeMenu:r,...n}=t;return(0,or.jsx)(ql.div,{...n,ref:e})});Ojt.displayName=asn;var Hoe="MenuItem",yjt="menu.itemSelect",Woe=St.forwardRef((t,e)=>{let{disabled:r=!1,onSelect:n,...o}=t,i=St.useRef(null),a=l6(Hoe,t.__scopeMenu),s=dMe(Hoe,t.__scopeMenu),u=Cc(e,i),l=St.useRef(!1),c=()=>{let d=i.current;if(!r&&d){let f=new CustomEvent(yjt,{bubbles:!0,cancelable:!0});d.addEventListener(yjt,p=>n?.(p),{once:!0}),voe(d,f),f.defaultPrevented?l.current=!1:a.onClose()}};return(0,or.jsx)(Ejt,{...o,ref:u,disabled:r,onClick:di(t.onClick,c),onPointerDown:d=>{t.onPointerDown?.(d),l.current=!0},onPointerUp:di(t.onPointerUp,d=>{l.current||d.currentTarget?.click()}),onKeyDown:di(t.onKeyDown,d=>{let f=s.searchRef.current!=="";r||f&&d.key===" "||sMe.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Woe.displayName=Hoe;var Ejt=St.forwardRef((t,e)=>{let{__scopeMenu:r,disabled:n=!1,textValue:o,...i}=t,a=dMe(Hoe,r),s=_jt(r),u=St.useRef(null),l=Cc(e,u),[c,d]=St.useState(!1),[f,p]=St.useState("");return St.useEffect(()=>{let m=u.current;m&&p((m.textContent??"").trim())},[i.children]),(0,or.jsx)(i6.ItemSlot,{scope:r,disabled:n,textValue:o??f,children:(0,or.jsx)(XDt,{asChild:!0,...s,focusable:!n,children:(0,or.jsx)(ql.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:di(t.onPointerMove,a6(m=>{n?a.onItemLeave(m):(a.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:di(t.onPointerLeave,a6(m=>a.onItemLeave(m))),onFocus:di(t.onFocus,()=>d(!0)),onBlur:di(t.onBlur,()=>d(!1))})})})}),ssn="MenuCheckboxItem",Pjt=St.forwardRef((t,e)=>{let{checked:r=!1,onCheckedChange:n,...o}=t;return(0,or.jsx)(Ijt,{scope:t.__scopeMenu,checked:r,children:(0,or.jsx)(Woe,{role:"menuitemcheckbox","aria-checked":Voe(r)?"mixed":r,...o,ref:e,"data-state":gMe(r),onSelect:di(o.onSelect,()=>n?.(Voe(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Pjt.displayName=ssn;var Tjt="MenuRadioGroup",[usn,lsn]=ED(Tjt,{value:void 0,onValueChange:()=>{}}),Mjt=St.forwardRef((t,e)=>{let{value:r,onValueChange:n,...o}=t,i=Jt(n);return(0,or.jsx)(usn,{scope:t.__scopeMenu,value:r,onValueChange:i,children:(0,or.jsx)(pMe,{...o,ref:e})})});Mjt.displayName=Tjt;var Ajt="MenuRadioItem",Rjt=St.forwardRef((t,e)=>{let{value:r,...n}=t,o=lsn(Ajt,t.__scopeMenu),i=r===o.value;return(0,or.jsx)(Ijt,{scope:t.__scopeMenu,checked:i,children:(0,or.jsx)(Woe,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":gMe(i),onSelect:di(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Rjt.displayName=Ajt;var hMe="MenuItemIndicator",[Ijt,csn]=ED(hMe,{checked:!1}),Djt=St.forwardRef((t,e)=>{let{__scopeMenu:r,forceMount:n,...o}=t,i=csn(hMe,r);return(0,or.jsx)(ku,{present:n||Voe(i.checked)||i.checked===!0,children:(0,or.jsx)(ql.span,{...o,ref:e,"data-state":gMe(i.checked)})})});Djt.displayName=hMe;var dsn="MenuSeparator",jjt=St.forwardRef((t,e)=>{let{__scopeMenu:r,...n}=t;return(0,or.jsx)(ql.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});jjt.displayName=dsn;var fsn="MenuArrow",Njt=St.forwardRef((t,e)=>{let{__scopeMenu:r,...n}=t,o=u6(r);return(0,or.jsx)(DDt,{...o,...n,ref:e})});Njt.displayName=fsn;var mMe="MenuSub",[psn,Ljt]=ED(mMe),hsn=t=>{let{__scopeMenu:e,children:r,open:n=!1,onOpenChange:o}=t,i=vM(mMe,e),a=u6(e),[s,u]=St.useState(null),[l,c]=St.useState(null),d=Jt(o);return St.useEffect(()=>(i.open===!1&&d(!1),()=>d(!1)),[i.open,d]),(0,or.jsx)(UTe,{...a,children:(0,or.jsx)(vjt,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:(0,or.jsx)(psn,{scope:e,contentId:Ja(),triggerId:Ja(),trigger:s,onTriggerChange:u,children:r})})})};hsn.displayName=mMe;var o6="MenuSubTrigger",Fjt=St.forwardRef((t,e)=>{let r=vM(o6,t.__scopeMenu),n=l6(o6,t.__scopeMenu),o=Ljt(o6,t.__scopeMenu),i=dMe(o6,t.__scopeMenu),a=St.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:u}=i,l={__scopeMenu:t.__scopeMenu},c=St.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return St.useEffect(()=>c,[c]),St.useEffect(()=>{let d=s.current;return()=>{window.clearTimeout(d),u(null)}},[s,u]),(0,or.jsx)(lMe,{asChild:!0,...l,children:(0,or.jsx)(Ejt,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":$jt(r.open),...t,ref:KH(e,o.onTriggerChange),onClick:d=>{t.onClick?.(d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:di(t.onPointerMove,a6(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100))})),onPointerLeave:di(t.onPointerLeave,a6(d=>{c();let f=r.content?.getBoundingClientRect();if(f){let p=r.content?.dataset.side,m=p==="right",h=m?-5:5,v=f[m?"left":"right"],g=f[m?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+h,y:d.clientY},{x:v,y:f.top},{x:g,y:f.top},{x:g,y:f.bottom},{x:v,y:f.bottom}],side:p}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:di(t.onKeyDown,d=>{let f=i.searchRef.current!=="";t.disabled||f&&d.key===" "||Kan[n.dir].includes(d.key)&&(r.onOpenChange(!0),r.content?.focus(),d.preventDefault())})})})});Fjt.displayName=o6;var Bjt="MenuSubContent",kjt=St.forwardRef((t,e)=>{let r=Sjt(Em,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,i=vM(Em,t.__scopeMenu),a=l6(Em,t.__scopeMenu),s=Ljt(Bjt,t.__scopeMenu),u=St.useRef(null),l=Cc(e,u);return(0,or.jsx)(i6.Provider,{scope:t.__scopeMenu,children:(0,or.jsx)(ku,{present:n||i.open,children:(0,or.jsx)(i6.Slot,{scope:t.__scopeMenu,children:(0,or.jsx)(fMe,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{a.isUsingKeyboardRef.current&&u.current?.focus(),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:di(t.onFocusOutside,c=>{c.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:di(t.onEscapeKeyDown,c=>{a.onClose(),c.preventDefault()}),onKeyDown:di(t.onKeyDown,c=>{let d=c.currentTarget.contains(c.target),f=Yan[a.dir].includes(c.key);d&&f&&(i.onOpenChange(!1),s.trigger?.focus(),c.preventDefault())})})})})})});kjt.displayName=Bjt;function $jt(t){return t?"open":"closed"}function Voe(t){return t==="indeterminate"}function gMe(t){return Voe(t)?"indeterminate":t?"checked":"unchecked"}function msn(t){let e=document.activeElement;for(let r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function gsn(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ysn(t,e,r){let o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1,a=gsn(t,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));let u=a.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function bsn(t,e){let{x:r,y:n}=t,o=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){let s=e[i].x,u=e[i].y,l=e[a].x,c=e[a].y;u>n!=c>n&&r<(l-s)*(n-u)/(c-u)+s&&(o=!o)}return o}function _sn(t,e){if(!e)return!1;let r={x:t.clientX,y:t.clientY};return bsn(r,e)}function a6(t){return e=>e.pointerType==="mouse"?t(e):void 0}var qjt=wjt,Ujt=lMe,zjt=xjt,Hjt=Cjt,Vjt=pMe,Wjt=Ojt,Jjt=Woe,Gjt=Pjt,Kjt=Mjt,Yjt=Rjt,Xjt=Djt,Zjt=jjt,Qjt=Njt;var eNt=Fjt,tNt=kjt;var zl=k(ct(),1),yMe="DropdownMenu",[wsn,QUo]=Do(yMe,[uMe]),Kd=uMe(),[Ssn,rNt]=wsn(yMe),c6=t=>{let{__scopeDropdownMenu:e,children:r,dir:n,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,u=Kd(e),l=cl.useRef(null),[c=!1,d]=ll({prop:o,defaultProp:i,onChange:a});return(0,zl.jsx)(Ssn,{scope:e,triggerId:Ja(),triggerRef:l,contentId:Ja(),open:c,onOpenChange:d,onOpenToggle:cl.useCallback(()=>d(f=>!f),[d]),modal:s,children:(0,zl.jsx)(qjt,{...u,open:c,onOpenChange:d,dir:n,modal:s,children:r})})};c6.displayName=yMe;var nNt="DropdownMenuTrigger",d6=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...o}=t,i=rNt(nNt,r),a=Kd(r);return(0,zl.jsx)(Ujt,{asChild:!0,...a,children:(0,zl.jsx)(h1t.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:yoe(e,i.triggerRef),onPointerDown:GH(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:GH(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});d6.displayName=nNt;var xsn="DropdownMenuPortal",oNt=t=>{let{__scopeDropdownMenu:e,...r}=t,n=Kd(e);return(0,zl.jsx)(zjt,{...n,...r})};oNt.displayName=xsn;var iNt="DropdownMenuContent",aNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=rNt(iNt,r),i=Kd(r),a=cl.useRef(!1);return(0,zl.jsx)(Hjt,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:e,onCloseAutoFocus:GH(t.onCloseAutoFocus,s=>{a.current||o.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:GH(t.onInteractOutside,s=>{let u=s.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,c=u.button===2||l;(!o.modal||c)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aNt.displayName=iNt;var Csn="DropdownMenuGroup",Osn=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Vjt,{...o,...n,ref:e})});Osn.displayName=Csn;var Esn="DropdownMenuLabel",sNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Wjt,{...o,...n,ref:e})});sNt.displayName=Esn;var Psn="DropdownMenuItem",uNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Jjt,{...o,...n,ref:e})});uNt.displayName=Psn;var Tsn="DropdownMenuCheckboxItem",lNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Gjt,{...o,...n,ref:e})});lNt.displayName=Tsn;var Msn="DropdownMenuRadioGroup",Asn=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Kjt,{...o,...n,ref:e})});Asn.displayName=Msn;var Rsn="DropdownMenuRadioItem",cNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Yjt,{...o,...n,ref:e})});cNt.displayName=Rsn;var Isn="DropdownMenuItemIndicator",dNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Xjt,{...o,...n,ref:e})});dNt.displayName=Isn;var Dsn="DropdownMenuSeparator",fNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Zjt,{...o,...n,ref:e})});fNt.displayName=Dsn;var jsn="DropdownMenuArrow",Nsn=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(Qjt,{...o,...n,ref:e})});Nsn.displayName=jsn;var Lsn="DropdownMenuSubTrigger",pNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(eNt,{...o,...n,ref:e})});pNt.displayName=Lsn;var Fsn="DropdownMenuSubContent",hNt=cl.forwardRef((t,e)=>{let{__scopeDropdownMenu:r,...n}=t,o=Kd(r);return(0,zl.jsx)(tNt,{...o,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hNt.displayName=Fsn;var mNt=c6,gNt=d6,yNt=oNt,bMe=aNt;var _Me=sNt,vMe=uNt,wMe=lNt;var SMe=cNt,xMe=dNt,CMe=fNt;var OMe=pNt,EMe=hNt;var ti=k(Z());var bNt=mNt,_Nt=gNt;var ksn=ti.forwardRef(({className:t,inset:e,children:r,...n},o)=>ti.createElement(OMe,{ref:o,className:Te("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-dropdown-hover data-[state=open]:bg-dropdown-hover [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n},r,ti.createElement(HA,{className:"ml-auto"})));ksn.displayName=OMe.displayName;var $sn=ti.forwardRef(({className:t,...e},r)=>ti.createElement(EMe,{ref:r,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-primary p-1 text-normal shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));$sn.displayName=EMe.displayName;var C$=ti.forwardRef(({className:t,sideOffset:e=4,...r},n)=>ti.createElement(yNt,{container:activeDocument.body},ti.createElement(bMe,{ref:n,sideOffset:e,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border border-border border-solid bg-primary p-1 text-normal shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})));C$.displayName=bMe.displayName;var oy=ti.forwardRef(({className:t,inset:e,...r},n)=>ti.createElement(vMe,{ref:n,className:Te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-dropdown-hover focus:text-normal data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));oy.displayName=vMe.displayName;var qsn=ti.forwardRef(({className:t,children:e,checked:r,...n},o)=>ti.createElement(wMe,{ref:o,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-dropdown-hover focus:text-normal data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n},ti.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},ti.createElement(xMe,null,ti.createElement(ig,{className:"h-4 w-4"}))),e));qsn.displayName=wMe.displayName;var Usn=ti.forwardRef(({className:t,children:e,...r},n)=>ti.createElement(SMe,{ref:n,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-dropdown-hover focus:text-normal data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r},ti.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},ti.createElement(xMe,null,ti.createElement(QU,{className:"h-2 w-2 fill-current"}))),e));Usn.displayName=SMe.displayName;var zsn=ti.forwardRef(({className:t,inset:e,...r},n)=>ti.createElement(_Me,{ref:n,className:Te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));zsn.displayName=_Me.displayName;var Hsn=ti.forwardRef(({className:t,...e},r)=>ti.createElement(CMe,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",t),...e}));Hsn.displayName=CMe.displayName;var Vsn=({className:t,...e})=>ti.createElement("span",{className:Te("ml-auto text-xs tracking-widest opacity-60",t),...e});Vsn.displayName="DropdownMenuShortcut";var f6=k(Z());var ES=f6.forwardRef(({checked:t=!1,onCheckedChange:e,disabled:r=!1,className:n,...o},i)=>{let a=()=>{r||e?.(!t)},s=u=>{r||(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),e?.(!t))};return f6.createElement("div",{role:"switch","aria-checked":t,"aria-disabled":r,"data-state":t?"checked":"unchecked","data-disabled":r?"":void 0,ref:i,tabIndex:r?-1:0,className:Te("relative inline-flex h-5.5 w-10 shrink-0 cursor-pointer items-center rounded-full transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t?"bg-interactive-accent":"bg-[--background-modifier-border-hover]",r&&"cursor-not-allowed opacity-50",n),onClick:a,onKeyDown:s,...o},f6.createElement("div",{className:Te("pointer-events-none block h-4 w-4 rounded-full bg-toggle-thumb shadow-lg ring-0 transition-transform",t?"translate-x-5.5":"translate-x-0.5")}))});ES.displayName="SettingSwitch";var h6=k(Z());var xr=k(Z(),1);function iy(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var wNt=k(Z(),1);function vNt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function PMe(...t){return e=>{let r=!1,n=t.map(o=>{let i=vNt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():vNt(t[o],null)}}}}function vO(...t){return wNt.useCallback(PMe(...t),t)}var Pa=k(Z(),1);var SNt=k(Z(),1),xNt=k(ys(),1);var Pc=k(Z(),1);var O$=k(ct(),1),MMe=Pc.forwardRef((t,e)=>{let{children:r,...n}=t,o=Pc.Children.toArray(r),i=o.find(Wsn);if(i){let a=i.props.children,s=o.map(u=>u===i?Pc.Children.count(a)>1?Pc.Children.only(null):Pc.isValidElement(a)?a.props.children:null:u);return(0,O$.jsx)(TMe,{...n,ref:e,children:Pc.isValidElement(a)?Pc.cloneElement(a,void 0,s):null})}return(0,O$.jsx)(TMe,{...n,ref:e,children:r})});MMe.displayName="Slot";var TMe=Pc.forwardRef((t,e)=>{let{children:r,...n}=t;if(Pc.isValidElement(r)){let o=Gsn(r);return Pc.cloneElement(r,{...Jsn(n,r.props),ref:e?PMe(e,o):o})}return Pc.Children.count(r)>1?Pc.Children.only(null):null});TMe.displayName="SlotClone";var AMe=({children:t})=>(0,O$.jsx)(O$.Fragment,{children:t});function Wsn(t){return Pc.isValidElement(t)&&t.type===AMe}function Jsn(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function Gsn(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var CNt=k(ct(),1),Ksn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pm=Ksn.reduce((t,e)=>{let r=SNt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?MMe:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,CNt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ONt(t,e){t&&xNt.flushSync(()=>t.dispatchEvent(e))}var IMe=k(ct(),1),Ysn="DismissableLayer",RMe="dismissableLayer.update",Xsn="dismissableLayer.pointerDownOutside",Zsn="dismissableLayer.focusOutside",ENt,TNt=Pa.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DMe=Pa.forwardRef((t,e)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=t,l=Pa.useContext(TNt),[c,d]=Pa.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Pa.useState({}),m=vO(e,E=>d(E)),h=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(v),_=c?h.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=_>=g,O=tun(E=>{let M=E.target,R=[...l.branches].some(N=>N.contains(M));!x||R||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=run(E=>{let M=E.target;[...l.branches].some(N=>N.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return SS(E=>{_===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Pa.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(ENt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),PNt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ENt)}},[c,f,r,l]),Pa.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),PNt())},[c,l]),Pa.useEffect(()=>{let E=()=>p({});return document.addEventListener(RMe,E),()=>document.removeEventListener(RMe,E)},[]),(0,IMe.jsx)(Pm.div,{...u,ref:m,style:{pointerEvents:S?x?"auto":"none":void 0,...t.style},onFocusCapture:iy(t.onFocusCapture,T.onFocusCapture),onBlurCapture:iy(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:iy(t.onPointerDownCapture,O.onPointerDownCapture)})});DMe.displayName=Ysn;var Qsn="DismissableLayerBranch",eun=Pa.forwardRef((t,e)=>{let r=Pa.useContext(TNt),n=Pa.useRef(null),o=vO(e,n);return Pa.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,IMe.jsx)(Pm.div,{...t,ref:o})});eun.displayName=Qsn;function tun(t,e=globalThis?.document){let r=Jt(t),n=Pa.useRef(!1),o=Pa.useRef(()=>{});return Pa.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){MNt(Xsn,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function run(t,e=globalThis?.document){let r=Jt(t),n=Pa.useRef(!1);return Pa.useEffect(()=>{let o=i=>{i.target&&!n.current&&MNt(Zsn,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function PNt(){let t=new CustomEvent(RMe);document.dispatchEvent(t)}function MNt(t,e,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?ONt(o,i):o.dispatchEvent(i)}var Hp=k(Z(),1);var ANt=k(Z(),1);var jMe=k(ct(),1),nun="Arrow",RNt=ANt.forwardRef((t,e)=>{let{children:r,width:n=10,height:o=5,...i}=t;return(0,jMe.jsx)(Pm.svg,{...i,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:(0,jMe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});RNt.displayName=nun;var INt=RNt;var wM=k(ct(),1);var NMe="Popper",[DNt,LMe]=Do(NMe),[iun,jNt]=DNt(NMe),NNt=t=>{let{__scopePopper:e,children:r}=t,[n,o]=Hp.useState(null);return(0,wM.jsx)(iun,{scope:e,anchor:n,onAnchorChange:o,children:r})};NNt.displayName=NMe;var LNt="PopperAnchor",FNt=Hp.forwardRef((t,e)=>{let{__scopePopper:r,virtualRef:n,...o}=t,i=jNt(LNt,r),a=Hp.useRef(null),s=vO(e,a);return Hp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,wM.jsx)(Pm.div,{...o,ref:s})});FNt.displayName=LNt;var FMe="PopperContent",[aun,sun]=DNt(FMe),BNt=Hp.forwardRef((t,e)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...h}=t,v=jNt(FMe,r),[g,_]=Hp.useState(null),S=vO(e,le=>_(le)),[x,O]=Hp.useState(null),T=Om(x),E=T?.width??0,M=T?.height??0,R=n+(i!=="center"?"-"+i:""),N=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},j=Array.isArray(l)?l:[l],F=j.length>0,B={padding:N,boundary:j.filter(lun),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:J,middlewareData:H}=sM({strategy:"fixed",placement:R,whileElementsMounted:(...le)=>bO(...le,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[uM({mainAxis:o+M,alignmentAxis:a}),u&&lM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cM():void 0,...B}),u&&dM({...B}),fM({...B,apply:({elements:le,rects:Ae,availableWidth:mt,availableHeight:we})=>{let{width:ae,height:ee}=Ae.reference,ye=le.floating.style;ye.setProperty("--radix-popper-available-width",`${mt}px`),ye.setProperty("--radix-popper-available-height",`${we}px`),ye.setProperty("--radix-popper-anchor-width",`${ae}px`),ye.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&hM({element:x,padding:s}),cun({arrowWidth:E,arrowHeight:M}),f&&pM({strategy:"referenceHidden",...B})]}),[I,V]=qNt(U),W=Jt(m);Br(()=>{J&&W?.()},[J,W]);let K=H.arrow?.x,ne=H.arrow?.y,Be=H.arrow?.centerOffset!==0,[X,Q]=Hp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,wM.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:J?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,["--radix-popper-transform-origin"]:[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,wM.jsx)(aun,{scope:r,placedSide:I,onArrowChange:O,arrowX:K,arrowY:ne,shouldHideArrow:Be,children:(0,wM.jsx)(Pm.div,{"data-side":I,"data-align":V,...h,ref:S,style:{...h.style,animation:J?void 0:"none"}})})})});BNt.displayName=FMe;var kNt="PopperArrow",uun={top:"bottom",right:"left",bottom:"top",left:"right"},$Nt=Hp.forwardRef(function(e,r){let{__scopePopper:n,...o}=e,i=sun(kNt,n),a=uun[i.placedSide];return(0,wM.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,wM.jsx)(INt,{...o,ref:r,style:{...o.style,display:"block"}})})});$Nt.displayName=kNt;function lun(t){return t!==null}var cun=t=>({name:"transformOrigin",options:t,fn(e){let{placement:r,rects:n,middlewareData:o}=e,a=o.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[l,c]=qNt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,m="",h="";return l==="bottom"?(m=a?d:`${f}px`,h=`${-u}px`):l==="top"?(m=a?d:`${f}px`,h=`${n.floating.height+u}px`):l==="right"?(m=`${-u}px`,h=a?d:`${p}px`):l==="left"&&(m=`${n.floating.width+u}px`,h=a?d:`${p}px`),{data:{x:m,y:h}}}});function qNt(t){let[e,r="center"]=t.split("-");return[e,r]}var UNt=NNt,zNt=FNt,HNt=BNt,VNt=$Nt;var Joe=k(Z(),1),WNt=k(ys(),1);var JNt=k(ct(),1),fun="Portal",BMe=Joe.forwardRef((t,e)=>{let{container:r,...n}=t,[o,i]=Joe.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?WNt.default.createPortal((0,JNt.jsx)(Pm.div,{...n,ref:e}),a):null});BMe.displayName=fun;var QNt=k(Z(),1);var YNt=k(Z(),1),bun=k(ys(),1);var Tc=k(Z(),1);var pun=k(Z(),1);function GNt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KNt(...t){return e=>{let r=!1,n=t.map(o=>{let i=GNt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():GNt(t[o],null)}}}}var E$=k(ct(),1),$Me=Tc.forwardRef((t,e)=>{let{children:r,...n}=t,o=Tc.Children.toArray(r),i=o.find(mun);if(i){let a=i.props.children,s=o.map(u=>u===i?Tc.Children.count(a)>1?Tc.Children.only(null):Tc.isValidElement(a)?a.props.children:null:u);return(0,E$.jsx)(kMe,{...n,ref:e,children:Tc.isValidElement(a)?Tc.cloneElement(a,void 0,s):null})}return(0,E$.jsx)(kMe,{...n,ref:e,children:r})});$Me.displayName="Slot";var kMe=Tc.forwardRef((t,e)=>{let{children:r,...n}=t;if(Tc.isValidElement(r)){let o=yun(r);return Tc.cloneElement(r,{...gun(n,r.props),ref:e?KNt(e,o):o})}return Tc.Children.count(r)>1?Tc.Children.only(null):null});kMe.displayName="SlotClone";var hun=({children:t})=>(0,E$.jsx)(E$.Fragment,{children:t});function mun(t){return Tc.isValidElement(t)&&t.type===hun}function gun(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function yun(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var XNt=k(ct(),1),_un=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ZNt=_un.reduce((t,e)=>{let r=YNt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?$Me:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,XNt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});var eLt=k(ct(),1),vun="VisuallyHidden",tLt=QNt.forwardRef((t,e)=>(0,eLt.jsx)(ZNt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));tLt.displayName=vun;var rLt=tLt;var $u=k(ct(),1),[Goe,Gzo]=Do("Tooltip",[LMe]),Koe=LMe(),nLt="TooltipProvider",Sun=700,qMe="tooltip.open",[xun,zMe]=Goe(nLt),oLt=t=>{let{__scopeTooltip:e,delayDuration:r=Sun,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=t,[a,s]=xr.useState(!0),u=xr.useRef(!1),l=xr.useRef(0);return xr.useEffect(()=>{let c=l.current;return()=>window.clearTimeout(c)},[]),(0,$u.jsx)(xun,{scope:e,isOpenDelayed:a,delayDuration:r,onOpen:xr.useCallback(()=>{window.clearTimeout(l.current),s(!1)},[]),onClose:xr.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:xr.useCallback(c=>{u.current=c},[]),disableHoverableContent:o,children:i})};oLt.displayName=nLt;var Yoe="Tooltip",[Cun,p6]=Goe(Yoe),iLt=t=>{let{__scopeTooltip:e,children:r,open:n,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:s}=t,u=zMe(Yoe,t.__scopeTooltip),l=Koe(e),[c,d]=xr.useState(null),f=Ja(),p=xr.useRef(0),m=a??u.disableHoverableContent,h=s??u.delayDuration,v=xr.useRef(!1),[g=!1,_]=ll({prop:n,defaultProp:o,onChange:E=>{E?(u.onOpen(),document.dispatchEvent(new CustomEvent(qMe))):u.onClose(),i?.(E)}}),S=xr.useMemo(()=>g?v.current?"delayed-open":"instant-open":"closed",[g]),x=xr.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,_(!0)},[_]),O=xr.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_(!1)},[_]),T=xr.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,_(!0),p.current=0},h)},[h,_]);return xr.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,$u.jsx)(UNt,{...l,children:(0,$u.jsx)(Cun,{scope:e,contentId:f,open:g,stateAttribute:S,trigger:c,onTriggerChange:d,onTriggerEnter:xr.useCallback(()=>{u.isOpenDelayed?T():x()},[u.isOpenDelayed,T,x]),onTriggerLeave:xr.useCallback(()=>{m?O():(window.clearTimeout(p.current),p.current=0)},[O,m]),onOpen:x,onClose:O,disableHoverableContent:m,children:r})})};iLt.displayName=Yoe;var UMe="TooltipTrigger",aLt=xr.forwardRef((t,e)=>{let{__scopeTooltip:r,...n}=t,o=p6(UMe,r),i=zMe(UMe,r),a=Koe(r),s=xr.useRef(null),u=vO(e,s,o.onTriggerChange),l=xr.useRef(!1),c=xr.useRef(!1),d=xr.useCallback(()=>l.current=!1,[]);return xr.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),(0,$u.jsx)(zNt,{asChild:!0,...a,children:(0,$u.jsx)(Pm.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:u,onPointerMove:iy(t.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:iy(t.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:iy(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:iy(t.onFocus,()=>{l.current||o.onOpen()}),onBlur:iy(t.onBlur,o.onClose),onClick:iy(t.onClick,o.onClose)})})});aLt.displayName=UMe;var HMe="TooltipPortal",[Oun,Eun]=Goe(HMe,{forceMount:void 0}),sLt=t=>{let{__scopeTooltip:e,forceMount:r,children:n,container:o}=t,i=p6(HMe,e);return(0,$u.jsx)(Oun,{scope:e,forceMount:r,children:(0,$u.jsx)(ku,{present:r||i.open,children:(0,$u.jsx)(BMe,{asChild:!0,container:o,children:n})})})};sLt.displayName=HMe;var P$="TooltipContent",uLt=xr.forwardRef((t,e)=>{let r=Eun(P$,t.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...i}=t,a=p6(P$,t.__scopeTooltip);return(0,$u.jsx)(ku,{present:n||a.open,children:a.disableHoverableContent?(0,$u.jsx)(lLt,{side:o,...i,ref:e}):(0,$u.jsx)(Pun,{side:o,...i,ref:e})})}),Pun=xr.forwardRef((t,e)=>{let r=p6(P$,t.__scopeTooltip),n=zMe(P$,t.__scopeTooltip),o=xr.useRef(null),i=vO(e,o),[a,s]=xr.useState(null),{trigger:u,onClose:l}=r,c=o.current,{onPointerInTransitChange:d}=n,f=xr.useCallback(()=>{s(null),d(!1)},[d]),p=xr.useCallback((m,h)=>{let v=m.currentTarget,g={x:m.clientX,y:m.clientY},_=Run(g,v.getBoundingClientRect()),S=Iun(g,_),x=Dun(h.getBoundingClientRect()),O=Nun([...S,...x]);s(O),d(!0)},[d]);return xr.useEffect(()=>()=>f(),[f]),xr.useEffect(()=>{if(u&&c){let m=v=>p(v,c),h=v=>p(v,u);return u.addEventListener("pointerleave",m),c.addEventListener("pointerleave",h),()=>{u.removeEventListener("pointerleave",m),c.removeEventListener("pointerleave",h)}}},[u,c,p,f]),xr.useEffect(()=>{if(a){let m=h=>{let v=h.target,g={x:h.clientX,y:h.clientY},_=u?.contains(v)||c?.contains(v),S=!jun(g,a);_?f():S&&(f(),l())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[u,c,a,l,f]),(0,$u.jsx)(lLt,{...t,ref:i})}),[Tun,Mun]=Goe(Yoe,{isInside:!1}),lLt=xr.forwardRef((t,e)=>{let{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...s}=t,u=p6(P$,r),l=Koe(r),{onClose:c}=u;return xr.useEffect(()=>(document.addEventListener(qMe,c),()=>document.removeEventListener(qMe,c)),[c]),xr.useEffect(()=>{if(u.trigger){let d=f=>{f.target?.contains(u.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[u.trigger,c]),(0,$u.jsx)(DMe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:(0,$u.jsxs)(HNt,{"data-state":u.stateAttribute,...l,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,$u.jsx)(AMe,{children:n}),(0,$u.jsx)(Tun,{scope:r,isInside:!0,children:(0,$u.jsx)(rLt,{id:u.contentId,role:"tooltip",children:o||n})})]})})});uLt.displayName=P$;var cLt="TooltipArrow",Aun=xr.forwardRef((t,e)=>{let{__scopeTooltip:r,...n}=t,o=Koe(r);return Mun(cLt,r).isInside?null:(0,$u.jsx)(VNt,{...o,...n,ref:e})});Aun.displayName=cLt;function Run(t,e){let r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Iun(t,e,r=5){let n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Dun(t){let{top:e,right:r,bottom:n,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:n},{x:o,y:n}]}function jun(t,e){let{x:r,y:n}=t,o=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){let s=e[i].x,u=e[i].y,l=e[a].x,c=e[a].y;u>n!=c>n&&r<(l-s)*(n-u)/(c-u)+s&&(o=!o)}return o}function Nun(t){let e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Lun(e)}function Lun(t){if(t.length<=1)return t.slice();let e=[];for(let n=0;n<t.length;n++){let o=t[n];for(;e.length>=2;){let i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))e.pop();else break}e.push(o)}e.pop();let r=[];for(let n=t.length-1;n>=0;n--){let o=t[n];for(;r.length>=2;){let i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Xoe=oLt,dLt=iLt,fLt=aLt,pLt=sLt,VMe=uLt;var Yf=Xoe,cn=dLt,dn=fLt,Yr=h6.forwardRef(({className:t,sideOffset:e=4,...r},n)=>h6.createElement(pLt,{container:activeDocument.body},h6.createElement(VMe,{ref:n,sideOffset:e,className:Te("z-50 overflow-hidden rounded-md bg-secondary border-border border border-solid px-3 py-1.5 text-xs text-normal animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})));Yr.displayName=VMe.displayName;var WMe=require("obsidian");async function Fun(){try{await Ji.getInstance().indexVaultToVectorStore(),new WMe.Notice("Vault index refreshed.")}catch(t){console.error("Error refreshing vault index:",t),new WMe.Notice("Failed to refresh vault index. Check console for details.")}}function mLt({onNewChat:t,onSaveAsNote:e}){let r=La(),[n,o]=Ay(),i=VQ();return gr.default.createElement("div",{className:"w-full py-1 flex justify-between items-center px-1"},gr.default.createElement("div",{className:"flex-1"},gr.default.createElement(c6,null,gr.default.createElement(d6,{asChild:!0},gr.default.createElement(gt,{variant:"ghost2",size:"fit",className:"ml-1"},n==="llm_chain"&&"chat",n==="vault_qa"&&"vault QA",n==="copilot_plus"&&gr.default.createElement("div",{className:"flex items-center gap-1"},gr.default.createElement(By,{className:"size-4"}),"copilot plus (beta)"),gr.default.createElement(Sl,{className:"size-5 mt-0.5"}))),gr.default.createElement(C$,{align:"start"},gr.default.createElement(oy,{onSelect:()=>o("llm_chain")},"chat"),gr.default.createElement(oy,{onSelect:()=>o("vault_qa")},"vault QA"),i?gr.default.createElement(oy,{onSelect:()=>o("copilot_plus")},gr.default.createElement("div",{className:"flex items-center gap-1"},gr.default.createElement(By,{className:"size-4"}),"copilot plus (beta)")):gr.default.createElement(oy,{onSelect:()=>{_N(iE.CHAT_MODE_SELECT)}},"copilot plus (beta)",gr.default.createElement(kE,{className:"size-3"}))))),gr.default.createElement("div",null,gr.default.createElement(cn,null,gr.default.createElement(dn,{asChild:!0},gr.default.createElement(gt,{variant:"ghost2",size:"icon",title:"New Chat",onClick:t},gr.default.createElement(dz,{className:"size-4"}))),gr.default.createElement(Yr,null,"New Chat")),gr.default.createElement(cn,null,gr.default.createElement(dn,{asChild:!0},gr.default.createElement(gt,{variant:"ghost2",size:"icon",title:"Save Chat as Note",onClick:e},gr.default.createElement(oz,{className:"size-4"}))),gr.default.createElement(Yr,null,"Save Chat as Note")),gr.default.createElement(c6,null,gr.default.createElement(d6,{asChild:!0},gr.default.createElement(gt,{variant:"ghost2",size:"icon",title:"Advanced Settings"},gr.default.createElement(FE,{className:"size-4"}))),gr.default.createElement(C$,{align:"end",className:"w-64"},gr.default.createElement(oy,{className:"flex justify-between",onSelect:a=>{a.preventDefault(),Ft("showSuggestedPrompts",!r.showSuggestedPrompts)}},gr.default.createElement("div",{className:"flex items-center gap-2"},gr.default.createElement(By,{className:"size-4"}),"Suggested Prompt"),gr.default.createElement(ES,{checked:r.showSuggestedPrompts})),gr.default.createElement(oy,{className:"flex justify-between",onSelect:a=>{a.preventDefault(),Ft("showRelevantNotes",!r.showRelevantNotes)}},gr.default.createElement("div",{className:"flex items-center gap-2"},gr.default.createElement(az,{className:"size-4"}),"Relevant Note"),gr.default.createElement(ES,{checked:r.showRelevantNotes})),gr.default.createElement(oy,{className:"flex items-center gap-2",onSelect:()=>Fun()},gr.default.createElement(pz,{className:"size-4"}),"Refresh Vault Index")))))}var Zoe=class{constructor(e,r){this.app=e,this.onImagesSelected=r}open(){let e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.style.display="none",e.addEventListener("change",()=>{let r=Array.from(e.files||[]);this.onImagesSelected(r),document.body.removeChild(e)}),document.body.appendChild(e),e.click()}};var gLt=require("obsidian"),ay=class{constructor(){}static getInstance(){return ay.instance||(ay.instance=new ay),ay.instance}async processEmbeddedPDFs(e,r,n){let o=/!\[\[(.*?\.pdf)\]\]/g,i=[...e.matchAll(o)];for(let a of i){let s=a[1],u=r.getAbstractFileByPath(s);if(u instanceof gLt.TFile)try{let l=await n.parseFile(u,r);e=e.replace(a[0],`

Embedded PDF (${s}):
${l}

`)}catch(l){console.error(`Error processing embedded PDF ${s}:`,l),e=e.replace(a[0],`

Embedded PDF (${s}): [Error: Could not process PDF]

`)}}return e}async processContextNotes(e,r,n,o,i,a,s){let u=await e.getProcessedVariables(),l="",c=async d=>{try{if(s!=="copilot_plus"&&d.extension!=="md"){r.supportsExtension(d.extension)?console.warn(`File type ${d.extension} only supported in Copilot Plus mode`):console.warn(`Unsupported file type: ${d.extension}`);return}if(!r.supportsExtension(d.extension)){console.warn(`Unsupported file type: ${d.extension}`);return}let f=await r.parseFile(d,n);d.extension==="md"&&s==="copilot_plus"&&(f=await this.processEmbeddedPDFs(f,n,r)),l+=`

[[${d.basename}.${d.extension}]]:

${f}`}catch(f){console.error(`Error processing file ${d.path}:`,f),l+=`

[[${d.basename}]]: [Error: Could not process file]`}};if(i&&a){let d="activeNote",f=`[[${a.basename}]]`;!u.has(d)&&!u.has(f)&&await c(a)}for(let d of o)await c(d);return l}async hasEmbeddedPDFs(e){return/!\[\[(.*?\.pdf)\]\]/g.test(e)}async addNoteToContext(e,r,n,o,i,a){if(n.some(l=>l.path===e.path)||o&&e.path===o.path)return;let s=await r.read(e),u=await this.hasEmbeddedPDFs(s);o&&e.path===o.path?a(!0):i(l=>[...l,Object.assign(e,{wasAddedViaReference:!0,hasEmbeddedPDFs:u})])}};var lAe=require("obsidian"),et=k(Z());var _Lt=k(Z());var m6=require("obsidian"),Qoe=class extends m6.FuzzySuggestModal{constructor(r){super(r);this.activeNote=r.workspace.getActiveFile()}getOrderedNotes(r=[]){let n=this.app.workspace.getLastOpenFiles().map(a=>this.app.vault.getAbstractFileByPath(a)).filter(a=>a instanceof m6.TFile&&(a.extension==="md"||a.extension==="pdf")&&!r.includes(a.path)&&a.path!==this.activeNote?.path),i=this.app.vault.getFiles().filter(a=>a.extension==="md"||a.extension==="pdf").filter(a=>!n.some(s=>s.path===a.path)&&!r.includes(a.path)&&a.path!==this.activeNote?.path);return[...this.activeNote?[this.activeNote]:[],...n,...i]}formatNoteTitle(r,n,o){let i=r;return n&&(i+=" (current)"),o==="pdf"&&(i+=" (PDF)"),i}renderSuggestion(r,n){let o=n.createDiv({cls:"suggestion-item pointer-events-none"}),i=o.createDiv({cls:"suggestion-title"}),a=o.createDiv({cls:"suggestion-path mt-1 text-muted text-xs"});if(r.item instanceof m6.TFile){let s=r.item;i.setText(this.formatNoteTitle(s.basename,s===this.activeNote,s.extension)),a.setText(s.path)}}};var T$=class extends Qoe{constructor({app:r,onNoteSelect:n,excludeNotePaths:o}){super(r);this.onNoteSelect=n,this.availableNotes=this.getOrderedNotes(o)}getItems(){return this.availableNotes}getItemText(r){let n=r.path===this.activeNote?.path;return this.formatNoteTitle(r.basename,n,r.extension)}onChooseItem(r,n){this.onNoteSelect(r)}};var Ii=k(Z());var eie=k(Z());var kun=pN("inline-flex items-center rounded-md px-2.5 py-0.5 text-normal text-ui-smaller transition-colors focus:outline-none",{variants:{variant:{default:"bg-primary-alt shadow",secondary:"bg-secondary-alt",destructive:"bg-modifier-error shadow",outline:"border border-border border-solid"}},defaultVariants:{variant:"default"}}),Tm=eie.forwardRef(({className:t,variant:e,...r},n)=>eie.createElement("div",{ref:n,className:Te(kun({variant:e}),t),...r}));Tm.displayName="Badge";function yLt({note:t,isActive:e=!1,onRemoveContext:r}){return Ii.default.createElement(Tm,{className:"text-xs pl-2 pr-0.5 py-0 items-center"},Ii.default.createElement("div",{className:"flex items-center gap-1"},Ii.default.createElement("span",{className:"max-w-40 truncate"},t.basename),e&&Ii.default.createElement("span",{className:"text-xs text-faint"},"Current"),t.extension==="pdf"&&Ii.default.createElement("span",{className:"text-xs text-faint"},"pdf")),Ii.default.createElement(gt,{variant:"ghost2",size:"fit",onClick:()=>r(t.path),"aria-label":"Remove from context"},Ii.default.createElement(ky,{className:"size-4"})))}function $un({url:t,onRemoveUrl:e}){return Ii.default.createElement(Tm,{className:"text-xs pl-2 pr-0.5 py-0 items-center"},Ii.default.createElement("div",{className:"flex items-center gap-1"},Ii.default.createElement("span",{className:"max-w-40 truncate"},t),Ii.default.createElement("span",{className:"text-xs text-faint"},"Link")),Ii.default.createElement(gt,{variant:"ghost2",size:"fit",onClick:()=>e(t),"aria-label":"Remove from context"},Ii.default.createElement(ky,{className:"size-4"})))}var bLt=({activeNote:t,contextNotes:e,contextUrls:r,onAddContext:n,onRemoveContext:o,onRemoveUrl:i})=>{let a=Ii.default.useMemo(()=>{let l=new Map(e.map(c=>[c.path,c]));return Array.from(l.values()).filter(c=>c.wasAddedManually?!0:!(t&&c.path===t.path))},[e,t]),s=Ii.default.useMemo(()=>Array.from(new Set(r)),[r]),u=a.length>0||s.length>0||!!t;return Ii.default.createElement("div",{className:"flex items-center w-full gap-1"},Ii.default.createElement("div",{className:"flex items-start h-full"},Ii.default.createElement(gt,{onClick:n,variant:"ghost2",size:"fit",className:"border border-border border-solid rounded-sm ml-1"},Ii.default.createElement(XA,{className:"size-4"}),!u&&Ii.default.createElement("span",{className:"text-xs leading-4 pr-1"},"Add context"))),Ii.default.createElement("div",{className:"flex gap-1 flex-wrap flex-1"},t&&Ii.default.createElement(yLt,{key:t.path,note:t,isActive:!0,onRemoveContext:o}),a.map(l=>Ii.default.createElement(yLt,{key:l.path,note:l,isActive:!1,onRemoveContext:o})),s.map(l=>Ii.default.createElement($un,{key:l,url:l,onRemoveUrl:i}))))};var qun=({app:t,excludeNotePaths:e,contextNotes:r,setContextNotes:n,includeActiveNote:o,setIncludeActiveNote:i,activeNote:a,contextUrls:s,onRemoveUrl:u})=>{let[l]=Ay(),c=()=>{new T$({app:t,onNoteSelect:f=>{a&&f.path===a.path?(i(!0),n(p=>p.filter(m=>m.path!==f.path))):n(p=>[...p,Object.assign(f,{wasAddedManually:!0})])},excludeNotePaths:e}).open()},d=f=>{let p=r.find(h=>h.path===f);p&&p.wasAddedManually?n(h=>h.filter(v=>v.path!==f)):(i(!1),n(h=>h.filter(v=>v.path!==f)))};return l!=="copilot_plus"?null:_Lt.default.createElement(bLt,{activeNote:o?a:null,contextNotes:r,onAddContext:c,onRemoveContext:d,contextUrls:s,onRemoveUrl:u})},vLt=qun;var Ur=k(Z()),Jo=k(TLt());function SM(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}var Hun=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function PD(t,e,r){let n=Vun(t),{webkitRelativePath:o}=t,i=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${t.name}`;return typeof n.path!="string"&&MLt(n,"path",i),r!==void 0&&Object.defineProperty(n,"handle",{value:r,writable:!1,configurable:!1,enumerable:!0}),MLt(n,"relativePath",i),n}function Vun(t){let{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){let n=e.split(".").pop().toLowerCase(),o=Hun.get(n);o&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return t}function MLt(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,configurable:!1,enumerable:!0})}var Wun=[".DS_Store","Thumbs.db"];function GMe(t){return SM(this,void 0,void 0,function*(){return tie(t)&&Jun(t.dataTransfer)?Xun(t.dataTransfer,t.type):Gun(t)?Kun(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Yun(t):[]})}function Jun(t){return tie(t)}function Gun(t){return tie(t)&&tie(t.target)}function tie(t){return typeof t=="object"&&t!==null}function Kun(t){return JMe(t.target.files).map(e=>PD(e))}function Yun(t){return SM(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>PD(r))})}function Xun(t,e){return SM(this,void 0,void 0,function*(){if(t.items){let r=JMe(t.items).filter(o=>o.kind==="file");if(e!=="drop")return r;let n=yield Promise.all(r.map(Zun));return ALt(ILt(n))}return ALt(JMe(t.files).map(r=>PD(r)))})}function ALt(t){return t.filter(e=>Wun.indexOf(e.name)===-1)}function JMe(t){if(t===null)return[];let e=[];for(let r=0;r<t.length;r++){let n=t[r];e.push(n)}return e}function Zun(t){if(typeof t.webkitGetAsEntry!="function")return RLt(t);let e=t.webkitGetAsEntry();return e&&e.isDirectory?DLt(e):RLt(t,e)}function ILt(t){return t.reduce((e,r)=>[...e,...Array.isArray(r)?ILt(r):[r]],[])}function RLt(t,e){return SM(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){let i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){let a=yield i.getFile();return a.handle=i,PD(a)}}let n=t.getAsFile();if(!n)throw new Error(`${t} is not a File`);return PD(n,(r=e?.fullPath)!==null&&r!==void 0?r:void 0)})}function Qun(t){return SM(this,void 0,void 0,function*(){return t.isDirectory?DLt(t):eln(t)})}function DLt(t){let e=t.createReader();return new Promise((r,n)=>{let o=[];function i(){e.readEntries(a=>SM(this,void 0,void 0,function*(){if(a.length){let s=Promise.all(a.map(Qun));o.push(s),i()}else try{let s=yield Promise.all(o);r(s)}catch(s){n(s)}}),a=>{n(a)})}i()})}function eln(t){return SM(this,void 0,void 0,function*(){return new Promise((e,r)=>{t.file(n=>{let o=PD(n,t.fullPath);e(o)},n=>{r(n)})})})}var rie=k(jLt());function NLt(t){return nln(t)||rln(t)||qLt(t)||tln()}function tln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rln(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nln(t){if(Array.isArray(t))return YMe(t)}function LLt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function FLt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LLt(Object(r),!0).forEach(function(n){$Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LLt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Lt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g6(t,e){return aln(t)||iln(t,e)||qLt(t,e)||oln()}function oln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qLt(t,e){if(t){if(typeof t=="string")return YMe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YMe(t,e)}}function YMe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iln(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,s;try{for(r=r.call(t);!(o=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));o=!0);}catch(u){i=!0,s=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function aln(t){if(Array.isArray(t))return t}var sln=typeof rie.default=="function"?rie.default:rie.default.default,uln="file-invalid-type",lln="file-too-large",cln="file-too-small",dln="too-many-files";var fln=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:uln,message:"File type must be ".concat(n)}},BLt=function(e){return{code:lln,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},kLt=function(e){return{code:cln,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},ULt={code:dln,message:"Too many files"};function XMe(t,e){var r=t.type==="application/x-moz-file"||sln(t,e);return[r,r?null:fln(e)]}function ZMe(t,e,r){if(TD(t.size))if(TD(e)&&TD(r)){if(t.size>r)return[!1,BLt(r)];if(t.size<e)return[!1,kLt(e)]}else{if(TD(e)&&t.size<e)return[!1,kLt(e)];if(TD(r)&&t.size>r)return[!1,BLt(r)]}return[!0,null]}function TD(t){return t!=null}function zLt(t){var e=t.files,r=t.accept,n=t.minSize,o=t.maxSize,i=t.multiple,a=t.maxFiles,s=t.validator;return!i&&e.length>1||i&&a>=1&&e.length>a?!1:e.every(function(u){var l=XMe(u,r),c=g6(l,1),d=c[0],f=ZMe(u,n,o),p=g6(f,1),m=p[0],h=s?s(u):null;return d&&m&&!h})}function y6(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function b6(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function QMe(t){t.preventDefault()}function pln(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function hln(t){return t.indexOf("Edge/")!==-1}function HLt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return pln(t)||hln(t)}function sy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return e.some(function(s){return!y6(n)&&s&&s.apply(void 0,[n].concat(i)),y6(n)})}}function VLt(){return"showOpenFilePicker"in window}function WLt(t){if(TD(t)){var e=Object.entries(t).filter(function(r){var n=g6(r,2),o=n[0],i=n[1],a=!0;return YLt(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(i)||!i.every(XLt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var o=g6(n,2),i=o[0],a=o[1];return FLt(FLt({},r),{},$Lt({},i,a))},{});return[{description:"Files",accept:e}]}return t}function JLt(t){if(TD(t))return Object.entries(t).reduce(function(e,r){var n=g6(r,2),o=n[0],i=n[1];return[].concat(NLt(e),[o],NLt(i))},[]).filter(function(e){return YLt(e)||XLt(e)}).join(",")}function GLt(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function KLt(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function YLt(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function XLt(t){return/^.*\.[\w]+$/.test(t)}var mln=["children"],gln=["open"],yln=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bln=["refKey","onChange","onClick"];function _ln(t){return Sln(t)||wln(t)||eFt(t)||vln()}function vln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wln(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sln(t){if(Array.isArray(t))return tAe(t)}function eAe(t,e){return Oln(t)||Cln(t,e)||eFt(t,e)||xln()}function xln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eFt(t,e){if(t){if(typeof t=="string")return tAe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tAe(t,e)}}function tAe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cln(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,s;try{for(r=r.call(t);!(o=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));o=!0);}catch(u){i=!0,s=u}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Oln(t){if(Array.isArray(t))return t}function ZLt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZLt(Object(r),!0).forEach(function(n){rAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZLt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rAe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nie(t,e){if(t==null)return{};var r=Eln(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eln(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}var oAe=(0,Ur.forwardRef)(function(t,e){var r=t.children,n=nie(t,mln),o=iAe(n),i=o.open,a=nie(o,gln);return(0,Ur.useImperativeHandle)(e,function(){return{open:i}},[i]),Ur.default.createElement(Ur.Fragment,null,r(Ta(Ta({},a),{},{open:i})))});oAe.displayName="Dropzone";var tFt={disabled:!1,getFilesFromEvent:GMe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};oAe.defaultProps=tFt;oAe.propTypes={children:Jo.default.func,accept:Jo.default.objectOf(Jo.default.arrayOf(Jo.default.string)),multiple:Jo.default.bool,preventDropOnDocument:Jo.default.bool,noClick:Jo.default.bool,noKeyboard:Jo.default.bool,noDrag:Jo.default.bool,noDragEventsBubbling:Jo.default.bool,minSize:Jo.default.number,maxSize:Jo.default.number,maxFiles:Jo.default.number,disabled:Jo.default.bool,getFilesFromEvent:Jo.default.func,onFileDialogCancel:Jo.default.func,onFileDialogOpen:Jo.default.func,useFsAccessApi:Jo.default.bool,autoFocus:Jo.default.bool,onDragEnter:Jo.default.func,onDragLeave:Jo.default.func,onDragOver:Jo.default.func,onDrop:Jo.default.func,onDropAccepted:Jo.default.func,onDropRejected:Jo.default.func,onError:Jo.default.func,validator:Jo.default.func};var nAe={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function iAe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ta(Ta({},tFt),t),r=e.accept,n=e.disabled,o=e.getFilesFromEvent,i=e.maxSize,a=e.minSize,s=e.multiple,u=e.maxFiles,l=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,m=e.onDropRejected,h=e.onFileDialogCancel,v=e.onFileDialogOpen,g=e.useFsAccessApi,_=e.autoFocus,S=e.preventDropOnDocument,x=e.noClick,O=e.noKeyboard,T=e.noDrag,E=e.noDragEventsBubbling,M=e.onError,R=e.validator,N=(0,Ur.useMemo)(function(){return JLt(r)},[r]),j=(0,Ur.useMemo)(function(){return WLt(r)},[r]),F=(0,Ur.useMemo)(function(){return typeof v=="function"?v:QLt},[v]),B=(0,Ur.useMemo)(function(){return typeof h=="function"?h:QLt},[h]),L=(0,Ur.useRef)(null),q=(0,Ur.useRef)(null),U=(0,Ur.useReducer)(Pln,nAe),J=eAe(U,2),H=J[0],I=J[1],V=H.isFocused,W=H.isFileDialogActive,K=(0,Ur.useRef)(typeof window<"u"&&window.isSecureContext&&g&&VLt()),ne=function(){!K.current&&W&&setTimeout(function(){if(q.current){var Ye=q.current.files;Ye.length||(I({type:"closeDialog"}),B())}},300)};(0,Ur.useEffect)(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[q,W,B,K]);var Be=(0,Ur.useRef)([]),X=function(Ye){L.current&&L.current.contains(Ye.target)||(Ye.preventDefault(),Be.current=[])};(0,Ur.useEffect)(function(){return S&&(document.addEventListener("dragover",QMe,!1),document.addEventListener("drop",X,!1)),function(){S&&(document.removeEventListener("dragover",QMe),document.removeEventListener("drop",X))}},[L,S]),(0,Ur.useEffect)(function(){return!n&&_&&L.current&&L.current.focus(),function(){}},[L,_,n]);var Q=(0,Ur.useCallback)(function(Re){M?M(Re):console.error(Re)},[M]),le=(0,Ur.useCallback)(function(Re){Re.preventDefault(),Re.persist(),Xt(Re),Be.current=[].concat(_ln(Be.current),[Re.target]),b6(Re)&&Promise.resolve(o(Re)).then(function(Ye){if(!(y6(Re)&&!E)){var dr=Ye.length,Xe=dr>0&&zLt({files:Ye,accept:N,minSize:a,maxSize:i,multiple:s,maxFiles:u,validator:R}),kn=dr>0&&!Xe;I({isDragAccept:Xe,isDragReject:kn,isDragActive:!0,type:"setDraggedFiles"}),l&&l(Re)}}).catch(function(Ye){return Q(Ye)})},[o,l,Q,E,N,a,i,s,u,R]),Ae=(0,Ur.useCallback)(function(Re){Re.preventDefault(),Re.persist(),Xt(Re);var Ye=b6(Re);if(Ye&&Re.dataTransfer)try{Re.dataTransfer.dropEffect="copy"}catch{}return Ye&&d&&d(Re),!1},[d,E]),mt=(0,Ur.useCallback)(function(Re){Re.preventDefault(),Re.persist(),Xt(Re);var Ye=Be.current.filter(function(Xe){return L.current&&L.current.contains(Xe)}),dr=Ye.indexOf(Re.target);dr!==-1&&Ye.splice(dr,1),Be.current=Ye,!(Ye.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),b6(Re)&&c&&c(Re))},[L,c,E]),we=(0,Ur.useCallback)(function(Re,Ye){var dr=[],Xe=[];Re.forEach(function(kn){var ra=XMe(kn,N),hl=eAe(ra,2),Nc=hl[0],Nm=hl[1],Lm=ZMe(kn,a,i),Ia=eAe(Lm,2),Xp=Ia[0],Zf=Ia[1],Zp=R?R(kn):null;if(Nc&&Xp&&!Zp)dr.push(kn);else{var hn=[Nm,Zf];Zp&&(hn=hn.concat(Zp)),Xe.push({file:kn,errors:hn.filter(function(NO){return NO})})}}),(!s&&dr.length>1||s&&u>=1&&dr.length>u)&&(dr.forEach(function(kn){Xe.push({file:kn,errors:[ULt]})}),dr.splice(0)),I({acceptedFiles:dr,fileRejections:Xe,isDragReject:Xe.length>0,type:"setFiles"}),f&&f(dr,Xe,Ye),Xe.length>0&&m&&m(Xe,Ye),dr.length>0&&p&&p(dr,Ye)},[I,s,N,a,i,u,f,p,m,R]),ae=(0,Ur.useCallback)(function(Re){Re.preventDefault(),Re.persist(),Xt(Re),Be.current=[],b6(Re)&&Promise.resolve(o(Re)).then(function(Ye){y6(Re)&&!E||we(Ye,Re)}).catch(function(Ye){return Q(Ye)}),I({type:"reset"})},[o,we,Q,E]),ee=(0,Ur.useCallback)(function(){if(K.current){I({type:"openDialog"}),F();var Re={multiple:s,types:j};window.showOpenFilePicker(Re).then(function(Ye){return o(Ye)}).then(function(Ye){we(Ye,null),I({type:"closeDialog"})}).catch(function(Ye){GLt(Ye)?(B(Ye),I({type:"closeDialog"})):KLt(Ye)?(K.current=!1,q.current?(q.current.value=null,q.current.click()):Q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Q(Ye)});return}q.current&&(I({type:"openDialog"}),F(),q.current.value=null,q.current.click())},[I,F,B,g,we,Q,j,s]),ye=(0,Ur.useCallback)(function(Re){!L.current||!L.current.isEqualNode(Re.target)||(Re.key===" "||Re.key==="Enter"||Re.keyCode===32||Re.keyCode===13)&&(Re.preventDefault(),ee())},[L,ee]),Ue=(0,Ur.useCallback)(function(){I({type:"focus"})},[]),dt=(0,Ur.useCallback)(function(){I({type:"blur"})},[]),Je=(0,Ur.useCallback)(function(){x||(HLt()?setTimeout(ee,0):ee())},[x,ee]),sr=function(Ye){return n?null:Ye},Xr=function(Ye){return O?null:sr(Ye)},ur=function(Ye){return T?null:sr(Ye)},Xt=function(Ye){E&&Ye.stopPropagation()},hi=(0,Ur.useMemo)(function(){return function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=Re.refKey,dr=Ye===void 0?"ref":Ye,Xe=Re.role,kn=Re.onKeyDown,ra=Re.onFocus,hl=Re.onBlur,Nc=Re.onClick,Nm=Re.onDragEnter,Lm=Re.onDragOver,Ia=Re.onDragLeave,Xp=Re.onDrop,Zf=nie(Re,yln);return Ta(Ta(rAe({onKeyDown:Xr(sy(kn,ye)),onFocus:Xr(sy(ra,Ue)),onBlur:Xr(sy(hl,dt)),onClick:sr(sy(Nc,Je)),onDragEnter:ur(sy(Nm,le)),onDragOver:ur(sy(Lm,Ae)),onDragLeave:ur(sy(Ia,mt)),onDrop:ur(sy(Xp,ae)),role:typeof Xe=="string"&&Xe!==""?Xe:"presentation"},dr,L),!n&&!O?{tabIndex:0}:{}),Zf)}},[L,ye,Ue,dt,Je,le,Ae,mt,ae,O,T,n]),ta=(0,Ur.useCallback)(function(Re){Re.stopPropagation()},[]),No=(0,Ur.useMemo)(function(){return function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=Re.refKey,dr=Ye===void 0?"ref":Ye,Xe=Re.onChange,kn=Re.onClick,ra=nie(Re,bln),hl=rAe({accept:N,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:sr(sy(Xe,ae)),onClick:sr(sy(kn,ta)),tabIndex:-1},dr,q);return Ta(Ta({},hl),ra)}},[q,r,s,ae,n]);return Ta(Ta({},H),{},{isFocused:V&&!n,getRootProps:hi,getInputProps:No,rootRef:L,inputRef:q,open:sr(ee)})}function Pln(t,e){switch(e.type){case"focus":return Ta(Ta({},t),{},{isFocused:!0});case"blur":return Ta(Ta({},t),{},{isFocused:!1});case"openDialog":return Ta(Ta({},nAe),{},{isFileDialogActive:!0});case"closeDialog":return Ta(Ta({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ta(Ta({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ta(Ta({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Ta({},nAe);default:return t}}function QLt(){}var uy=k(Z());var aAe=({capabilities:t=[],iconSize:e=16})=>uy.default.createElement(uy.default.Fragment,null,t.map((r,n)=>{switch(r){case"reasoning":return uy.default.createElement(YA,{key:n,className:"text-model-capabilities-blue",style:{width:e,height:e}});case"vision":return uy.default.createElement(gx,{key:n,className:"text-model-capabilities-green",style:{width:e,height:e}});case"websearch":return uy.default.createElement(KA,{key:n,className:"text-model-capabilities-blue",style:{width:e,height:e}});default:return null}})),sAe=({model:t,iconSize:e=14})=>{let r=t.displayName||t.name,n=`(${wh(t.provider)})`;return uy.default.createElement("div",{className:"flex items-center gap-1"},uy.default.createElement("span",null,r,uy.default.createElement("span",{className:"text-[10px]"},n)),t.capabilities&&t.capabilities.length>0&&uy.default.createElement("div",{className:"flex gap-0.5 items-center"},uy.default.createElement(aAe,{capabilities:t.capabilities,iconSize:e})))};var uAe=t=>{let e=t.displayName||t.name,r=`(${wh(t.provider,t)})`,n=t.capabilities?.map(o=>{switch(o){case"reasoning":return"Reasoning";case"vision":return"Vision";case"websearch":return"Websearch";default:return""}}).join("|")||"";return`${e}${r} ${n}`};var cAe=require("obsidian"),rFt=(0,et.forwardRef)(({inputMessage:t,setInputMessage:e,handleSendMessage:r,isGenerating:n,onStopGenerating:o,app:i,navigateHistory:a,contextNotes:s,setContextNotes:u,includeActiveNote:l,setIncludeActiveNote:c,mention:d,selectedImages:f,onAddImage:p,setSelectedImages:m},h)=>{let[v,g]=(0,et.useState)(-1),[_,S]=(0,et.useState)(""),[x,O]=(0,et.useState)(!1),[T,E]=(0,et.useState)([]),M=(0,et.useRef)(null),R=(0,et.useRef)(null),[N,j]=W5(),[F,B]=(0,et.useState)(null),[L]=Ay(),[q,U]=(0,et.useState)(i.workspace.getActiveFile()),J=La(),H=L==="copilot_plus";(0,et.useImperativeHandle)(h,()=>({focus:()=>{M.current?.focus()}}));let I=ae=>{if(!H){r();return}r({toolCalls:ae?["@vault"]:[],contextNotes:s,urls:T})},V=async ae=>{let ee=ae.target.value,ye=ae.target.selectionStart;e(ee),W();let dt=d.extractAllUrls(ee).filter(Je=>!T.includes(Je));dt.length>0&&E(Je=>Array.from(new Set([...Je,...dt]))),ye>=2&&ee.slice(ye-2,ye)==="[["?K(ye):ee==="/"?ne():ee.slice(-1)==="@"&&H&&Be()},W=()=>{M.current&&(M.current.style.height="auto",M.current.style.height=`${M.current.scrollHeight}px`)};(0,et.useEffect)(()=>{W()},[t]);let K=ae=>{(async()=>{let ye=ay.getInstance();new T$({app:i,onNoteSelect:async Ue=>{let dt=t.slice(0,ae-2),Je=t.slice(ae-1),sr=`${dt}[[${Ue.basename}]]${Je}`;e(sr);let Xr=i.workspace.getActiveFile();Ue&&await ye.addNoteToContext(Ue,i.vault,s,Xr,u,c),setTimeout(()=>{if(M.current){let ur=ae+Ue.basename.length+2;M.current.setSelectionRange(ur,ur)}},0)},excludeNotePaths:we}).open()})()},ne=async()=>{let ae=Jf.getInstance(i.vault),ee=await ae.getAllPrompts(),ye=ee.map(Ue=>Ue.title);new mO(i,ye,async Ue=>{let dt=ee.find(Je=>Je.title===Ue);dt&&(ae.recordPromptUsage(dt.title),e(dt.content))}).open()},Be=()=>{let ae=qH.map(ee=>({title:ee,description:BAt(ee)}));new mO(i,ae.map(ee=>ee.title),ee=>{e(t+ee+" ")},ae.map(ee=>ee.description)).open()},X=ae=>{if(ae.nativeEvent.isComposing)return;let ee=M.current;if(!ee)return;let{selectionStart:ye,value:Ue}=ee,dt=Ue.split(`
`),Je=Ue.substring(0,ye).split(`
`).length-1;if(ae.key==="Enter"&&ae.shiftKey&&(lAe.Platform.isMacOS?ae.metaKey:ae.ctrlKey)){ae.preventDefault(),ae.stopPropagation(),I(!0),g(-1),S("");return}if(ae.key==="Enter"&&!ae.shiftKey)ae.preventDefault(),I(!1),g(-1),S("");else if(ae.key==="ArrowUp"){if(Je>0||ye>0)return;ae.preventDefault(),v===-1&&Ue.trim()!==""&&S(Ue);let sr=a("up");sr!==t&&(g(v+1),e(sr),setTimeout(()=>{ee&&(ee.selectionStart=ee.selectionEnd=0)},0))}else if(ae.key==="ArrowDown"){if(Je<dt.length-1||ye<Ue.length)return;if(ae.preventDefault(),v>-1){let sr=a("down");g(v-1),e(v===0?_:sr),setTimeout(()=>{ee&&(ee.selectionStart=ee.selectionEnd=0)},0)}}},Q=(0,et.useCallback)(async ae=>{let ee=ae.clipboardData?.items;if(!ee||!H)return;let ye=Array.from(ee).filter(Ue=>Ue.type.indexOf("image")!==-1);if(ye.length>0){ae.preventDefault();let dt=(await Promise.all(ye.map(Je=>{let sr=Je.getAsFile();return sr||null}))).filter(Je=>Je!==null);dt.length>0&&p(dt)}},[p,H]);(0,et.useEffect)(()=>{let ae=new Set(_x(t)),ee=d.extractAllUrls(t);u(ye=>ye.filter(Ue=>{if(Ue.wasAddedManually===!0)return!0;let Je=Ue.wasAddedViaReference===!0;return Ue.path===q?.path?Je?ae.has(Ue.basename):l:Je?ae.has(Ue.basename):!0})),E(ye=>ye.filter(Ue=>ee.includes(Ue)))},[t,l,q,d,u]),(0,et.useEffect)(()=>{let ae,ee=()=>{clearTimeout(ae),ae=setTimeout(()=>{let Ue=i.workspace.getActiveFile();U(Ue)},100)},ye=i.workspace.on("active-leaf-change",ee);return()=>{clearTimeout(ae),i.workspace.offref(ye)}},[i.workspace]);let{getRootProps:le,getInputProps:Ae,isDragActive:mt}=iAe({accept:{"image/*":[".png",".gif",".jpeg",".jpg",".webp"]},onDrop:ae=>{p(ae)},noClick:!0,noDragEventsBubbling:!0}),we=(0,et.useMemo)(()=>[...s.map(ae=>ae.path),...l&&q?[q.path]:[]].filter(ae=>ae!=null),[s,l,q]);return et.default.createElement("div",{className:"flex flex-col gap-0.5 w-full border border-border border-solid rounded-md pt-2 pb-1 px-1",ref:R},et.default.createElement(vLt,{app:i,excludeNotePaths:we,contextNotes:s,setContextNotes:u,includeActiveNote:l,setIncludeActiveNote:c,activeNote:q,contextUrls:T,onRemoveUrl:ae=>E(ee=>ee.filter(ye=>ye!==ae))}),f.length>0&&et.default.createElement("div",{className:"selected-images"},f.map((ae,ee)=>et.default.createElement("div",{key:ee,className:"image-preview-container"},et.default.createElement("img",{src:URL.createObjectURL(ae),alt:ae.name,className:"selected-image-preview"}),et.default.createElement("button",{className:"remove-image-button",onClick:()=>m(ye=>ye.filter((Ue,dt)=>dt!==ee)),title:"Remove image"},et.default.createElement(ky,{className:"size-4"}))))),et.default.createElement("div",{className:"relative",...H?le():{}},et.default.createElement("textarea",{ref:M,className:"w-full bg-transparent focus-visible:ring-0 border-none min-h-[60px] max-h-40 overflow-y-auto resize-none px-2 rounded-md text-sm text-normal",placeholder:"Ask anything. [[ for notes. / for custom prompts. "+(H?"@ for tools.":""),value:t,onChange:V,onKeyDown:X,onPaste:Q}),H&&et.default.createElement(et.default.Fragment,null,et.default.createElement("input",{...Ae()}),mt&&et.default.createElement("div",{className:"absolute inset-0 bg-primary border border-dashed border-primary rounded-md flex items-center justify-center"},et.default.createElement("span",{className:"text-primary"},"Drop images here...")))),et.default.createElement("div",{className:"flex gap-1 justify-between px-1"},et.default.createElement("div",{className:"flex items-center gap-1"},et.default.createElement(bNt,{open:x,onOpenChange:O},et.default.createElement(_Nt,{asChild:!0},et.default.createElement(gt,{variant:"ghost2",size:"fit"},F?et.default.createElement("span",{className:"text-error"},"Model Load Failed"):J.activeModels.find(ae=>ae.enabled&&tn(ae)===N)?et.default.createElement(sAe,{model:J.activeModels.find(ae=>ae.enabled&&tn(ae)===N),iconSize:8}):"Select Model",et.default.createElement(Sl,{className:"size-5 mt-0.5"}))),et.default.createElement(C$,{align:"start"},J.activeModels.filter(ae=>ae.enabled).map(ae=>{let{hasApiKey:ee,errorNotice:ye}=wW(ae,J);return et.default.createElement(oy,{key:tn(ae),onSelect:async Ue=>{if(!ee&&ye){Ue.preventDefault(),new cAe.Notice(ye);return}try{B(null),j(tn(ae))}catch(dt){let Je="Model switch failed: "+sa(dt);B(Je),new cAe.Notice(Je);let sr=J.activeModels.find(Xr=>Xr.enabled&&tn(Xr)===N);sr&&j(tn(sr))}},className:ee?"":"opacity-50 cursor-not-allowed"},et.default.createElement(sAe,{model:ae,iconSize:12}))}))),H&&et.default.createElement(gt,{variant:"ghost2",size:"fit",onClick:()=>{new Zoe(i,p).open()}},et.default.createElement("div",{className:"flex items-center gap-1"},et.default.createElement("span",null,"image"),et.default.createElement(sz,{className:"!size-3"})))),et.default.createElement("div",{className:"flex items-center gap-1"},n&&et.default.createElement(gt,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>o()},et.default.createElement(LE,{className:"size-4"})),et.default.createElement(gt,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>I(!1)},et.default.createElement(JA,{className:"!size-3"}),et.default.createElement("span",null,"chat")),L==="copilot_plus"&&et.default.createElement(gt,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>I(!0)},et.default.createElement("div",{className:"flex items-center gap-1"},lAe.Platform.isMacOS?et.default.createElement("div",{className:"flex items-center"},et.default.createElement(tz,{className:"!size-3"}),et.default.createElement(gN,{className:"!size-3"}),et.default.createElement(JA,{className:"!size-3"})):et.default.createElement("div",{className:"flex items-center"},et.default.createElement("span",null,"Ctrl"),et.default.createElement(gN,{className:"size-4"}),et.default.createElement(JA,{className:"!size-3"})),et.default.createElement("span",null,"vault"))))))});rFt.displayName="ChatInput";var nFt=rFt;var oFt=require("obsidian");var Cr=k(Z()),iFt=({message:t,onCopy:e,isCopied:r,onInsertIntoEditor:n,onRegenerate:o,onEdit:i,onDelete:a,onShowSources:s,hasSources:u})=>Cr.default.createElement("div",{className:Te("flex",{"group-hover:opacity-100 opacity-0":!oFt.Platform.isMobile})},Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{variant:"ghost2",size:"fit",onClick:e,title:"Copy"},r?Cr.default.createElement(ig,{className:"size-4"}):Cr.default.createElement(WA,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Copy")),t.sender===To?Cr.default.createElement(Cr.default.Fragment,null,Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{onClick:i,variant:"ghost2",size:"fit",title:"Edit"},Cr.default.createElement(_f,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Edit")),Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{onClick:a,variant:"ghost2",size:"fit",title:"Delete"},Cr.default.createElement(yx,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Delete"))):Cr.default.createElement(Cr.default.Fragment,null,u&&Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{onClick:s,variant:"ghost2",size:"fit",title:"Show Sources"},Cr.default.createElement(cz,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Show Sources")),Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{onClick:n,variant:"ghost2",size:"fit",title:"Insert to note at cursor"},Cr.default.createElement(mz,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Insert to note at cursor")),Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{onClick:o,variant:"ghost2",size:"fit",title:"Regenerate"},Cr.default.createElement(hz,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Regenerate")),Cr.default.createElement(cn,null,Cr.default.createElement(dn,{asChild:!0},Cr.default.createElement(gt,{onClick:a,variant:"ghost2",size:"fit",title:"Delete"},Cr.default.createElement(yx,{className:"size-4"}))),Cr.default.createElement(Yr,null,"Delete"))));var aFt=require("obsidian"),oie=class extends aFt.Modal{constructor(r,n){super(r);this.sources=n}onOpen(){let{contentEl:r}=this;r.empty(),r.createEl("h2",{text:"Sources"});let n=this.sources.filter(i=>i.score>=Vue),o=this.sources.filter(i=>i.score<Vue);n.length>0&&(r.createEl("h3",{text:"High Relevance Sources"}),this.createSourceList(r,n)),o.length>0&&(r.createEl("h3",{text:"Lower Relevance Sources"}),this.createSourceList(r,o))}createSourceList(r,n){let o=r.createEl("ul");o.style.listStyleType="none",o.style.padding="0",n.forEach(i=>{let a=o.createEl("li");a.style.marginBottom="1em",a.createEl("a",{href:`obsidian://open?vault=${encodeURIComponent(this.app.vault.getName())}&file=${encodeURIComponent(i.title)}`,text:i.title}).addEventListener("click",u=>{u.preventDefault(),this.app.workspace.openLinkText(i.title,"")}),i.score&&i.score<=1&&a.appendChild(document.createTextNode(` - Relevance score: ${i.score.toFixed(3)}`))})}onClose(){let{contentEl:r}=this;r.empty()}};var iie=require("obsidian"),Yt=k(Z());function Tln({context:t}){return!t||t.notes.length===0&&t.urls.length===0?null:Yt.default.createElement("div",{className:"flex gap-2 flex-wrap"},t.notes.map(e=>Yt.default.createElement(cn,{key:e.path},Yt.default.createElement(dn,{asChild:!0},Yt.default.createElement(Tm,{variant:"secondary"},Yt.default.createElement("span",{className:"max-w-40 truncate"},e.basename))),Yt.default.createElement(Yr,null,e.path))),t.urls.map(e=>Yt.default.createElement(cn,{key:e},Yt.default.createElement(dn,{asChild:!0},Yt.default.createElement(Tm,{variant:"secondary"},Yt.default.createElement("span",{className:"max-w-40 truncate"},e))),Yt.default.createElement(Yr,null,e))))}var Mln=({message:t,app:e,isStreaming:r,onRegenerate:n,onEdit:o,onDelete:i})=>{let[a,s]=(0,Yt.useState)(!1),[u,l]=(0,Yt.useState)(!1),[c,d]=(0,Yt.useState)(t.message),f=(0,Yt.useRef)(null),p=(0,Yt.useRef)(null),m=(0,Yt.useRef)(null),h=()=>{!navigator.clipboard||!navigator.clipboard.writeText||navigator.clipboard.writeText(t.message).then(()=>{s(!0),setTimeout(()=>{s(!1)},2e3)})},v=(0,Yt.useCallback)(R=>{let N=e.workspace.getActiveFile(),j=N?N.path:"",F=(J,H,I)=>J.replace(H,(V,W)=>{let K=e.metadataCache.getFirstLinkpathDest(W,j);return K?I(K):V}),B=R.replace(/\\\[\s*/g,"$$").replace(/\s*\\\]/g,"$$").replace(/\\\(\s*/g,"$").replace(/\s*\\\)/g,"$"),L=F(B,/!\[\[(.*?)]]/g,J=>`![](${e.vault.getResourcePath(J)})`),q=g(L);return F(q,/(?<!!)\[\[([^\]]+)]]/g,J=>`<a href="obsidian://open?file=${encodeURIComponent(J.path)}">${J.basename}</a>`)},[e]),g=R=>{let N=R.split(`

#### Sources:

`);if(N.length!==2)return R;let[j,F]=N,B=F.split(`
`).map(L=>{let q=L.match(/- \[\[(.*?)\]\]/);return q?`<li>[[${q[1]}]]</li>`:L}).join(`
`);return j+`

<br/>
<details><summary>Sources</summary>
<ul>
`+B+`
</ul>
</details>`};(0,Yt.useEffect)(()=>{if(f.current&&t.sender!==To){f.current.innerHTML="",p.current||(p.current=new iie.Component);let R=v(t.message);iie.MarkdownRenderer.renderMarkdown(R,f.current,"",p.current)}return()=>{p.current&&(p.current.unload(),p.current=null)}},[t,e,p,r,v]),(0,Yt.useEffect)(()=>{u&&m.current&&_(m.current)},[u]),(0,Yt.useEffect)(()=>{d(t.message)},[t.message]);let _=R=>{R.style.height="auto",R.style.height=`${R.scrollHeight}px`},S=R=>{d(R.target.value),_(R.target)},x=R=>{R.nativeEvent.isComposing||R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),T())},O=()=>{l(!0)},T=()=>{l(!1),o&&o(c)},E=()=>{t.sources&&t.sources.length>0&&new oie(e,t.sources).open()},M=()=>t.content?Yt.default.createElement("div",{className:"message-content-items"},t.content.map((R,N)=>R.type==="text"?Yt.default.createElement("div",{key:N,className:"message-text-content"},t.sender===To&&u?Yt.default.createElement("textarea",{ref:m,value:c,onChange:S,onKeyDown:x,onBlur:T,autoFocus:!0,className:"edit-textarea"}):t.sender===To?Yt.default.createElement("div",{className:"whitespace-pre-wrap break-words font-normal text-[calc(var(--font-text-size)_-_2px)]"},t.message):Yt.default.createElement("div",{ref:f,className:t.isErrorMessage?"text-error":""})):R.type==="image_url"?Yt.default.createElement("div",{key:N,className:"message-image-content"},Yt.default.createElement("img",{src:R.image_url.url,alt:"User uploaded image",className:"chat-message-image"})):null)):t.sender===To&&u?Yt.default.createElement("textarea",{ref:m,value:c,onChange:S,onKeyDown:x,onBlur:T,autoFocus:!0,className:"edit-textarea"}):t.sender===To?Yt.default.createElement("div",{className:"whitespace-pre-wrap break-words font-normal text-[calc(var(--font-text-size)_-_2px)]"},t.message):Yt.default.createElement("div",{ref:f,className:t.isErrorMessage?"text-error":""});return Yt.default.createElement("div",{className:"flex flex-col w-full my-1"},Yt.default.createElement("div",{className:Te("flex rounded-md p-2 mx-2 gap-2 group",t.sender===To&&"border border-border border-solid")},Yt.default.createElement("div",{className:"w-6 shrink-0"},t.sender===To?Yt.default.createElement(gz,null):Yt.default.createElement(ZU,null)),Yt.default.createElement("div",{className:"flex flex-col flex-grow max-w-full gap-2"},!u&&Yt.default.createElement(Tln,{context:t.context}),Yt.default.createElement("div",{className:"message-content"},M()),!r&&Yt.default.createElement("div",{className:"flex justify-between items-center"},Yt.default.createElement("div",{className:"text-faint text-xs"},t.timestamp?.display),Yt.default.createElement(iFt,{message:t,onCopy:h,isCopied:a,onInsertIntoEditor:()=>_z(t.message),onRegenerate:n,onEdit:O,onDelete:i,onShowSources:E,hasSources:!!(t.sources&&t.sources.length>0)})))))},dAe=Mln;var Ac=k(Z(),1);function sFt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var lFt=k(Z(),1);function uFt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fAe(...t){return e=>{let r=!1,n=t.map(o=>{let i=uFt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():uFt(t[o],null)}}}}function cFt(...t){return lFt.useCallback(fAe(...t),t)}var dFt=k(Z(),1),jln=k(ys(),1);var Mc=k(Z(),1);var M$=k(ct(),1),hAe=Mc.forwardRef((t,e)=>{let{children:r,...n}=t,o=Mc.Children.toArray(r),i=o.find(Rln);if(i){let a=i.props.children,s=o.map(u=>u===i?Mc.Children.count(a)>1?Mc.Children.only(null):Mc.isValidElement(a)?a.props.children:null:u);return(0,M$.jsx)(pAe,{...n,ref:e,children:Mc.isValidElement(a)?Mc.cloneElement(a,void 0,s):null})}return(0,M$.jsx)(pAe,{...n,ref:e,children:r})});hAe.displayName="Slot";var pAe=Mc.forwardRef((t,e)=>{let{children:r,...n}=t;if(Mc.isValidElement(r)){let o=Dln(r);return Mc.cloneElement(r,{...Iln(n,r.props),ref:e?fAe(e,o):o})}return Mc.Children.count(r)>1?Mc.Children.only(null):null});pAe.displayName="SlotClone";var Aln=({children:t})=>(0,M$.jsx)(M$.Fragment,{children:t});function Rln(t){return Mc.isValidElement(t)&&t.type===Aln}function Iln(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function Dln(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var fFt=k(ct(),1),Nln=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],aie=Nln.reduce((t,e)=>{let r=dFt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?hAe:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,fFt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});var MD=k(ct(),1),mAe="Collapsible",[Lln,Z4o]=Do(mAe),[Fln,gAe]=Lln(mAe),pFt=Ac.forwardRef((t,e)=>{let{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:i,onOpenChange:a,...s}=t,[u=!1,l]=ll({prop:n,defaultProp:o,onChange:a});return(0,MD.jsx)(Fln,{scope:r,disabled:i,contentId:Ja(),open:u,onOpenToggle:Ac.useCallback(()=>l(c=>!c),[l]),children:(0,MD.jsx)(aie.div,{"data-state":vAe(u),"data-disabled":i?"":void 0,...s,ref:e})})});pFt.displayName=mAe;var hFt="CollapsibleTrigger",yAe=Ac.forwardRef((t,e)=>{let{__scopeCollapsible:r,...n}=t,o=gAe(hFt,r);return(0,MD.jsx)(aie.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":vAe(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:e,onClick:sFt(t.onClick,o.onOpenToggle)})});yAe.displayName=hFt;var bAe="CollapsibleContent",_Ae=Ac.forwardRef((t,e)=>{let{forceMount:r,...n}=t,o=gAe(bAe,t.__scopeCollapsible);return(0,MD.jsx)(ku,{present:r||o.open,children:({present:i})=>(0,MD.jsx)(Bln,{...n,ref:e,present:i})})});_Ae.displayName=bAe;var Bln=Ac.forwardRef((t,e)=>{let{__scopeCollapsible:r,present:n,children:o,...i}=t,a=gAe(bAe,r),[s,u]=Ac.useState(n),l=Ac.useRef(null),c=cFt(e,l),d=Ac.useRef(0),f=d.current,p=Ac.useRef(0),m=p.current,h=a.open||s,v=Ac.useRef(h),g=Ac.useRef(void 0);return Ac.useEffect(()=>{let _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),Br(()=>{let _=l.current;if(_){g.current=g.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";let S=_.getBoundingClientRect();d.current=S.height,p.current=S.width,v.current||(_.style.transitionDuration=g.current.transitionDuration,_.style.animationName=g.current.animationName),u(n)}},[a.open,n]),(0,MD.jsx)(aie.div,{"data-state":vAe(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!h,...i,ref:c,style:{["--radix-collapsible-content-height"]:f?`${f}px`:void 0,["--radix-collapsible-content-width"]:m?`${m}px`:void 0,...t.style},children:h&&o})});function vAe(t){return t?"open":"closed"}var mFt=pFt;var sie=mFt,uie=yAe,lie=_Ae;var x6=k(Z());var Zi=k(Z(),1);function PS(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var yFt=k(Z(),1);function gFt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wAe(...t){return e=>{let r=!1,n=t.map(o=>{let i=gFt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():gFt(t[o],null)}}}}function ly(...t){return yFt.useCallback(wAe(...t),t)}var Ma=k(Z(),1);var bFt=k(Z(),1),_Ft=k(ys(),1);var Rc=k(Z(),1);var A$=k(ct(),1),_6=Rc.forwardRef((t,e)=>{let{children:r,...n}=t,o=Rc.Children.toArray(r),i=o.find(qln);if(i){let a=i.props.children,s=o.map(u=>u===i?Rc.Children.count(a)>1?Rc.Children.only(null):Rc.isValidElement(a)?a.props.children:null:u);return(0,A$.jsx)(SAe,{...n,ref:e,children:Rc.isValidElement(a)?Rc.cloneElement(a,void 0,s):null})}return(0,A$.jsx)(SAe,{...n,ref:e,children:r})});_6.displayName="Slot";var SAe=Rc.forwardRef((t,e)=>{let{children:r,...n}=t;if(Rc.isValidElement(r)){let o=zln(r);return Rc.cloneElement(r,{...Uln(n,r.props),ref:e?wAe(e,o):o})}return Rc.Children.count(r)>1?Rc.Children.only(null):null});SAe.displayName="SlotClone";var $ln=({children:t})=>(0,A$.jsx)(A$.Fragment,{children:t});function qln(t){return Rc.isValidElement(t)&&t.type===$ln}function Uln(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function zln(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var vFt=k(ct(),1),Hln=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yd=Hln.reduce((t,e)=>{let r=bFt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?_6:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,vFt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function wFt(t,e){t&&_Ft.flushSync(()=>t.dispatchEvent(e))}var CAe=k(ct(),1),Vln="DismissableLayer",xAe="dismissableLayer.update",Wln="dismissableLayer.pointerDownOutside",Jln="dismissableLayer.focusOutside",SFt,CFt=Ma.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OAe=Ma.forwardRef((t,e)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=t,l=Ma.useContext(CFt),[c,d]=Ma.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Ma.useState({}),m=ly(e,E=>d(E)),h=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(v),_=c?h.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=_>=g,O=Yln(E=>{let M=E.target,R=[...l.branches].some(N=>N.contains(M));!x||R||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=Xln(E=>{let M=E.target;[...l.branches].some(N=>N.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return SS(E=>{_===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Ma.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(SFt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),xFt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=SFt)}},[c,f,r,l]),Ma.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),xFt())},[c,l]),Ma.useEffect(()=>{let E=()=>p({});return document.addEventListener(xAe,E),()=>document.removeEventListener(xAe,E)},[]),(0,CAe.jsx)(Yd.div,{...u,ref:m,style:{pointerEvents:S?x?"auto":"none":void 0,...t.style},onFocusCapture:PS(t.onFocusCapture,T.onFocusCapture),onBlurCapture:PS(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:PS(t.onPointerDownCapture,O.onPointerDownCapture)})});OAe.displayName=Vln;var Gln="DismissableLayerBranch",Kln=Ma.forwardRef((t,e)=>{let r=Ma.useContext(CFt),n=Ma.useRef(null),o=ly(e,n);return Ma.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,CAe.jsx)(Yd.div,{...t,ref:o})});Kln.displayName=Gln;function Yln(t,e=globalThis?.document){let r=Jt(t),n=Ma.useRef(!1),o=Ma.useRef(()=>{});return Ma.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){OFt(Wln,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Xln(t,e=globalThis?.document){let r=Jt(t),n=Ma.useRef(!1);return Ma.useEffect(()=>{let o=i=>{i.target&&!n.current&&OFt(Jln,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xFt(){let t=new CustomEvent(xAe);document.dispatchEvent(t)}function OFt(t,e,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?wFt(o,i):o.dispatchEvent(i)}var Mm=k(Z(),1);var AFt=k(ct(),1),EAe="focusScope.autoFocusOnMount",PAe="focusScope.autoFocusOnUnmount",EFt={bubbles:!1,cancelable:!0},Zln="FocusScope",TAe=Mm.forwardRef((t,e)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[s,u]=Mm.useState(null),l=Jt(o),c=Jt(i),d=Mm.useRef(null),f=ly(e,h=>u(h)),p=Mm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Mm.useEffect(()=>{if(n){let _=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:xM(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||xM(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&xM(s)};var h=_,v=S,g=x;document.addEventListener("focusin",_),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),Mm.useEffect(()=>{if(s){TFt.add(p);let h=document.activeElement;if(!s.contains(h)){let g=new CustomEvent(EAe,EFt);s.addEventListener(EAe,l),s.dispatchEvent(g),g.defaultPrevented||(Qln(ocn(RFt(s)),{select:!0}),document.activeElement===h&&xM(s))}return()=>{s.removeEventListener(EAe,l),setTimeout(()=>{let g=new CustomEvent(PAe,EFt);s.addEventListener(PAe,c),s.dispatchEvent(g),g.defaultPrevented||xM(h??document.body,{select:!0}),s.removeEventListener(PAe,c),TFt.remove(p)},0)}}},[s,l,c,p]);let m=Mm.useCallback(h=>{if(!r&&!n||p.paused)return;let v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(v&&g){let _=h.currentTarget,[S,x]=ecn(_);S&&x?!h.shiftKey&&g===x?(h.preventDefault(),r&&xM(S,{select:!0})):h.shiftKey&&g===S&&(h.preventDefault(),r&&xM(x,{select:!0})):g===_&&h.preventDefault()}},[r,n,p.paused]);return(0,AFt.jsx)(Yd.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});TAe.displayName=Zln;function Qln(t,{select:e=!1}={}){let r=document.activeElement;for(let n of t)if(xM(n,{select:e}),document.activeElement!==r)return}function ecn(t){let e=RFt(t),r=PFt(e,t),n=PFt(e.reverse(),t);return[r,n]}function RFt(t){let e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function PFt(t,e){for(let r of t)if(!tcn(r,{upTo:e}))return r}function tcn(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rcn(t){return t instanceof HTMLInputElement&&"select"in t}function xM(t,{select:e=!1}={}){if(t&&t.focus){let r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&rcn(t)&&e&&t.select()}}var TFt=ncn();function ncn(){let t=[];return{add(e){let r=t[0];e!==r&&r?.pause(),t=MFt(t,e),t.unshift(e)},remove(e){t=MFt(t,e),t[0]?.resume()}}}function MFt(t,e){let r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function ocn(t){return t.filter(e=>e.tagName!=="A")}var Vp=k(Z(),1);var IFt=k(Z(),1);var MAe=k(ct(),1),icn="Arrow",DFt=IFt.forwardRef((t,e)=>{let{children:r,width:n=10,height:o=5,...i}=t;return(0,MAe.jsx)(Yd.svg,{...i,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:(0,MAe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});DFt.displayName=icn;var jFt=DFt;var CM=k(ct(),1);var AAe="Popper",[NFt,RAe]=Do(AAe),[scn,LFt]=NFt(AAe),FFt=t=>{let{__scopePopper:e,children:r}=t,[n,o]=Vp.useState(null);return(0,CM.jsx)(scn,{scope:e,anchor:n,onAnchorChange:o,children:r})};FFt.displayName=AAe;var BFt="PopperAnchor",kFt=Vp.forwardRef((t,e)=>{let{__scopePopper:r,virtualRef:n,...o}=t,i=LFt(BFt,r),a=Vp.useRef(null),s=ly(e,a);return Vp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,CM.jsx)(Yd.div,{...o,ref:s})});kFt.displayName=BFt;var IAe="PopperContent",[ucn,lcn]=NFt(IAe),$Ft=Vp.forwardRef((t,e)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...h}=t,v=LFt(IAe,r),[g,_]=Vp.useState(null),S=ly(e,le=>_(le)),[x,O]=Vp.useState(null),T=Om(x),E=T?.width??0,M=T?.height??0,R=n+(i!=="center"?"-"+i:""),N=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},j=Array.isArray(l)?l:[l],F=j.length>0,B={padding:N,boundary:j.filter(dcn),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:J,middlewareData:H}=sM({strategy:"fixed",placement:R,whileElementsMounted:(...le)=>bO(...le,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[uM({mainAxis:o+M,alignmentAxis:a}),u&&lM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cM():void 0,...B}),u&&dM({...B}),fM({...B,apply:({elements:le,rects:Ae,availableWidth:mt,availableHeight:we})=>{let{width:ae,height:ee}=Ae.reference,ye=le.floating.style;ye.setProperty("--radix-popper-available-width",`${mt}px`),ye.setProperty("--radix-popper-available-height",`${we}px`),ye.setProperty("--radix-popper-anchor-width",`${ae}px`),ye.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&hM({element:x,padding:s}),fcn({arrowWidth:E,arrowHeight:M}),f&&pM({strategy:"referenceHidden",...B})]}),[I,V]=zFt(U),W=Jt(m);Br(()=>{J&&W?.()},[J,W]);let K=H.arrow?.x,ne=H.arrow?.y,Be=H.arrow?.centerOffset!==0,[X,Q]=Vp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,CM.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:J?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,["--radix-popper-transform-origin"]:[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,CM.jsx)(ucn,{scope:r,placedSide:I,onArrowChange:O,arrowX:K,arrowY:ne,shouldHideArrow:Be,children:(0,CM.jsx)(Yd.div,{"data-side":I,"data-align":V,...h,ref:S,style:{...h.style,animation:J?void 0:"none"}})})})});$Ft.displayName=IAe;var qFt="PopperArrow",ccn={top:"bottom",right:"left",bottom:"top",left:"right"},UFt=Vp.forwardRef(function(e,r){let{__scopePopper:n,...o}=e,i=lcn(qFt,n),a=ccn[i.placedSide];return(0,CM.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,CM.jsx)(jFt,{...o,ref:r,style:{...o.style,display:"block"}})})});UFt.displayName=qFt;function dcn(t){return t!==null}var fcn=t=>({name:"transformOrigin",options:t,fn(e){let{placement:r,rects:n,middlewareData:o}=e,a=o.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[l,c]=zFt(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,m="",h="";return l==="bottom"?(m=a?d:`${f}px`,h=`${-u}px`):l==="top"?(m=a?d:`${f}px`,h=`${n.floating.height+u}px`):l==="right"?(m=`${-u}px`,h=a?d:`${p}px`):l==="left"&&(m=`${n.floating.width+u}px`,h=a?d:`${p}px`),{data:{x:m,y:h}}}});function zFt(t){let[e,r="center"]=t.split("-");return[e,r]}var HFt=FFt,DAe=kFt,VFt=$Ft,WFt=UFt;var cie=k(Z(),1),JFt=k(ys(),1);var GFt=k(ct(),1),hcn="Portal",jAe=cie.forwardRef((t,e)=>{let{container:r,...n}=t,[o,i]=cie.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?JFt.default.createPortal((0,GFt.jsx)(Yd.div,{...n,ref:e}),a):null});jAe.displayName=hcn;var pie=k(Z());var hd=k(Z());var die=SD();var NAe=function(){},v6=hd.forwardRef(function(t,e){var r=hd.useRef(null),n=hd.useState({onScrollCapture:NAe,onWheelCapture:NAe,onTouchMoveCapture:NAe}),o=n[0],i=n[1],a=t.forwardProps,s=t.children,u=t.className,l=t.removeScrollBar,c=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,h=t.allowPinchZoom,v=t.as,g=v===void 0?"div":v,_=t.gapMode,S=_M(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,O=wD([r,e]),T=jo(jo({},S),o);return hd.createElement(hd.Fragment,null,c&&hd.createElement(x,{sideCar:die,removeScrollBar:l,shards:d,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!h,lockRef:r,gapMode:_}),a?hd.cloneElement(hd.Children.only(s),jo(jo({},T),{ref:O})):hd.createElement(g,jo({},T,{className:u,ref:O}),s))});v6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};v6.classNames={fullWidth:ny,zeroRight:ry};var Di=k(Z());var LAe=!1;if(typeof window<"u")try{w6=Object.defineProperty({},"passive",{get:function(){return LAe=!0,!0}}),window.addEventListener("test",w6,w6),window.removeEventListener("test",w6,w6)}catch{LAe=!1}var w6,AD=LAe?{passive:!1}:!1;var mcn=function(t){return t.tagName==="TEXTAREA"},KFt=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!mcn(t)&&r[e]==="visible")},gcn=function(t){return KFt(t,"overflowY")},ycn=function(t){return KFt(t,"overflowX")},FAe=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=YFt(t,n);if(o){var i=XFt(t,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},bcn=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},_cn=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},YFt=function(t,e){return t==="v"?gcn(e):ycn(e)},XFt=function(t,e){return t==="v"?bcn(e):_cn(e)},vcn=function(t,e){return t==="h"&&e==="rtl"?-1:1},ZFt=function(t,e,r,n,o){var i=vcn(t,window.getComputedStyle(e).direction),a=i*n,s=r.target,u=e.contains(s),l=!1,c=a>0,d=0,f=0;do{var p=XFt(t,s),m=p[0],h=p[1],v=p[2],g=h-v-i*m;(m||g)&&YFt(t,s)&&(d+=g,f+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(e.contains(s)||e===s));return(c&&(o&&Math.abs(d)<1||!o&&a>d)||!c&&(o&&Math.abs(f)<1||!o&&-a>f))&&(l=!0),l};var fie=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},QFt=function(t){return[t.deltaX,t.deltaY]},eBt=function(t){return t&&"current"in t?t.current:t},wcn=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Scn=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xcn=0,R$=[];function tBt(t){var e=Di.useRef([]),r=Di.useRef([0,0]),n=Di.useRef(),o=Di.useState(xcn++)[0],i=Di.useState(_O)[0],a=Di.useRef(t);Di.useEffect(function(){a.current=t},[t]),Di.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var h=v$([t.lockRef.current],(t.shards||[]).map(eBt),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var s=Di.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var g=fie(h),_=r.current,S="deltaX"in h?h.deltaX:_[0]-g[0],x="deltaY"in h?h.deltaY:_[1]-g[1],O,T=h.target,E=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in h&&E==="h"&&T.type==="range")return!1;var M=FAe(E,T);if(!M)return!0;if(M?O=E:(O=E==="v"?"h":"v",M=FAe(E,T)),!M)return!1;if(!n.current&&"changedTouches"in h&&(S||x)&&(n.current=O),!O)return!0;var R=n.current||O;return ZFt(R,v,h,R==="h"?S:x,!0)},[]),u=Di.useCallback(function(h){var v=h;if(!(!R$.length||R$[R$.length-1]!==i)){var g="deltaY"in v?QFt(v):fie(v),_=e.current.filter(function(O){return O.name===v.type&&(O.target===v.target||v.target===O.shadowParent)&&wcn(O.delta,g)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var S=(a.current.shards||[]).map(eBt).filter(Boolean).filter(function(O){return O.contains(v.target)}),x=S.length>0?s(v,S[0]):!a.current.noIsolation;x&&v.cancelable&&v.preventDefault()}}},[]),l=Di.useCallback(function(h,v,g,_){var S={name:h,delta:v,target:g,should:_,shadowParent:Ccn(g)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(x){return x!==S})},1)},[]),c=Di.useCallback(function(h){r.current=fie(h),n.current=void 0},[]),d=Di.useCallback(function(h){l(h.type,QFt(h),h.target,s(h,t.lockRef.current))},[]),f=Di.useCallback(function(h){l(h.type,fie(h),h.target,s(h,t.lockRef.current))},[]);Di.useEffect(function(){return R$.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,AD),document.addEventListener("touchmove",u,AD),document.addEventListener("touchstart",c,AD),function(){R$=R$.filter(function(h){return h!==i}),document.removeEventListener("wheel",u,AD),document.removeEventListener("touchmove",u,AD),document.removeEventListener("touchstart",c,AD)}},[]);var p=t.removeScrollBar,m=t.inert;return Di.createElement(Di.Fragment,null,m?Di.createElement(i,{styles:Scn(o)}):null,p?Di.createElement(CD,{gapMode:t.gapMode}):null)}function Ccn(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}var rBt=xD(die,tBt);var nBt=pie.forwardRef(function(t,e){return pie.createElement(v6,jo({},t,{ref:e,sideCar:rBt}))});nBt.classNames=v6.classNames;var BAe=nBt;var qu=k(ct(),1),kAe="Popover",[oBt,p8o]=Do(kAe,[RAe]),S6=RAe(),[Ocn,OM]=oBt(kAe),iBt=t=>{let{__scopePopover:e,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:a=!1}=t,s=S6(e),u=Zi.useRef(null),[l,c]=Zi.useState(!1),[d=!1,f]=ll({prop:n,defaultProp:o,onChange:i});return(0,qu.jsx)(HFt,{...s,children:(0,qu.jsx)(Ocn,{scope:e,contentId:Ja(),triggerRef:u,open:d,onOpenChange:f,onOpenToggle:Zi.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:l,onCustomAnchorAdd:Zi.useCallback(()=>c(!0),[]),onCustomAnchorRemove:Zi.useCallback(()=>c(!1),[]),modal:a,children:r})})};iBt.displayName=kAe;var aBt="PopoverAnchor",Ecn=Zi.forwardRef((t,e)=>{let{__scopePopover:r,...n}=t,o=OM(aBt,r),i=S6(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=o;return Zi.useEffect(()=>(a(),()=>s()),[a,s]),(0,qu.jsx)(DAe,{...i,...n,ref:e})});Ecn.displayName=aBt;var sBt="PopoverTrigger",uBt=Zi.forwardRef((t,e)=>{let{__scopePopover:r,...n}=t,o=OM(sBt,r),i=S6(r),a=ly(e,o.triggerRef),s=(0,qu.jsx)(Yd.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":pBt(o.open),...n,ref:a,onClick:PS(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?s:(0,qu.jsx)(DAe,{asChild:!0,...i,children:s})});uBt.displayName=sBt;var $Ae="PopoverPortal",[Pcn,Tcn]=oBt($Ae,{forceMount:void 0}),lBt=t=>{let{__scopePopover:e,forceMount:r,children:n,container:o}=t,i=OM($Ae,e);return(0,qu.jsx)(Pcn,{scope:e,forceMount:r,children:(0,qu.jsx)(ku,{present:r||i.open,children:(0,qu.jsx)(jAe,{asChild:!0,container:o,children:n})})})};lBt.displayName=$Ae;var I$="PopoverContent",cBt=Zi.forwardRef((t,e)=>{let r=Tcn(I$,t.__scopePopover),{forceMount:n=r.forceMount,...o}=t,i=OM(I$,t.__scopePopover);return(0,qu.jsx)(ku,{present:n||i.open,children:i.modal?(0,qu.jsx)(Mcn,{...o,ref:e}):(0,qu.jsx)(Acn,{...o,ref:e})})});cBt.displayName=I$;var Mcn=Zi.forwardRef((t,e)=>{let r=OM(I$,t.__scopePopover),n=Zi.useRef(null),o=ly(e,n),i=Zi.useRef(!1);return Zi.useEffect(()=>{let a=n.current;if(a)return bM(a)},[]),(0,qu.jsx)(BAe,{as:_6,allowPinchZoom:!0,children:(0,qu.jsx)(dBt,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:PS(t.onCloseAutoFocus,a=>{a.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:PS(t.onPointerDownOutside,a=>{let s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0,l=s.button===2||u;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:PS(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Acn=Zi.forwardRef((t,e)=>{let r=OM(I$,t.__scopePopover),n=Zi.useRef(!1),o=Zi.useRef(!1);return(0,qu.jsx)(dBt,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),dBt=Zi.forwardRef((t,e)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:c,...d}=t,f=OM(I$,r),p=S6(r);return iM(),(0,qu.jsx)(TAe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,qu.jsx)(OAe,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:(0,qu.jsx)(VFt,{"data-state":pBt(f.open),role:"dialog",id:f.contentId,...p,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fBt="PopoverClose",Rcn=Zi.forwardRef((t,e)=>{let{__scopePopover:r,...n}=t,o=OM(fBt,r);return(0,qu.jsx)(Yd.button,{type:"button",...n,ref:e,onClick:PS(t.onClick,()=>o.onOpenChange(!1))})});Rcn.displayName=fBt;var Icn="PopoverArrow",Dcn=Zi.forwardRef((t,e)=>{let{__scopePopover:r,...n}=t,o=S6(r);return(0,qu.jsx)(WFt,{...o,...n,ref:e})});Dcn.displayName=Icn;function pBt(t){return t?"open":"closed"}var hBt=iBt;var mBt=uBt,gBt=lBt,qAe=cBt;var hie=hBt,mie=mBt;var C6=x6.forwardRef(({className:t,align:e="center",sideOffset:r=4,container:n,...o},i)=>x6.createElement(gBt,{container:n??activeDocument.body},x6.createElement(qAe,{ref:i,align:e,sideOffset:r,className:Te("z-popover w-72 rounded-md border border-border bg-primary p-4 text-normal  shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})));C6.displayName=qAe.displayName;var UAe=k(Z()),gie=UAe.createContext(void 0),D$=UAe.createContext(void 0);var j$=k(Z());function zAe(){let[t,e]=(0,j$.useState)(null),r=(0,j$.useContext)(D$);return(0,j$.useEffect)(()=>{let n=()=>{let o=app.workspace.getActiveFile();e(o)};return r?.addEventListener(ox.ACTIVE_LEAF_CHANGE,n),()=>{r?.removeEventListener(ox.ACTIVE_LEAF_CHANGE,n)}},[r]),t}var yBt=require("obsidian");function bBt(t,e=20){let r=app.metadataCache.getFileCache(t),n=[];if(r?.links)for(let o of r.links){let i=app.metadataCache.getFirstLinkpathDest(o.link,t.path);if(i&&(n.push(i),n.length>=e))break}if(r?.embeds&&n.length<e)for(let o of r.embeds){let i=app.metadataCache.getFirstLinkpathDest(o.link,t.path);if(i&&(n.push(i),n.length>=e))break}return[...new Set(n)]}function _Bt(t,e=20){let r=[],n=app.metadataCache.getBacklinksForFile(t);if(n?.data)for(let[o]of n.data){let i=app.vault.getAbstractFileByPath(o);if(i instanceof yBt.TFile&&(r.push(i),r.length>=e))break}return r}var HAe=require("obsidian"),Ncn=.4,Lcn=20,vBt=.7,yie=.3;async function Fcn(t,e){let r=fe().debug,n=await Ud.getDocsByPath(e,t);if(!n)return r&&console.log("No hits found for note:",t),[];let o=[];for(let i of n){if(!i?.document?.embedding){r&&console.log("No embedding found for note:",t);continue}o.push(i.document.embedding)}return o}function Bcn(t){if(t.length===0)return[];let e=t[0].length,r=Array(e).fill(0);return t.forEach(n=>{n.forEach((o,i)=>{r[i]+=o/e})}),r}function kcn(t,e){let r=new Map;for(let n of t){let o=r.get(n.document.path);o?n.score>o&&r.set(n.document.path,n.score):r.set(n.document.path,n.score)}return r.delete(e),r}async function $cn({db:t,filePath:e}){let r=fe().debug,n=await Fcn(e,t),o=Bcn(n);if(o.length===0)return r&&console.log("No embeddings found for note:",e),new Map;let i=await Ud.getDocsByEmbedding(t,o,{limit:Lcn,similarity:Ncn});return kcn(i,e)}function qcn(t){let e=new Map,n=bBt(t).map(a=>a.path);for(let a of n)e.set(a,{links:!0,backlinks:!1});let i=_Bt(t).map(a=>a.path);for(let a of i)e.has(a)?e.set(a,{links:!0,backlinks:!0}):e.set(a,{links:!1,backlinks:!0});return e}function Ucn(t,e){let r=new Map,n=vBt+yie;for(let[o,i]of t)r.set(o,i*vBt/n);for(let[o,i]of e){let a=0;i.links&&i.backlinks?a=yie:(i.links||i.backlinks)&&(a=yie*.8),r.set(o,(r.get(o)??0)+a)}return r}async function wBt({db:t,filePath:e}){let r=app.vault.getAbstractFileByPath(e);if(!(r instanceof HAe.TFile))return[];let n=await $cn({db:t,filePath:e}),o=qcn(r),i=Ucn(n,o);return Array.from(i.entries()).sort((s,u)=>{let l=s[0],c=u[0],d=bie(n.get(l)??0),f=bie(n.get(c)??0);return d!==f?f-d:u[1]-s[1]}).map(([s,u])=>{let l=app.vault.getAbstractFileByPath(s);return l instanceof HAe.TFile?{document:{path:s,title:l.basename},metadata:{score:u,similarityScore:n.get(s),hasOutgoingLinks:o.get(s)?.links??!1,hasBacklinks:o.get(s)?.backlinks??!1}}:null}).filter(s=>s!==null)}function bie(t){return t>.7?3:t>.55?2:1}var vie=require("obsidian"),qe=k(Z());function zcn(t){let[e,r]=(0,qe.useState)([]),n=zAe();return(0,qe.useEffect)(()=>{async function o(){if(!n?.path)return;let i=await Ji.getInstance().getDb(),a=await wBt({db:i,filePath:n.path});r(a)}o()},[n?.path,t]),e}function Hcn(t,e){let[r,n]=(0,qe.useState)(!0);return(0,qe.useEffect)(()=>{if(!t)return;async function o(){let i=await Ji.getInstance().hasIndex(t);n(i)}o()},[t,e]),r}var _ie=(0,qe.forwardRef)(({children:t,...e},r)=>qe.default.createElement("div",{ref:r,...e,className:"flex gap-2"},qe.default.createElement(Tm,{variant:"secondary",className:"text-muted font-normal whitespace-nowrap cursor-default"},t)));_ie.displayName="ExplainerBadge";function Vcn(t,e){let r=t.split("/").slice(0,-1).join("/"),n=e.split("/").slice(0,-1).join("/");return r===n}function Wcn({score:t}){let e=bie(t),r="\u{1F534} Low Similarity";return e===2&&(r="\u{1F7E0} Medium Similarity"),e===3&&(r="\u{1F7E2} High Similarity"),qe.default.createElement(cn,null,qe.default.createElement(dn,{asChild:!0},qe.default.createElement(_ie,null,r)),qe.default.createElement(Yr,{side:"right"},"Similarity Score: ",Math.round(t*100).toFixed(0),"%"))}function SBt({note:t}){return qe.default.createElement("div",{className:"flex gap-1"},t.metadata.similarityScore!=null&&qe.default.createElement(Wcn,{score:t.metadata.similarityScore}),t.metadata.hasOutgoingLinks&&qe.default.createElement(_ie,null,"Outgoing Links"),t.metadata.hasBacklinks&&qe.default.createElement(_ie,null,"Backlinks"))}function Jcn({showPath:t=!1,note:e,onAddToChat:r,onNavigateToNote:n}){return qe.default.createElement("div",{className:"flex gap-2 p-2 justify-between rounded-md border border-border border-solid"},qe.default.createElement("div",{className:"flex flex-col gap-2 flex-1 overflow-hidden"},qe.default.createElement("a",{onClick:n,className:"text-sm text-normal font-bold text-ellipsis overflow-hidden whitespace-nowrap w-full"},e.document.title),t&&qe.default.createElement("span",{className:"text-xs text-faint text-ellipsis overflow-hidden whitespace-nowrap w-full"},e.document.path),qe.default.createElement("div",{className:"flex gap-1"},qe.default.createElement(SBt,{note:e}))),qe.default.createElement("div",{className:"flex gap-2"},qe.default.createElement(cn,null,qe.default.createElement(dn,{asChild:!0},qe.default.createElement(gt,{variant:"ghost2",size:"icon",onClick:r},qe.default.createElement(ag,{className:"size-4"}))),qe.default.createElement(Yr,null,"Add to Chat"))))}function Gcn({note:t,onAddToChat:e,onNavigateToNote:r,children:n}){return qe.default.createElement(hie,{key:t.document.path},qe.default.createElement(mie,{asChild:!0},n),qe.default.createElement(C6,{className:"flex flex-col gap-2 overflow-hidden w-fit min-w-72 max-w-96"},qe.default.createElement("span",{className:"text-sm text-normal"},t.document.title),qe.default.createElement("span",{className:"text-xs text-muted"},t.document.path),qe.default.createElement(SBt,{note:t}),qe.default.createElement("div",{className:"flex gap-2"},qe.default.createElement("button",{onClick:e,className:"!bg-transparent inline-flex items-center gap-2 border border-border border-solid !shadow-none hover:!bg-interactive-hover"},"Add to Chat ",qe.default.createElement(ag,{className:"size-4"})),qe.default.createElement("button",{onClick:r,className:"!bg-transparent inline-flex items-center gap-2 border border-border border-solid !shadow-none hover:!bg-interactive-hover"},"Navigate to Note ",qe.default.createElement(XU,{className:"size-4"})))))}var wie=(0,qe.memo)(({className:t,onInsertToChat:e,defaultOpen:r=!1})=>{let[n,o]=(0,qe.useState)(0),[i,a]=(0,qe.useState)(r),s=zcn(n),u=zAe(),l=Hcn(u?.path??"",n),c=p=>{let m=app.vault.getAbstractFileByPath(p);m instanceof vie.TFile&&app.workspace.getLeaf(!1).openFile(m)},d=p=>{e(`[[${p}]]`)},f=async()=>{u&&(await Ji.getInstance().reindexFile(u),new vie.Notice(`Reindexed ${u.name}`),o(n+1))};return qe.default.createElement("div",{className:Te("@container w-full border border-transparent border-b-border border-solid pb-2",t)},qe.default.createElement(sie,{open:i,onOpenChange:a},qe.default.createElement("div",{className:"flex justify-between items-center pl-1 pb-2"},qe.default.createElement("div",{className:"flex gap-2 items-center flex-1"},qe.default.createElement("span",{className:"font-semibold text-normal"},"Relevant Notes"),qe.default.createElement(cn,null,qe.default.createElement(dn,{asChild:!0},qe.default.createElement(uz,{className:"size-4 text-muted"})),qe.default.createElement(Yr,{side:"bottom",className:"w-64"},"Relevance is a combination of semantic similarity and links.")),!l&&qe.default.createElement(cn,null,qe.default.createElement(dn,{asChild:!0},qe.default.createElement(_h,{className:"size-4 text-warning"})),qe.default.createElement(Yr,{side:"bottom"},"Note has not been indexed"))),qe.default.createElement("div",{className:"flex items-center"},qe.default.createElement(cn,null,qe.default.createElement(dn,{asChild:!0},qe.default.createElement(gt,{variant:"ghost2",size:"icon",onClick:f},qe.default.createElement(fz,{className:"size-4"}))),qe.default.createElement(Yr,{side:"bottom"},"Reindex Current Note")),s.length>0&&qe.default.createElement(uie,{asChild:!0},qe.default.createElement(gt,{variant:"ghost2",size:"icon"},i?qe.default.createElement(VA,{className:"size-5"}):qe.default.createElement(Sl,{className:"size-5"}))))),s.length===0&&qe.default.createElement("div",{className:"flex flex-wrap gap-x-2 gap-y-1 max-h-12 overflow-y-hidden px-1"},qe.default.createElement("span",{className:"text-xs text-muted"},"No relevant notes found")),!i&&s.length>0&&qe.default.createElement("div",{className:"flex flex-wrap gap-x-2 gap-y-1 max-h-6 overflow-y-hidden px-1"},s.map(p=>qe.default.createElement(Gcn,{key:p.document.path,note:p,onAddToChat:()=>d(p.document.title),onNavigateToNote:()=>c(p.document.path)},qe.default.createElement(Tm,{variant:"outline",key:p.document.path,className:"text-xs max-w-40 text-muted hover:cursor-pointer hover:bg-interactive-hover"},qe.default.createElement("span",{className:"text-ellipsis overflow-hidden whitespace-nowrap"},p.document.title))))),qe.default.createElement(lie,null,qe.default.createElement("div",{className:"px-1 py-2 max-h-screen overflow-y-auto flex flex-col gap-2 @2xl:grid @2xl:grid-cols-2 @4xl:grid-cols-3"},s.map(p=>qe.default.createElement(Jcn,{showPath:!Vcn(u?.path??"",p.document.path),note:p,key:p.document.path,onAddToChat:()=>d(p.document.title),onNavigateToNote:()=>c(p.document.path)}))))))});wie.displayName="RelevantNotes";var Xf=k(Z());var O6=Xf.forwardRef(({className:t,...e},r)=>Xf.createElement("div",{ref:r,className:Te("rounded-xl border border-border bg-primary text-normal shadow",t),...e}));O6.displayName="Card";var E6=Xf.forwardRef(({className:t,...e},r)=>Xf.createElement("div",{ref:r,className:Te("flex flex-col space-y-1.5 p-6",t),...e}));E6.displayName="CardHeader";var VAe=Xf.forwardRef(({className:t,...e},r)=>Xf.createElement("div",{ref:r,className:Te("font-semibold leading-none tracking-tight",t),...e}));VAe.displayName="CardTitle";var Kcn=Xf.forwardRef(({className:t,...e},r)=>Xf.createElement("div",{ref:r,className:Te("text-sm text-muted",t),...e}));Kcn.displayName="CardDescription";var P6=Xf.forwardRef(({className:t,...e},r)=>Xf.createElement("div",{ref:r,className:Te("p-6 pt-0",t),...e}));P6.displayName="CardContent";var Ycn=Xf.forwardRef(({className:t,...e},r)=>Xf.createElement("div",{ref:r,className:Te("flex items-center p-6 pt-0",t),...e}));Ycn.displayName="CardFooter";var fi=k(Z()),WAe={activeNote:{title:"Active Note Insights",prompts:["Provide three follow-up questions worded as if I'm asking you based on {activeNote}?","What key questions does {activeNote} answer?","Give me a quick recap of {activeNote} in two sentences."]},quoteNote:{title:"Note Link Chat",prompts:["Based on [[<note>]], what improvements should we focus on next?","Summarize the key points from [[<note>]].","Summarize the recent updates from [[<note>]].","Roast my writing in [[<note>]] and give concrete actionable feedback"]},fun:{title:"Test LLM",prompts:["9.11 and 9.8, which is bigger?","What's the longest river in the world?","If a lead ball and a feather are dropped simultaneously from the same height, which will reach the ground first?"]},qaVault:{title:"Vault Q&A",prompts:["What insights can I gather about <topic> from my notes?","Explain <concept> based on my stored notes.","Highlight important details on <topic> from my notes.","Based on my notes on <topic>, what is the question that I should be asking, but am not?"]},copilotPlus:{title:"Copilot Plus",prompts:["Give me a recap of last week @vault","What are the key takeaways from my notes on <topic> @vault","Summarize <url> in under 10 bullet points","@youtube <video_url>","@web what are most recent updates in the AI industry","What are the key insights from this paper <arxiv_url>","What new methods are proposed in this paper [[<note_with_embedded_pdf>]]"]}},xBt={["llm_chain"]:["activeNote","quoteNote","fun"],["vault_qa"]:["qaVault","qaVault","quoteNote"],["copilot_plus"]:["copilotPlus","copilotPlus","copilotPlus"]};function Xcn(t="llm_chain"){let e=xBt[t]||xBt["llm_chain"],r={};return e.map(n=>(r[n]||(r[n]=[...WAe[n].prompts].sort(()=>Math.random()-.5)),{title:WAe[n].title,text:r[n].pop()||WAe[n].prompts[0]}))}var CBt=({onClick:t})=>{let[e]=Ay(),r=(0,fi.useMemo)(()=>Xcn(e),[e]),o=La().indexVaultToVectorStore;return fi.default.createElement("div",{className:"flex flex-col gap-4"},fi.default.createElement(O6,{className:"w-full bg-transparent"},fi.default.createElement(E6,{className:"px-2"},fi.default.createElement(VAe,null,"Suggested Prompts")),fi.default.createElement(P6,{className:"p-2 pt-0"},fi.default.createElement("div",{className:"flex flex-col gap-2"},r.map((i,a)=>fi.default.createElement("div",{key:a,className:"flex gap-2 p-2 justify-between text-sm rounded-md border border-border border-solid"},fi.default.createElement("div",{className:"flex flex-col gap-1"},fi.default.createElement("div",{className:"text-muted"},i.title),fi.default.createElement("div",null,i.text)),fi.default.createElement("div",{className:"flex items-start h-full"},fi.default.createElement(cn,null,fi.default.createElement(dn,{asChild:!0},fi.default.createElement(gt,{variant:"ghost2",size:"fit",className:"text-muted",onClick:()=>t(i.text)},fi.default.createElement(ag,{className:"size-4"}))),fi.default.createElement(Yr,null,"Add to Chat")))))))),e==="vault_qa"&&fi.default.createElement("div",{className:"text-sm border border-border border-solid p-2 rounded-md"},"Please note that this is a retrieval-based QA. Questions should contain keywords and concepts that exist literally in your vault"),e==="vault_qa"&&o==="NEVER"&&fi.default.createElement("div",{className:"text-sm border border-border border-solid p-2 rounded-md"},fi.default.createElement("div",null,fi.default.createElement(_h,{className:"size-4"})," Your auto-index strategy is set to ",fi.default.createElement("b",null,"NEVER"),". Before proceeding, click the ",fi.default.createElement("span",{className:"text-accent"},"Refresh Index")," button below or run the"," ",fi.default.createElement("span",{className:"text-accent"},"Copilot command: Index (refresh) vault for QA")," to update the index.")))};var md=k(Z()),OBt=(0,md.memo)(({chatHistory:t,currentAiMessage:e,loading:r,loadingMessage:n,app:o,onRegenerate:i,onEdit:a,onDelete:s,onInsertToChat:u,onReplaceChat:l})=>{let[c,d]=(0,md.useState)(""),f=La(),p=()=>{let h=document.querySelector("[data-testid='chat-messages']");h&&(h.scrollTop=h.scrollHeight)};if((0,md.useEffect)(()=>{r||p()},[r]),(0,md.useEffect)(()=>{let h;return r?h=setInterval(()=>{d(v=>v.length<6?v+".":"")},200):d(""),()=>clearInterval(h)},[r]),!t.filter(h=>h.isVisible).length&&!e)return md.default.createElement("div",{className:"flex flex-col gap-2 overflow-y-auto w-full h-full"},f.showRelevantNotes&&md.default.createElement(wie,{onInsertToChat:u,defaultOpen:!0,key:"relevant-notes-before-chat"}),f.showSuggestedPrompts&&md.default.createElement(CBt,{onClick:l}));let m=()=>n?`${n} ${c}`:c;return md.default.createElement("div",{className:"flex flex-col flex-1 h-full overflow-hidden"},f.showRelevantNotes&&md.default.createElement(wie,{className:"mb-4",onInsertToChat:u,defaultOpen:!1,key:"relevant-notes-in-chat"}),md.default.createElement("div",{"data-testid":"chat-messages",className:"flex flex-col items-start justify-start flex-1 overflow-y-auto w-full break-words text-[calc(var(--font-text-size)_-_2px)] box-border scroll-smooth mt-auto select-text"},t.map((h,v)=>h.isVisible&&md.default.createElement(dAe,{key:v,message:h,app:o,isStreaming:!1,onRegenerate:()=>i(v),onEdit:g=>a(v,g),onDelete:()=>s(v)})),(e||r)&&md.default.createElement(dAe,{key:`ai_message_${e}`,message:{sender:"AI",message:e||m(),isVisible:!0,timestamp:null},app:o,isStreaming:!0,onDelete:()=>{}})))});OBt.displayName="ChatMessages";var EBt=OBt;var JAe=async(t,e,r,n,o,i={})=>{let a=new AbortController;o(a);try{await e.runChain(t,a,n,r,i)}catch(s){console.error("Model request failed:",s);let u="Model request failed: ";s instanceof Error?(u+=s.message,s.cause&&(u+=` Cause: ${s.cause}`)):typeof s=="object"&&s!==null?u+=JSON.stringify(s):u+=String(s),r({sender:Ty,message:`Error: ${u}`,isVisible:!0,timestamp:bs(new Date)})}};var wO=class{constructor(){this.mentions=new Map,this.brevilabsClient=wa.getInstance()}static getInstance(){return wO.instance||(wO.instance=new wO),wO.instance}extractAllUrls(e){let r=/https?:\/\/[^\s"'<>]+/g;return(e.match(r)||[]).map(n=>n.replace(/,+$/,"")).filter((n,o,i)=>i.indexOf(n)===o)}extractUrls(e){let r=/https?:\/\/[^\s"'<>]+/g;return(e.match(r)||[]).map(n=>n.replace(/,+$/,"")).filter((n,o,i)=>i.indexOf(n)===o).filter(n=>!aUe(n))}async processUrl(e){try{return await this.brevilabsClient.url4llm(e)}catch(r){return console.error(`Error processing URL ${e}:`,r),{response:e,elapsed_time_ms:0}}}async processUrls(e){let r=this.extractUrls(e),n="",o=[];if(r.length===0)return{urlContext:"",imageUrls:[]};let i=r.map(async s=>{if(await bx.isImageUrl(s))return o.push(s),null;if(!this.mentions.has(s)){let u=await this.processUrl(s);this.mentions.set(s,{type:"url",original:s,processed:u.response})}return this.mentions.get(s)});return(await Promise.all(i)).forEach(s=>{s?.processed&&(n+=`

Content from ${s.original}:
${s.processed}`)}),{urlContext:n,imageUrls:o}}getMentions(){return this.mentions}clearMentions(){this.mentions.clear()}};var RD=k(Z()),GAe=class{constructor(){this.chatHistory=[]}addMessage(e){this.chatHistory.push(e)}getMessages(){return this.chatHistory}clearChatHistory(){this.chatHistory=[]}};function PBt(t){let[e,r]=(0,RD.useState)(t.getMessages());(0,RD.useEffect)(()=>{r(t.getMessages())},[t]);let n=(0,RD.useCallback)(i=>{t.addMessage(i),r([...t.getMessages()])},[t]),o=(0,RD.useCallback)(()=>{t.clearChatHistory(),r([])},[t]);return[e,n,o]}var TBt=GAe;var TS=require("obsidian"),jn=k(Z()),Zcn=({sharedState:t,chainManager:e,onSaveChat:r,updateUserMessageHistory:n,fileParserManager:o,plugin:i})=>{let a=La(),s=(0,jn.useContext)(D$),[u,l,c]=PBt(t),[d]=W5(),[f]=Ay(),[p,m]=(0,jn.useState)(""),[h,v]=(0,jn.useState)(""),[g,_]=(0,jn.useState)(null),[S,x]=(0,jn.useState)(!1),[O,T]=(0,jn.useState)(oE.DEFAULT),[E,M]=(0,jn.useState)(-1),[R,N]=(0,jn.useState)([]),[j,F]=(0,jn.useState)(!1),[B,L]=(0,jn.useState)([]),q=wO.getInstance(),U=ay.getInstance(),J=(0,jn.useRef)(null);(0,jn.useEffect)(()=>{let ee=()=>{J.current&&J.current.focus()};return s?.addEventListener(ox.CHAT_IS_VISIBLE,ee),()=>{s?.removeEventListener(ox.CHAT_IS_VISIBLE,ee)}},[s]);let H=(0,jn.useContext)(gie),I=i.app||H,V=async(ee,ye)=>{let Ue=I.workspace.getActiveFile();return await U.processContextNotes(ee,ye,I.vault,R,j,Ue,f)},W=async({toolCalls:ee,urls:ye,contextNotes:Ue}={})=>{if(!h&&B.length===0)return;let dt=bs(new Date),Je=[];h&&Je.push({type:"text",text:h});for(let dr of B){let Xe=await dr.arrayBuffer(),kn=Buffer.from(Xe).toString("base64");Je.push({type:"image_url",image_url:{url:`data:${dr.type};base64,${kn}`}})}let sr=[...Ue||[]],Xr=I.workspace.getActiveFile();j&&Xr&&!sr.some(dr=>dr.path===Xr.path)&&sr.push(Xr);let ur={message:h||"Image message",originalMessage:h,sender:To,isVisible:!0,timestamp:dt,content:Je,context:{notes:sr,urls:ye||[]}};v(""),L([]),l(ur),x(!0),T(oE.DEFAULT);let Xt=Jf.getInstance(I.vault),hi=await Xt.processCustomPrompt(h||"","",I.workspace.getActiveFile()),ta=f==="copilot_plus"?await q.processUrls(h||""):{urlContext:"",imageUrls:[]},No=await V(Xt,o);hi=hi+ta.urlContext+No;let Re=h;ee&&(Re+=" "+ee.join(`
`));let Ye={message:hi,originalMessage:Re,sender:To,isVisible:!1,timestamp:dt,content:Je,context:{notes:sr,urls:f==="copilot_plus"?[...ye||[],...ta.imageUrls]:ye||[]}};l(Ye),h&&(n(h),M(-1)),await JAe(Ye,e,l,m,_,{debug:a.debug,updateLoadingMessage:T}),x(!1),T(oE.DEFAULT)},K=ee=>{let ye=i.userMessageHistory;return ee==="up"&&E<ye.length-1?(M(E+1),ye[ye.length-1-E-1]):ee==="down"&&E>-1?(M(E-1),E===0?"":ye[ye.length-1-E+1]):h},ne=(0,jn.useCallback)(async(ee=!1)=>{if(!I){console.error("App instance is not available.");return}let ye=u.filter(Je=>Je.isVisible);if(ye.length===0){new TS.Notice("No messages to save.");return}let Ue=ye[0].timestamp?.epoch||Date.now(),dt=ye.map(Je=>`**${Je.sender}**: ${Je.message}
[Timestamp: ${Je.timestamp?.display}]`).join(`

`);try{I.vault.getAbstractFileByPath(a.defaultSaveFolder)||await I.vault.createFolder(a.defaultSaveFolder);let{fileName:sr}=bs(new Date(Ue)),Xr=ye.find(Ye=>Ye.sender===To),ur=Xr?Xr.message.split(/\s+/).slice(0,10).join(" ").replace(/[\\/:*?"<>|]/g,"").trim():"Untitled Chat",Xt=a.defaultConversationNoteName||"{$date}_{$time}__{$topic}";Xt=Xt.replace("{$topic}",ur.slice(0,100).replace(/\s+/g,"_")).replace("{$date}",sr.split("_")[0]).replace("{$time}",sr.split("_")[1]);let hi=Xt.replace(/[\\/:*?"<>|]/g,"_"),ta=`${a.defaultSaveFolder}/${hi}.md`,No=`---
epoch: ${Ue}
modelKey: ${d}
tags:
  - ${a.defaultConversationTag}
---

${dt}`,Re=I.vault.getAbstractFileByPath(ta);if(Re instanceof TS.TFile?(await I.vault.modify(Re,No),new TS.Notice(`Chat updated in existing note: ${ta}`)):(await I.vault.create(ta,No),new TS.Notice(`Chat saved as new note: ${ta}`)),ee){let Ye=I.vault.getAbstractFileByPath(ta);Ye instanceof TS.TFile&&I.workspace.getLeaf().openFile(Ye)}}catch(Je){console.error("Error saving chat as note:",sa(Je)),new TS.Notice("Failed to save chat as note. Check console for details.")}},[I,u,d,a.defaultConversationTag,a.defaultSaveFolder,a.defaultConversationNoteName]),Be=(0,jn.useCallback)(ee=>{g&&(a.debug&&console.log(`stopping generation..., reason: ${ee}`),g.abort(ee),x(!1))},[g,a.debug]),X=(0,jn.useCallback)(async ee=>{let ye=ee-1;if(ye<0||u[ye].sender!==To){new TS.Notice("Cannot regenerate the first message or a user message.");return}let Ue=u[ye],dt=u.slice(0,ee);c(),dt.forEach(l),e.memoryManager.clearChatMemory();for(let Je=0;Je<dt.length;Je+=2){let sr=dt[Je],Xr=dt[Je+1];sr&&Xr&&await e.memoryManager.getMemory().saveContext({input:sr.message},{output:Xr.message})}x(!0);try{await e.runChain(Ue,new AbortController,m,l,{debug:a.debug})&&a.debug&&console.log("Message regenerated successfully")}catch(Je){console.error("Error regenerating message:",Je),new TS.Notice("Failed to regenerate message. Please try again.")}finally{x(!1)}},[l,e,u,c,a.debug]),Q=(0,jn.useCallback)(async(ee,ye)=>{let Ue=u[ee].message;if(Ue===ye)return;let dt=[...u];for(let Je=ee;Je<dt.length;Je++)dt[Je].originalMessage===Ue&&(dt[Je].message=ye,dt[Je].originalMessage=ye,dt[Je].context={notes:[],urls:[]});c(),dt.forEach(l),await zH(dt,e.memoryManager),dt[ee].sender===To&&ee<dt.length-1&&X(ee+1)},[l,e.memoryManager,u,c,X]),le=(ee,ye)=>()=>{let Ue=fe().debug,dt=async Je=>{let Xr={message:await ye(Je.detail.selectedText,Je.detail.eventSubtype),sender:To,isVisible:Ue,timestamp:bs(new Date)};Ue&&l(Xr),x(!0),await JAe(Xr,e,l,m,_,{debug:Ue,ignoreSystemMessage:!0}),x(!1)};return s?.addEventListener(ee,dt),()=>{s?.removeEventListener(ee,dt)}},Ae=Jf.getInstance(I.vault);(0,jn.useEffect)(le(te.APPLY_CUSTOM_PROMPT,async(ee,ye)=>ye?await Ae.processCustomPrompt(ye,ee,I.workspace.getActiveFile()??void 0):ee),[]),(0,jn.useEffect)(le(te.APPLY_ADHOC_PROMPT,async(ee,ye)=>ye?await Ae.processCustomPrompt(ye,ee,I.workspace.getActiveFile()):ee),[]),(0,jn.useEffect)(()=>{r&&r(ne)},[r,ne]);let mt=(0,jn.useCallback)(async ee=>{let ye=[...u];ye.splice(ee,1),c(),ye.forEach(l),await zH(ye,e.memoryManager)},[l,e.memoryManager,u,c]),we=(0,jn.useCallback)(ee=>{v(ye=>`${ye} ${ee} `)},[]),ae=(0,jn.useCallback)(async()=>{Be("new-chat"),a.autosaveChat&&u.length>0&&await ne(!0),c(),e.memoryManager.clearChatMemory(),m(""),N([]),F(!1)},[Be,a.autosaveChat,u.length,c,e.memoryManager,ne]);return jn.default.createElement("div",{className:"chat-container"},jn.default.createElement(EBt,{chatHistory:u,currentAiMessage:p,loading:S,loadingMessage:O,app:I,onRegenerate:X,onEdit:Q,onDelete:mt,onInsertToChat:we,onReplaceChat:v}),jn.default.createElement("div",{className:"bottom-container"},jn.default.createElement(mLt,{onNewChat:ae,onSaveAsNote:()=>ne(!0)}),jn.default.createElement(nFt,{ref:J,inputMessage:h,setInputMessage:v,handleSendMessage:W,isGenerating:S,onStopGenerating:()=>Be("user-stopped"),app:I,navigateHistory:K,contextNotes:R,setContextNotes:N,includeActiveNote:j,setIncludeActiveNote:F,mention:q,selectedImages:B,onAddImage:ee=>L(ye=>[...ye,...ee]),setSelectedImages:L})))},MBt=Zcn;var ABt=require("obsidian"),EM=k(Z()),RBt=k(DE()),PM=class extends ABt.ItemView{constructor(r,n){super(r);this.plugin=n;this.root=null;this.handleSaveAsNote=null;this.sharedState=n.sharedState,this.app=n.app,this.chainManager=n.chainManager,this.fileParserManager=n.fileParserManager,this.eventTarget=new EventTarget,this.plugin=n}getViewType(){return bl}getIcon(){return"message-square"}getTitle(){return"Copilot Chat"}getDisplayText(){return"Copilot"}async onOpen(){let r=(0,RBt.createRoot)(this.containerEl.children[1]),n=i=>{this.handleSaveAsNote=i},o=i=>{this.plugin.updateUserMessageHistory(i)};r.render(EM.createElement(gie.Provider,{value:this.app},EM.createElement(D$.Provider,{value:this.eventTarget},EM.createElement(EM.StrictMode,null,EM.createElement(Xoe,{delayDuration:0},EM.createElement(MBt,{sharedState:this.sharedState,chainManager:this.chainManager,updateUserMessageHistory:o,fileParserManager:this.fileParserManager,plugin:this.plugin,onSaveChat:n}))))))}async saveChat(){this.handleSaveAsNote&&await this.handleSaveAsNote()}async onClose(){this.root&&this.root.unmount()}updateView(){this.onOpen()}};var IBt=require("obsidian"),Sie=class extends IBt.FuzzySuggestModal{constructor(r,n,o){super(r);this.chatFiles=n;this.onChooseFile=o}getItems(){return this.chatFiles.sort((r,n)=>{let o=s=>{let u=this.app.metadataCache.getFileCache(s)?.frontmatter;return u&&u.epoch?u.epoch:s.stat.ctime},i=o(r);return o(n)-i})}getItemText(r){let n=r.basename.replace(/\{\$date}|\d{8}/g,"").replace(/\{\$time}|\d{6}/g,"").replace(/[@_]/g," ").replace(/\s+/g," ").trim(),o,i=this.app.metadataCache.getFileCache(r)?.frontmatter;return i&&i.epoch?o=bs(new Date(i.epoch)):o=bs(new Date(r.stat.ctime)),`${n} - ${o.display}`}onChooseItem(r,n){this.onChooseFile(r)}};function DBt(t,e,r){PFe.filter(n=>pD(n)).forEach(n=>{t.addItem(o=>{o.setTitle(`Copilot: ${My[n]}`).onClick(async i=>{r.app.commands.executeCommandById(`copilot:${n}`)})})})}var H6=require("obsidian"),BUt=k(Z()),kUt=k(DE());var jBt=require("obsidian"),ID=k(Z()),NBt=k(DE());function Qcn({content:t,onConfirm:e,onCancel:r}){return ID.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},ID.default.createElement("div",null,t),ID.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"}},ID.default.createElement("button",{onClick:r},"Cancel"),ID.default.createElement("button",{style:{backgroundColor:"var(--interactive-accent)",color:"var(--text-on-accent)",cursor:"pointer"},onClick:e},"Continue")))}var N$=class extends jBt.Modal{constructor(r,n,o,i){super(r);this.onConfirm=n;this.content=o;this.setTitle(i)}onOpen(){let{contentEl:r}=this;this.root=(0,NBt.createRoot)(r);let n=()=>{this.onConfirm(),this.close()},o=()=>{this.close()};this.root.render(ID.default.createElement(Qcn,{content:this.content,onConfirm:n,onCancel:o}))}onClose(){this.root.unmount()}};var xie=class extends N${constructor(e,r){super(e,r,"Resetting settings will clear all settings and restore the default values. You will lose any custom settings you have made including the API keys. Are you sure you want to continue?","Reset Settings")}};var T6=k(Z());var LBt=({tab:t,isSelected:e,onClick:r,isFirst:n,isLast:o})=>T6.default.createElement("div",{role:"tab",id:`tab-${t.id}`,"aria-controls":`tabpanel-${t.id}`,"aria-selected":e,onClick:r,className:Te("flex flex-row items-center","h-8","px-2 py-1","gap-1.5","cursor-pointer","overflow-hidden","whitespace-nowrap","text-sm","border border-border border-solid","rounded-t-md rounded-b-[2px]","bg-primary","transition-all duration-300 ease-in-out","hover:border-interactive-accent hover:border-b-0",e&&["!bg-interactive-accent","text-on-accent","!px-3","!max-w-full","border-b-0","transition-all duration-300 ease-in-out","delay-200"],"lg:max-w-32","md:max-w-32")},T6.default.createElement("div",{className:Te("flex items-center justify-center","w-4 h-4","transition-transform duration-200 ease-in-out",e?"opacity-100 max-w-[16px] translate-x-0":"opacity-0 max-w-0 -translate-x-4")},t.icon),T6.default.createElement("span",{className:Te("text-sm","font-medium","transition-all duration-200 ease-in-out","overflow-hidden whitespace-nowrap","opacity-100 max-w-[100px] translate-x-0")},t.label)),FBt=({id:t,children:e,isSelected:r})=>r?T6.default.createElement("div",{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,className:Te("pt-4","transition-all duration-200 ease-in-out",r?"opacity-100 translate-y-0":"opacity-0 translate-y-2")},e):null;var Wp=k(Z()),BBt=(0,Wp.createContext)(void 0),kBt=({children:t})=>{let[e,r]=(0,Wp.useState)("basic"),[n,o]=(0,Wp.useState)(null),i=(0,Wp.useRef)(!1);return(0,Wp.useEffect)(()=>{if(!i.current){let a=document.querySelector(".modal-container");o(a),i.current=!0}},[]),Wp.default.createElement(BBt.Provider,{value:{selectedTab:e,setSelectedTab:r,modalContainer:n}},t)},Am=()=>{let t=(0,Wp.useContext)(BBt);if(t===void 0)throw new Error("useTab must be used within a TabProvider");return t};var pn=k(Z());var LD=k(Z());var Ni=k(Z());var Jp=k(Z());function TM({value:t,onChange:e,placeholder:r,disabled:n,className:o}){let[i,a]=(0,Jp.useState)(!1),s=(0,Jp.useRef)(null),u=(0,Jp.useRef)(!0);return(0,Jp.useEffect)(()=>{(async()=>{if(u.current&&t&&s.current){try{s.current.value=await oi(t)}catch(c){Yo("Failed to decrypt value:"+sa(c)),s.current.value=t}u.current=!1}else s.current&&(s.current.value=t||"")})()},[t]),Jp.default.createElement("div",{className:Te("relative",o)},Jp.default.createElement(us,{ref:s,type:i?"text":"password",onChange:l=>e?.(l.target.value),placeholder:r,disabled:n,className:Te("![padding-right:1.75rem] w-full")}),Jp.default.createElement("div",{onClick:()=>!n&&a(!i),className:Te("absolute right-2 top-0 bottom-0 flex items-center justify-center","cursor-pointer",n&&"opacity-50 cursor-not-allowed"),role:"button","aria-label":i?"Hide password":"Show password"},i?Jp.default.createElement(iz,{className:Te("h-3.5 w-3.5","text-muted/60 hover:text-accent","transition-colors duration-200")}):Jp.default.createElement(gx,{className:Te("h-3.5 w-3.5","text-muted/60 hover:text-accent","transition-colors duration-200")})))}var Dc=k(Z());var pi=k(Z(),1);function MS(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var qBt=k(Z(),1);function $Bt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KAe(...t){return e=>{let r=!1,n=t.map(o=>{let i=$Bt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():$Bt(t[o],null)}}}}function SO(...t){return qBt.useCallback(KAe(...t),t)}var Aa=k(Z(),1);var UBt=k(Z(),1),zBt=k(ys(),1);var Ic=k(Z(),1);var L$=k(ct(),1),M6=Ic.forwardRef((t,e)=>{let{children:r,...n}=t,o=Ic.Children.toArray(r),i=o.find(tdn);if(i){let a=i.props.children,s=o.map(u=>u===i?Ic.Children.count(a)>1?Ic.Children.only(null):Ic.isValidElement(a)?a.props.children:null:u);return(0,L$.jsx)(YAe,{...n,ref:e,children:Ic.isValidElement(a)?Ic.cloneElement(a,void 0,s):null})}return(0,L$.jsx)(YAe,{...n,ref:e,children:r})});M6.displayName="Slot";var YAe=Ic.forwardRef((t,e)=>{let{children:r,...n}=t;if(Ic.isValidElement(r)){let o=ndn(r);return Ic.cloneElement(r,{...rdn(n,r.props),ref:e?KAe(e,o):o})}return Ic.Children.count(r)>1?Ic.Children.only(null):null});YAe.displayName="SlotClone";var edn=({children:t})=>(0,L$.jsx)(L$.Fragment,{children:t});function tdn(t){return Ic.isValidElement(t)&&t.type===edn}function rdn(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function ndn(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var HBt=k(ct(),1),odn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Gp=odn.reduce((t,e)=>{let r=UBt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?M6:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,HBt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VBt(t,e){t&&zBt.flushSync(()=>t.dispatchEvent(e))}var ZAe=k(ct(),1),idn="DismissableLayer",XAe="dismissableLayer.update",adn="dismissableLayer.pointerDownOutside",sdn="dismissableLayer.focusOutside",WBt,GBt=Aa.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QAe=Aa.forwardRef((t,e)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=t,l=Aa.useContext(GBt),[c,d]=Aa.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Aa.useState({}),m=SO(e,E=>d(E)),h=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(v),_=c?h.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=_>=g,O=cdn(E=>{let M=E.target,R=[...l.branches].some(N=>N.contains(M));!x||R||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=ddn(E=>{let M=E.target;[...l.branches].some(N=>N.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return SS(E=>{_===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Aa.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(WBt=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),JBt(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=WBt)}},[c,f,r,l]),Aa.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),JBt())},[c,l]),Aa.useEffect(()=>{let E=()=>p({});return document.addEventListener(XAe,E),()=>document.removeEventListener(XAe,E)},[]),(0,ZAe.jsx)(Gp.div,{...u,ref:m,style:{pointerEvents:S?x?"auto":"none":void 0,...t.style},onFocusCapture:MS(t.onFocusCapture,T.onFocusCapture),onBlurCapture:MS(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:MS(t.onPointerDownCapture,O.onPointerDownCapture)})});QAe.displayName=idn;var udn="DismissableLayerBranch",ldn=Aa.forwardRef((t,e)=>{let r=Aa.useContext(GBt),n=Aa.useRef(null),o=SO(e,n);return Aa.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,ZAe.jsx)(Gp.div,{...t,ref:o})});ldn.displayName=udn;function cdn(t,e=globalThis?.document){let r=Jt(t),n=Aa.useRef(!1),o=Aa.useRef(()=>{});return Aa.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){KBt(adn,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function ddn(t,e=globalThis?.document){let r=Jt(t),n=Aa.useRef(!1);return Aa.useEffect(()=>{let o=i=>{i.target&&!n.current&&KBt(sdn,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JBt(){let t=new CustomEvent(XAe);document.dispatchEvent(t)}function KBt(t,e,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?VBt(o,i):o.dispatchEvent(i)}var Rm=k(Z(),1);var ekt=k(ct(),1),eRe="focusScope.autoFocusOnMount",tRe="focusScope.autoFocusOnUnmount",YBt={bubbles:!1,cancelable:!0},fdn="FocusScope",rRe=Rm.forwardRef((t,e)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[s,u]=Rm.useState(null),l=Jt(o),c=Jt(i),d=Rm.useRef(null),f=SO(e,h=>u(h)),p=Rm.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Rm.useEffect(()=>{if(n){let _=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:MM(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||MM(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&MM(s)};var h=_,v=S,g=x;document.addEventListener("focusin",_),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),Rm.useEffect(()=>{if(s){ZBt.add(p);let h=document.activeElement;if(!s.contains(h)){let g=new CustomEvent(eRe,YBt);s.addEventListener(eRe,l),s.dispatchEvent(g),g.defaultPrevented||(pdn(bdn(tkt(s)),{select:!0}),document.activeElement===h&&MM(s))}return()=>{s.removeEventListener(eRe,l),setTimeout(()=>{let g=new CustomEvent(tRe,YBt);s.addEventListener(tRe,c),s.dispatchEvent(g),g.defaultPrevented||MM(h??document.body,{select:!0}),s.removeEventListener(tRe,c),ZBt.remove(p)},0)}}},[s,l,c,p]);let m=Rm.useCallback(h=>{if(!r&&!n||p.paused)return;let v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(v&&g){let _=h.currentTarget,[S,x]=hdn(_);S&&x?!h.shiftKey&&g===x?(h.preventDefault(),r&&MM(S,{select:!0})):h.shiftKey&&g===S&&(h.preventDefault(),r&&MM(x,{select:!0})):g===_&&h.preventDefault()}},[r,n,p.paused]);return(0,ekt.jsx)(Gp.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});rRe.displayName=fdn;function pdn(t,{select:e=!1}={}){let r=document.activeElement;for(let n of t)if(MM(n,{select:e}),document.activeElement!==r)return}function hdn(t){let e=tkt(t),r=XBt(e,t),n=XBt(e.reverse(),t);return[r,n]}function tkt(t){let e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function XBt(t,e){for(let r of t)if(!mdn(r,{upTo:e}))return r}function mdn(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gdn(t){return t instanceof HTMLInputElement&&"select"in t}function MM(t,{select:e=!1}={}){if(t&&t.focus){let r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&gdn(t)&&e&&t.select()}}var ZBt=ydn();function ydn(){let t=[];return{add(e){let r=t[0];e!==r&&r?.pause(),t=QBt(t,e),t.unshift(e)},remove(e){t=QBt(t,e),t[0]?.resume()}}}function QBt(t,e){let r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function bdn(t){return t.filter(e=>e.tagName!=="A")}var Cie=k(Z(),1),rkt=k(ys(),1);var nkt=k(ct(),1),_dn="Portal",nRe=Cie.forwardRef((t,e)=>{let{container:r,...n}=t,[o,i]=Cie.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?rkt.default.createPortal((0,nkt.jsx)(Gp.div,{...n,ref:e}),a):null});nRe.displayName=_dn;var Pie=k(Z());var gd=k(Z());var Oie=SD();var oRe=function(){},A6=gd.forwardRef(function(t,e){var r=gd.useRef(null),n=gd.useState({onScrollCapture:oRe,onWheelCapture:oRe,onTouchMoveCapture:oRe}),o=n[0],i=n[1],a=t.forwardProps,s=t.children,u=t.className,l=t.removeScrollBar,c=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,h=t.allowPinchZoom,v=t.as,g=v===void 0?"div":v,_=t.gapMode,S=_M(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,O=wD([r,e]),T=jo(jo({},S),o);return gd.createElement(gd.Fragment,null,c&&gd.createElement(x,{sideCar:Oie,removeScrollBar:l,shards:d,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!h,lockRef:r,gapMode:_}),a?gd.cloneElement(gd.Children.only(s),jo(jo({},T),{ref:O})):gd.createElement(g,jo({},T,{className:u,ref:O}),s))});A6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A6.classNames={fullWidth:ny,zeroRight:ry};var ji=k(Z());var iRe=!1;if(typeof window<"u")try{R6=Object.defineProperty({},"passive",{get:function(){return iRe=!0,!0}}),window.addEventListener("test",R6,R6),window.removeEventListener("test",R6,R6)}catch{iRe=!1}var R6,DD=iRe?{passive:!1}:!1;var vdn=function(t){return t.tagName==="TEXTAREA"},okt=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!vdn(t)&&r[e]==="visible")},wdn=function(t){return okt(t,"overflowY")},Sdn=function(t){return okt(t,"overflowX")},aRe=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=ikt(t,n);if(o){var i=akt(t,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},xdn=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Cdn=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},ikt=function(t,e){return t==="v"?wdn(e):Sdn(e)},akt=function(t,e){return t==="v"?xdn(e):Cdn(e)},Odn=function(t,e){return t==="h"&&e==="rtl"?-1:1},skt=function(t,e,r,n,o){var i=Odn(t,window.getComputedStyle(e).direction),a=i*n,s=r.target,u=e.contains(s),l=!1,c=a>0,d=0,f=0;do{var p=akt(t,s),m=p[0],h=p[1],v=p[2],g=h-v-i*m;(m||g)&&ikt(t,s)&&(d+=g,f+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(e.contains(s)||e===s));return(c&&(o&&Math.abs(d)<1||!o&&a>d)||!c&&(o&&Math.abs(f)<1||!o&&-a>f))&&(l=!0),l};var Eie=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ukt=function(t){return[t.deltaX,t.deltaY]},lkt=function(t){return t&&"current"in t?t.current:t},Edn=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Pdn=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Tdn=0,F$=[];function ckt(t){var e=ji.useRef([]),r=ji.useRef([0,0]),n=ji.useRef(),o=ji.useState(Tdn++)[0],i=ji.useState(_O)[0],a=ji.useRef(t);ji.useEffect(function(){a.current=t},[t]),ji.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var h=v$([t.lockRef.current],(t.shards||[]).map(lkt),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var s=ji.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var g=Eie(h),_=r.current,S="deltaX"in h?h.deltaX:_[0]-g[0],x="deltaY"in h?h.deltaY:_[1]-g[1],O,T=h.target,E=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in h&&E==="h"&&T.type==="range")return!1;var M=aRe(E,T);if(!M)return!0;if(M?O=E:(O=E==="v"?"h":"v",M=aRe(E,T)),!M)return!1;if(!n.current&&"changedTouches"in h&&(S||x)&&(n.current=O),!O)return!0;var R=n.current||O;return skt(R,v,h,R==="h"?S:x,!0)},[]),u=ji.useCallback(function(h){var v=h;if(!(!F$.length||F$[F$.length-1]!==i)){var g="deltaY"in v?ukt(v):Eie(v),_=e.current.filter(function(O){return O.name===v.type&&(O.target===v.target||v.target===O.shadowParent)&&Edn(O.delta,g)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var S=(a.current.shards||[]).map(lkt).filter(Boolean).filter(function(O){return O.contains(v.target)}),x=S.length>0?s(v,S[0]):!a.current.noIsolation;x&&v.cancelable&&v.preventDefault()}}},[]),l=ji.useCallback(function(h,v,g,_){var S={name:h,delta:v,target:g,should:_,shadowParent:Mdn(g)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(x){return x!==S})},1)},[]),c=ji.useCallback(function(h){r.current=Eie(h),n.current=void 0},[]),d=ji.useCallback(function(h){l(h.type,ukt(h),h.target,s(h,t.lockRef.current))},[]),f=ji.useCallback(function(h){l(h.type,Eie(h),h.target,s(h,t.lockRef.current))},[]);ji.useEffect(function(){return F$.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,DD),document.addEventListener("touchmove",u,DD),document.addEventListener("touchstart",c,DD),function(){F$=F$.filter(function(h){return h!==i}),document.removeEventListener("wheel",u,DD),document.removeEventListener("touchmove",u,DD),document.removeEventListener("touchstart",c,DD)}},[]);var p=t.removeScrollBar,m=t.inert;return ji.createElement(ji.Fragment,null,m?ji.createElement(i,{styles:Pdn(o)}):null,p?ji.createElement(CD,{gapMode:t.gapMode}):null)}function Mdn(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}var dkt=xD(Oie,ckt);var fkt=Pie.forwardRef(function(t,e){return Pie.createElement(A6,jo({},t,{ref:e,sideCar:dkt}))});fkt.classNames=A6.classNames;var I6=fkt;var Go=k(ct(),1),sRe="Dialog",[pkt,iVo]=Do(sRe),[Adn,cy]=pkt(sRe),hkt=t=>{let{__scopeDialog:e,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,s=pi.useRef(null),u=pi.useRef(null),[l=!1,c]=ll({prop:n,defaultProp:o,onChange:i});return(0,Go.jsx)(Adn,{scope:e,triggerRef:s,contentRef:u,contentId:Ja(),titleId:Ja(),descriptionId:Ja(),open:l,onOpenChange:c,onOpenToggle:pi.useCallback(()=>c(d=>!d),[c]),modal:a,children:r})};hkt.displayName=sRe;var mkt="DialogTrigger",gkt=pi.forwardRef((t,e)=>{let{__scopeDialog:r,...n}=t,o=cy(mkt,r),i=SO(e,o.triggerRef);return(0,Go.jsx)(Gp.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":cRe(o.open),...n,ref:i,onClick:MS(t.onClick,o.onOpenToggle)})});gkt.displayName=mkt;var uRe="DialogPortal",[Rdn,ykt]=pkt(uRe,{forceMount:void 0}),bkt=t=>{let{__scopeDialog:e,forceMount:r,children:n,container:o}=t,i=cy(uRe,e);return(0,Go.jsx)(Rdn,{scope:e,forceMount:r,children:pi.Children.map(n,a=>(0,Go.jsx)(ku,{present:r||i.open,children:(0,Go.jsx)(nRe,{asChild:!0,container:o,children:a})}))})};bkt.displayName=uRe;var Tie="DialogOverlay",_kt=pi.forwardRef((t,e)=>{let r=ykt(Tie,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,i=cy(Tie,t.__scopeDialog);return i.modal?(0,Go.jsx)(ku,{present:n||i.open,children:(0,Go.jsx)(Idn,{...o,ref:e})}):null});_kt.displayName=Tie;var Idn=pi.forwardRef((t,e)=>{let{__scopeDialog:r,...n}=t,o=cy(Tie,r);return(0,Go.jsx)(I6,{as:M6,allowPinchZoom:!0,shards:[o.contentRef],children:(0,Go.jsx)(Gp.div,{"data-state":cRe(o.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),jD="DialogContent",vkt=pi.forwardRef((t,e)=>{let r=ykt(jD,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,i=cy(jD,t.__scopeDialog);return(0,Go.jsx)(ku,{present:n||i.open,children:i.modal?(0,Go.jsx)(Ddn,{...o,ref:e}):(0,Go.jsx)(jdn,{...o,ref:e})})});vkt.displayName=jD;var Ddn=pi.forwardRef((t,e)=>{let r=cy(jD,t.__scopeDialog),n=pi.useRef(null),o=SO(e,r.contentRef,n);return pi.useEffect(()=>{let i=n.current;if(i)return bM(i)},[]),(0,Go.jsx)(wkt,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:MS(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:MS(t.onPointerDownOutside,i=>{let a=i.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&i.preventDefault()}),onFocusOutside:MS(t.onFocusOutside,i=>i.preventDefault())})}),jdn=pi.forwardRef((t,e)=>{let r=cy(jD,t.__scopeDialog),n=pi.useRef(!1),o=pi.useRef(!1);return(0,Go.jsx)(wkt,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let a=i.target;r.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),wkt=pi.forwardRef((t,e)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=t,s=cy(jD,r),u=pi.useRef(null),l=SO(e,u);return iM(),(0,Go.jsxs)(Go.Fragment,{children:[(0,Go.jsx)(rRe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,Go.jsx)(QAe,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":cRe(s.open),...a,ref:l,onDismiss:()=>s.onOpenChange(!1)})}),(0,Go.jsxs)(Go.Fragment,{children:[(0,Go.jsx)(Ndn,{titleId:s.titleId}),(0,Go.jsx)(Fdn,{contentRef:u,descriptionId:s.descriptionId})]})]})}),lRe="DialogTitle",Skt=pi.forwardRef((t,e)=>{let{__scopeDialog:r,...n}=t,o=cy(lRe,r);return(0,Go.jsx)(Gp.h2,{id:o.titleId,...n,ref:e})});Skt.displayName=lRe;var xkt="DialogDescription",Ckt=pi.forwardRef((t,e)=>{let{__scopeDialog:r,...n}=t,o=cy(xkt,r);return(0,Go.jsx)(Gp.p,{id:o.descriptionId,...n,ref:e})});Ckt.displayName=xkt;var Okt="DialogClose",Ekt=pi.forwardRef((t,e)=>{let{__scopeDialog:r,...n}=t,o=cy(Okt,r);return(0,Go.jsx)(Gp.button,{type:"button",...n,ref:e,onClick:MS(t.onClick,()=>o.onOpenChange(!1))})});Ekt.displayName=Okt;function cRe(t){return t?"open":"closed"}var Pkt="DialogTitleWarning",[aVo,Tkt]=d1t(Pkt,{contentName:jD,titleName:lRe,docsSlug:"dialog"}),Ndn=({titleId:t})=>{let e=Tkt(Pkt),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return pi.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Ldn="DialogDescriptionWarning",Fdn=({contentRef:t,descriptionId:e})=>{let n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tkt(Ldn).contentName}}.`;return pi.useEffect(()=>{let o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Mkt=hkt,Akt=gkt,Rkt=bkt,dRe=_kt,fRe=vkt,pRe=Skt,hRe=Ckt,Ikt=Ekt;var AM=Mkt,Dkt=Akt,kdn=Rkt;var jkt=Dc.forwardRef(({className:t,...e},r)=>Dc.createElement(dRe,{ref:r,className:Te("fixed inset-0 z-modal data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","bg-overlay/50",t),...e}));jkt.displayName=dRe.displayName;var xO=Dc.forwardRef(({className:t,children:e,container:r,...n},o)=>Dc.createElement(kdn,{container:r},Dc.createElement(jkt,null),Dc.createElement(fRe,{ref:o,className:Te("fixed left-[50%] top-[50%] z-modal grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-primary p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n},e,Dc.createElement(Ikt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-ring transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-interactive-accent data-[state=open]:text-muted"},Dc.createElement(ky,{className:"h-4 w-4"}),Dc.createElement("span",{className:"sr-only"},"Close")))));xO.displayName=fRe.displayName;var CO=({className:t,...e})=>Dc.createElement("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});CO.displayName="DialogHeader";var $dn=({className:t,...e})=>Dc.createElement("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$dn.displayName="DialogFooter";var OO=Dc.forwardRef(({className:t,...e},r)=>Dc.createElement(pRe,{ref:r,className:Te("text-lg font-semibold leading-none tracking-tight",t),...e}));OO.displayName=pRe.displayName;var EO=Dc.forwardRef(({className:t,...e},r)=>Dc.createElement(hRe,{ref:r,className:Te("text-sm text-muted",t),...e}));EO.displayName=hRe.displayName;var IM=k(Z());var ND=k(Z());var ri=k(Z(),1);function B$(t,[e,r]){return Math.min(r,Math.max(e,t))}function ko(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var Mie=k(Z(),1);function k$(t){let e=Mie.useRef({value:t,previous:t});return Mie.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Nkt=k(Z(),1),Lkt=k(ys(),1);var Fkt=k(ct(),1),qdn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nn=qdn.reduce((t,e)=>{let r=Nkt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?Fy:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,Fkt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Bkt(t,e){t&&Lkt.flushSync(()=>t.dispatchEvent(e))}var RM=k(Z(),1);var PO=k(Z(),1),kkt=k(ct(),1);function $kt(t,e=[]){let r=[];function n(i,a){let s=PO.createContext(a),u=r.length;r=[...r,a];function l(d){let{scope:f,children:p,...m}=d,h=f?.[t][u]||s,v=PO.useMemo(()=>m,Object.values(m));return(0,kkt.jsx)(h.Provider,{value:v,children:p})}function c(d,f){let p=f?.[t][u]||s,m=PO.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,c]}let o=()=>{let i=r.map(a=>PO.createContext(a));return function(s){let u=s?.[t]||i;return PO.useMemo(()=>({[`__scope${t}`]:{...s,[t]:u}}),[s,u])}};return o.scopeName=t,[n,Udn(o,...e)]}function Udn(...t){let e=t[0];if(t.length===1)return e;let r=()=>{let n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let a=n.reduce((s,{useScope:u,scopeName:l})=>{let d=u(i)[`__scope${l}`];return{...s,...d}},{});return PO.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var Aie=k(ct(),1);function Rie(t){let e=t+"CollectionProvider",[r,n]=$kt(e),[o,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:m,children:h}=p,v=RM.default.useRef(null),g=RM.default.useRef(new Map).current;return(0,Aie.jsx)(o,{scope:m,itemMap:g,collectionRef:v,children:h})};a.displayName=e;let s=t+"CollectionSlot",u=RM.default.forwardRef((p,m)=>{let{scope:h,children:v}=p,g=i(s,h),_=Uo(m,g.collectionRef);return(0,Aie.jsx)(Fy,{ref:_,children:v})});u.displayName=s;let l=t+"CollectionItemSlot",c="data-radix-collection-item",d=RM.default.forwardRef((p,m)=>{let{scope:h,children:v,...g}=p,_=RM.default.useRef(null),S=Uo(m,_),x=i(l,h);return RM.default.useEffect(()=>(x.itemMap.set(_,{ref:_,...g}),()=>void x.itemMap.delete(_))),(0,Aie.jsx)(Fy,{[c]:"",ref:S,children:v})});d.displayName=l;function f(p){let m=i(t+"CollectionConsumer",p);return RM.default.useCallback(()=>{let v=m.collectionRef.current;if(!v)return[];let g=Array.from(v.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((x,O)=>g.indexOf(x.ref.current)-g.indexOf(O.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},f,n]}var dl=k(ct(),1),qkt=["PageUp","PageDown"],Ukt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zkt={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$$="Slider",[mRe,zdn,Hdn]=Rie($$),[Hkt,AVo]=Do($$,[Hdn]),[Vdn,Iie]=Hkt($$),Vkt=ri.forwardRef((t,e)=>{let{name:r,min:n=0,max:o=100,step:i=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:u=0,defaultValue:l=[n],value:c,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:m,...h}=t,v=ri.useRef(new Set),g=ri.useRef(0),S=a==="horizontal"?Wdn:Jdn,[x=[],O]=ll({prop:c,defaultProp:l,onChange:j=>{[...v.current][g.current]?.focus(),d(j)}}),T=ri.useRef(x);function E(j){let F=Zdn(x,j);N(j,F)}function M(j){N(j,g.current)}function R(){let j=T.current[g.current];x[g.current]!==j&&f(x)}function N(j,F,{commit:B}={commit:!1}){let L=rfn(i),q=nfn(Math.round((j-n)/i)*i+n,L),U=B$(q,[n,o]);O((J=[])=>{let H=Ydn(J,U,F);if(tfn(H,u*i)){g.current=H.indexOf(U);let I=String(H)!==String(J);return I&&B&&f(H),I?H:J}else return J})}return(0,dl.jsx)(Vdn,{scope:t.__scopeSlider,name:r,disabled:s,min:n,max:o,valueIndexToChangeRef:g,thumbs:v.current,values:x,orientation:a,form:m,children:(0,dl.jsx)(mRe.Provider,{scope:t.__scopeSlider,children:(0,dl.jsx)(mRe.Slot,{scope:t.__scopeSlider,children:(0,dl.jsx)(S,{"aria-disabled":s,"data-disabled":s?"":void 0,...h,ref:e,onPointerDown:ko(h.onPointerDown,()=>{s||(T.current=x)}),min:n,max:o,inverted:p,onSlideStart:s?void 0:E,onSlideMove:s?void 0:M,onSlideEnd:s?void 0:R,onHomeKeyDown:()=>!s&&N(n,0,{commit:!0}),onEndKeyDown:()=>!s&&N(o,x.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:F})=>{if(!s){let q=qkt.includes(j.key)||j.shiftKey&&Ukt.includes(j.key)?10:1,U=g.current,J=x[U],H=i*q*F;N(J+H,U,{commit:!0})}}})})})})});Vkt.displayName=$$;var[Wkt,Jkt]=Hkt($$,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Wdn=ri.forwardRef((t,e)=>{let{min:r,max:n,dir:o,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:u,onStepKeyDown:l,...c}=t,[d,f]=ri.useState(null),p=Uo(e,S=>f(S)),m=ri.useRef(),h=oM(o),v=h==="ltr",g=v&&!i||!v&&i;function _(S){let x=m.current||d.getBoundingClientRect(),O=[0,x.width],E=bRe(O,g?[r,n]:[n,r]);return m.current=x,E(S-x.left)}return(0,dl.jsx)(Wkt,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:(0,dl.jsx)(Gkt,{dir:h,"data-orientation":"horizontal",...c,ref:p,style:{...c.style,["--radix-slider-thumb-transform"]:"translateX(-50%)"},onSlideStart:S=>{let x=_(S.clientX);a?.(x)},onSlideMove:S=>{let x=_(S.clientX);s?.(x)},onSlideEnd:()=>{m.current=void 0,u?.()},onStepKeyDown:S=>{let O=zkt[g?"from-left":"from-right"].includes(S.key);l?.({event:S,direction:O?-1:1})}})})}),Jdn=ri.forwardRef((t,e)=>{let{min:r,max:n,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onStepKeyDown:u,...l}=t,c=ri.useRef(null),d=Uo(e,c),f=ri.useRef(),p=!o;function m(h){let v=f.current||c.current.getBoundingClientRect(),g=[0,v.height],S=bRe(g,p?[n,r]:[r,n]);return f.current=v,S(h-v.top)}return(0,dl.jsx)(Wkt,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:(0,dl.jsx)(Gkt,{"data-orientation":"vertical",...l,ref:d,style:{...l.style,["--radix-slider-thumb-transform"]:"translateY(50%)"},onSlideStart:h=>{let v=m(h.clientY);i?.(v)},onSlideMove:h=>{let v=m(h.clientY);a?.(v)},onSlideEnd:()=>{f.current=void 0,s?.()},onStepKeyDown:h=>{let g=zkt[p?"from-bottom":"from-top"].includes(h.key);u?.({event:h,direction:g?-1:1})}})})}),Gkt=ri.forwardRef((t,e)=>{let{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:u,...l}=t,c=Iie($$,r);return(0,dl.jsx)(Nn.span,{...l,ref:e,onKeyDown:ko(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):qkt.concat(Ukt).includes(d.key)&&(u(d),d.preventDefault())}),onPointerDown:ko(t.onPointerDown,d=>{let f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),c.thumbs.has(f)?f.focus():n(d)}),onPointerMove:ko(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&o(d)}),onPointerUp:ko(t.onPointerUp,d=>{let f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),i(d))})})}),Kkt="SliderTrack",Ykt=ri.forwardRef((t,e)=>{let{__scopeSlider:r,...n}=t,o=Iie(Kkt,r);return(0,dl.jsx)(Nn.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:e})});Ykt.displayName=Kkt;var gRe="SliderRange",Xkt=ri.forwardRef((t,e)=>{let{__scopeSlider:r,...n}=t,o=Iie(gRe,r),i=Jkt(gRe,r),a=ri.useRef(null),s=Uo(e,a),u=o.values.length,l=o.values.map(f=>Qkt(f,o.min,o.max)),c=u>1?Math.min(...l):0,d=100-Math.max(...l);return(0,dl.jsx)(Nn.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{...t.style,[i.startEdge]:c+"%",[i.endEdge]:d+"%"}})});Xkt.displayName=gRe;var yRe="SliderThumb",Zkt=ri.forwardRef((t,e)=>{let r=zdn(t.__scopeSlider),[n,o]=ri.useState(null),i=Uo(e,s=>o(s)),a=ri.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return(0,dl.jsx)(Gdn,{...t,ref:i,index:a})}),Gdn=ri.forwardRef((t,e)=>{let{__scopeSlider:r,index:n,name:o,...i}=t,a=Iie(yRe,r),s=Jkt(yRe,r),[u,l]=ri.useState(null),c=Uo(e,_=>l(_)),d=u?a.form||!!u.closest("form"):!0,f=Om(u),p=a.values[n],m=p===void 0?0:Qkt(p,a.min,a.max),h=Xdn(n,a.values.length),v=f?.[s.size],g=v?Qdn(v,m,s.direction):0;return ri.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),(0,dl.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${m}% + ${g}px)`},children:[(0,dl.jsx)(mRe.ItemSlot,{scope:t.__scopeSlider,children:(0,dl.jsx)(Nn.span,{role:"slider","aria-label":t["aria-label"]||h,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:c,style:p===void 0?{display:"none"}:t.style,onFocus:ko(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),d&&(0,dl.jsx)(Kdn,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},n)]})});Zkt.displayName=yRe;var Kdn=t=>{let{value:e,...r}=t,n=ri.useRef(null),o=k$(e);return ri.useEffect(()=>{let i=n.current,a=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(o!==e&&u){let l=new Event("input",{bubbles:!0});u.call(i,e),i.dispatchEvent(l)}},[o,e]),(0,dl.jsx)("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Ydn(t=[],e,r){let n=[...t];return n[r]=e,n.sort((o,i)=>o-i)}function Qkt(t,e,r){let i=100/(r-e)*(t-e);return B$(i,[0,100])}function Xdn(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Zdn(t,e){if(t.length===1)return 0;let r=t.map(o=>Math.abs(o-e)),n=Math.min(...r);return r.indexOf(n)}function Qdn(t,e,r){let n=t/2,i=bRe([0,50],[0,n]);return(n-i(e)*r)*r}function efn(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function tfn(t,e){if(e>0){let r=efn(t);return Math.min(...r)>=e}return!0}function bRe(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];let n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function rfn(t){return(String(t).split(".")[1]||"").length}function nfn(t,e){let r=Math.pow(10,e);return Math.round(t*r)/r}var _Re=Vkt,e$t=Ykt,t$t=Xkt,r$t=Zkt;var vRe=ND.forwardRef(({className:t,...e},r)=>ND.createElement(_Re,{ref:r,className:Te("relative flex w-full touch-none select-none items-center",t),...e},ND.createElement(e$t,{className:"relative h-1.5 w-full grow overflow-hidden border border-solid border-interactive-accent/30 rounded-full bg-interactive-accent/20"},ND.createElement(t$t,{className:"absolute h-full bg-interactive-accent"})),ND.createElement(r$t,{className:"block h-4 w-4 rounded-full border bg-toggle-thumb shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})));vRe.displayName=_Re.displayName;function n$t({value:t,onChange:e,min:r,max:n,step:o,disabled:i,className:a}){let[s,u]=(0,IM.useState)(t);return(0,IM.useEffect)(()=>{u(t)},[t]),IM.default.createElement("div",{className:Te("flex items-center gap-4",a)},IM.default.createElement(vRe,{value:[s],onValueChange:([l])=>u(l),onValueCommit:([l])=>e?.(l),min:r,max:n,step:o,disabled:i,className:"flex-1"}),IM.default.createElement("div",{className:"min-w-[40px] text-sm text-right"},s))}function go(t){let{title:e,description:r,className:n,disabled:o}=t,{modalContainer:i}=Am(),a="onChange"in t?t.onChange:void 0,s=(0,Ni.useMemo)(()=>{if(a)return uUe(l=>{a(l)},1e3)},[a]),u=()=>{switch(t.type){case"text":case"number":return Ni.default.createElement(us,{type:t.type,defaultValue:t.value,onChange:l=>{s?.(l.target.value)},placeholder:t.placeholder,disabled:o,className:"w-full sm:w-[200px]"});case"password":return Ni.default.createElement(TM,{value:t.value!==void 0?String(t.value):void 0,onChange:l=>{s?.(l)},placeholder:t.placeholder,disabled:o,className:"w-full sm:w-[200px]"});case"textarea":return Ni.default.createElement(HH,{defaultValue:t.value,onChange:l=>{s?.(l.target.value)},placeholder:t.placeholder,rows:t.rows||3,disabled:o,className:"w-full sm:w-[300px] min-h-[80px]"});case"switch":return Ni.default.createElement(ES,{checked:t.checked,onCheckedChange:t.onCheckedChange,disabled:o});case"select":return Ni.default.createElement("div",{className:"relative w-full sm:w-[200px] group"},Ni.default.createElement("select",{value:t.value?.toString(),onChange:l=>t.onChange?.(l.target.value),disabled:o,className:Te("w-full appearance-none","flex h-9 rounded-md border border-solid border-border bg-dropdown px-3 py-1 pr-8","text-sm !shadow transition-colors","focus:outline-none focus:ring-1 focus:ring-ring","disabled:cursor-not-allowed disabled:opacity-50","hover:bg-interactive-accent hover:text-on-accent")},t.placeholder&&Ni.default.createElement("option",{value:"",disabled:!0},t.placeholder),t.options.map(l=>Ni.default.createElement("option",{key:l.value,value:l.value.toString()},l.label))),Ni.default.createElement("div",{className:Te("pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2","transition-colors group-hover:[&>svg]:text-on-accent",o&&"opacity-50")},Ni.default.createElement(Sl,{className:"h-4 w-4"})));case"slider":return Ni.default.createElement(n$t,{value:t.value||0,onChange:t.onChange,min:t.min,max:t.max,step:t.step,disabled:o,className:"w-full sm:w-[300px]"});case"dialog":return Ni.default.createElement(AM,null,Ni.default.createElement(Dkt,{asChild:!0},t.trigger),Ni.default.createElement(xO,{container:i},(t.dialogTitle||t.dialogDescription)&&Ni.default.createElement(CO,null,t.dialogTitle&&Ni.default.createElement(OO,null,t.dialogTitle),t.dialogDescription&&Ni.default.createElement(EO,null,t.dialogDescription)),t.children));case"custom":return t.children}};return Ni.default.createElement("div",{className:Te("flex flex-col sm:flex-row items-start sm:items-center justify-between py-4 gap-4","w-full",n)},Ni.default.createElement("div",{className:"space-y-1.5 w-full sm:w-[300px]"},Ni.default.createElement("div",{className:"text-sm font-medium leading-none"},e),r&&Ni.default.createElement("div",{className:"text-xs text-muted"},r)),Ni.default.createElement("div",{className:"flex-1 w-full sm:flex sm:justify-end"},u()))}var ifn=()=>{let t=La();return LD.default.createElement("div",{className:"space-y-4"},LD.default.createElement("section",null,LD.default.createElement(go,{type:"textarea",title:"User System Prompt",description:"Customize the system prompt for all messages, may result in unexpected behavior!",value:t.userSystemPrompt,onChange:e=>Ft("userSystemPrompt",e),placeholder:"Enter your system prompt here..."}),LD.default.createElement("div",{className:"space-y-4"},LD.default.createElement(go,{type:"switch",title:"Enable Encryption",description:"Enable encryption for the API keys.",checked:t.enableEncryption,onCheckedChange:e=>{Ft("enableEncryption",e)}}),LD.default.createElement(go,{type:"switch",title:"Debug Mode",description:"Debug mode will log some debug message to the console.",checked:t.debug,onCheckedChange:e=>{Ft("debug",e)}}))))},o$t=ifn;var q$=class extends N${constructor(e,r){super(e,r,"Changing this setting means you have to rebuild the index for your entire vault, do you wish to proceed?","Rebuild Index")}};var U$=require("obsidian"),_e=k(Z());var Die=require("obsidian"),Qi=k(Z()),afn=({open:t,onOpenChange:e,settings:r,updateSetting:n,modalContainer:o})=>{let[i,a]=(0,Qi.useState)(new Set),[s,u]=(0,Qi.useState)(new Set),l=h=>{h?u(new Set):s.forEach(v=>{let g=lE[v];n(g,"")}),e(h)},c=["3rd party (openai-format)","ollama","lm-studio","azure openai","copilot-plus","copilot-plus-jina"],d=h=>{let v=lE[h];return r[v]??""},f=Object.entries(Zq).filter(([h])=>!c.includes(h)).map(([h])=>{let v=h,g=d(v);return{provider:v,apiKey:g,isVerified:!!g&&!s.has(v)}}),p=(h,v)=>{d(h)!==v&&(n(lE[h],v),u(_=>new Set(_).add(h)))},m=async(h,v)=>{a(g=>new Set(g).add(h));try{r.debug&&console.log(`Verifying ${h} API key:`,v);let g=ZA(h).testModel;if(!g){new Die.Notice("API key verification failed: No default test model found for the selected provider.",1e4);return}let _={name:g,provider:h,apiKey:v,enabled:!0};await Oo.getInstance().ping(_),new Die.Notice("API key verified successfully!"),u(S=>{let x=new Set(S);return x.delete(h),x})}catch(g){console.error("API key verification failed:",g),new Die.Notice("API key verification failed: "+sa(g),1e4)}finally{a(g=>{let _=new Set(g);return _.delete(h),_})}};return Qi.default.createElement(AM,{open:t,onOpenChange:l},Qi.default.createElement(xO,{container:o,className:"sm:max-w-[480px]"},Qi.default.createElement(CO,null,Qi.default.createElement(OO,null,"AI Provider Settings"),Qi.default.createElement(EO,null,"Configure your AI providers by adding their API keys.")),Qi.default.createElement("div",{className:"space-y-6 py-4"},Qi.default.createElement("div",{className:"space-y-4"},f.map(h=>Qi.default.createElement("div",{key:h.provider,className:"flex items-center gap-2"},Qi.default.createElement("div",{className:"w-[120px] font-medium"},Qi.default.createElement("div",{className:"truncate"},wh(h.provider)),ZA(h.provider).keyManagementURL&&Qi.default.createElement("a",{href:ZA(h.provider).keyManagementURL,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-accent hover:text-accent-hover"},"Get ",wh(h.provider)," Key")),Qi.default.createElement("div",{className:"flex-1 flex items-center gap-2"},Qi.default.createElement("div",{className:"flex-1 pr-2"},Qi.default.createElement(TM,{className:"w-full",value:h.apiKey,onChange:v=>p(h.provider,v),disabled:i.has(h.provider)})),Qi.default.createElement("div",{className:"w-[72px]"},h.isVerified?Qi.default.createElement("span",{className:"text-success text-sm flex items-center justify-center h-9"},"Verified"):Qi.default.createElement(gt,{onClick:()=>m(h.provider,h.apiKey),disabled:!h.apiKey||i.size>0,variant:"outline",size:"sm",className:"w-full whitespace-nowrap"},i.has(h.provider)?Qi.default.createElement(Qi.default.Fragment,null,Qi.default.createElement(bf,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify"):"Verify")))))))))},i$t=afn;var Uu=k(Z()),a$t=require("obsidian"),s$t=k(DE());function sfn({onConfirm:t,onCancel:e}){let r=fe();return Uu.default.createElement("div",{className:"flex flex-col gap-4"},Uu.default.createElement("div",null,Uu.default.createElement("p",null,"Thanks for purchasing ",Uu.default.createElement("b",null,"Copilot Plus"),"! You have unlocked the full power of Copilot, featuring chat context, PDF and image support, exclusive chat and embedding models, and much more!"),Uu.default.createElement("p",null,"Would you like to apply the Copilot Plus settings now? You can always change this later in Settings."),Uu.default.createElement("ul",{className:"pl-4"},Uu.default.createElement("li",null,"Default mode: ",Uu.default.createElement("b",{className:"text-accent"},"Copilot Plus")),Uu.default.createElement("li",null,"Chat model: ",Uu.default.createElement("b",{className:"text-accent"},Nxe)),Uu.default.createElement("li",null,Uu.default.createElement("div",null,"Embedding model: ",Uu.default.createElement("b",{className:"text-accent"},Lxe)),r.embeddingModelKey!==Fxe&&Uu.default.createElement("div",{className:"text-sm text-warning flex items-center gap-1"},Uu.default.createElement(_h,{className:"size-4"})," It will rebuild your embeddings for the entire vault")))),Uu.default.createElement("div",{className:"flex gap-2 justify-end w-full"},Uu.default.createElement(gt,{variant:"ghost",onClick:e},"Apply Later"),Uu.default.createElement(gt,{variant:"default",onClick:t},"Apply Now")))}var jie=class extends a$t.Modal{constructor(r){super(r);this.setTitle("Welcome to Copilot Plus \u{1F680}")}onOpen(){let{contentEl:r}=this;this.root=(0,s$t.createRoot)(r);let n=()=>{Rvt(),this.close()},o=()=>{this.close()};this.root.render(Uu.default.createElement(sfn,{onConfirm:n,onCancel:o}))}onClose(){this.root.unmount()}};var cs=k(Z());function u$t(){let t=La(),[e,r]=(0,cs.useState)(null),[n,o]=(0,cs.useState)(!1),i=VQ(),[a,s]=(0,cs.useState)(t.plusLicenseKey);return(0,cs.useEffect)(()=>{s(t.plusLicenseKey)},[t.plusLicenseKey]),cs.default.createElement("section",{className:"flex flex-col gap-4 bg-secondary p-4 rounded-lg"},cs.default.createElement("div",{className:"text-xl font-bold flex items-center gap-2 justify-between"},cs.default.createElement("span",null,"Copilot Plus (beta)"),i&&cs.default.createElement(Tm,{variant:"outline",className:"text-success"},"Active")),cs.default.createElement("div",{className:"text-sm text-muted flex flex-col gap-2"},cs.default.createElement("div",null,"Copilot Plus takes your Obsidian experience to the next level with cutting-edge AI capabilities. This premium tier unlocks advanced features, including chat context, PDF and image support, web search integration, exclusive chat and embedding models, and much more."),cs.default.createElement("div",null,"Currently in beta, Copilot Plus is evolving fast, with new features and improvements rolling out regularly. Join now to secure the lowest price and get early access!")),cs.default.createElement("div",{className:"flex items-center gap-2"},cs.default.createElement(TM,{className:"w-full",placeholder:"Enter your license key",value:a,onChange:u=>{s(u)}}),cs.default.createElement(gt,{disabled:n,onClick:async()=>{Ft("plusLicenseKey",a),o(!0);let u=await WQ();o(!1),u?(r(null),new jie(app).open()):r("Invalid license key")},className:"min-w-20"},n?cs.default.createElement(bf,{className:"h-4 w-4 animate-spin"}):"Apply"),cs.default.createElement(gt,{variant:"default",onClick:()=>_N(iE.SETTINGS)},"Join Now ",cs.default.createElement(GA,{className:"size-4"}))),cs.default.createElement("div",{className:"text-error"},e))}var lfn={["llm_chain"]:"Chat",["vault_qa"]:"Vault QA (Basic)",["copilot_plus"]:"Copilot Plus (beta)"},cfn=({indexVaultToVectorStore:t})=>{let{modalContainer:e}=Am(),r=La(),[n,o]=(0,_e.useState)(!1),[i,a]=(0,_e.useState)(!1),[s,u]=(0,_e.useState)(r.defaultConversationNoteName||"{$date}_{$time}__{$topic}"),l=async d=>{d!==r.embeddingModelKey&&new q$(app,async()=>{Ft("embeddingModelKey",d),await t(!0)}).open()},c=()=>{a(!0);try{let d=s||"{$date}_{$time}__{$topic}",p=["{$date}","{$time}","{$topic}"].filter(S=>!d.includes(S));if(p.length>0){new U$.Notice(`Error: Missing required variables: ${p.join(", ")}`,4e3);return}let m=/[\\/:*?"<>|]/,h=d.replace(/\{\$date}/g,"").replace(/\{\$time}/g,"").replace(/\{\$topic}/g,"");if(m.test(h)){new U$.Notice('Error: Format contains illegal characters (\\/:*?"<>|)',4e3);return}let{fileName:v}=bs(new Date),g="test topic name",_=d.replace("{$topic}",g.slice(0,100).replace(/\s+/g,"_")).replace("{$date}",v.split("_")[0]).replace("{$time}",v.split("_")[1]);Ft("defaultConversationNoteName",d),u(d),new U$.Notice(`Format applied successfully! Example: ${_}`,4e3)}catch(d){new U$.Notice(`Error applying format: ${d.message}`,4e3)}finally{a(!1)}};return _e.default.createElement("div",{className:"space-y-4"},_e.default.createElement(u$t,null),_e.default.createElement("section",null,_e.default.createElement("div",{className:"text-xl font-bold mb-3"},"General"),_e.default.createElement("div",{className:"space-y-4"},_e.default.createElement("div",{className:"space-y-4"},_e.default.createElement(go,{type:"custom",title:"API Keys",description:_e.default.createElement("div",{className:"flex items-center gap-1.5"},_e.default.createElement("span",{className:"leading-none"},"Configure API keys for different AI providers"),_e.default.createElement(Yf,{delayDuration:0},_e.default.createElement(cn,null,_e.default.createElement(dn,{asChild:!0},_e.default.createElement(xl,{className:"size-4"})),_e.default.createElement(Yr,{className:"max-w-96 flex flex-col gap-2 py-4"},_e.default.createElement("div",{className:"text-sm font-medium text-accent"},"API key required for chat and QA features"),_e.default.createElement("div",{className:"text-xs text-muted"},"To enable chat and QA functionality, please provide an API key from your selected provider.")))))},_e.default.createElement(gt,{onClick:()=>o(!0),variant:"outline",className:"flex items-center gap-2 w-full sm:w-auto justify-center sm:justify-start"},"Set Keys",_e.default.createElement(lz,{className:"h-4 w-4"}))),_e.default.createElement(i$t,{open:n,onOpenChange:o,settings:r,updateSetting:Ft,modalContainer:e})),_e.default.createElement(go,{type:"select",title:"Default Chat Model",description:"Select the Chat model to use",value:r.defaultModelKey,onChange:d=>{let f=r.activeModels.find(h=>h.enabled&&tn(h)===d);if(!f)return;let{hasApiKey:p,errorNotice:m}=wW(f,r);if(!p&&m){new U$.Notice(m);return}Ft("defaultModelKey",d)},options:r.activeModels.filter(d=>d.enabled).map(d=>({label:uAe(d),value:tn(d)})),placeholder:"Model"}),_e.default.createElement(go,{type:"select",title:"Embedding Model",description:_e.default.createElement("div",{className:"space-y-2"},_e.default.createElement("div",{className:"flex items-center gap-1.5"},_e.default.createElement("span",{className:"leading-none font-medium text-accent"},"Core Feature: Powers Semantic Search & QA"),_e.default.createElement(Yf,{delayDuration:0},_e.default.createElement(cn,null,_e.default.createElement(dn,{asChild:!0},_e.default.createElement(xl,{className:"size-4"})),_e.default.createElement(Yr,{className:"max-w-96 flex flex-col gap-2"},_e.default.createElement("div",{className:"text-sm text-muted pt-2"},"This model converts text into vector representations, essential for semantic search and QA functionality. Changing the embedding model will:"),_e.default.createElement("ul",{className:"text-sm text-muted pl-4"},_e.default.createElement("li",null,"Require rebuilding your vault's vector index"),_e.default.createElement("li",null,"Affect semantic search quality"),_e.default.createElement("li",null,"Impact QA feature performance"))))))),value:r.embeddingModelKey,onChange:l,options:r.activeEmbeddingModels.map(d=>({label:uAe(d),value:tn(d)})),placeholder:"Model"}),_e.default.createElement(go,{type:"select",title:"Default Mode",description:_e.default.createElement("div",{className:"flex items-center gap-1.5"},_e.default.createElement("span",{className:"leading-none"},"Select the default chat mode"),_e.default.createElement(Yf,{delayDuration:0},_e.default.createElement(cn,null,_e.default.createElement(dn,{asChild:!0},_e.default.createElement(xl,{className:"size-4"})),_e.default.createElement(Yr,{className:"max-w-96 flex flex-col gap-2"},_e.default.createElement("ul",{className:"text-sm text-muted pl-4"},_e.default.createElement("li",null,_e.default.createElement("strong",null,"Chat:")," Regular chat mode for general conversations and tasks. ",_e.default.createElement("i",null,"Free to use with your own API key.")),_e.default.createElement("li",null,_e.default.createElement("strong",null,"Vault QA (Basic):")," Ask questions about your vault content with semantic search. ",_e.default.createElement("i",null,"Free to use with your own API key.")),_e.default.createElement("li",null,_e.default.createElement("strong",null,"Copilot Plus:")," Covers all features of the 2 free modes, plus advanced paid features including chat context menu, advanced search, AI agents, and more. Check out"," ",_e.default.createElement("a",{href:Bxe(iE.MODE_SELECT_TOOLTIP),target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-accent-hover"},"obsidiancopilot.com")," ","for more details.")))))),value:r.defaultChainType,onChange:d=>Ft("defaultChainType",d),options:Object.entries(lfn).map(([d,f])=>({label:f,value:d}))}),_e.default.createElement(go,{type:"select",title:"Open Plugin In",description:"Choose where to open the plugin",value:r.defaultOpenArea,onChange:d=>Ft("defaultOpenArea",d),options:[{label:"Sidebar View",value:"view"},{label:"Editor",value:"editor"}]}),_e.default.createElement(go,{type:"text",title:"Default Conversation Folder Name",description:"The default folder name where chat conversations will be saved. Default is 'copilot-conversations'",value:r.defaultSaveFolder,onChange:d=>Ft("defaultSaveFolder",d),placeholder:"copilot-conversations"}),_e.default.createElement(go,{type:"text",title:"Custom Prompts Folder Name",description:"The default folder name where custom prompts will be saved. Default is 'copilot-custom-prompts'",value:r.customPromptsFolder,onChange:d=>Ft("customPromptsFolder",d),placeholder:"copilot-custom-prompts"}),_e.default.createElement(go,{type:"text",title:"Default Conversation Tag",description:"The default tag to be used when saving a conversation. Default is 'ai-conversations'",value:r.defaultConversationTag,onChange:d=>Ft("defaultConversationTag",d),placeholder:"ai-conversations"}),_e.default.createElement(go,{type:"custom",title:"Conversation Filename Template",description:_e.default.createElement("div",{className:"flex items-start gap-1.5 "},_e.default.createElement("span",{className:"leading-none"},"Customize the format of saved conversation note names."),_e.default.createElement(Yf,{delayDuration:0},_e.default.createElement(cn,null,_e.default.createElement(dn,{asChild:!0},_e.default.createElement(xl,{className:"size-4"})),_e.default.createElement(Yr,{className:"max-w-96 flex flex-col gap-2 py-4"},_e.default.createElement("div",{className:"text-sm font-medium text-accent"},"Note: All the following variables must be included in the template."),_e.default.createElement("div",null,_e.default.createElement("div",{className:"text-sm font-medium text-muted"},"Available variables:"),_e.default.createElement("ul",{className:"text-sm text-muted pl-4"},_e.default.createElement("li",null,_e.default.createElement("strong",null,"{$date}"),": Date in YYYYMMDD format"),_e.default.createElement("li",null,_e.default.createElement("strong",null,"{$time}"),": Time in HHMMSS format"),_e.default.createElement("li",null,_e.default.createElement("strong",null,"{$topic}"),": Chat conversation topic")),_e.default.createElement("i",{className:"text-sm text-muted mt-2"},"Example: ","{$date}_{$time}__{$topic}"," \u2192 20250114_153232__polish_this_article_[[Readme]]"))))))},_e.default.createElement("div",{className:"flex items-center gap-1.5 w-[320px]"},_e.default.createElement(us,{type:"text",className:`transition-all duration-200 flex-grow min-w-[80px] ${i?"w-[80px]":"w-[120px]"}`,placeholder:"{$date}_{$time}__{$topic}",value:s,onChange:d=>u(d.target.value),disabled:i}),_e.default.createElement(gt,{onClick:()=>c(),disabled:i,variant:"outline",size:"sm"},i?_e.default.createElement(_e.default.Fragment,null,_e.default.createElement(bf,{className:"mr-2 h-4 w-4 animate-spin"}),"Apply"):"Apply"))),_e.default.createElement(go,{type:"switch",title:"Autosave Chat",description:"Automatically save the chat when starting a new one or when the plugin reloads",checked:r.autosaveChat,onCheckedChange:d=>Ft("autosaveChat",d)}),_e.default.createElement(go,{type:"switch",title:"Suggested Prompts",description:"Show suggested prompts in the chat view",checked:r.showSuggestedPrompts,onCheckedChange:d=>Ft("showSuggestedPrompts",d)}),_e.default.createElement(go,{type:"switch",title:"Relevant Notes",description:"Show relevant notes in the chat view",checked:r.showRelevantNotes,onCheckedChange:d=>Ft("showRelevantNotes",d)}),_e.default.createElement(go,{type:"dialog",title:"Command Settings",description:"Enable or disable builtin Copilot commands",dialogTitle:"Command Settings",dialogDescription:"Enable or disable chat commands",trigger:_e.default.createElement(gt,{variant:"outline"},"Manage Commands")},_e.default.createElement("div",{className:"h-[50vh] sm:h-[400px] overflow-y-auto px-1 py-2"},_e.default.createElement("div",{className:"space-y-4"},R5.map(d=>_e.default.createElement("div",{key:d,className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 py-2 sm:py-0.5"},_e.default.createElement("div",{className:"space-y-0.5 flex-1"},_e.default.createElement("div",{className:"text-sm font-medium"},My[d])),_e.default.createElement(ES,{checked:pD(d),onCheckedChange:f=>{let p={...r.enabledCommands,[d]:{enabled:f}};Ft("enabledCommands",p)}})))))))))},l$t=cfn;var ea=k(Z());var Fe=k(Z());var N6=require("obsidian");var Nie=k(Z());var c$t=k(Z(),1);var d$t=k(ct(),1),dfn="Label",f$t=c$t.forwardRef((t,e)=>(0,d$t.jsx)(Nn.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));f$t.displayName=dfn;var wRe=f$t;var pfn=pN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),TO=Nie.forwardRef(({className:t,...e},r)=>Nie.createElement(wRe,{ref:r,className:Te(pfn(),t),...e}));TO.displayName=wRe.displayName;var Ko=k(Z());var We=k(Z(),1),kRe=k(ys(),1);var Ra=k(Z(),1);var xRe=k(ct(),1),hfn="DismissableLayer",SRe="dismissableLayer.update",mfn="dismissableLayer.pointerDownOutside",gfn="dismissableLayer.focusOutside",p$t,m$t=Ra.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),CRe=Ra.forwardRef((t,e)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...u}=t,l=Ra.useContext(m$t),[c,d]=Ra.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=Ra.useState({}),m=Uo(e,E=>d(E)),h=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(v),_=c?h.indexOf(c):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,x=_>=g,O=_fn(E=>{let M=E.target,R=[...l.branches].some(N=>N.contains(M));!x||R||(o?.(E),a?.(E),E.defaultPrevented||s?.())},f),T=vfn(E=>{let M=E.target;[...l.branches].some(N=>N.contains(M))||(i?.(E),a?.(E),E.defaultPrevented||s?.())},f);return SS(E=>{_===l.layers.size-1&&(n?.(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},f),Ra.useEffect(()=>{if(c)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(p$t=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),h$t(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=p$t)}},[c,f,r,l]),Ra.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),h$t())},[c,l]),Ra.useEffect(()=>{let E=()=>p({});return document.addEventListener(SRe,E),()=>document.removeEventListener(SRe,E)},[]),(0,xRe.jsx)(Nn.div,{...u,ref:m,style:{pointerEvents:S?x?"auto":"none":void 0,...t.style},onFocusCapture:ko(t.onFocusCapture,T.onFocusCapture),onBlurCapture:ko(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ko(t.onPointerDownCapture,O.onPointerDownCapture)})});CRe.displayName=hfn;var yfn="DismissableLayerBranch",bfn=Ra.forwardRef((t,e)=>{let r=Ra.useContext(m$t),n=Ra.useRef(null),o=Uo(e,n);return Ra.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),(0,xRe.jsx)(Nn.div,{...t,ref:o})});bfn.displayName=yfn;function _fn(t,e=globalThis?.document){let r=Jt(t),n=Ra.useRef(!1),o=Ra.useRef(()=>{});return Ra.useEffect(()=>{let i=s=>{if(s.target&&!n.current){let l=function(){g$t(mfn,r,c,{discrete:!0})};var u=l;let c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function vfn(t,e=globalThis?.document){let r=Jt(t),n=Ra.useRef(!1);return Ra.useEffect(()=>{let o=i=>{i.target&&!n.current&&g$t(gfn,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function h$t(){let t=new CustomEvent(SRe);document.dispatchEvent(t)}function g$t(t,e,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?Bkt(o,i):o.dispatchEvent(i)}var Im=k(Z(),1);var w$t=k(ct(),1),ORe="focusScope.autoFocusOnMount",ERe="focusScope.autoFocusOnUnmount",y$t={bubbles:!1,cancelable:!0},wfn="FocusScope",PRe=Im.forwardRef((t,e)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[s,u]=Im.useState(null),l=Jt(o),c=Jt(i),d=Im.useRef(null),f=Uo(e,h=>u(h)),p=Im.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Im.useEffect(()=>{if(n){let _=function(T){if(p.paused||!s)return;let E=T.target;s.contains(E)?d.current=E:DM(d.current,{select:!0})},S=function(T){if(p.paused||!s)return;let E=T.relatedTarget;E!==null&&(s.contains(E)||DM(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(let M of T)M.removedNodes.length>0&&DM(s)};var h=_,v=S,g=x;document.addEventListener("focusin",_),document.addEventListener("focusout",S);let O=new MutationObserver(x);return s&&O.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),O.disconnect()}}},[n,s,p.paused]),Im.useEffect(()=>{if(s){_$t.add(p);let h=document.activeElement;if(!s.contains(h)){let g=new CustomEvent(ORe,y$t);s.addEventListener(ORe,l),s.dispatchEvent(g),g.defaultPrevented||(Sfn(Pfn(S$t(s)),{select:!0}),document.activeElement===h&&DM(s))}return()=>{s.removeEventListener(ORe,l),setTimeout(()=>{let g=new CustomEvent(ERe,y$t);s.addEventListener(ERe,c),s.dispatchEvent(g),g.defaultPrevented||DM(h??document.body,{select:!0}),s.removeEventListener(ERe,c),_$t.remove(p)},0)}}},[s,l,c,p]);let m=Im.useCallback(h=>{if(!r&&!n||p.paused)return;let v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(v&&g){let _=h.currentTarget,[S,x]=xfn(_);S&&x?!h.shiftKey&&g===x?(h.preventDefault(),r&&DM(S,{select:!0})):h.shiftKey&&g===S&&(h.preventDefault(),r&&DM(x,{select:!0})):g===_&&h.preventDefault()}},[r,n,p.paused]);return(0,w$t.jsx)(Nn.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});PRe.displayName=wfn;function Sfn(t,{select:e=!1}={}){let r=document.activeElement;for(let n of t)if(DM(n,{select:e}),document.activeElement!==r)return}function xfn(t){let e=S$t(t),r=b$t(e,t),n=b$t(e.reverse(),t);return[r,n]}function S$t(t){let e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function b$t(t,e){for(let r of t)if(!Cfn(r,{upTo:e}))return r}function Cfn(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ofn(t){return t instanceof HTMLInputElement&&"select"in t}function DM(t,{select:e=!1}={}){if(t&&t.focus){let r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Ofn(t)&&e&&t.select()}}var _$t=Efn();function Efn(){let t=[];return{add(e){let r=t[0];e!==r&&r?.pause(),t=v$t(t,e),t.unshift(e)},remove(e){t=v$t(t,e),t[0]?.resume()}}}function v$t(t,e){let r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Pfn(t){return t.filter(e=>e.tagName!=="A")}var Kp=k(Z(),1);var x$t=k(Z(),1);var TRe=k(ct(),1),Tfn="Arrow",C$t=x$t.forwardRef((t,e)=>{let{children:r,width:n=10,height:o=5,...i}=t;return(0,TRe.jsx)(Nn.svg,{...i,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:(0,TRe.jsx)("polygon",{points:"0,0 30,0 15,10"})})});C$t.displayName=Tfn;var O$t=C$t;var MO=k(Z(),1),E$t=k(ct(),1);function P$t(t,e=[]){let r=[];function n(i,a){let s=MO.createContext(a),u=r.length;r=[...r,a];function l(d){let{scope:f,children:p,...m}=d,h=f?.[t][u]||s,v=MO.useMemo(()=>m,Object.values(m));return(0,E$t.jsx)(h.Provider,{value:v,children:p})}function c(d,f){let p=f?.[t][u]||s,m=MO.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return l.displayName=i+"Provider",[l,c]}let o=()=>{let i=r.map(a=>MO.createContext(a));return function(s){let u=s?.[t]||i;return MO.useMemo(()=>({[`__scope${t}`]:{...s,[t]:u}}),[s,u])}};return o.scopeName=t,[n,Afn(o,...e)]}function Afn(...t){let e=t[0];if(t.length===1)return e;let r=()=>{let n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let a=n.reduce((s,{useScope:u,scopeName:l})=>{let d=u(i)[`__scope${l}`];return{...s,...d}},{});return MO.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var jM=k(ct(),1);var MRe="Popper",[T$t,ARe]=P$t(MRe),[Rfn,M$t]=T$t(MRe),A$t=t=>{let{__scopePopper:e,children:r}=t,[n,o]=Kp.useState(null);return(0,jM.jsx)(Rfn,{scope:e,anchor:n,onAnchorChange:o,children:r})};A$t.displayName=MRe;var R$t="PopperAnchor",I$t=Kp.forwardRef((t,e)=>{let{__scopePopper:r,virtualRef:n,...o}=t,i=M$t(R$t,r),a=Kp.useRef(null),s=Uo(e,a);return Kp.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:(0,jM.jsx)(Nn.div,{...o,ref:s})});I$t.displayName=R$t;var RRe="PopperContent",[Ifn,Dfn]=T$t(RRe),D$t=Kp.forwardRef((t,e)=>{let{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...h}=t,v=M$t(RRe,r),[g,_]=Kp.useState(null),S=Uo(e,le=>_(le)),[x,O]=Kp.useState(null),T=Om(x),E=T?.width??0,M=T?.height??0,R=n+(i!=="center"?"-"+i:""),N=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},j=Array.isArray(l)?l:[l],F=j.length>0,B={padding:N,boundary:j.filter(Nfn),altBoundary:F},{refs:L,floatingStyles:q,placement:U,isPositioned:J,middlewareData:H}=sM({strategy:"fixed",placement:R,whileElementsMounted:(...le)=>bO(...le,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[uM({mainAxis:o+M,alignmentAxis:a}),u&&lM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cM():void 0,...B}),u&&dM({...B}),fM({...B,apply:({elements:le,rects:Ae,availableWidth:mt,availableHeight:we})=>{let{width:ae,height:ee}=Ae.reference,ye=le.floating.style;ye.setProperty("--radix-popper-available-width",`${mt}px`),ye.setProperty("--radix-popper-available-height",`${we}px`),ye.setProperty("--radix-popper-anchor-width",`${ae}px`),ye.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),x&&hM({element:x,padding:s}),Lfn({arrowWidth:E,arrowHeight:M}),f&&pM({strategy:"referenceHidden",...B})]}),[I,V]=L$t(U),W=Jt(m);Br(()=>{J&&W?.()},[J,W]);let K=H.arrow?.x,ne=H.arrow?.y,Be=H.arrow?.centerOffset!==0,[X,Q]=Kp.useState();return Br(()=>{g&&Q(window.getComputedStyle(g).zIndex)},[g]),(0,jM.jsx)("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:J?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,["--radix-popper-transform-origin"]:[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,jM.jsx)(Ifn,{scope:r,placedSide:I,onArrowChange:O,arrowX:K,arrowY:ne,shouldHideArrow:Be,children:(0,jM.jsx)(Nn.div,{"data-side":I,"data-align":V,...h,ref:S,style:{...h.style,animation:J?void 0:"none"}})})})});D$t.displayName=RRe;var j$t="PopperArrow",jfn={top:"bottom",right:"left",bottom:"top",left:"right"},N$t=Kp.forwardRef(function(e,r){let{__scopePopper:n,...o}=e,i=Dfn(j$t,n),a=jfn[i.placedSide];return(0,jM.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,jM.jsx)(O$t,{...o,ref:r,style:{...o.style,display:"block"}})})});N$t.displayName=j$t;function Nfn(t){return t!==null}var Lfn=t=>({name:"transformOrigin",options:t,fn(e){let{placement:r,rects:n,middlewareData:o}=e,a=o.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[l,c]=L$t(r),d={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+u/2,m="",h="";return l==="bottom"?(m=a?d:`${f}px`,h=`${-u}px`):l==="top"?(m=a?d:`${f}px`,h=`${n.floating.height+u}px`):l==="right"?(m=`${-u}px`,h=a?d:`${p}px`):l==="left"&&(m=`${n.floating.width+u}px`,h=a?d:`${p}px`),{data:{x:m,y:h}}}});function L$t(t){let[e,r="center"]=t.split("-");return[e,r]}var F$t=A$t,B$t=I$t,k$t=D$t,$$t=N$t;var Lie=k(Z(),1),q$t=k(ys(),1);var U$t=k(ct(),1),Bfn="Portal",IRe=Lie.forwardRef((t,e)=>{let{container:r,...n}=t,[o,i]=Lie.useState(!1);Br(()=>i(!0),[]);let a=r||o&&globalThis?.document?.body;return a?q$t.default.createPortal((0,U$t.jsx)(Nn.div,{...n,ref:e}),a):null});IRe.displayName=Bfn;var z$t=k(Z(),1);var H$t=k(ct(),1),kfn="VisuallyHidden",DRe=z$t.forwardRef((t,e)=>(0,H$t.jsx)(Nn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));DRe.displayName=kfn;var Lt=k(ct(),1),$fn=[" ","Enter","ArrowUp","ArrowDown"],qfn=[" ","Enter"],j6="Select",[Bie,kie,Ufn]=Rie(j6),[z$,L9o]=Do(j6,[Ufn,ARe]),$ie=ARe(),[zfn,NM]=z$(j6),[Hfn,Vfn]=z$(j6),V$t=t=>{let{__scopeSelect:e,children:r,open:n,defaultOpen:o,onOpenChange:i,value:a,defaultValue:s,onValueChange:u,dir:l,name:c,autoComplete:d,disabled:f,required:p,form:m}=t,h=$ie(e),[v,g]=We.useState(null),[_,S]=We.useState(null),[x,O]=We.useState(!1),T=oM(l),[E=!1,M]=ll({prop:n,defaultProp:o,onChange:i}),[R,N]=ll({prop:a,defaultProp:s,onChange:u}),j=We.useRef(null),F=v?m||!!v.closest("form"):!0,[B,L]=We.useState(new Set),q=Array.from(B).map(U=>U.props.value).join(";");return(0,Lt.jsx)(F$t,{...h,children:(0,Lt.jsxs)(zfn,{required:p,scope:e,trigger:v,onTriggerChange:g,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:x,onValueNodeHasChildrenChange:O,contentId:Ja(),value:R,onValueChange:N,open:E,onOpenChange:M,dir:T,triggerPointerDownPosRef:j,disabled:f,children:[(0,Lt.jsx)(Bie.Provider,{scope:e,children:(0,Lt.jsx)(Hfn,{scope:t.__scopeSelect,onNativeOptionAdd:We.useCallback(U=>{L(J=>new Set(J).add(U))},[]),onNativeOptionRemove:We.useCallback(U=>{L(J=>{let H=new Set(J);return H.delete(U),H})},[]),children:r})}),F?(0,Lt.jsxs)(gqt,{"aria-hidden":!0,required:p,tabIndex:-1,name:c,autoComplete:d,value:R,onChange:U=>N(U.target.value),disabled:f,form:m,children:[R===void 0?(0,Lt.jsx)("option",{value:""}):null,Array.from(B)]},q):null]})})};V$t.displayName=j6;var W$t="SelectTrigger",J$t=We.forwardRef((t,e)=>{let{__scopeSelect:r,disabled:n=!1,...o}=t,i=$ie(r),a=NM(W$t,r),s=a.disabled||n,u=Uo(e,a.onTriggerChange),l=kie(r),c=We.useRef("touch"),[d,f,p]=yqt(h=>{let v=l().filter(S=>!S.disabled),g=v.find(S=>S.value===a.value),_=bqt(v,h,g);_!==void 0&&a.onValueChange(_.value)}),m=h=>{s||(a.onOpenChange(!0),p()),h&&(a.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return(0,Lt.jsx)(B$t,{asChild:!0,...i,children:(0,Lt.jsx)(Nn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":mqt(a.value)?"":void 0,...o,ref:u,onClick:ko(o.onClick,h=>{h.currentTarget.focus(),c.current!=="mouse"&&m(h)}),onPointerDown:ko(o.onPointerDown,h=>{c.current=h.pointerType;let v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(m(h),h.preventDefault())}),onKeyDown:ko(o.onKeyDown,h=>{let v=d.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&f(h.key),!(v&&h.key===" ")&&$fn.includes(h.key)&&(m(),h.preventDefault())})})})});J$t.displayName=W$t;var G$t="SelectValue",K$t=We.forwardRef((t,e)=>{let{__scopeSelect:r,className:n,style:o,children:i,placeholder:a="",...s}=t,u=NM(G$t,r),{onValueNodeHasChildrenChange:l}=u,c=i!==void 0,d=Uo(e,u.onValueNodeChange);return Br(()=>{l(c)},[l,c]),(0,Lt.jsx)(Nn.span,{...s,ref:d,style:{pointerEvents:"none"},children:mqt(u.value)?(0,Lt.jsx)(Lt.Fragment,{children:a}):i})});K$t.displayName=G$t;var Wfn="SelectIcon",Y$t=We.forwardRef((t,e)=>{let{__scopeSelect:r,children:n,...o}=t;return(0,Lt.jsx)(Nn.span,{"aria-hidden":!0,...o,ref:e,children:n||"\u25BC"})});Y$t.displayName=Wfn;var Jfn="SelectPortal",X$t=t=>(0,Lt.jsx)(IRe,{asChild:!0,...t});X$t.displayName=Jfn;var FD="SelectContent",Z$t=We.forwardRef((t,e)=>{let r=NM(FD,t.__scopeSelect),[n,o]=We.useState();if(Br(()=>{o(new DocumentFragment)},[]),!r.open){let i=n;return i?kRe.createPortal((0,Lt.jsx)(Q$t,{scope:t.__scopeSelect,children:(0,Lt.jsx)(Bie.Slot,{scope:t.__scopeSelect,children:(0,Lt.jsx)("div",{children:t.children})})}),i):null}return(0,Lt.jsx)(eqt,{...t,ref:e})});Z$t.displayName=FD;var dy=10,[Q$t,LM]=z$(FD),Gfn="SelectContentImpl",eqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:s,sideOffset:u,align:l,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:h,avoidCollisions:v,...g}=t,_=NM(FD,r),[S,x]=We.useState(null),[O,T]=We.useState(null),E=Uo(e,le=>x(le)),[M,R]=We.useState(null),[N,j]=We.useState(null),F=kie(r),[B,L]=We.useState(!1),q=We.useRef(!1);We.useEffect(()=>{if(S)return bM(S)},[S]),iM();let U=We.useCallback(le=>{let[Ae,...mt]=F().map(ee=>ee.ref.current),[we]=mt.slice(-1),ae=document.activeElement;for(let ee of le)if(ee===ae||(ee?.scrollIntoView({block:"nearest"}),ee===Ae&&O&&(O.scrollTop=0),ee===we&&O&&(O.scrollTop=O.scrollHeight),ee?.focus(),document.activeElement!==ae))return},[F,O]),J=We.useCallback(()=>U([M,S]),[U,M,S]);We.useEffect(()=>{B&&J()},[B,J]);let{onOpenChange:H,triggerPointerDownPosRef:I}=_;We.useEffect(()=>{if(S){let le={x:0,y:0},Ae=we=>{le={x:Math.abs(Math.round(we.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(I.current?.y??0))}},mt=we=>{le.x<=10&&le.y<=10?we.preventDefault():S.contains(we.target)||H(!1),document.removeEventListener("pointermove",Ae),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",mt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",mt,{capture:!0})}}},[S,H,I]),We.useEffect(()=>{let le=()=>H(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[H]);let[V,W]=yqt(le=>{let Ae=F().filter(ae=>!ae.disabled),mt=Ae.find(ae=>ae.ref.current===document.activeElement),we=bqt(Ae,le,mt);we&&setTimeout(()=>we.ref.current.focus())}),K=We.useCallback((le,Ae,mt)=>{let we=!q.current&&!mt;(_.value!==void 0&&_.value===Ae||we)&&(R(le),we&&(q.current=!0))},[_.value]),ne=We.useCallback(()=>S?.focus(),[S]),Be=We.useCallback((le,Ae,mt)=>{let we=!q.current&&!mt;(_.value!==void 0&&_.value===Ae||we)&&j(le)},[_.value]),X=n==="popper"?jRe:tqt,Q=X===jRe?{side:s,sideOffset:u,align:l,alignOffset:c,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:h,avoidCollisions:v}:{};return(0,Lt.jsx)(Q$t,{scope:r,content:S,viewport:O,onViewportChange:T,itemRefCallback:K,selectedItem:M,onItemLeave:ne,itemTextRefCallback:Be,focusSelectedItem:J,selectedItemText:N,position:n,isPositioned:B,searchRef:V,children:(0,Lt.jsx)(I6,{as:Fy,allowPinchZoom:!0,children:(0,Lt.jsx)(PRe,{asChild:!0,trapped:_.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ko(o,le=>{_.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:(0,Lt.jsx)(CRe,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:(0,Lt.jsx)(X,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:le=>le.preventDefault(),...g,...Q,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ko(g.onKeyDown,le=>{let Ae=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Ae&&le.key.length===1&&W(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let we=F().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(le.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){let ae=le.target,ee=we.indexOf(ae);we=we.slice(ee+1)}setTimeout(()=>U(we)),le.preventDefault()}})})})})})})});eqt.displayName=Gfn;var Kfn="SelectItemAlignedPosition",tqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,onPlaced:n,...o}=t,i=NM(FD,r),a=LM(FD,r),[s,u]=We.useState(null),[l,c]=We.useState(null),d=Uo(e,E=>c(E)),f=kie(r),p=We.useRef(!1),m=We.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:g,focusSelectedItem:_}=a,S=We.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&l&&h&&v&&g){let E=i.trigger.getBoundingClientRect(),M=l.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),N=g.getBoundingClientRect();if(i.dir!=="rtl"){let ae=N.left-M.left,ee=R.left-ae,ye=E.left-ee,Ue=E.width+ye,dt=Math.max(Ue,M.width),Je=window.innerWidth-dy,sr=B$(ee,[dy,Math.max(dy,Je-dt)]);s.style.minWidth=Ue+"px",s.style.left=sr+"px"}else{let ae=M.right-N.right,ee=window.innerWidth-R.right-ae,ye=window.innerWidth-E.right-ee,Ue=E.width+ye,dt=Math.max(Ue,M.width),Je=window.innerWidth-dy,sr=B$(ee,[dy,Math.max(dy,Je-dt)]);s.style.minWidth=Ue+"px",s.style.right=sr+"px"}let j=f(),F=window.innerHeight-dy*2,B=h.scrollHeight,L=window.getComputedStyle(l),q=parseInt(L.borderTopWidth,10),U=parseInt(L.paddingTop,10),J=parseInt(L.borderBottomWidth,10),H=parseInt(L.paddingBottom,10),I=q+U+B+H+J,V=Math.min(v.offsetHeight*5,I),W=window.getComputedStyle(h),K=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),Be=E.top+E.height/2-dy,X=F-Be,Q=v.offsetHeight/2,le=v.offsetTop+Q,Ae=q+U+le,mt=I-Ae;if(Ae<=Be){let ae=j.length>0&&v===j[j.length-1].ref.current;s.style.bottom="0px";let ee=l.clientHeight-h.offsetTop-h.offsetHeight,ye=Math.max(X,Q+(ae?ne:0)+ee+J),Ue=Ae+ye;s.style.height=Ue+"px"}else{let ae=j.length>0&&v===j[0].ref.current;s.style.top="0px";let ye=Math.max(Be,q+h.offsetTop+(ae?K:0)+Q)+mt;s.style.height=ye+"px",h.scrollTop=Ae-Be+h.offsetTop}s.style.margin=`${dy}px 0`,s.style.minHeight=V+"px",s.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,s,l,h,v,g,i.dir,n]);Br(()=>S(),[S]);let[x,O]=We.useState();Br(()=>{l&&O(window.getComputedStyle(l).zIndex)},[l]);let T=We.useCallback(E=>{E&&m.current===!0&&(S(),_?.(),m.current=!1)},[S,_]);return(0,Lt.jsx)(Xfn,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:T,children:(0,Lt.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:(0,Lt.jsx)(Nn.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});tqt.displayName=Kfn;var Yfn="SelectPopperPosition",jRe=We.forwardRef((t,e)=>{let{__scopeSelect:r,align:n="start",collisionPadding:o=dy,...i}=t,a=$ie(r);return(0,Lt.jsx)(k$t,{...a,...i,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jRe.displayName=Yfn;var[Xfn,$Re]=z$(FD,{}),NRe="SelectViewport",rqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,nonce:n,...o}=t,i=LM(NRe,r),a=$Re(NRe,r),s=Uo(e,i.onViewportChange),u=We.useRef(0);return(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,Lt.jsx)(Bie.Slot,{scope:r,children:(0,Lt.jsx)(Nn.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ko(o.onScroll,l=>{let c=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f?.current&&d){let p=Math.abs(u.current-c.scrollTop);if(p>0){let m=window.innerHeight-dy*2,h=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),g=Math.max(h,v);if(g<m){let _=g+p,S=Math.min(m,_),x=_-S;d.style.height=S+"px",d.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}u.current=c.scrollTop})})})]})});rqt.displayName=NRe;var nqt="SelectGroup",[Zfn,Qfn]=z$(nqt),epn=We.forwardRef((t,e)=>{let{__scopeSelect:r,...n}=t,o=Ja();return(0,Lt.jsx)(Zfn,{scope:r,id:o,children:(0,Lt.jsx)(Nn.div,{role:"group","aria-labelledby":o,...n,ref:e})})});epn.displayName=nqt;var oqt="SelectLabel",iqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,...n}=t,o=Qfn(oqt,r);return(0,Lt.jsx)(Nn.div,{id:o.id,...n,ref:e})});iqt.displayName=oqt;var Fie="SelectItem",[tpn,aqt]=z$(Fie),sqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,value:n,disabled:o=!1,textValue:i,...a}=t,s=NM(Fie,r),u=LM(Fie,r),l=s.value===n,[c,d]=We.useState(i??""),[f,p]=We.useState(!1),m=Uo(e,_=>u.itemRefCallback?.(_,n,o)),h=Ja(),v=We.useRef("touch"),g=()=>{o||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Lt.jsx)(tpn,{scope:r,value:n,disabled:o,textId:h,isSelected:l,onItemTextChange:We.useCallback(_=>{d(S=>S||(_?.textContent??"").trim())},[]),children:(0,Lt.jsx)(Bie.ItemSlot,{scope:r,value:n,disabled:o,textValue:c,children:(0,Lt.jsx)(Nn.div,{role:"option","aria-labelledby":h,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:m,onFocus:ko(a.onFocus,()=>p(!0)),onBlur:ko(a.onBlur,()=>p(!1)),onClick:ko(a.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:ko(a.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:ko(a.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:ko(a.onPointerMove,_=>{v.current=_.pointerType,o?u.onItemLeave?.():v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ko(a.onPointerLeave,_=>{_.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ko(a.onKeyDown,_=>{u.searchRef?.current!==""&&_.key===" "||(qfn.includes(_.key)&&g(),_.key===" "&&_.preventDefault())})})})})});sqt.displayName=Fie;var D6="SelectItemText",uqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,className:n,style:o,...i}=t,a=NM(D6,r),s=LM(D6,r),u=aqt(D6,r),l=Vfn(D6,r),[c,d]=We.useState(null),f=Uo(e,g=>d(g),u.onItemTextChange,g=>s.itemTextRefCallback?.(g,u.value,u.disabled)),p=c?.textContent,m=We.useMemo(()=>(0,Lt.jsx)("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=l;return Br(()=>(h(m),()=>v(m)),[h,v,m]),(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)(Nn.span,{id:u.textId,...i,ref:f}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?kRe.createPortal(i.children,a.valueNode):null]})});uqt.displayName=D6;var lqt="SelectItemIndicator",cqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,...n}=t;return aqt(lqt,r).isSelected?(0,Lt.jsx)(Nn.span,{"aria-hidden":!0,...n,ref:e}):null});cqt.displayName=lqt;var LRe="SelectScrollUpButton",dqt=We.forwardRef((t,e)=>{let r=LM(LRe,t.__scopeSelect),n=$Re(LRe,t.__scopeSelect),[o,i]=We.useState(!1),a=Uo(e,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let u=function(){let c=l.scrollTop>0;i(c)};var s=u;let l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?(0,Lt.jsx)(pqt,{...t,ref:a,onAutoScroll:()=>{let{viewport:s,selectedItem:u}=r;s&&u&&(s.scrollTop=s.scrollTop-u.offsetHeight)}}):null});dqt.displayName=LRe;var FRe="SelectScrollDownButton",fqt=We.forwardRef((t,e)=>{let r=LM(FRe,t.__scopeSelect),n=$Re(FRe,t.__scopeSelect),[o,i]=We.useState(!1),a=Uo(e,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let u=function(){let c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};var s=u;let l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?(0,Lt.jsx)(pqt,{...t,ref:a,onAutoScroll:()=>{let{viewport:s,selectedItem:u}=r;s&&u&&(s.scrollTop=s.scrollTop+u.offsetHeight)}}):null});fqt.displayName=FRe;var pqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,onAutoScroll:n,...o}=t,i=LM("SelectScrollButton",r),a=We.useRef(null),s=kie(r),u=We.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return We.useEffect(()=>()=>u(),[u]),Br(()=>{s().find(c=>c.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),(0,Lt.jsx)(Nn.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:ko(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ko(o.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ko(o.onPointerLeave,()=>{u()})})}),rpn="SelectSeparator",hqt=We.forwardRef((t,e)=>{let{__scopeSelect:r,...n}=t;return(0,Lt.jsx)(Nn.div,{"aria-hidden":!0,...n,ref:e})});hqt.displayName=rpn;var BRe="SelectArrow",npn=We.forwardRef((t,e)=>{let{__scopeSelect:r,...n}=t,o=$ie(r),i=NM(BRe,r),a=LM(BRe,r);return i.open&&a.position==="popper"?(0,Lt.jsx)($$t,{...o,...n,ref:e}):null});npn.displayName=BRe;function mqt(t){return t===""||t===void 0}var gqt=We.forwardRef((t,e)=>{let{value:r,...n}=t,o=We.useRef(null),i=Uo(e,o),a=k$(r);return We.useEffect(()=>{let s=o.current,u=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==r&&c){let d=new Event("change",{bubbles:!0});c.call(s,r),s.dispatchEvent(d)}},[a,r]),(0,Lt.jsx)(DRe,{asChild:!0,children:(0,Lt.jsx)("select",{...n,ref:i,defaultValue:r})})});gqt.displayName="BubbleSelect";function yqt(t){let e=Jt(t),r=We.useRef(""),n=We.useRef(0),o=We.useCallback(a=>{let s=r.current+a;e(s),function u(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(s)},[e]),i=We.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return We.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,i]}function bqt(t,e,r){let o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1,a=opn(t,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));let u=a.find(l=>l.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function opn(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _qt=V$t,qRe=J$t,vqt=K$t,wqt=Y$t,Sqt=X$t,URe=Z$t,xqt=rqt;var zRe=iqt,HRe=sqt,Cqt=uqt,Oqt=cqt,VRe=dqt,WRe=fqt,JRe=hqt;var Eqt=_qt;var Pqt=vqt,GRe=Ko.forwardRef(({className:t,children:e,...r},n)=>Ko.createElement(qRe,{ref:n,className:Te("border-solid !bg-dropdown !shadow-sm transition-colors","focus-visible:shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"," hover:data-[state=closed]:!bg-interactive-accent hover:data-[state=closed]:!text-on-accent","flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-border px-3 py-1 text-sm ring-offset-ring placeholder:text-muted focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r},e,Ko.createElement(wqt,{asChild:!0},Ko.createElement(Sl,{className:"h-4 w-4"}))));GRe.displayName=qRe.displayName;var Tqt=Ko.forwardRef(({className:t,...e},r)=>Ko.createElement(VRe,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",t),...e},Ko.createElement(VA,{className:"h-4 w-4"})));Tqt.displayName=VRe.displayName;var Mqt=Ko.forwardRef(({className:t,...e},r)=>Ko.createElement(WRe,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",t),...e},Ko.createElement(Sl,{className:"h-4 w-4"})));Mqt.displayName=WRe.displayName;var KRe=Ko.forwardRef(({className:t,children:e,position:r="popper",container:n,...o},i)=>Ko.createElement(Sqt,{container:n},Ko.createElement(URe,{ref:i,className:Te("relative z-modal max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-primary text-normal  shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o},Ko.createElement(Tqt,null),Ko.createElement(xqt,{className:Te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]")},e),Ko.createElement(Mqt,null))));KRe.displayName=URe.displayName;var apn=Ko.forwardRef(({className:t,...e},r)=>Ko.createElement(zRe,{ref:r,className:Te("px-2 py-1.5 text-sm font-semibold",t),...e}));apn.displayName=zRe.displayName;var YRe=Ko.forwardRef(({className:t,children:e,...r},n)=>Ko.createElement(HRe,{ref:n,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-interactive-accent focus:text-on-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r},Ko.createElement("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},Ko.createElement(Oqt,null,Ko.createElement(ig,{className:"h-4 w-4"}))),Ko.createElement(Cqt,null,e)));YRe.displayName=HRe.displayName;var spn=Ko.forwardRef(({className:t,...e},r)=>Ko.createElement(JRe,{ref:r,className:Te("-mx-1 my-1 h-px bg-primary-alt",t),...e}));spn.displayName=JRe.displayName;var V$=k(Z());var Yp=k(Z(),1);var Rqt=k(Z(),1);function Aqt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XRe(...t){return e=>{let r=!1,n=t.map(o=>{let i=Aqt(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():Aqt(t[o],null)}}}}function Iqt(...t){return Rqt.useCallback(XRe(...t),t)}function ZRe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}var Dqt=k(Z(),1),fpn=k(ys(),1);var jc=k(Z(),1);var H$=k(ct(),1),eIe=jc.forwardRef((t,e)=>{let{children:r,...n}=t,o=jc.Children.toArray(r),i=o.find(lpn);if(i){let a=i.props.children,s=o.map(u=>u===i?jc.Children.count(a)>1?jc.Children.only(null):jc.isValidElement(a)?a.props.children:null:u);return(0,H$.jsx)(QRe,{...n,ref:e,children:jc.isValidElement(a)?jc.cloneElement(a,void 0,s):null})}return(0,H$.jsx)(QRe,{...n,ref:e,children:r})});eIe.displayName="Slot";var QRe=jc.forwardRef((t,e)=>{let{children:r,...n}=t;if(jc.isValidElement(r)){let o=dpn(r);return jc.cloneElement(r,{...cpn(n,r.props),ref:e?XRe(e,o):o})}return jc.Children.count(r)>1?jc.Children.only(null):null});QRe.displayName="SlotClone";var upn=({children:t})=>(0,H$.jsx)(H$.Fragment,{children:t});function lpn(t){return jc.isValidElement(t)&&t.type===upn}function cpn(t,e){let r={...e};for(let n in e){let o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{i(...s),o(...s)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function dpn(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var jqt=k(ct(),1),ppn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tIe=ppn.reduce((t,e)=>{let r=Dqt.forwardRef((n,o)=>{let{asChild:i,...a}=n,s=i?eIe:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,jqt.jsx)(s,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});var BM=k(ct(),1),rIe="Checkbox",[hpn,tWo]=Do(rIe),[mpn,gpn]=hpn(rIe),Nqt=Yp.forwardRef((t,e)=>{let{__scopeCheckbox:r,name:n,checked:o,defaultChecked:i,required:a,disabled:s,value:u="on",onCheckedChange:l,form:c,...d}=t,[f,p]=Yp.useState(null),m=Iqt(e,x=>p(x)),h=Yp.useRef(!1),v=f?c||!!f.closest("form"):!0,[g=!1,_]=ll({prop:o,defaultProp:i,onChange:l}),S=Yp.useRef(g);return Yp.useEffect(()=>{let x=f?.form;if(x){let O=()=>_(S.current);return x.addEventListener("reset",O),()=>x.removeEventListener("reset",O)}},[f,_]),(0,BM.jsxs)(mpn,{scope:r,state:g,disabled:s,children:[(0,BM.jsx)(tIe.button,{type:"button",role:"checkbox","aria-checked":FM(g)?"mixed":g,"aria-required":a,"data-state":Bqt(g),"data-disabled":s?"":void 0,disabled:s,value:u,...d,ref:m,onKeyDown:ZRe(t.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ZRe(t.onClick,x=>{_(O=>FM(O)?!0:!O),v&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})}),v&&(0,BM.jsx)(ypn,{control:f,bubbles:!h.current,name:n,value:u,checked:g,required:a,disabled:s,form:c,style:{transform:"translateX(-100%)"},defaultChecked:FM(i)?!1:i})]})});Nqt.displayName=rIe;var Lqt="CheckboxIndicator",Fqt=Yp.forwardRef((t,e)=>{let{__scopeCheckbox:r,forceMount:n,...o}=t,i=gpn(Lqt,r);return(0,BM.jsx)(ku,{present:n||FM(i.state)||i.state===!0,children:(0,BM.jsx)(tIe.span,{"data-state":Bqt(i.state),"data-disabled":i.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});Fqt.displayName=Lqt;var ypn=t=>{let{control:e,checked:r,bubbles:n=!0,defaultChecked:o,...i}=t,a=Yp.useRef(null),s=k$(r),u=Om(e);Yp.useEffect(()=>{let c=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==r&&p){let m=new Event("click",{bubbles:n});c.indeterminate=FM(r),p.call(c,FM(r)?!1:r),c.dispatchEvent(m)}},[s,r,n]);let l=Yp.useRef(FM(r)?!1:r);return(0,BM.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??l.current,...i,tabIndex:-1,ref:a,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function FM(t){return t==="indeterminate"}function Bqt(t){return FM(t)?"indeterminate":t?"checked":"unchecked"}var nIe=Nqt,kqt=Fqt;var fy=V$.forwardRef(({className:t,...e},r)=>V$.createElement(nIe,{ref:r,className:Te("p-0 border-solid !bg-transparent !shadow transition-colors","hover:!bg-interactive-accent hover:!text-on-accent data-[state=checked]:!bg-interactive-accent data-[state=checked]:!text-on-accent","peer h-4 w-4 shrink-0 rounded-sm border border-interactive-accent focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-interactive-accent data-[state=checked]:text-on-accent",t),...e},V$.createElement(kqt,{className:Te("flex items-center justify-center text-current")},V$.createElement(ig,{className:"h-4 w-4"}))));fy.displayName=nIe.displayName;var W$=k(Z());var yd=({label:t,required:e=!1,error:r=!1,description:n,errorMessage:o="This field is required",children:i})=>W$.default.createElement("div",{className:"space-y-2"},W$.default.createElement(TO,{className:r?"text-error":""},t," ",e&&W$.default.createElement("span",{className:"text-error"},"*")),i,r&&W$.default.createElement("p",{className:"text-xs text-error"},o),n&&W$.default.createElement("p",{className:"text-sm text-muted"},n));var oIe=({open:t,onOpenChange:e,onAdd:r,ping:n,isEmbeddingModel:o=!1})=>{let{modalContainer:i}=Am(),a=fe(),s=o?"openai":"openai",[u,l]=(0,Fe.useState)(null),[c,d]=(0,Fe.useState)(!1),[f,p]=(0,Fe.useState)(!1),[m,h]=(0,Fe.useState)({name:!1,instanceName:!1,deploymentName:!1,embeddingDeploymentName:!1,apiVersion:!1,displayName:!1}),v=(I,V)=>{h(W=>({...W,[I]:V}))},g=()=>{h({name:!1,instanceName:!1,deploymentName:!1,embeddingDeploymentName:!1,apiVersion:!1,displayName:!1})},_=()=>{let I=!0,V={...m};return V.name=!O.name,O.name||(I=!1),O.provider==="azure openai"&&(V.instanceName=!O.azureOpenAIApiInstanceName,V.apiVersion=!O.azureOpenAIApiVersion,o?(V.embeddingDeploymentName=!O.azureOpenAIApiEmbeddingDeploymentName,O.azureOpenAIApiEmbeddingDeploymentName||(I=!1)):(V.deploymentName=!O.azureOpenAIApiDeploymentName,O.azureOpenAIApiDeploymentName||(I=!1)),(!O.azureOpenAIApiInstanceName||!O.azureOpenAIApiVersion)&&(I=!1)),h(V),I},S=I=>a[lE[I]]||"",x=(I=s)=>{let V={name:"",provider:I,enabled:!0,isBuiltIn:!1,baseUrl:"",apiKey:S(I),isEmbeddingModel:o,capabilities:[]};return o?V:{...V,stream:!0}},[O,T]=(0,Fe.useState)(x()),E=I=>({...I,name:I.name?.trim(),baseUrl:I.baseUrl?.trim(),apiKey:I.apiKey?.trim(),openAIOrgId:I.openAIOrgId?.trim(),azureOpenAIApiInstanceName:I.azureOpenAIApiInstanceName?.trim(),azureOpenAIApiDeploymentName:I.azureOpenAIApiDeploymentName?.trim(),azureOpenAIApiEmbeddingDeploymentName:I.azureOpenAIApiEmbeddingDeploymentName?.trim(),azureOpenAIApiVersion:I.azureOpenAIApiVersion?.trim()}),[M,R]=(0,Fe.useState)(ZA(s)),N=()=>Boolean(O.name&&O.provider),j=()=>f||!N(),F=()=>{if(!_()){new N6.Notice("Please fill in all required fields");return}let I=E(O);r(I),e(!1),T(x()),g()},B=I=>{R(ZA(I)),T({...O,provider:I,apiKey:S(I),...I==="openai"?{openAIOrgId:a.openAIOrgId}:{},...I==="azure openai"?{azureOpenAIApiInstanceName:a.azureOpenAIApiInstanceName,azureOpenAIApiDeploymentName:a.azureOpenAIApiDeploymentName,azureOpenAIApiVersion:a.azureOpenAIApiVersion,azureOpenAIApiEmbeddingDeploymentName:a.azureOpenAIApiEmbeddingDeploymentName}:{}})},L=I=>{I||(T(x()),g(),d(!1)),e(I)},q=async()=>{if(!_()){new N6.Notice("Please fill in all required fields");return}p(!0);try{let I=E(O);await n(I),new N6.Notice("Model verification successful!")}catch(I){console.error(I);let V=sa(I);new N6.Notice("Model verification failed: "+V)}finally{p(!1)}},U=()=>{let V=(()=>{switch(O.provider){case"openai":return Fe.default.createElement(yd,{label:"OpenAI Organization ID",description:"Enter OpenAI Organization ID if applicable"},Fe.default.createElement(us,{type:"text",placeholder:"Enter OpenAI Organization ID if applicable",value:O.openAIOrgId||"",onChange:W=>T({...O,openAIOrgId:W.target.value})}));case"azure openai":return Fe.default.createElement(Fe.default.Fragment,null,Fe.default.createElement(yd,{label:"Instance Name",required:!0,error:m.instanceName,errorMessage:"Instance name is required"},Fe.default.createElement(us,{type:"text",placeholder:"Enter Azure OpenAI API Instance Name",value:O.azureOpenAIApiInstanceName||"",onChange:W=>{T({...O,azureOpenAIApiInstanceName:W.target.value}),v("instanceName",!1)}})),o?Fe.default.createElement(yd,{label:"Embedding Deployment Name",required:!0,error:m.embeddingDeploymentName,errorMessage:"Embedding deployment name is required"},Fe.default.createElement(us,{type:"text",placeholder:"Enter Azure OpenAI API Embedding Deployment Name",value:O.azureOpenAIApiEmbeddingDeploymentName||"",onChange:W=>{T({...O,azureOpenAIApiEmbeddingDeploymentName:W.target.value}),v("embeddingDeploymentName",!1)}})):Fe.default.createElement(yd,{label:"Deployment Name",required:!0,error:m.deploymentName,errorMessage:"Deployment name is required",description:"This is your actual model, no need to pass a model name separately."},Fe.default.createElement(us,{type:"text",placeholder:"Enter Azure OpenAI API Deployment Name",value:O.azureOpenAIApiDeploymentName||"",onChange:W=>{T({...O,azureOpenAIApiDeploymentName:W.target.value}),v("deploymentName",!1)}})),Fe.default.createElement(yd,{label:"API Version",required:!0,error:m.apiVersion,errorMessage:"API version is required"},Fe.default.createElement(us,{type:"text",placeholder:"Enter Azure OpenAI API Version",value:O.azureOpenAIApiVersion||"",onChange:W=>{T({...O,azureOpenAIApiVersion:W.target.value}),v("apiVersion",!1)}})));default:return null}})();return V?Fe.default.createElement(sie,{open:c,onOpenChange:d,className:"space-y-2 border rounded-lg pt-4"},Fe.default.createElement("div",{className:"flex items-center justify-between"},Fe.default.createElement(TO,null,"Additional ",wh(O.provider)," Settings"),Fe.default.createElement(uie,{asChild:!0},Fe.default.createElement(gt,{variant:"ghost",size:"sm",className:"w-9 p-0"},Fe.default.createElement(Sl,{className:"h-4 w-4"}),Fe.default.createElement("span",{className:"sr-only"},"Toggle")))),Fe.default.createElement(lie,{className:"space-y-4 max-h-[200px] overflow-y-auto pl-0.5 pr-2 pb-0.5"},V)):null},J=()=>{if(O.provider!=="azure openai")return M.host;let I=O.azureOpenAIApiInstanceName||"[instance]",V=o?O.azureOpenAIApiEmbeddingDeploymentName||"[deployment]":O.azureOpenAIApiDeploymentName||"[deployment]",W=O.azureOpenAIApiVersion||"[api-version]";return`https://${I}.openai.azure.com/openai/deployments/${V}/${o?"embeddings":"chat/completions"}?api-version=${W}`},H=Object.entries(aE).map(([I,V])=>({id:I,label:I.charAt(0).toUpperCase()+I.slice(1),description:V}));return Fe.default.createElement(AM,{open:t,onOpenChange:L},Fe.default.createElement(xO,{className:"sm:max-w-[425px]",container:i,ref:I=>l(I)},Fe.default.createElement(CO,null,Fe.default.createElement(OO,null,"Add Custom ",o?"Embedding":"Chat"," Model"),Fe.default.createElement(EO,null,"Add a new model to your collection.")),Fe.default.createElement("div",{className:"space-y-3"},Fe.default.createElement(yd,{label:"Model Name",required:!0,error:m.name,errorMessage:"Model name is required"},Fe.default.createElement(us,{type:"text",placeholder:`Enter model name (e.g. ${o?"text-embedding-3-small":"gpt-4"})`,value:O.name,onChange:I=>{T({...O,name:I.target.value}),v("name",!1)}})),Fe.default.createElement(yd,{label:Fe.default.createElement("div",{className:"flex items-center gap-1.5"},Fe.default.createElement("span",{className:"leading-none"},"Display Name"),Fe.default.createElement(Yf,{delayDuration:0},Fe.default.createElement(cn,null,Fe.default.createElement(dn,{asChild:!0},Fe.default.createElement(xl,{className:"size-4"})),Fe.default.createElement(Yr,{align:"start",className:"max-w-96",side:"bottom"},Fe.default.createElement("div",{className:"text-sm text-muted flex flex-col gap-0.5"},Fe.default.createElement("div",{className:"text-[12px] font-bold"},"Suggested format:"),Fe.default.createElement("div",{className:"text-accent"},"[Source]-[Payment]:[Pretty Model Name]"),Fe.default.createElement("div",{className:"text-[12px]"},"Example:",Fe.default.createElement("li",null,"Direct-Paid:Ds-r1"),Fe.default.createElement("li",null,"OpenRouter-Paid:Ds-r1"),Fe.default.createElement("li",null,"Perplexity-Paid:lg")))))))},Fe.default.createElement(us,{type:"text",placeholder:"Custom display name (optional)",value:O.displayName||"",onChange:I=>{T({...O,displayName:I.target.value})}})),Fe.default.createElement(yd,{label:"Provider"},Fe.default.createElement(Eqt,{value:O.provider,onValueChange:B},Fe.default.createElement(GRe,null,Fe.default.createElement(Pqt,{placeholder:"Select provider"})),Fe.default.createElement(KRe,{container:u},Object.values(o?kde(uE,["COPILOT_PLUS","COPILOT_PLUS_JINA"]):kde(OA,["COPILOT_PLUS"])).map(I=>Fe.default.createElement(YRe,{key:I,value:I},wh(I)))))),Fe.default.createElement(yd,{label:"Base URL",description:"Leave it blank, unless you are using a proxy."},Fe.default.createElement(us,{type:"text",placeholder:J()||"https://api.example.com/v1",value:O.baseUrl||"",onChange:I=>T({...O,baseUrl:I.target.value})})),Fe.default.createElement(yd,{label:"API Key"},Fe.default.createElement(TM,{placeholder:`Enter ${M.label} API Key`,value:O.apiKey||"",onChange:I=>T({...O,apiKey:I})}),M.keyManagementURL&&Fe.default.createElement("p",{className:"text-xs text-muted"},Fe.default.createElement("a",{href:M.keyManagementURL,target:"_blank",rel:"noopener noreferrer"},"Get ",M.label," API Key"))),Fe.default.createElement(yd,{label:"Model Capabilities"},Fe.default.createElement("div",{className:"flex gap-4 items-center"},H.map(({id:I,label:V,description:W})=>Fe.default.createElement("div",{key:I,className:"flex items-center gap-2"},Fe.default.createElement(fy,{id:I,checked:O.capabilities?.includes(I),onCheckedChange:K=>{let ne=O.capabilities||[];T({...O,capabilities:K?[...ne,I]:ne.filter(Be=>Be!==I)})}}),Fe.default.createElement(TO,{htmlFor:I,className:"text-sm"},Fe.default.createElement(Yf,{delayDuration:0},Fe.default.createElement(cn,null,Fe.default.createElement(dn,{asChild:!0},Fe.default.createElement("span",null,V)),Fe.default.createElement(Yr,{side:"bottom"},W)))))))),U()),Fe.default.createElement("div",{className:"flex justify-end gap-4 items-center"},Fe.default.createElement("div",{className:"flex items-center gap-2"},Fe.default.createElement(fy,{id:"enable-cors",checked:O.enableCors||!1,onCheckedChange:I=>T({...O,enableCors:I})}),Fe.default.createElement(TO,{htmlFor:"enable-cors",className:"text-sm"},"Enable CORS")),Fe.default.createElement("div",{className:"flex gap-2"},Fe.default.createElement(gt,{variant:"outline",onClick:F,disabled:j()},"Add Model"),Fe.default.createElement(gt,{variant:"outline",onClick:q,disabled:j()},f?Fe.default.createElement(Fe.default.Fragment,null,Fe.default.createElement(bf,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify"):"Verify")))))};var fl=k(Z());var iIe=fl.forwardRef(({className:t,...e},r)=>fl.createElement("div",{className:"relative w-full overflow-auto"},fl.createElement("table",{ref:r,className:Te("w-full caption-bottom text-sm border-collapse",t),...e})));iIe.displayName="Table";var aIe=fl.forwardRef(({className:t,...e},r)=>fl.createElement("thead",{ref:r,className:Te("[&_tr]:border-b",t),...e}));aIe.displayName="TableHeader";var sIe=fl.forwardRef(({className:t,...e},r)=>fl.createElement("tbody",{ref:r,className:Te("[&_tr:last-child]:border-0",t),...e}));sIe.displayName="TableBody";var _pn=fl.forwardRef(({className:t,...e},r)=>fl.createElement("tfoot",{ref:r,className:Te("border-t bg-primary-alt/50 font-medium [&>tr]:last:border-b-0",t),...e}));_pn.displayName="TableFooter";var qie=fl.forwardRef(({className:t,...e},r)=>fl.createElement("tr",{ref:r,className:Te("border-b transition-colors hover:bg-primary-alt/50 data-[state=selected]:bg-primary-alt",t),...e}));qie.displayName="TableRow";var AO=fl.forwardRef(({className:t,...e},r)=>fl.createElement("th",{ref:r,className:Te("h-10 px-2 text-left align-middle font-medium text-muted [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));AO.displayName="TableHead";var RO=fl.forwardRef(({className:t,...e},r)=>fl.createElement("td",{ref:r,className:Te("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));RO.displayName="TableCell";var vpn=fl.forwardRef(({className:t,...e},r)=>fl.createElement("caption",{ref:r,className:Te("mt-4 text-sm text-muted",t),...e}));vpn.displayName="TableCaption";var $e=k(Z());var be=k(Z()),HD=k(ys());var ds=k(Z());function qqt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,ds.useMemo)(()=>n=>{e.forEach(o=>o(n))},e)}var L6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function BD(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Uie(t){return"nodeType"in t}function Xd(t){var e,r;return t?BD(t)?t:Uie(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function zie(t){let{Document:e}=Xd(t);return t instanceof e}function J$(t){return BD(t)?!1:t instanceof Xd(t).HTMLElement}function lIe(t){return t instanceof Xd(t).SVGElement}function kD(t){return t?BD(t)?t.document:Uie(t)?zie(t)?t:J$(t)||lIe(t)?t.ownerDocument:document:document:document}var Dm=L6?ds.useLayoutEffect:ds.useEffect;function Hie(t){let e=(0,ds.useRef)(t);return Dm(()=>{e.current=t}),(0,ds.useCallback)(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}function Uqt(){let t=(0,ds.useRef)(null),e=(0,ds.useCallback)((n,o)=>{t.current=setInterval(n,o)},[]),r=(0,ds.useCallback)(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function G$(t,e){e===void 0&&(e=[t]);let r=(0,ds.useRef)(t);return Dm(()=>{r.current!==t&&(r.current=t)},e),r}function K$(t,e){let r=(0,ds.useRef)();return(0,ds.useMemo)(()=>{let n=t(r.current);return r.current=n,n},[...e])}function F6(t){let e=Hie(t),r=(0,ds.useRef)(null),n=(0,ds.useCallback)(o=>{o!==r.current&&e?.(o,r.current),r.current=o},[]);return[r,n]}function Vie(t){let e=(0,ds.useRef)();return(0,ds.useEffect)(()=>{e.current=t},[t]),e.current}var uIe={};function $D(t,e){return(0,ds.useMemo)(()=>{if(e)return e;let r=uIe[t]==null?0:uIe[t]+1;return uIe[t]=r,t+"-"+r},[t,e])}function zqt(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((i,a)=>{let s=Object.entries(a);for(let[u,l]of s){let c=i[u];c!=null&&(i[u]=c+t*l)}return i},{...e})}}var qD=zqt(1),UD=zqt(-1);function wpn(t){return"clientX"in t&&"clientY"in t}function B6(t){if(!t)return!1;let{KeyboardEvent:e}=Xd(t.target);return e&&t instanceof e}function Spn(t){if(!t)return!1;let{TouchEvent:e}=Xd(t.target);return e&&t instanceof e}function Wie(t){if(Spn(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return wpn(t)?{x:t.clientX,y:t.clientY}:null}var IO=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[IO.Translate.toString(t),IO.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),$qt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Hqt(t){return t.matches($qt)?t:t.querySelector($qt)}var zD=k(Z()),xpn={display:"none"};function Vqt(t){let{id:e,value:r}=t;return zD.default.createElement("div",{id:e,style:xpn},r)}function Wqt(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t,o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return zD.default.createElement("div",{id:e,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function Jqt(){let[t,e]=(0,zD.useState)("");return{announce:(0,zD.useCallback)(n=>{n!=null&&e(n)},[]),announcement:t}}var aUt=(0,be.createContext)(null);function Cpn(t){let e=(0,be.useContext)(aUt);(0,be.useEffect)(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Opn(){let[t]=(0,be.useState)(()=>new Set),e=(0,be.useCallback)(n=>(t.add(n),()=>t.delete(n)),[t]);return[(0,be.useCallback)(n=>{let{type:o,event:i}=n;t.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[t]),e]}var Epn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ppn={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Tpn(t){let{announcements:e=Ppn,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=Epn}=t,{announce:i,announcement:a}=Jqt(),s=$D("DndLiveRegion"),[u,l]=(0,be.useState)(!1);if((0,be.useEffect)(()=>{l(!0)},[]),Cpn((0,be.useMemo)(()=>({onDragStart(d){let{active:f}=d;i(e.onDragStart({active:f}))},onDragMove(d){let{active:f,over:p}=d;e.onDragMove&&i(e.onDragMove({active:f,over:p}))},onDragOver(d){let{active:f,over:p}=d;i(e.onDragOver({active:f,over:p}))},onDragEnd(d){let{active:f,over:p}=d;i(e.onDragEnd({active:f,over:p}))},onDragCancel(d){let{active:f,over:p}=d;i(e.onDragCancel({active:f,over:p}))}}),[i,e])),!u)return null;let c=be.default.createElement(be.default.Fragment,null,be.default.createElement(Vqt,{id:n,value:o.draggable}),be.default.createElement(Wqt,{id:s,announcement:a}));return r?(0,HD.createPortal)(c,r):c}var pl;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(pl||(pl={}));function Gie(){}function bIe(t,e){return(0,be.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function sUt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,be.useMemo)(()=>[...e].filter(n=>n!=null),[...e])}var py=Object.freeze({x:0,y:0});function uUt(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lUt(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function Mpn(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function Gqt(t){let{left:e,top:r,height:n,width:o}=t;return[{x:e,y:r},{x:e+o,y:r},{x:e,y:r+n},{x:e+o,y:r+n}]}function _Ie(t,e){if(!t||t.length===0)return null;let[r]=t;return e?r[e]:r}function Kqt(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}var vIe=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t,o=Kqt(e,e.left,e.top),i=[];for(let a of n){let{id:s}=a,u=r.get(s);if(u){let l=uUt(Kqt(u),o);i.push({id:s,data:{droppableContainer:a,value:l}})}}return i.sort(lUt)},cUt=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t,o=Gqt(e),i=[];for(let a of n){let{id:s}=a,u=r.get(s);if(u){let l=Gqt(u),c=o.reduce((f,p,m)=>f+uUt(l[m],p),0),d=Number((c/4).toFixed(4));i.push({id:s,data:{droppableContainer:a,value:d}})}}return i.sort(lUt)};function Apn(t,e){let r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),a=o-n,s=i-r;if(n<o&&r<i){let u=e.width*e.height,l=t.width*t.height,c=a*s,d=c/(u+l-c);return Number(d.toFixed(4))}return 0}var Rpn=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t,o=[];for(let i of n){let{id:a}=i,s=r.get(a);if(s){let u=Apn(s,e);u>0&&o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(Mpn)};function Ipn(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function dUt(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:py}function Dpn(t){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+t*s.y,bottom:a.bottom+t*s.y,left:a.left+t*s.x,right:a.right+t*s.x}),{...r})}}var jpn=Dpn(1);function Npn(t){if(t.startsWith("matrix3d(")){let e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){let e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Lpn(t,e,r){let n=Npn(e);if(!n)return t;let{scaleX:o,scaleY:i,x:a,y:s}=n,u=t.left-a-(1-o)*parseFloat(r),l=t.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),c=o?t.width/o:t.width,d=i?t.height/i:t.height;return{width:c,height:d,top:l,right:u+c,bottom:l+d,left:u}}var Fpn={ignoreTransform:!1};function JD(t,e){e===void 0&&(e=Fpn);let r=t.getBoundingClientRect();if(e.ignoreTransform){let{transform:l,transformOrigin:c}=Xd(t).getComputedStyle(t);l&&(r=Lpn(r,l,c))}let{top:n,left:o,width:i,height:a,bottom:s,right:u}=r;return{top:n,left:o,width:i,height:a,bottom:s,right:u}}function Yqt(t){return JD(t,{ignoreTransform:!0})}function Bpn(t){let e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function kpn(t,e){return e===void 0&&(e=Xd(t).getComputedStyle(t)),e.position==="fixed"}function $pn(t,e){e===void 0&&(e=Xd(t).getComputedStyle(t));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let i=e[o];return typeof i=="string"?r.test(i):!1})}function z6(t,e){let r=[];function n(o){if(e!=null&&r.length>=e||!o)return r;if(zie(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!J$(o)||lIe(o)||r.includes(o))return r;let i=Xd(t).getComputedStyle(o);return o!==t&&$pn(o,i)&&r.push(o),kpn(o,i)?r:n(o.parentNode)}return t?n(t):r}function fUt(t){let[e]=z6(t,1);return e??null}function cIe(t){return!L6||!t?null:BD(t)?t:Uie(t)?zie(t)||t===kD(t).scrollingElement?window:J$(t)?t:null:null}function pUt(t){return BD(t)?t.scrollX:t.scrollLeft}function hUt(t){return BD(t)?t.scrollY:t.scrollTop}function pIe(t){return{x:pUt(t),y:hUt(t)}}var Hl;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Hl||(Hl={}));function mUt(t){return!L6||!t?!1:t===document.scrollingElement}function gUt(t){let e={x:0,y:0},r=mUt(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},o=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,a=t.scrollTop>=n.y,s=t.scrollLeft>=n.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:n,minScroll:e}}var qpn={x:.2,y:.2};function Upn(t,e,r,n,o){let{top:i,left:a,right:s,bottom:u}=r;n===void 0&&(n=10),o===void 0&&(o=qpn);let{isTop:l,isBottom:c,isLeft:d,isRight:f}=gUt(t),p={x:0,y:0},m={x:0,y:0},h={height:e.height*o.y,width:e.width*o.x};return!l&&i<=e.top+h.height?(p.y=Hl.Backward,m.y=n*Math.abs((e.top+h.height-i)/h.height)):!c&&u>=e.bottom-h.height&&(p.y=Hl.Forward,m.y=n*Math.abs((e.bottom-h.height-u)/h.height)),!f&&s>=e.right-h.width?(p.x=Hl.Forward,m.x=n*Math.abs((e.right-h.width-s)/h.width)):!d&&a<=e.left+h.width&&(p.x=Hl.Backward,m.x=n*Math.abs((e.left+h.width-a)/h.width)),{direction:p,speed:m}}function zpn(t){if(t===document.scrollingElement){let{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}let{top:e,left:r,right:n,bottom:o}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:o,width:t.clientWidth,height:t.clientHeight}}function yUt(t){return t.reduce((e,r)=>qD(e,pIe(r)),py)}function Hpn(t){return t.reduce((e,r)=>e+pUt(r),0)}function Vpn(t){return t.reduce((e,r)=>e+hUt(r),0)}function Wpn(t,e){if(e===void 0&&(e=JD),!t)return;let{top:r,left:n,bottom:o,right:i}=e(t);fUt(t)&&(o<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}var Jpn=[["x",["left","right"],Hpn],["y",["top","bottom"],Vpn]],$6=class{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=z6(r),o=yUt(n);this.rect={...e},this.width=e.width,this.height=e.height;for(let[i,a,s]of Jpn)for(let u of a)Object.defineProperty(this,u,{get:()=>{let l=s(n),c=o[i]-l;return this.rect[u]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},VD=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var o;(o=this.target)==null||o.addEventListener(e,r,n),this.listeners.push([e,r,n])}};function Gpn(t){let{EventTarget:e}=Xd(t);return t instanceof e?t:kD(t)}function dIe(t,e){let r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var jm;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(jm||(jm={}));function Xqt(t){t.preventDefault()}function Kpn(t){t.stopPropagation()}var fn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(fn||(fn={}));var bUt={start:[fn.Space,fn.Enter],cancel:[fn.Esc],end:[fn.Space,fn.Enter,fn.Tab]},Ypn=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case fn.Right:return{...r,x:r.x+25};case fn.Left:return{...r,x:r.x-25};case fn.Down:return{...r,y:r.y+25};case fn.Up:return{...r,y:r.y-25}}},Y$=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:r}}=e;this.props=e,this.listeners=new VD(kD(r)),this.windowListeners=new VD(Xd(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jm.Resize,this.handleCancel),this.windowListeners.add(jm.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jm.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&Wpn(n),r(py)}handleKeyDown(e){if(B6(e)){let{active:r,context:n,options:o}=this.props,{keyboardCodes:i=bUt,coordinateGetter:a=Ypn,scrollBehavior:s="smooth"}=o,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}let{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:py;this.referenceCoordinates||(this.referenceCoordinates=c);let d=a(e,{active:r,context:n.current,currentCoordinates:c});if(d){let f=UD(d,c),p={x:0,y:0},{scrollableAncestors:m}=n.current;for(let h of m){let v=e.code,{isTop:g,isRight:_,isLeft:S,isBottom:x,maxScroll:O,minScroll:T}=gUt(h),E=zpn(h),M={x:Math.min(v===fn.Right?E.right-E.width/2:E.right,Math.max(v===fn.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(v===fn.Down?E.bottom-E.height/2:E.bottom,Math.max(v===fn.Down?E.top:E.top+E.height/2,d.y))},R=v===fn.Right&&!_||v===fn.Left&&!S,N=v===fn.Down&&!x||v===fn.Up&&!g;if(R&&M.x!==d.x){let j=h.scrollLeft+f.x,F=v===fn.Right&&j<=O.x||v===fn.Left&&j>=T.x;if(F&&!f.y){h.scrollTo({left:j,behavior:s});return}F?p.x=h.scrollLeft-j:p.x=v===fn.Right?h.scrollLeft-O.x:h.scrollLeft-T.x,p.x&&h.scrollBy({left:-p.x,behavior:s});break}else if(N&&M.y!==d.y){let j=h.scrollTop+f.y,F=v===fn.Down&&j<=O.y||v===fn.Up&&j>=T.y;if(F&&!f.x){h.scrollTo({top:j,behavior:s});return}F?p.y=h.scrollTop-j:p.y=v===fn.Down?h.scrollTop-O.y:h.scrollTop-T.y,p.y&&h.scrollBy({top:-p.y,behavior:s});break}}this.handleMove(e,qD(UD(d,this.referenceCoordinates),p))}}}handleMove(e,r){let{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){let{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){let{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Y$.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=bUt,onActivation:o}=e,{active:i}=r,{code:a}=t.nativeEvent;if(n.start.includes(a)){let s=i.activatorNode.current;return s&&t.target!==s?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function Zqt(t){return Boolean(t&&"distance"in t)}function Qqt(t){return Boolean(t&&"delay"in t)}var q6=class{constructor(e,r,n){var o;n===void 0&&(n=Gpn(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;let{event:i}=e,{target:a}=i;this.props=e,this.events=r,this.document=kD(a),this.documentListeners=new VD(this.document),this.listeners=new VD(n),this.windowListeners=new VD(Xd(a)),this.initialCoordinates=(o=Wie(i))!=null?o:py,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(jm.Resize,this.handleCancel),this.windowListeners.add(jm.DragStart,Xqt),this.windowListeners.add(jm.VisibilityChange,this.handleCancel),this.windowListeners.add(jm.ContextMenu,Xqt),this.documentListeners.add(jm.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Qqt(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Zqt(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){let{active:n,onPending:o}=this.props;o(n,e,this.initialCoordinates,r)}handleStart(){let{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(jm.Click,Kpn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jm.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;let{activated:n,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;let u=(r=Wie(e))!=null?r:py,l=UD(o,u);if(!n&&s){if(Zqt(s)){if(s.tolerance!=null&&dIe(l,s.tolerance))return this.handleCancel();if(dIe(l,s.distance))return this.handleStart()}if(Qqt(s)&&dIe(l,s.tolerance))return this.handleCancel();this.handlePending(s,l);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){let{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){let{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===fn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},Xpn={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},X$=class extends q6{constructor(e){let{event:r}=e,n=kD(r.target);super(e,Xpn,n)}};X$.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];var Zpn={move:{name:"mousemove"},end:{name:"mouseup"}},hIe;(function(t){t[t.RightClick=2]="RightClick"})(hIe||(hIe={}));var mIe=class extends q6{constructor(e){super(e,Zpn,kD(e.event.target))}};mIe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===hIe.RightClick?!1:(n?.({event:r}),!0)}}];var fIe={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},gIe=class extends q6{constructor(e){super(e,fIe)}static setup(){return window.addEventListener(fIe.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(fIe.move.name,e)};function e(){}}};gIe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e,{touches:o}=r;return o.length>1?!1:(n?.({event:r}),!0)}}];var k6;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(k6||(k6={}));var Kie;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Kie||(Kie={}));function Qpn(t){let{acceleration:e,activator:r=k6.Pointer,canScroll:n,draggingRect:o,enabled:i,interval:a=5,order:s=Kie.TreeOrder,pointerCoordinates:u,scrollableAncestors:l,scrollableAncestorRects:c,delta:d,threshold:f}=t,p=thn({delta:d,disabled:!i}),[m,h]=Uqt(),v=(0,be.useRef)({x:0,y:0}),g=(0,be.useRef)({x:0,y:0}),_=(0,be.useMemo)(()=>{switch(r){case k6.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case k6.DraggableRect:return o}},[r,o,u]),S=(0,be.useRef)(null),x=(0,be.useCallback)(()=>{let T=S.current;if(!T)return;let E=v.current.x*g.current.x,M=v.current.y*g.current.y;T.scrollBy(E,M)},[]),O=(0,be.useMemo)(()=>s===Kie.TreeOrder?[...l].reverse():l,[s,l]);(0,be.useEffect)(()=>{if(!i||!l.length||!_){h();return}for(let T of O){if(n?.(T)===!1)continue;let E=l.indexOf(T),M=c[E];if(!M)continue;let{direction:R,speed:N}=Upn(T,M,_,e,f);for(let j of["x","y"])p[j][R[j]]||(N[j]=0,R[j]=0);if(N.x>0||N.y>0){h(),S.current=T,m(x,a),v.current=N,g.current=R;return}}v.current={x:0,y:0},g.current={x:0,y:0},h()},[e,x,n,h,i,a,JSON.stringify(_),JSON.stringify(p),m,l,O,c,JSON.stringify(f)])}var ehn={x:{[Hl.Backward]:!1,[Hl.Forward]:!1},y:{[Hl.Backward]:!1,[Hl.Forward]:!1}};function thn(t){let{delta:e,disabled:r}=t,n=Vie(e);return K$(o=>{if(r||!n||!o)return ehn;let i={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Hl.Backward]:o.x[Hl.Backward]||i.x===-1,[Hl.Forward]:o.x[Hl.Forward]||i.x===1},y:{[Hl.Backward]:o.y[Hl.Backward]||i.y===-1,[Hl.Forward]:o.y[Hl.Forward]||i.y===1}}},[r,e,n])}function rhn(t,e){let r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return K$(o=>{var i;return e==null?null:(i=n??o)!=null?i:null},[n,e])}function nhn(t,e){return(0,be.useMemo)(()=>t.reduce((r,n)=>{let{sensor:o}=n,i=o.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...r,...i]},[]),[t,e])}var U6;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(U6||(U6={}));var yIe;(function(t){t.Optimized="optimized"})(yIe||(yIe={}));var eUt=new Map;function ohn(t,e){let{dragging:r,dependencies:n,config:o}=e,[i,a]=(0,be.useState)(null),{frequency:s,measure:u,strategy:l}=o,c=(0,be.useRef)(t),d=v(),f=G$(d),p=(0,be.useCallback)(function(g){g===void 0&&(g=[]),!f.current&&a(_=>_===null?g:_.concat(g.filter(S=>!_.includes(S))))},[f]),m=(0,be.useRef)(null),h=K$(g=>{if(d&&!r)return eUt;if(!g||g===eUt||c.current!==t||i!=null){let _=new Map;for(let S of t){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){_.set(S.id,S.rect.current);continue}let x=S.node.current,O=x?new $6(u(x),x):null;S.rect.current=O,O&&_.set(S.id,O)}return _}return g},[t,i,r,d,u]);return(0,be.useEffect)(()=>{c.current=t},[t]),(0,be.useEffect)(()=>{d||p()},[r,d]),(0,be.useEffect)(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),(0,be.useEffect)(()=>{d||typeof s!="number"||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},s))},[s,d,p,...n]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(l){case U6.Always:return!1;case U6.BeforeDragging:return r;default:return!r}}}function _Ut(t,e){return K$(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function ihn(t,e){return _Ut(t,e)}function ahn(t){let{callback:e,disabled:r}=t,n=Hie(e),o=(0,be.useMemo)(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:i}=window;return new i(n)},[n,r]);return(0,be.useEffect)(()=>()=>o?.disconnect(),[o]),o}function Yie(t){let{callback:e,disabled:r}=t,n=Hie(e),o=(0,be.useMemo)(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:i}=window;return new i(n)},[r]);return(0,be.useEffect)(()=>()=>o?.disconnect(),[o]),o}function shn(t){return new $6(JD(t),t)}function tUt(t,e,r){e===void 0&&(e=shn);let[n,o]=(0,be.useState)(null);function i(){o(u=>{if(!t)return null;if(t.isConnected===!1){var l;return(l=u??r)!=null?l:null}let c=e(t);return JSON.stringify(u)===JSON.stringify(c)?u:c})}let a=ahn({callback(u){if(t)for(let l of u){let{type:c,target:d}=l;if(c==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),s=Yie({callback:i});return Dm(()=>{i(),t?(s?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),a?.disconnect())},[t]),n}function uhn(t){let e=_Ut(t);return dUt(t,e)}var rUt=[];function lhn(t){let e=(0,be.useRef)(t),r=K$(n=>t?n&&n!==rUt&&t&&e.current&&t.parentNode===e.current.parentNode?n:z6(t):rUt,[t]);return(0,be.useEffect)(()=>{e.current=t},[t]),r}function chn(t){let[e,r]=(0,be.useState)(null),n=(0,be.useRef)(t),o=(0,be.useCallback)(i=>{let a=cIe(i.target);a&&r(s=>s?(s.set(a,pIe(a)),new Map(s)):null)},[]);return(0,be.useEffect)(()=>{let i=n.current;if(t!==i){a(i);let s=t.map(u=>{let l=cIe(u);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,pIe(l)]):null}).filter(u=>u!=null);r(s.length?new Map(s):null),n.current=t}return()=>{a(t),a(i)};function a(s){s.forEach(u=>{let l=cIe(u);l?.removeEventListener("scroll",o)})}},[o,t]),(0,be.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((i,a)=>qD(i,a),py):yUt(t):py,[t,e])}function nUt(t,e){e===void 0&&(e=[]);let r=(0,be.useRef)(null);return(0,be.useEffect)(()=>{r.current=null},e),(0,be.useEffect)(()=>{let n=t!==py;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?UD(t,r.current):py}function dhn(t){(0,be.useEffect)(()=>{if(!L6)return;let e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(let r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function fhn(t,e){return(0,be.useMemo)(()=>t.reduce((r,n)=>{let{eventName:o,handler:i}=n;return r[o]=a=>{i(a,e)},r},{}),[t,e])}function vUt(t){return(0,be.useMemo)(()=>t?Bpn(t):null,[t])}var oUt=[];function phn(t,e){e===void 0&&(e=JD);let[r]=t,n=vUt(r?Xd(r):null),[o,i]=(0,be.useState)(oUt);function a(){i(()=>t.length?t.map(u=>mUt(u)?n:new $6(e(u),u)):oUt)}let s=Yie({callback:a});return Dm(()=>{s?.disconnect(),a(),t.forEach(u=>s?.observe(u))},[t]),o}function hhn(t){if(!t)return null;if(t.children.length>1)return t;let e=t.children[0];return J$(e)?e:t}function mhn(t){let{measure:e}=t,[r,n]=(0,be.useState)(null),o=(0,be.useCallback)(l=>{for(let{target:c}of l)if(J$(c)){n(d=>{let f=e(c);return d?{...d,width:f.width,height:f.height}:f});break}},[e]),i=Yie({callback:o}),a=(0,be.useCallback)(l=>{let c=hhn(l);i?.disconnect(),c&&i?.observe(c),n(c?e(c):null)},[e,i]),[s,u]=F6(a);return(0,be.useMemo)(()=>({nodeRef:s,rect:r,setRef:u}),[r,s,u])}var ghn=[{sensor:X$,options:{}},{sensor:Y$,options:{}}],yhn={current:{}},Jie={draggable:{measure:Yqt},droppable:{measure:Yqt,strategy:U6.WhileDragging,frequency:yIe.Optimized},dragOverlay:{measure:JD}},WD=class extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}},bhn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new WD,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gie},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jie,measureDroppableContainers:Gie,windowRect:null,measuringScheduled:!1},_hn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gie,draggableNodes:new Map,over:null,measureDroppableContainers:Gie},Xie=(0,be.createContext)(_hn),wUt=(0,be.createContext)(bhn);function vhn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new WD}}}function whn(t,e){switch(e.type){case pl.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case pl.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case pl.DragEnd:case pl.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pl.RegisterDroppable:{let{element:r}=e,{id:n}=r,o=new WD(t.droppable.containers);return o.set(n,r),{...t,droppable:{...t.droppable,containers:o}}}case pl.SetDroppableDisabled:{let{id:r,key:n,disabled:o}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;let a=new WD(t.droppable.containers);return a.set(r,{...i,disabled:o}),{...t,droppable:{...t.droppable,containers:a}}}case pl.UnregisterDroppable:{let{id:r,key:n}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;let i=new WD(t.droppable.containers);return i.delete(r),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function Shn(t){let{disabled:e}=t,{active:r,activatorEvent:n,draggableNodes:o}=(0,be.useContext)(Xie),i=Vie(n),a=Vie(r?.id);return(0,be.useEffect)(()=>{if(!e&&!n&&i&&a!=null){if(!B6(i)||document.activeElement===i.target)return;let s=o.get(a);if(!s)return;let{activatorNode:u,node:l}=s;if(!u.current&&!l.current)return;requestAnimationFrame(()=>{for(let c of[u.current,l.current]){if(!c)continue;let d=Hqt(c);if(d){d.focus();break}}})}},[n,e,o,a,i]),null}function xhn(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((o,i)=>i({transform:o,...n}),r):r}function Chn(t){return(0,be.useMemo)(()=>({draggable:{...Jie.draggable,...t?.draggable},droppable:{...Jie.droppable,...t?.droppable},dragOverlay:{...Jie.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Ohn(t){let{activeNode:e,measure:r,initialRect:n,config:o=!0}=t,i=(0,be.useRef)(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;Dm(()=>{if(!a&&!s||!e){i.current=!1;return}if(i.current||!n)return;let l=e?.node.current;if(!l||l.isConnected===!1)return;let c=r(l),d=dUt(c,n);if(a||(d.x=0),s||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){let f=fUt(l);f&&f.scrollBy({top:d.y,left:d.x})}},[e,a,s,n,r])}var SUt=(0,be.createContext)({...py,scaleX:1,scaleY:1}),kM;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(kM||(kM={}));var wIe=(0,be.memo)(function(e){var r,n,o,i;let{id:a,accessibility:s,autoScroll:u=!0,children:l,sensors:c=ghn,collisionDetection:d=Rpn,measuring:f,modifiers:p,...m}=e,h=(0,be.useReducer)(whn,void 0,vhn),[v,g]=h,[_,S]=Opn(),[x,O]=(0,be.useState)(kM.Uninitialized),T=x===kM.Initialized,{draggable:{active:E,nodes:M,translate:R},droppable:{containers:N}}=v,j=E!=null?M.get(E):null,F=(0,be.useRef)({initial:null,translated:null}),B=(0,be.useMemo)(()=>{var Da;return E!=null?{id:E,data:(Da=j?.data)!=null?Da:yhn,rect:F}:null},[E,j]),L=(0,be.useRef)(null),[q,U]=(0,be.useState)(null),[J,H]=(0,be.useState)(null),I=G$(m,Object.values(m)),V=$D("DndDescribedBy",a),W=(0,be.useMemo)(()=>N.getEnabled(),[N]),K=Chn(f),{droppableRects:ne,measureDroppableContainers:Be,measuringScheduled:X}=ohn(W,{dragging:T,dependencies:[R.x,R.y],config:K.droppable}),Q=rhn(M,E),le=(0,be.useMemo)(()=>J?Wie(J):null,[J]),Ae=LO(),mt=ihn(Q,K.draggable.measure);Ohn({activeNode:E!=null?M.get(E):null,config:Ae.layoutShiftCompensation,initialRect:mt,measure:K.draggable.measure});let we=tUt(Q,K.draggable.measure,mt),ae=tUt(Q?Q.parentElement:null),ee=(0,be.useRef)({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ye=N.getNodeFor((r=ee.current.over)==null?void 0:r.id),Ue=mhn({measure:K.dragOverlay.measure}),dt=(n=Ue.nodeRef.current)!=null?n:Q,Je=T?(o=Ue.rect)!=null?o:we:null,sr=Boolean(Ue.nodeRef.current&&Ue.rect),Xr=uhn(sr?null:we),ur=vUt(dt?Xd(dt):null),Xt=lhn(T?ye??Q:null),hi=phn(Xt),ta=xhn(p,{transform:{x:R.x-Xr.x,y:R.y-Xr.y,scaleX:1,scaleY:1},activatorEvent:J,active:B,activeNodeRect:we,containerNodeRect:ae,draggingNodeRect:Je,over:ee.current.over,overlayNodeRect:Ue.rect,scrollableAncestors:Xt,scrollableAncestorRects:hi,windowRect:ur}),No=le?qD(le,R):null,Re=chn(Xt),Ye=nUt(Re),dr=nUt(Re,[we]),Xe=qD(ta,Ye),kn=Je?jpn(Je,ta):null,ra=B&&kn?d({active:B,collisionRect:kn,droppableRects:ne,droppableContainers:W,pointerCoordinates:No}):null,hl=_Ie(ra,"id"),[Nc,Nm]=(0,be.useState)(null),Lm=sr?ta:qD(ta,dr),Ia=Ipn(Lm,(i=Nc?.rect)!=null?i:null,we),Xp=(0,be.useRef)(null),Zf=(0,be.useCallback)((Da,ps)=>{let{sensor:na,options:bd}=ps;if(L.current==null)return;let Lc=M.get(L.current);if(!Lc)return;let Ga=Da.nativeEvent,Zd=new na({active:L.current,activeNode:Lc,event:Ga,options:bd,context:ee,onAbort(Zr){if(!M.get(Zr))return;let{onDragAbort:vd}=I.current,Qf={id:Zr};vd?.(Qf),_({type:"onDragAbort",event:Qf})},onPending(Zr,De,vd,Qf){if(!M.get(Zr))return;let{onDragPending:AS}=I.current,Vr={id:Zr,constraint:De,initialCoordinates:vd,offset:Qf};AS?.(Vr),_({type:"onDragPending",event:Vr})},onStart(Zr){let De=L.current;if(De==null)return;let vd=M.get(De);if(!vd)return;let{onDragStart:Qf}=I.current,zu={activatorEvent:Ga,active:{id:De,data:vd.data,rect:F}};(0,HD.unstable_batchedUpdates)(()=>{Qf?.(zu),O(kM.Initializing),g({type:pl.DragStart,initialCoordinates:Zr,active:De}),_({type:"onDragStart",event:zu}),U(Xp.current),H(Ga)})},onMove(Zr){g({type:pl.DragMove,coordinates:Zr})},onEnd:_d(pl.DragEnd),onCancel:_d(pl.DragCancel)});Xp.current=Zd;function _d(Zr){return async function(){let{active:vd,collisions:Qf,over:zu,scrollAdjustedTranslate:AS}=ee.current,Vr=null;if(vd&&AS){let{cancelDrop:Fm}=I.current;Vr={activatorEvent:Ga,active:vd,collisions:Qf,delta:AS,over:zu},Zr===pl.DragEnd&&typeof Fm=="function"&&await Promise.resolve(Fm(Vr))&&(Zr=pl.DragCancel)}L.current=null,(0,HD.unstable_batchedUpdates)(()=>{g({type:Zr}),O(kM.Uninitialized),Nm(null),U(null),H(null),Xp.current=null;let Fm=Zr===pl.DragEnd?"onDragEnd":"onDragCancel";if(Vr){let Z$=I.current[Fm];Z$?.(Vr),_({type:Fm,event:Vr})}})}}},[M]),Zp=(0,be.useCallback)((Da,ps)=>(na,bd)=>{let Lc=na.nativeEvent,Ga=M.get(bd);if(L.current!==null||!Ga||Lc.dndKit||Lc.defaultPrevented)return;let Zd={active:Ga};Da(na,ps.options,Zd)===!0&&(Lc.dndKit={capturedBy:ps.sensor},L.current=bd,Zf(na,ps))},[M,Zf]),hn=nhn(c,Zp);dhn(c),Dm(()=>{we&&x===kM.Initializing&&O(kM.Initialized)},[we,x]),(0,be.useEffect)(()=>{let{onDragMove:Da}=I.current,{active:ps,activatorEvent:na,collisions:bd,over:Lc}=ee.current;if(!ps||!na)return;let Ga={active:ps,activatorEvent:na,collisions:bd,delta:{x:Xe.x,y:Xe.y},over:Lc};(0,HD.unstable_batchedUpdates)(()=>{Da?.(Ga),_({type:"onDragMove",event:Ga})})},[Xe.x,Xe.y]),(0,be.useEffect)(()=>{let{active:Da,activatorEvent:ps,collisions:na,droppableContainers:bd,scrollAdjustedTranslate:Lc}=ee.current;if(!Da||L.current==null||!ps||!Lc)return;let{onDragOver:Ga}=I.current,Zd=bd.get(hl),_d=Zd&&Zd.rect.current?{id:Zd.id,rect:Zd.rect.current,data:Zd.data,disabled:Zd.disabled}:null,Zr={active:Da,activatorEvent:ps,collisions:na,delta:{x:Lc.x,y:Lc.y},over:_d};(0,HD.unstable_batchedUpdates)(()=>{Nm(_d),Ga?.(Zr),_({type:"onDragOver",event:Zr})})},[hl]),Dm(()=>{ee.current={activatorEvent:J,active:B,activeNode:Q,collisionRect:kn,collisions:ra,droppableRects:ne,draggableNodes:M,draggingNode:dt,draggingNodeRect:Je,droppableContainers:N,over:Nc,scrollableAncestors:Xt,scrollAdjustedTranslate:Xe},F.current={initial:Je,translated:kn}},[B,Q,ra,kn,M,dt,Je,ne,N,Nc,Xt,Xe]),Qpn({...Ae,delta:R,draggingRect:kn,pointerCoordinates:No,scrollableAncestors:Xt,scrollableAncestorRects:hi});let NO=(0,be.useMemo)(()=>({active:B,activeNode:Q,activeNodeRect:we,activatorEvent:J,collisions:ra,containerNodeRect:ae,dragOverlay:Ue,draggableNodes:M,droppableContainers:N,droppableRects:ne,over:Nc,measureDroppableContainers:Be,scrollableAncestors:Xt,scrollableAncestorRects:hi,measuringConfiguration:K,measuringScheduled:X,windowRect:ur}),[B,Q,we,J,ra,ae,Ue,M,N,ne,Nc,Be,Xt,hi,K,X,ur]),$M=(0,be.useMemo)(()=>({activatorEvent:J,activators:hn,active:B,activeNodeRect:we,ariaDescribedById:{draggable:V},dispatch:g,draggableNodes:M,over:Nc,measureDroppableContainers:Be}),[J,hn,B,we,g,V,M,Nc,Be]);return be.default.createElement(aUt.Provider,{value:S},be.default.createElement(Xie.Provider,{value:$M},be.default.createElement(wUt.Provider,{value:NO},be.default.createElement(SUt.Provider,{value:Ia},l)),be.default.createElement(Shn,{disabled:s?.restoreFocus===!1})),be.default.createElement(Tpn,{...s,hiddenTextDescribedById:V}));function LO(){let Da=q?.autoScrollEnabled===!1,ps=typeof u=="object"?u.enabled===!1:u===!1,na=T&&!Da&&!ps;return typeof u=="object"?{...u,enabled:na}:{enabled:na}}}),Ehn=(0,be.createContext)(null),iUt="button",Phn="Draggable";function xUt(t){let{id:e,data:r,disabled:n=!1,attributes:o}=t,i=$D(Phn),{activators:a,activatorEvent:s,active:u,activeNodeRect:l,ariaDescribedById:c,draggableNodes:d,over:f}=(0,be.useContext)(Xie),{role:p=iUt,roleDescription:m="draggable",tabIndex:h=0}=o??{},v=u?.id===e,g=(0,be.useContext)(v?SUt:Ehn),[_,S]=F6(),[x,O]=F6(),T=fhn(a,e),E=G$(r);Dm(()=>(d.set(e,{id:e,key:i,node:_,activatorNode:x,data:E}),()=>{let R=d.get(e);R&&R.key===i&&d.delete(e)}),[d,e]);let M=(0,be.useMemo)(()=>({role:p,tabIndex:h,"aria-disabled":n,"aria-pressed":v&&p===iUt?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[n,p,h,v,m,c.draggable]);return{active:u,activatorEvent:s,activeNodeRect:l,attributes:M,isDragging:v,listeners:n?void 0:T,node:_,over:f,setNodeRef:S,setActivatorNodeRef:O,transform:g}}function CUt(){return(0,be.useContext)(wUt)}var Thn="Droppable",Mhn={timeout:25};function OUt(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:o}=t,i=$D(Thn),{active:a,dispatch:s,over:u,measureDroppableContainers:l}=(0,be.useContext)(Xie),c=(0,be.useRef)({disabled:r}),d=(0,be.useRef)(!1),f=(0,be.useRef)(null),p=(0,be.useRef)(null),{disabled:m,updateMeasurementsFor:h,timeout:v}={...Mhn,...o},g=G$(h??n),_=(0,be.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(g.current)?g.current:[g.current]),p.current=null},v)},[v]),S=Yie({callback:_,disabled:m||!a}),x=(0,be.useCallback)((M,R)=>{S&&(R&&(S.unobserve(R),d.current=!1),M&&S.observe(M))},[S]),[O,T]=F6(x),E=G$(e);return(0,be.useEffect)(()=>{!S||!O.current||(S.disconnect(),d.current=!1,S.observe(O.current))},[O,S]),(0,be.useEffect)(()=>(s({type:pl.RegisterDroppable,element:{id:n,key:i,disabled:r,node:O,rect:f,data:E}}),()=>s({type:pl.UnregisterDroppable,key:i,id:n})),[n]),(0,be.useEffect)(()=>{r!==c.current.disabled&&(s({type:pl.SetDroppableDisabled,id:n,key:i,disabled:r}),c.current.disabled=r)},[n,i,r,s]),{active:a,rect:f,isOver:u?.id===n,node:O,over:u,setNodeRef:T}}var fs=k(Z());function tae(t,e,r){let n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function Ahn(t,e){return t.reduce((r,n,o)=>{let i=e.get(n);return i&&(r[o]=i),r},Array(t.length))}function Zie(t){return t!==null&&t>=0}function Rhn(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ihn(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var EUt=t=>{let{rects:e,activeIndex:r,overIndex:n,index:o}=t,i=tae(e,n,r),a=e[o],s=i[o];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}};var Qie={scaleX:1,scaleY:1},SIe=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:o,rects:i,overIndex:a}=t,s=(e=i[r])!=null?e:n;if(!s)return null;if(o===r){let l=i[a];return l?{x:0,y:r<a?l.top+l.height-(s.top+s.height):l.top-s.top,...Qie}:null}let u=Dhn(i,o,r);return o>r&&o<=a?{x:0,y:-s.height-u,...Qie}:o<r&&o>=a?{x:0,y:s.height+u,...Qie}:{x:0,y:0,...Qie}};function Dhn(t,e,r){let n=t[e],o=t[e-1],i=t[e+1];return n?r<e?o?n.top-(o.top+o.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}var PUt="Sortable",TUt=fs.default.createContext({activeIndex:-1,containerId:PUt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:EUt,disabled:{draggable:!1,droppable:!1}});function xIe(t){let{children:e,id:r,items:n,strategy:o=EUt,disabled:i=!1}=t,{active:a,dragOverlay:s,droppableRects:u,over:l,measureDroppableContainers:c}=CUt(),d=$D(PUt,r),f=Boolean(s.rect!==null),p=(0,fs.useMemo)(()=>n.map(T=>typeof T=="object"&&"id"in T?T.id:T),[n]),m=a!=null,h=a?p.indexOf(a.id):-1,v=l?p.indexOf(l.id):-1,g=(0,fs.useRef)(p),_=!Rhn(p,g.current),S=v!==-1&&h===-1||_,x=Ihn(i);Dm(()=>{_&&m&&c(p)},[_,p,m,c]),(0,fs.useEffect)(()=>{g.current=p},[p]);let O=(0,fs.useMemo)(()=>({activeIndex:h,containerId:d,disabled:x,disableTransforms:S,items:p,overIndex:v,useDragOverlay:f,sortedRects:Ahn(p,u),strategy:o}),[h,d,x.draggable,x.droppable,S,p,v,u,f,o]);return fs.default.createElement(TUt.Provider,{value:O},e)}var jhn=t=>{let{id:e,items:r,activeIndex:n,overIndex:o}=t;return tae(r,n,o).indexOf(e)},Nhn=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:u,transition:l}=t;return!l||!n||s!==i&&o===a?!1:r?!0:a!==o&&e===u},Lhn={duration:200,easing:"ease"},MUt="transform",Fhn=IO.Transition.toString({property:MUt,duration:0,easing:"linear"}),Bhn={roleDescription:"sortable"};function khn(t){let{disabled:e,index:r,node:n,rect:o}=t,[i,a]=(0,fs.useState)(null),s=(0,fs.useRef)(r);return Dm(()=>{if(!e&&r!==s.current&&n.current){let u=o.current;if(u){let l=JD(n.current,{ignoreTransform:!0}),c={x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height};(c.x||c.y)&&a(c)}}r!==s.current&&(s.current=r)},[e,r,n,o]),(0,fs.useEffect)(()=>{i&&a(null)},[i]),i}function CIe(t){let{animateLayoutChanges:e=Nhn,attributes:r,disabled:n,data:o,getNewIndex:i=jhn,id:a,strategy:s,resizeObserverConfig:u,transition:l=Lhn}=t,{items:c,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:h,overIndex:v,useDragOverlay:g,strategy:_}=(0,fs.useContext)(TUt),S=$hn(n,p),x=c.indexOf(a),O=(0,fs.useMemo)(()=>({sortable:{containerId:d,index:x,items:c},...o}),[d,o,x,c]),T=(0,fs.useMemo)(()=>c.slice(c.indexOf(a)),[c,a]),{rect:E,node:M,isOver:R,setNodeRef:N}=OUt({id:a,data:O,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...u}}),{active:j,activatorEvent:F,activeNodeRect:B,attributes:L,setNodeRef:q,listeners:U,isDragging:J,over:H,setActivatorNodeRef:I,transform:V}=xUt({id:a,data:O,attributes:{...Bhn,...r},disabled:S.draggable}),W=qqt(N,q),K=Boolean(j),ne=K&&!m&&Zie(f)&&Zie(v),Be=!g&&J,X=Be&&ne?V:null,le=ne?X??(s??_)({rects:h,activeNodeRect:B,activeIndex:f,overIndex:v,index:x}):null,Ae=Zie(f)&&Zie(v)?i({id:a,items:c,activeIndex:f,overIndex:v}):x,mt=j?.id,we=(0,fs.useRef)({activeId:mt,items:c,newIndex:Ae,containerId:d}),ae=c!==we.current.items,ee=e({active:j,containerId:d,isDragging:J,isSorting:K,id:a,index:x,items:c,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:l,wasDragging:we.current.activeId!=null}),ye=khn({disabled:!ee,index:x,node:M,rect:E});return(0,fs.useEffect)(()=>{K&&we.current.newIndex!==Ae&&(we.current.newIndex=Ae),d!==we.current.containerId&&(we.current.containerId=d),c!==we.current.items&&(we.current.items=c)},[K,Ae,d,c]),(0,fs.useEffect)(()=>{if(mt===we.current.activeId)return;if(mt!=null&&we.current.activeId==null){we.current.activeId=mt;return}let dt=setTimeout(()=>{we.current.activeId=mt},50);return()=>clearTimeout(dt)},[mt]),{active:j,activeIndex:f,attributes:L,data:O,rect:E,index:x,newIndex:Ae,items:c,isOver:R,isSorting:K,isDragging:J,listeners:U,node:M,overIndex:v,over:H,setNodeRef:W,setActivatorNodeRef:I,setDroppableNodeRef:N,setDraggableNodeRef:q,transform:ye??le,transition:Ue()};function Ue(){if(ye||ae&&we.current.newIndex===x)return Fhn;if(!(Be&&!B6(F)||!l)&&(K||ee))return IO.Transition.toString({...l,property:MUt})}}function $hn(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t?.draggable)!=null?r:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function eae(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var qhn=[fn.Down,fn.Right,fn.Up,fn.Left],AUt=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:s}}=e;if(qhn.includes(t.code)){if(t.preventDefault(),!r||!n)return;let u=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=o.get(d.id);if(f)switch(t.code){case fn.Down:n.top<f.top&&u.push(d);break;case fn.Up:n.top>f.top&&u.push(d);break;case fn.Left:n.left>f.left&&u.push(d);break;case fn.Right:n.left<f.left&&u.push(d);break}});let l=cUt({active:r,collisionRect:n,droppableRects:o,droppableContainers:u,pointerCoordinates:null}),c=_Ie(l,"id");if(c===a?.id&&l.length>1&&(c=l[1].id),c!=null){let d=i.get(r.id),f=i.get(c),p=f?o.get(f.id):null,m=f?.node.current;if(m&&p&&d&&f){let v=z6(m).some((T,E)=>s[E]!==T),g=RUt(d,f),_=Uhn(d,f),S=v||!g?{x:0,y:0}:{x:_?n.width-p.width:0,y:_?n.height-p.height:0},x={x:p.left,y:p.top};return S.x&&S.y?x:UD(x,S)}}}};function RUt(t,e){return!eae(t)||!eae(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Uhn(t,e){return!eae(t)||!eae(e)||!RUt(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var zhn={["reasoning"]:{icon:YA,color:"text-model-capabilities-blue",tooltip:aE.reasoning},["vision"]:{icon:gx,color:"text-model-capabilities-green",tooltip:aE.vision},["websearch"]:{icon:KA,color:"text-model-capabilities-blue",tooltip:aE.websearch}},Hhn=t=>$e.default.createElement(Yf,{delayDuration:0},$e.default.createElement("div",{className:"flex gap-2 items-center justify-center"},t.capabilities?.map(e=>{let r=zhn[e];if(!r)return null;let n=r.icon;return $e.default.createElement(cn,{key:e},$e.default.createElement(dn,{asChild:!0},$e.default.createElement(n,{className:`h-4 w-4 ${r.color}`})),$e.default.createElement(Yr,{side:"bottom"},r.tooltip))}))),Vhn=({model:t,onEdit:e,onDelete:r,onUpdateModel:n,id:o})=>{let[i,a]=$e.default.useState(!1),{attributes:s,listeners:u,setNodeRef:l,transform:c,transition:d,isDragging:f}=CIe({id:o,disabled:t.core}),p={transform:IO.Transform.toString(c),transition:d};return $e.default.createElement(O6,{ref:l,style:p,className:Te("mb-2",f&&["opacity-90","shadow-lg","border-2","border-accent/50","relative","z-[9999]","bg-background","rounded-lg","transform-gpu"],!t.core&&"touch-none")},$e.default.createElement(E6,{className:"p-3"},$e.default.createElement("div",{className:"flex items-center justify-between"},!t.core&&$e.default.createElement("div",{className:"mr-2 touch-none cursor-grab active:cursor-grabbing",...s,...u},$e.default.createElement(yN,{className:"h-4 w-4 text-muted-foreground"})),$e.default.createElement("div",{className:"flex-1 cursor-pointer",onClick:()=>a(!i)},$e.default.createElement("div",{className:"flex items-center gap-2"},$e.default.createElement("div",{className:"w-3 h-3 flex items-center justify-center"},i?$e.default.createElement(Sl,{className:"h-3 w-3 stroke-[7]"}):$e.default.createElement(HA,{className:"h-3 w-3 stroke-[7]"})),$e.default.createElement("div",null,$e.default.createElement("div",{className:"flex items-center gap-1"},$e.default.createElement("span",{className:"font-medium"},t.displayName||t.name),t.capabilities&&t.capabilities.length>0&&$e.default.createElement(aAe,{capabilities:t.capabilities,iconSize:14})),$e.default.createElement("div",{className:"flex items-center gap-2"},$e.default.createElement("span",{className:"text-sm text-muted bg-secondary"},wh(t.provider,t)))))),$e.default.createElement("div",{className:"flex items-center gap-2"},e&&$e.default.createElement(gt,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),e()}},$e.default.createElement(bN,{className:"h-4 w-4"})),r&&!t.core&&$e.default.createElement(gt,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),r()}},$e.default.createElement(yx,{className:"h-4 w-4"}))))),$e.default.createElement("div",{className:Te("transition-all duration-300 ease-in-out",i?"max-h-20 opacity-100":"max-h-0 opacity-0 overflow-hidden")},$e.default.createElement(P6,{className:"p-3 pt-0"},$e.default.createElement("div",{className:"flex justify-around"},!t.isEmbeddingModel&&$e.default.createElement("div",{className:"flex items-center gap-2"},$e.default.createElement("span",{className:"text-sm"},"Enabled"),$e.default.createElement(fy,{checked:t.enabled,onCheckedChange:m=>n({...t,enabled:m})})),$e.default.createElement("div",{className:"flex items-center gap-2"},$e.default.createElement("span",{className:"text-sm"},"CORS"),$e.default.createElement(fy,{checked:t.enableCors,onCheckedChange:m=>n({...t,enableCors:m})}))))))},Whn=({model:t,onEdit:e,onDelete:r,onUpdateModel:n,isEmbeddingModel:o})=>{let{attributes:i,listeners:a,setNodeRef:s,transform:u,transition:l,isDragging:c}=CIe({id:tn(t),disabled:t.core}),d={transform:IO.Transform.toString(u),transition:l};return $e.default.createElement(qie,{ref:s,style:d,className:Te("hover:bg-interactive-accent/10 transition-colors duration-200",c&&"shadow-lg bg-background/90 backdrop-blur-sm relative z-[100] cursor-grabbing border-2 border-accent/50",!c&&"z-auto")},$e.default.createElement(RO,{className:"w-6 px-2"},!t.core&&$e.default.createElement(gt,{variant:"ghost",size:"icon",className:"cursor-grab touch-none hover:cursor-grab active:cursor-grabbing p-0 h-6 w-6",...i,...a},$e.default.createElement(yN,{className:"h-4 w-4 text-muted-foreground hover:text-foreground transition-colors"}))),$e.default.createElement(RO,{className:"pl-0"},t.displayName||t.name),$e.default.createElement(RO,null,wh(t.provider,t)),$e.default.createElement(RO,{className:"text-center"},Hhn(t)),!o&&$e.default.createElement(RO,{className:"text-center"},$e.default.createElement(fy,{id:`${tn(t)}-enabled`,checked:t.enabled,onCheckedChange:f=>n({...t,enabled:f}),className:"mx-auto"})),$e.default.createElement(RO,{className:"text-center"},$e.default.createElement(fy,{id:`${tn(t)}-enableCors`,checked:t.enableCors,onCheckedChange:f=>n({...t,enableCors:f}),className:"mx-auto"})),$e.default.createElement(RO,{className:"text-center"},$e.default.createElement("div",{className:"flex justify-center gap-2"},e&&$e.default.createElement(gt,{variant:"ghost",size:"icon",onClick:()=>e(t),className:"shadow-sm hover:shadow-md transition-shadow"},$e.default.createElement(bN,{className:"h-4 w-4"})),!t.core&&$e.default.createElement(gt,{variant:"ghost",size:"icon",onClick:()=>r(tn(t)),className:"shadow-sm hover:shadow-md transition-shadow"},$e.default.createElement(yx,{className:"h-4 w-4"})))))},OIe=({models:t,onEdit:e,onDelete:r,onAdd:n,onUpdateModel:o,onReorderModels:i,title:a})=>{let s=!!(t.length>0&&t[0].isEmbeddingModel),u=sUt(bIe(X$),bIe(Y$,{coordinateGetter:AUt})),l=t.findIndex(p=>!p.core),c=p=>m=>{let{transform:h,active:v,activeNodeRect:g,over:_}=m;if(!v||!g)return h;let S=t.findIndex(M=>tn(M)===v.id),x=t.filter(M=>!M.core).length,O=g.height,T=(l-S)*O,E=(l+x-1-S)*O;if(p&&_){let M=t.findIndex(N=>tn(N)===_.id);if(t[M].core||M<l)return{...h,x:0,y:S*O}}return{...h,x:0,y:Math.min(Math.max(T,h.y),E)}},d=p=>{let{active:m,over:h}=p;if(h&&m.id!==h.id){let v=t.findIndex(x=>tn(x)===m.id),g=t.findIndex(x=>tn(x)===h.id),_=t[g];if(g<l||_.core)return;let S=tae(t,v,g);i?.(S)}},f=()=>$e.default.createElement("div",{className:"md:hidden relative"},$e.default.createElement(wIe,{sensors:u,collisionDetection:vIe,onDragEnd:d,modifiers:[c(!0)]},$e.default.createElement(xIe,{items:t.map(p=>tn(p)),strategy:SIe},$e.default.createElement("div",{className:"space-y-2 relative"},t.map(p=>$e.default.createElement(Vhn,{key:tn(p),id:tn(p),model:p,onEdit:e?()=>e(p):void 0,onDelete:()=>r(tn(p)),onUpdateModel:o}))))));return $e.default.createElement("div",{className:"mb-4"},$e.default.createElement("div",{className:"hidden md:block"},$e.default.createElement(wIe,{sensors:u,collisionDetection:vIe,onDragEnd:d,modifiers:[c(!1)]},$e.default.createElement("div",{className:"relative overflow-hidden"},$e.default.createElement(iIe,null,$e.default.createElement(aIe,null,$e.default.createElement(qie,null,$e.default.createElement(AO,{className:"w-6 px-2"}),$e.default.createElement(AO,{className:"pl-0"},"Model"),$e.default.createElement(AO,null,"Provider"),$e.default.createElement(AO,{className:"text-center"},"Capabilities"),!s&&$e.default.createElement(AO,{className:"text-center"},"Enable"),$e.default.createElement(AO,{className:"text-center"},"CORS"),$e.default.createElement(AO,{className:"w-[100px] text-center"},"Actions"))),$e.default.createElement(sIe,{className:"relative"},$e.default.createElement(xIe,{items:t.map(p=>tn(p)),strategy:SIe},t.map(p=>$e.default.createElement(Whn,{key:tn(p),model:p,onEdit:e?()=>e(p):void 0,onDelete:r,onUpdateModel:o,isEmbeddingModel:s})))))))),f(),$e.default.createElement("div",{className:"mt-4 flex justify-end"},$e.default.createElement(gt,{onClick:n,variant:"outline",className:"flex items-center gap-2"},$e.default.createElement(XA,{className:"h-4 w-4"}),"Add Custom Model")))};var Gt=k(Z());var IUt=({open:t,onOpenChange:e,model:r,onUpdate:n})=>{let{modalContainer:o}=Am(),[i,a]=(0,Gt.useState)(r);if((0,Gt.useEffect)(()=>{a(r)},[r]),!i)return null;let s=(l,c)=>{let d={...i,[l]:c};a(d),n(d)},u=Object.entries(aE).map(([l,c])=>({id:l,label:l.charAt(0).toUpperCase()+l.slice(1),description:c}));return Gt.default.createElement(AM,{open:t,onOpenChange:e},Gt.default.createElement(xO,{className:"sm:max-w-[425px]",container:o},Gt.default.createElement(CO,null,Gt.default.createElement(OO,null,"Model Settings - ",i.name),Gt.default.createElement(EO,null,"Customize model parameters.")),Gt.default.createElement("div",{className:"space-y-6"},Gt.default.createElement(yd,{label:"Model Name",required:!0},Gt.default.createElement(us,{type:"text",disabled:i.core,value:i.name,onChange:l=>s("name",l.target.value),placeholder:"Enter model name"})),Gt.default.createElement(yd,{label:Gt.default.createElement("div",{className:"flex items-center gap-1.5"},Gt.default.createElement("span",{className:"leading-none"},"Display Name"),Gt.default.createElement(Yf,{delayDuration:0},Gt.default.createElement(cn,null,Gt.default.createElement(dn,{asChild:!0},Gt.default.createElement(xl,{className:"size-4"})),Gt.default.createElement(Yr,{align:"start",className:"max-w-96",side:"bottom"},Gt.default.createElement("div",{className:"text-sm text-muted flex flex-col gap-0.5"},Gt.default.createElement("div",{className:"text-[12px] font-bold"},"Suggested format:"),Gt.default.createElement("div",{className:"text-accent"},"[Source]-[Payment]:[Pretty Model Name]"),Gt.default.createElement("div",{className:"text-[12px]"},"Example:",Gt.default.createElement("li",null,"Direct-Paid:Ds-r1"),Gt.default.createElement("li",null,"OpenRouter-Paid:Ds-r1"),Gt.default.createElement("li",null,"Perplexity-Paid:lg")))))))},Gt.default.createElement(us,{type:"text",placeholder:"Custom display name (optional)",value:i.displayName||"",onChange:l=>s("displayName",l.target.value)})),Gt.default.createElement(yd,{label:"Model Capabilities"},Gt.default.createElement("div",{className:"flex gap-4 items-center"},u.map(({id:l,label:c,description:d})=>Gt.default.createElement("div",{key:l,className:"flex items-center gap-2"},Gt.default.createElement(fy,{id:l,checked:i.capabilities?.includes(l),onCheckedChange:f=>{let p=i.capabilities||[];s("capabilities",f?[...p,l]:p.filter(m=>m!==l))}}),Gt.default.createElement(TO,{htmlFor:l,className:"text-sm"},Gt.default.createElement(Yf,{delayDuration:0},Gt.default.createElement(cn,null,Gt.default.createElement(dn,{asChild:!0},Gt.default.createElement("span",null,c)),Gt.default.createElement(Yr,{side:"bottom"},d)))))))),Gt.default.createElement("div",{className:"flex items-center justify-between py-2"},Gt.default.createElement("div",{className:"flex items-center gap-2"},Gt.default.createElement("span",{className:"text-sm font-medium"},"Stream output"),Gt.default.createElement(Yf,{delayDuration:0},Gt.default.createElement(cn,null,Gt.default.createElement(dn,{asChild:!0},Gt.default.createElement(xl,{className:"h-4 w-4 text-muted"})),Gt.default.createElement(Yr,{side:"bottom"},"Enable streaming responses from the model")))),Gt.default.createElement(ES,{checked:i.stream??!0,onCheckedChange:l=>s("stream",l)})))))};var Jhn=()=>{let t=La(),[e,r]=(0,ea.useState)(null),[n,o]=(0,ea.useState)(!1),[i,a]=(0,ea.useState)(!1),s=p=>{let[m,h]=p.split("|"),v=t.activeModels.filter(_=>!(_.name===m&&_.provider===h)),g=t.defaultModelKey;if(p===t.defaultModelKey){let _=v.find(S=>S.enabled);g=_?`${_.name}|${_.provider}`:""}dE({activeModels:v,defaultModelKey:g})},u=p=>{let m=t.activeModels.map(h=>h.name===p.name&&h.provider===p.provider?p:h);Ft("activeModels",m)},l=p=>{Ft("activeModels",p)},c=p=>{let[m,h]=p.split("|"),v=t.activeEmbeddingModels.filter(g=>!(g.name===m&&g.provider===h));Ft("activeEmbeddingModels",v)},d=p=>{let m=t.activeEmbeddingModels.map(h=>h.name===p.name&&h.provider===p.provider?p:h);Ft("activeEmbeddingModels",m)},f=p=>{Ft("activeEmbeddingModels",p)};return ea.default.createElement("div",{className:"space-y-4"},ea.default.createElement("section",null,ea.default.createElement("div",{className:"text-xl font-bold mb-3"},"Chat Models"),ea.default.createElement(OIe,{models:t.activeModels,onEdit:r,onDelete:s,onAdd:()=>o(!0),onUpdateModel:u,onReorderModels:l,title:"Chat Model"}),ea.default.createElement(IUt,{open:!!e,onOpenChange:p=>!p&&r(null),model:e,onUpdate:u}),ea.default.createElement(oIe,{open:n,onOpenChange:o,onAdd:p=>{let m=[...t.activeModels,p];Ft("activeModels",m)},ping:p=>Oo.getInstance().ping(p)}),ea.default.createElement("div",{className:"space-y-4"},ea.default.createElement(go,{type:"slider",title:"Temperature",description:"Default is 0.1. Higher values will result in more creativeness, but also more mistakes. Set to 0 for no randomness.",value:t.temperature,onChange:p=>Ft("temperature",p),min:0,max:2,step:.05}),ea.default.createElement(go,{type:"slider",title:"Token limit",description:ea.default.createElement(ea.default.Fragment,null,ea.default.createElement("p",null,"The maximum number of ",ea.default.createElement("em",null,"output tokens")," to generate. Default is 1000."),ea.default.createElement("em",null,"This number plus the length of your prompt (input tokens) must be smaller than the context window of the model.")),value:t.maxTokens,onChange:p=>Ft("maxTokens",p),min:0,max:16e3,step:100}),ea.default.createElement(go,{type:"slider",title:"Conversation turns in context",description:"The number of previous conversation turns to include in the context. Default is 15 turns, i.e. 30 messages.",value:t.contextTurns,onChange:p=>Ft("contextTurns",p),min:1,max:50,step:1}))),ea.default.createElement("section",null,ea.default.createElement("div",{className:"text-xl font-bold mb-3"},"Embedding Models"),ea.default.createElement(OIe,{models:t.activeEmbeddingModels,onDelete:c,onAdd:()=>a(!0),onUpdateModel:d,onReorderModels:f,title:"Embedding Model"}),ea.default.createElement(oIe,{open:i,onOpenChange:a,onAdd:p=>{let m=[...t.activeEmbeddingModels,p];Ft("activeEmbeddingModels",m)},isEmbeddingModel:!0,ping:p=>_o.getInstance().ping(p)})))},DUt=Jhn;var zr=k(Z()),Ghn=({indexVaultToVectorStore:t})=>{let{modalContainer:e}=Am(),r=La(),[n,o]=zr.default.useState(new Set),i=u=>{o(l=>new Set([...l,u]))},a=u=>{o(l=>{let c=new Set(l);return c.delete(u),c})},s=u=>{let l=parseInt(u);l!==r.numPartitions&&new q$(app,async()=>{Ft("numPartitions",l),await t(!0)}).open()};return zr.default.createElement("div",{className:"space-y-4"},zr.default.createElement("section",null,zr.default.createElement("div",{className:"space-y-4"},zr.default.createElement(go,{type:"select",title:"Auto-Index Strategy",description:zr.default.createElement("div",{className:"flex items-center gap-1.5"},zr.default.createElement("span",{className:"leading-none"},"Decide when you want the vault to be indexed."),zr.default.createElement(hie,{open:n.has("index-help"),onOpenChange:u=>{u?i("index-help"):a("index-help")}},zr.default.createElement(mie,{asChild:!0},zr.default.createElement(xl,{className:"h-5 w-5 sm:h-4 sm:w-4 cursor-pointer text-muted hover:text-accent translate-y-[1px]",onMouseEnter:()=>i("index-help"),onMouseLeave:()=>a("index-help")})),zr.default.createElement(C6,{container:e,className:"w-[90vw] max-w-[400px] p-2 sm:p-3",side:"bottom",align:"center",sideOffset:0,onMouseEnter:()=>i("index-help"),onMouseLeave:()=>a("index-help")},zr.default.createElement("div",{className:"space-y-2 sm:space-y-2.5"},zr.default.createElement("div",{className:"rounded bg-callout-warning/10 p-1.5 sm:p-2 ring-ring"},zr.default.createElement("p",{className:"text-callout-warning text-xs sm:text-sm"},"Warning: Cost implications for large vaults with paid models")),zr.default.createElement("div",{className:"space-y-1 sm:space-y-1.5"},zr.default.createElement("p",{className:"text-muted text-[11px] sm:text-xs"},"Choose when to index your vault:"),zr.default.createElement("ul",{className:"space-y-1 pl-2 sm:pl-3 list-disc text-[11px] sm:text-xs"},zr.default.createElement("li",null,zr.default.createElement("strong",{className:"inline-block whitespace-nowrap"},"NEVER\uFF1A"),zr.default.createElement("span",null,"Manual indexing via command or refresh only")),zr.default.createElement("li",null,zr.default.createElement("strong",{className:"inline-block whitespace-nowrap"},"ON STARTUP\uFF1A"),zr.default.createElement("span",null,"Index updates when plugin loads or reloads")),zr.default.createElement("li",null,zr.default.createElement("strong",{className:"inline-block whitespace-nowrap"},"ON MODE SWITCH\uFF1A"),zr.default.createElement("span",null,"Updates when entering QA mode (Recommended)")))))))),value:r.indexVaultToVectorStore,onChange:u=>{Ft("indexVaultToVectorStore",u)},options:EFe.map(u=>({label:u,value:u})),placeholder:"Strategy"}),zr.default.createElement(go,{type:"slider",title:"Max Sources",description:"Copilot goes through your vault to find relevant blocks and passes the top N blocks to the LLM. Default for N is 3. Increase if you want more sources included in the answer generation step.",min:1,max:128,step:1,value:r.maxSourceChunks,onChange:u=>Ft("maxSourceChunks",u)}),zr.default.createElement(go,{type:"slider",title:"Requests per Minute",description:"Default is 90. Decrease if you are rate limited by your embedding provider.",min:10,max:300,step:10,value:r.embeddingRequestsPerMin,onChange:u=>Ft("embeddingRequestsPerMin",u)}),zr.default.createElement(go,{type:"slider",title:"Embedding Batch Size",description:"Default is 16. Increase if you are rate limited by your embedding provider.",min:1,max:128,step:1,value:r.embeddingBatchSize,onChange:u=>Ft("embeddingBatchSize",u)}),zr.default.createElement(go,{type:"select",title:"Number of Partitions",description:"Number of partitions for Copilot index. Default is 1. Increase if you have issues indexing large vaults. Warning: Changes require clearing and rebuilding the index!",value:r.numPartitions.toString(),onChange:s,options:["1","2","3","4","5","6","7","8","12","16","20","24","28","32","36","40"].map(u=>({label:u,value:u}))}),zr.default.createElement(go,{type:"textarea",title:"Exclusions",description:zr.default.createElement(zr.default.Fragment,null,zr.default.createElement("p",null,"Comma separated list of paths, tags, note titles or file extension will be excluded from the indexing process. e.g. folder1, folder1/folder2, #tag1, #tag2, [[note1]], [[note2]], *.jpg, *.excallidraw.md etc,"),zr.default.createElement("em",null,"NOTE: Tags must be in the note properties, not the note content. Files which were previously indexed will remain in the index unless you force re-index.")),value:r.qaExclusions,onChange:u=>Ft("qaExclusions",u),placeholder:"folder1, folder1/folder2, #tag1, #tag2, [[note1]], [[note2]], *.jpg, *.excallidraw.md"}),zr.default.createElement(go,{type:"textarea",title:"Inclusions",description:"When specified, ONLY these paths, tags, or note titles will be indexed (comma separated). Takes precedence over exclusions. Files which were previously indexed will remain in the index unless you force re-index. Format: folder1, folder1/folder2, #tag1, #tag2, [[note1]], [[note2]]",value:r.qaInclusions,onChange:u=>Ft("qaInclusions",u),placeholder:"folder1, #tag1, [[note1]]"}),zr.default.createElement(go,{type:"switch",title:"Enable Obsidian Sync for Copilot index",description:"If enabled, the index will be stored in the .obsidian folder and synced with Obsidian Sync by default. If disabled, it will be stored in .copilot-index folder at vault root.",checked:r.enableIndexSync,onCheckedChange:u=>Ft("enableIndexSync",u)}),zr.default.createElement(go,{type:"switch",title:"Disable index loading on mobile",description:"When enabled, Copilot index won't be loaded on mobile devices to save resources. Only chat mode will be available. Any existing index from desktop sync will be preserved. Uncheck to enable QA modes on mobile.",checked:r.disableIndexOnMobile,onCheckedChange:u=>Ft("disableIndexOnMobile",u)}))))},jUt=Ghn;var LUt=["basic","model","QA","advanced"],Khn={basic:pn.default.createElement(ez,{className:"w-5 h-5"}),model:pn.default.createElement(rz,{className:"w-5 h-5"}),QA:pn.default.createElement(nz,{className:"w-5 h-5"}),advanced:pn.default.createElement(yz,{className:"w-5 h-5"})},Yhn=t=>({basic:()=>pn.default.createElement(l$t,{indexVaultToVectorStore:t.vectorStoreManager.indexVaultToVectorStore.bind(t.vectorStoreManager)}),model:()=>pn.default.createElement(DUt,null),QA:()=>pn.default.createElement(jUt,{indexVaultToVectorStore:t.vectorStoreManager.indexVaultToVectorStore.bind(t.vectorStoreManager)}),advanced:o$t}),NUt=LUt.map(t=>({id:t,icon:Khn[t],label:t.charAt(0).toUpperCase()+t.slice(1)})),Xhn=({plugin:t})=>{let{selectedTab:e,setSelectedTab:r}=Am();return pn.default.createElement("div",{className:"flex flex-col"},pn.default.createElement("div",{className:"inline-flex rounded-lg"},NUt.map((n,o)=>pn.default.createElement(LBt,{key:n.id,tab:n,isSelected:e===n.id,onClick:()=>r(n.id),isFirst:o===0,isLast:o===NUt.length-1}))),pn.default.createElement("div",{className:"w-[100%] border border-solid"}),pn.default.createElement("div",null,LUt.map(n=>{let o=Yhn(t)[n];return pn.default.createElement(FBt,{key:n,id:n,isSelected:e===n},pn.default.createElement(o,null))})))},Zhn=({plugin:t})=>{let[e,r]=pn.default.useState(0),[n,o]=(0,pn.useState)(null),[i,a]=(0,pn.useState)(null);(0,pn.useEffect)(()=>{(async()=>{let{version:c,error:d}=await cUe();d?(console.error("Version check failed:",d),a(d)):c&&(o(c),a(null))})()},[t.manifest.version]);let s=async()=>{new xie(app,async()=>{rBe(),r(c=>c+1)}).open()},u=n&&lUe(n,t.manifest.version);return pn.default.createElement(kBt,null,pn.default.createElement("div",null,pn.default.createElement("div",{className:"flex flex-col gap-2"},pn.default.createElement("h1",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},pn.default.createElement("div",{className:"flex items-center gap-2"},pn.default.createElement("span",null,"Copilot Settings"),pn.default.createElement("span",{className:"text-xs text-muted"},"v",t.manifest.version,i?pn.default.createElement("span",{className:"text-error",title:i}," ","(update check failed)"):n&&pn.default.createElement(pn.default.Fragment,null,u?pn.default.createElement("span",{className:"text-accent",title:"A new version is available"}," ","(latest: v",n,")"):pn.default.createElement("span",{className:"text-accent"}," (up to date)")))),pn.default.createElement("div",{className:"self-end sm:self-auto"},pn.default.createElement(gt,{variant:"outline",size:"sm",onClick:s},"Reset Settings")))),pn.default.createElement(Xhn,{key:e,plugin:t})))},FUt=Zhn;var rae=class extends H6.PluginSettingTab{constructor(r,n){super(r,n);this.plugin=n}async reloadPlugin(){try{this.app.workspace.getLeavesOfType(bl)[0]?.view&&fe().autosaveChat&&await this.plugin.autosaveCurrentChat();let n=this.plugin.app;await n.plugins.disablePlugin("copilot"),await n.plugins.enablePlugin("copilot"),n.setting.openTabById("copilot").display(),new H6.Notice("Plugin reloaded successfully.")}catch(r){new H6.Notice("Failed to reload the plugin. Please reload manually."),console.error("Error reloading plugin:",r)}}display(){let{containerEl:r}=this;r.empty(),r.style.userSelect="text";let n=r.createDiv("div");(0,kUt.createRoot)(n).render(BUt.default.createElement(FUt,{plugin:this.plugin}))}};var $Ut=k($Q()),DO=class{constructor(){this.cacheDir=".copilot/pdf-cache"}static getInstance(){return DO.instance||(DO.instance=new DO),DO.instance}async ensureCacheDir(){await app.vault.adapter.exists(this.cacheDir)||(Ln("Creating PDF cache directory:",this.cacheDir),await app.vault.adapter.mkdir(this.cacheDir))}getCacheKey(e){let r=`${e.path}:${e.stat.size}:${e.stat.mtime}`,n=(0,$Ut.MD5)(r).toString();return Ln("Generated cache key for PDF:",{path:e.path,key:n}),n}getCachePath(e){return`${this.cacheDir}/${e}.json`}async get(e){try{let r=this.getCacheKey(e),n=this.getCachePath(r);if(await app.vault.adapter.exists(n)){Ln("Cache hit for PDF:",e.path);let o=await app.vault.adapter.read(n);return JSON.parse(o)}return Ln("Cache miss for PDF:",e.path),null}catch(r){return Yo("Error reading from PDF cache:",r),null}}async set(e,r){try{await this.ensureCacheDir();let n=this.getCacheKey(e),o=this.getCachePath(n);Ln("Caching PDF response for:",e.path),await app.vault.adapter.write(o,JSON.stringify(r))}catch(n){Yo("Error writing to PDF cache:",n)}}async clear(){try{if(await app.vault.adapter.exists(this.cacheDir)){let e=await app.vault.adapter.list(this.cacheDir);Ln("Clearing PDF cache, removing files:",e.files.length);for(let r of e.files)await app.vault.adapter.remove(r)}}catch(e){Yo("Error clearing PDF cache:",e)}}};var EIe=class{constructor(){this.supportedExtensions=["md"]}async parseFile(e,r){return await r.read(e)}},nae=class{constructor(e){this.supportedExtensions=["pdf"];this.brevilabsClient=e,this.pdfCache=DO.getInstance()}async parseFile(e,r){try{Ln("Parsing PDF file:",e.path);let n=await this.pdfCache.get(e);if(n)return Ln("Using cached PDF content for:",e.path),n.response;let o=await r.readBinary(e);Ln("Calling pdf4llm API for:",e.path);let i=await this.brevilabsClient.pdf4llm(o);return await this.pdfCache.set(e,i),i.response}catch(n){return Yo(`Error extracting content from PDF ${e.path}:`,n),`[Error: Could not extract content from PDF ${e.basename}]`}}async clearCache(){Ln("Clearing PDF cache"),await this.pdfCache.clear()}},oae=class{constructor(e){this.parsers=new Map;this.registerParser(new EIe),this.registerParser(new nae(e))}registerParser(e){for(let r of e.supportedExtensions)this.parsers.set(r,e)}async parseFile(e,r){let n=this.parsers.get(e.extension);if(!n)throw new Error(`No parser found for file type: ${e.extension}`);return await n.parseFile(e,r)}supportsExtension(e){return this.parsers.has(e)}async clearPDFCache(){let e=this.parsers.get("pdf");e instanceof nae&&await e.clearCache()}};var jO=require("obsidian"),iae=class extends jO.Plugin{constructor(){super(...arguments);this.userMessageHistory=[];this.handleContextMenu=(r,n)=>{DBt(r,n,this)}}async onload(){await this.loadSettings(),this.settingsUnsubscriber=_l(async()=>{let r=fe();r.enableEncryption?await this.saveData(await RFe(r)):await this.saveData(r),bTe(this)}),this.addSettingTab(new rae(this.app,this)),this.sharedState=new TBt,this.vectorStoreManager=Ji.getInstance(),this.brevilabsClient=wa.getInstance(),this.brevilabsClient.setPluginVersion(this.manifest.version),WQ(),this.chainManager=new vS(this.app,this.vectorStoreManager),this.fileParserManager=new oae(this.brevilabsClient),this.registerView(bl,r=>new PM(r,this)),this.initActiveLeafChangeHandler(),this.addRibbonIcon("message-square","Open Copilot Chat",r=>{this.activateView()}),bTe(this),this.registerEvent(this.app.workspace.on("editor-menu",(r,n)=>{n.getSelection().trim()&&this.handleContextMenu(r,n)})),this.registerEvent(this.app.workspace.on("active-leaf-change",r=>{if(r&&r.view instanceof jO.MarkdownView&&r.view.file){let o=this.app.workspace.getLeavesOfType(bl).find(i=>i.view instanceof PM)?.view;if(o){let i=new CustomEvent(ox.ACTIVE_LEAF_CHANGE);o.eventTarget.dispatchEvent(i)}}}))}async onunload(){this.vectorStoreManager&&this.vectorStoreManager.onunload(),this.settingsUnsubscriber?.(),console.log("Copilot plugin unloaded")}updateUserMessageHistory(r){this.userMessageHistory=[...this.userMessageHistory,r]}async autosaveCurrentChat(){if(fe().autosaveChat){let r=this.app.workspace.getLeavesOfType(bl)[0]?.view;r&&r.sharedState.chatHistory.length>0&&await r.saveChat()}}async processText(r,n,o,i=!0){let a=await r.getSelection();this.app.workspace.getLeavesOfType(bl).length>0||await this.activateView(),setTimeout(()=>{let u=this.app.workspace.getLeavesOfType(bl).find(l=>l.view instanceof PM)?.view;if(u&&(!i||a)){let l=new CustomEvent(n,{detail:{selectedText:a,eventSubtype:o}});u.eventTarget.dispatchEvent(l)}},0)}processSelection(r,n,o){this.processText(r,n,o)}emitChatIsVisible(){let r=this.app.workspace.getLeavesOfType(bl).find(n=>n.view instanceof PM)?.view;if(r){let n=new CustomEvent(ox.CHAT_IS_VISIBLE);r.eventTarget.dispatchEvent(n)}}initActiveLeafChangeHandler(){this.registerEvent(this.app.workspace.on("active-leaf-change",r=>{r&&r.getViewState().type===bl&&this.emitChatIsVisible()}))}getCurrentEditorOrDummy(){let r=this.app.workspace.getActiveViewOfType(jO.MarkdownView);return{getSelection:()=>{let n=r?.editor?.getSelection();if(n)return n;let o=this.app.workspace.getActiveFile();return o?this.app.vault.cachedRead(o):""},replaceSelection:r?.editor?.replaceSelection.bind(r.editor)||(()=>{})}}processCustomPrompt(r,n){let o=this.getCurrentEditorOrDummy();this.processText(o,r,n,!1)}toggleView(){this.app.workspace.getLeavesOfType(bl).length>0?this.deactivateView():this.activateView()}async activateView(){let r=this.app.workspace.getLeavesOfType(bl);r.length===0?fe().defaultOpenArea==="view"?await this.app.workspace.getRightLeaf(!1).setViewState({type:bl,active:!0}):await this.app.workspace.getLeaf(!0).setViewState({type:bl,active:!0}):this.app.workspace.revealLeaf(r[0]),this.emitChatIsVisible()}async deactivateView(){this.app.workspace.detachLeavesOfType(bl)}async loadSettings(){let r=await this.loadData(),n=nBe(r);dE(n)}mergeActiveModels(r,n){let o=new Map;return r.forEach(i=>{let a=tn(i),s=o.get(a);s?o.set(a,{...i,isBuiltIn:s.isBuiltIn||i.isBuiltIn}):o.set(a,i)}),Array.from(o.values())}async loadCopilotChatHistory(){let r=await this.getChatHistoryFiles();if(r.length===0){new jO.Notice("No chat history found.");return}new Sie(this.app,r,this.loadChatHistory.bind(this)).open()}async getChatHistoryFiles(){let r=this.app.vault.getAbstractFileByPath(fe().defaultSaveFolder);return r instanceof jO.TFolder?(await this.app.vault.getMarkdownFiles()).filter(o=>o.path.startsWith(r.path)):[]}async loadChatHistory(r){let n=await this.app.vault.read(r),o=t1t(n);this.sharedState.clearChatHistory(),o.forEach(a=>this.sharedState.addMessage(a)),await zH(o,this.chainManager.memoryManager);let i=this.app.workspace.getLeavesOfType(bl)[0];i?i.view.updateView():this.activateView()}async customSearchDB(r,n,o){return(await new FT({minSimilarityScore:.3,maxK:20,salientTerms:n,textWeight:o}).getOramaChunks(r,n)).map(s=>({content:s.pageContent,metadata:s.metadata}))}};
/*! Bundled license information:

@langchain/core/dist/utils/fast-json-patch/src/helpers.js:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   *)

@langchain/core/dist/utils/fast-json-patch/src/duplex.js:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2013-2021 Joachim Wester
   * MIT license
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@langchain/core/dist/utils/js-sha1/hash.js:
  (*
   * [js-sha1]{@link https://github.com/emn178/js-sha1}
   *
   * @version 0.6.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

lucide-react/dist/esm/shared/src/utils.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/Icon.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-big-up.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-right.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/bot.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/check.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-right.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-up.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-help.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-plus.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-stop.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/cog.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/command.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/corner-down-left.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/cpu.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/database.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/download.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/ellipsis.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/external-link.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye-off.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-text.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/globe.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/image.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/info.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/key.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/library-big.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lightbulb.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/loader-circle.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/message-circle-plus.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/move.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pen-line.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pencil.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/plus.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/refresh-ccw.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/refresh-cw.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/rotate-cw.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/sparkles.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-arrow-out-up-right.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-pen.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/text-cursor-input.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash-2.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/triangle-alert.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/user.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/wrench.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/x.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.462.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@google/generative-ai/dist/index.mjs:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@google/generative-ai/dist/index.mjs:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/

/* nosourcemap */